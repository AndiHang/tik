<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Log_model extends CI_Model { function __construct() { parent::__construct(); $this->load->library("\x75\163\145\x72\x5f\141\147\x65\x6e\164"); } public function saveLog($type, $desc) { goto XZ2xj; b3rlo: H6LB_: goto FjOgX; Z4ube: if ($this->agent->is_mobile()) { goto bmOWS; } goto JFL7A; JFL7A: $agent = "\104\141\x74\141\x20\165\x73\145\x72\x20\x67\141\147\x61\154\40\144\x69\x20\144\x61\x70\141\x74\153\141\x6e"; goto TxlPl; KBeFh: N1o6E: goto iVE26; nqW32: if ($this->agent->is_browser()) { goto N1o6E; } goto Z4ube; XZ2xj: $user_id = $this->ion_auth->user()->row()->id; goto G7wDL; TxlPl: goto H6LB_; goto KBeFh; G7wDL: $group = $this->ion_auth->get_users_groups($user_id)->row(); goto nqW32; XgM_x: goto H6LB_; goto QpNtG; FLOAC: $this->insertLog($user_id, $group->id, $group->name, $type, $desc, $agent, $os, $ip); goto T8yhG; Sm40_: $agent = $this->agent->mobile(); goto b3rlo; QpNtG: bmOWS: goto Sm40_; iVE26: $agent = $this->agent->browser() . "\x20" . $this->agent->version(); goto XgM_x; FjOgX: $os = $this->agent->platform(); goto CcaN1; CcaN1: $ip = $this->input->ip_address(); goto FLOAC; T8yhG: } private function insertLog($id_user, $group_id, $group_name, $type, $desc, $agent, $os, $ip) { $data = array("\151\144\137\x75\163\x65\162" => $id_user, "\x69\x64\x5f\x67\x72\157\x75\160" => $group_id, "\156\141\x6d\x65\x5f\x67\162\157\165\x70" => $group_name, "\154\157\x67\137\x64\145\163\x63" => $desc, "\x61\x64\x64\x72\145\x73\163" => $ip, "\x61\x67\x65\156\164" => $agent, "\x64\145\166\x69\143\145" => $os); $this->db->insert("\154\157\147", $data); } public function loadNotifikasi() { } public function loadChat() { } public function loadAktifitas($limit = null) { goto LBwT3; LBwT3: $this->db->query("\123\105\x54\x20\x53\121\114\x5f\102\111\107\x5f\x53\x45\114\x45\103\124\x53\x3d\x31"); goto eEke_; lGnRU: $result = $this->db->get()->result(); goto ShbbL; eEke_: $this->db->select("\x61\56\52\54\40\142\x2e\x66\151\x72\163\164\x5f\x6e\141\155\145\54\40\142\x2e\x6c\141\x73\x74\137\156\141\155\x65\x2c\40\x64\x2e\x6e\141\155\x65"); goto ThExe; EQuLD: if (!($limit != null)) { goto G3UyU; } goto bfzDF; ShbbL: return $result; goto C9eD2; bfzDF: $this->db->limit($limit, 0); goto fxDws; HtduG: $this->db->join("\165\x73\145\162\163\40\x62", "\x62\56\x69\144\75\141\56\x69\x64\x5f\165\x73\145\162", "\x6c\x65\x66\164"); goto VFNDR; fxDws: G3UyU: goto ikRNj; ikRNj: $this->db->order_by("\141\x2e\x6c\x6f\147\x5f\164\x69\x6d\145", "\104\x45\x53\x43"); goto lGnRU; VFNDR: $this->db->join("\x67\x72\157\x75\x70\x73\40\x64", "\144\x2e\151\x64\x3d\x61\x2e\x69\144\137\x67\x72\157\x75\x70"); goto EQuLD; ThExe: $this->db->from("\x6c\157\147\40\141"); goto HtduG; C9eD2: } public function loadAktifitasSiswa($limit = null) { goto Et91i; eYYDh: $this->db->select("\141\x2e\52\x2c\x20\142\x2e\x66\x69\x72\x73\x74\137\156\141\155\x65\x2c\40\x62\56\154\141\163\164\137\x6e\141\155\x65\54\40\x64\56\156\x61\155\145"); goto zDPxF; Zi6Mc: kN87Y: goto tJjdE; Y1FbA: $this->db->limit($limit, 0); goto Zi6Mc; Et91i: $this->db->query("\123\105\x54\x20\123\x51\x4c\137\102\111\x47\x5f\123\x45\x4c\105\103\124\123\x3d\61"); goto eYYDh; MsWSl: if (!($limit != null)) { goto kN87Y; } goto Y1FbA; LOIvf: return $result; goto tbUFg; oVgUs: $result = $this->db->get()->result(); goto LOIvf; rc6Y3: $this->db->join("\x67\x72\157\x75\x70\163\40\x64", "\144\56\x69\144\75\141\56\151\144\137\x67\162\x6f\x75\160"); goto MsWSl; tJjdE: $this->db->where("\x61\56\151\144\137\147\162\x6f\165\x70", "\63"); goto or0Ai; or0Ai: $this->db->order_by("\141\56\154\x6f\147\x5f\164\151\155\145", "\x44\105\x53\103"); goto oVgUs; AL4aw: $this->db->join("\165\163\x65\x72\163\x20\142", "\142\x2e\x69\144\x3d\x61\x2e\x69\144\x5f\165\163\145\x72", "\154\x65\146\x74"); goto rc6Y3; zDPxF: $this->db->from("\154\157\147\x20\x61"); goto AL4aw; tbUFg: } }
