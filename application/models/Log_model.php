<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Log_model extends CI_Model { function __construct() { parent::__construct(); $this->load->library("\165\x73\145\162\x5f\x61\x67\145\156\164"); } public function saveLog($type, $desc) { goto MfhX3; Ebq2G: WIowU: goto XWQav; gyTBv: if ($this->agent->is_browser()) { goto WIowU; } goto G0sOW; MfhX3: $user_id = $this->ion_auth->user()->row()->id; goto SP70a; SP70a: $group = $this->ion_auth->get_users_groups($user_id)->row(); goto gyTBv; STdaS: $agent = $this->agent->mobile(); goto OWZXa; OWZXa: HqEGX: goto XgH97; HPZfP: $agent = "\104\141\x74\x61\40\x75\x73\x65\x72\40\147\x61\147\141\154\40\144\x69\40\x64\141\x70\141\164\x6b\x61\156"; goto IJ07l; XgH97: $os = $this->agent->platform(); goto aaKsF; G0sOW: if ($this->agent->is_mobile()) { goto v8GUt; } goto HPZfP; XWQav: $agent = $this->agent->browser() . "\40" . $this->agent->version(); goto r2JE4; r2JE4: goto HqEGX; goto ngF5Y; ngF5Y: v8GUt: goto STdaS; IJ07l: goto HqEGX; goto Ebq2G; i3qjt: $this->insertLog($user_id, $group->id, $group->name, $type, $desc, $agent, $os, $ip); goto hmAvJ; aaKsF: $ip = $this->input->ip_address(); goto i3qjt; hmAvJ: } private function insertLog($id_user, $group_id, $group_name, $type, $desc, $agent, $os, $ip) { $data = array("\x69\x64\137\x75\x73\145\162" => $id_user, "\151\144\x5f\x67\x72\x6f\165\160" => $group_id, "\156\x61\155\x65\137\x67\x72\157\x75\x70" => $group_name, "\x6c\157\147\137\x64\145\163\x63" => $desc, "\x61\144\144\x72\145\x73\x73" => $ip, "\x61\147\x65\x6e\x74" => $agent, "\x64\x65\x76\151\x63\145" => $os); $this->db->insert("\154\x6f\147", $data); } public function loadNotifikasi() { } public function loadChat() { } public function loadAktifitas($limit = null) { goto DxqwS; miaau: return $result; goto iavBb; dVze2: yAOQZ: goto O6Q4R; bI9GF: $this->db->select("\141\56\x2a\54\x20\x62\x2e\x66\x69\x72\163\164\x5f\156\141\155\145\x2c\40\142\56\x6c\141\x73\x74\x5f\x6e\141\x6d\145\54\x20\144\56\156\x61\x6d\x65"); goto FrKJv; FrKJv: $this->db->from("\x6c\x6f\x67\40\x61"); goto Xynqr; fIun7: $this->db->limit($limit, 0); goto dVze2; O6Q4R: $this->db->order_by("\141\56\154\x6f\147\x5f\x74\x69\x6d\x65", "\104\x45\x53\103"); goto OLOWu; RlTmM: if (!($limit != null)) { goto yAOQZ; } goto fIun7; Xynqr: $this->db->join("\165\x73\x65\162\x73\x20\x62", "\x62\56\x69\x64\x3d\x61\x2e\151\144\137\x75\163\145\162", "\154\x65\x66\164"); goto tmqpJ; tmqpJ: $this->db->join("\147\162\x6f\x75\160\163\x20\144", "\144\x2e\151\144\x3d\x61\56\151\x64\x5f\147\x72\157\165\x70"); goto RlTmM; DxqwS: $this->db->query("\x53\x45\124\x20\123\121\x4c\x5f\102\x49\107\137\123\x45\114\105\103\x54\x53\x3d\61"); goto bI9GF; OLOWu: $result = $this->db->get()->result(); goto miaau; iavBb: } public function loadAktifitasSiswa($limit = null) { goto JEaar; WdnA7: $this->db->join("\147\162\157\x75\x70\163\40\144", "\x64\56\151\x64\x3d\x61\x2e\151\x64\x5f\147\162\x6f\165\160"); goto BMJtg; BMJtg: if (!($limit != null)) { goto Nqhc9; } goto rJz9W; OUoxx: $this->db->order_by("\x61\56\x6c\x6f\x67\x5f\164\x69\x6d\145", "\x44\x45\x53\103"); goto NtfFm; Ak_dP: $this->db->from("\x6c\x6f\147\x20\x61"); goto pJStG; rJz9W: $this->db->limit($limit, 0); goto R8YDi; UgHnq: $this->db->select("\141\56\x2a\x2c\x20\142\56\146\151\162\163\164\137\x6e\141\155\145\54\40\x62\x2e\154\x61\x73\164\137\156\141\x6d\145\54\x20\144\x2e\x6e\141\x6d\145"); goto Ak_dP; R8YDi: Nqhc9: goto zlMel; zlMel: $this->db->where("\x61\56\151\x64\x5f\147\x72\157\165\160", "\63"); goto OUoxx; k_RwF: return $result; goto uRc7I; pJStG: $this->db->join("\165\x73\145\x72\163\x20\142", "\x62\x2e\151\144\75\141\x2e\151\144\137\165\x73\145\162", "\154\145\146\x74"); goto WdnA7; JEaar: $this->db->query("\123\x45\x54\x20\123\121\x4c\137\x42\x49\107\137\x53\105\x4c\105\x43\x54\x53\x3d\61"); goto UgHnq; NtfFm: $result = $this->db->get()->result(); goto k_RwF; uRc7I: } }
