<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Log_model extends CI_Model { function __construct() { parent::__construct(); $this->load->library("\165\x73\145\x72\x5f\x61\147\x65\156\x74"); } public function saveLog($type, $desc) { goto mP5BN; YUk0a: $this->insertLog($user_id, $group->id, $group->name, $type, $desc, $agent, $os, $ip); goto CxuOS; wafLg: $ip = $this->input->ip_address(); goto YUk0a; qlBX3: $agent = $this->agent->mobile(); goto BoWeb; mP5BN: $user_id = $this->ion_auth->user()->row()->id; goto Ng2Q7; BoWeb: JTbYr: goto WeQWk; Pj5pO: $agent = "\x44\x61\x74\141\40\x75\163\x65\x72\x20\147\x61\x67\x61\154\x20\x64\x69\40\144\x61\160\x61\x74\153\x61\156"; goto L21vG; L21vG: goto JTbYr; goto JfCWH; D4L8k: USlfm: goto qlBX3; z41EY: if ($this->agent->is_browser()) { goto Ck59P; } goto BTJkz; U2bBa: goto JTbYr; goto D4L8k; JfCWH: Ck59P: goto FuU5Z; Ng2Q7: $group = $this->ion_auth->get_users_groups($user_id)->row(); goto z41EY; BTJkz: if ($this->agent->is_mobile()) { goto USlfm; } goto Pj5pO; WeQWk: $os = $this->agent->platform(); goto wafLg; FuU5Z: $agent = $this->agent->browser() . "\x20" . $this->agent->version(); goto U2bBa; CxuOS: } private function insertLog($id_user, $group_id, $group_name, $type, $desc, $agent, $os, $ip) { $data = array("\151\144\x5f\165\163\x65\x72" => $id_user, "\x69\144\x5f\147\x72\157\165\160" => $group_id, "\x6e\141\155\145\137\147\162\157\x75\160" => $group_name, "\154\157\147\x5f\x64\145\163\x63" => $desc, "\141\x64\x64\x72\145\163\x73" => $ip, "\x61\147\145\156\x74" => $agent, "\144\145\x76\151\x63\x65" => $os); $this->db->insert("\x6c\x6f\x67", $data); } public function loadNotifikasi() { } public function loadChat() { } public function loadAktifitas($limit = null) { goto Z9eXV; u8cVe: if (!($limit != null)) { goto jef2l; } goto liF2q; kzvDE: $this->db->from("\x6c\x6f\x67\x20\141"); goto Exj3M; Z9eXV: $this->db->query("\123\x45\x54\x20\123\121\114\x5f\102\111\107\137\x53\x45\114\105\103\124\x53\75\x31"); goto i2glv; i2glv: $this->db->select("\141\x2e\x2a\x2c\40\142\x2e\x66\x69\x72\x73\164\x5f\x6e\141\155\145\54\40\142\56\154\x61\163\x74\x5f\156\141\x6d\145\54\x20\x64\x2e\x6e\x61\155\145"); goto kzvDE; Exj3M: $this->db->join("\165\x73\x65\x72\x73\40\142", "\142\56\x69\144\x3d\x61\x2e\x69\x64\137\165\x73\145\x72", "\154\x65\146\x74"); goto HaDgM; liF2q: $this->db->limit($limit, 0); goto iOY_u; iOY_u: jef2l: goto ohcSv; ohcSv: $this->db->order_by("\x61\56\154\x6f\x67\x5f\x74\151\155\x65", "\x44\105\x53\103"); goto Z632R; Z632R: $result = $this->db->get()->result(); goto StyEc; HaDgM: $this->db->join("\147\162\157\x75\x70\x73\x20\x64", "\144\x2e\x69\x64\x3d\x61\56\x69\x64\137\147\x72\x6f\165\x70"); goto u8cVe; StyEc: return $result; goto ZLeYQ; ZLeYQ: } public function loadAktifitasSiswa($limit = null) { goto S1ne2; jDENR: $this->db->join("\x67\162\x6f\x75\160\x73\x20\x64", "\144\56\151\x64\x3d\141\56\x69\x64\137\x67\x72\157\x75\x70"); goto rsHTk; rsHTk: if (!($limit != null)) { goto kwFJO; } goto HzDLk; S1ne2: $this->db->query("\x53\x45\124\40\x53\121\x4c\137\102\111\107\x5f\x53\105\x4c\105\x43\x54\x53\x3d\61"); goto fhGMb; LDfp_: return $result; goto HwbLc; ssEea: kwFJO: goto OYcgE; V1wiM: $this->db->from("\x6c\x6f\x67\x20\x61"); goto saDfs; Fa96v: $result = $this->db->get()->result(); goto LDfp_; OYcgE: $this->db->where("\x61\56\x69\x64\137\x67\162\x6f\x75\160", "\63"); goto WRvuJ; saDfs: $this->db->join("\165\163\x65\x72\163\x20\x62", "\142\56\x69\x64\75\141\x2e\x69\x64\x5f\165\x73\145\162", "\154\145\x66\164"); goto jDENR; HzDLk: $this->db->limit($limit, 0); goto ssEea; fhGMb: $this->db->select("\141\x2e\52\x2c\x20\x62\56\146\x69\162\x73\x74\137\x6e\141\x6d\145\54\40\x62\x2e\x6c\x61\163\x74\137\156\141\155\145\54\x20\144\56\x6e\141\x6d\x65"); goto V1wiM; WRvuJ: $this->db->order_by("\x61\x2e\154\157\147\x5f\164\x69\x6d\x65", "\x44\x45\123\x43"); goto Fa96v; HwbLc: } }
