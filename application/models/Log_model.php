<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Log_model extends CI_Model { function __construct() { parent::__construct(); $this->load->library("\165\x73\x65\x72\137\141\147\145\156\164"); } public function saveLog($type, $desc) { goto X0I3F; XhshQ: $agent = $this->agent->mobile(); goto NqyLb; uB8Ts: goto VQyA6; goto tiWzP; tiWzP: ov3AU: goto XhshQ; X0I3F: $user_id = $this->ion_auth->user()->row()->id; goto HNT0q; HNT0q: $group = $this->ion_auth->get_users_groups($user_id)->row(); goto jCJQD; jCJQD: if ($this->agent->is_browser()) { goto g6Dlt; } goto F5Qua; F5Qua: if ($this->agent->is_mobile()) { goto ov3AU; } goto piNL_; WriZ7: g6Dlt: goto M51Ul; kaj5d: $this->insertLog($user_id, $group->id, $group->name, $type, $desc, $agent, $os, $ip); goto nuCVm; piNL_: $agent = "\104\x61\x74\x61\x20\x75\163\145\x72\40\147\141\147\141\x6c\40\x64\x69\x20\x64\x61\x70\141\164\153\x61\x6e"; goto KJIfx; M51Ul: $agent = $this->agent->browser() . "\x20" . $this->agent->version(); goto uB8Ts; QtuC8: $os = $this->agent->platform(); goto WZ9a3; NqyLb: VQyA6: goto QtuC8; WZ9a3: $ip = $this->input->ip_address(); goto kaj5d; KJIfx: goto VQyA6; goto WriZ7; nuCVm: } private function insertLog($id_user, $group_id, $group_name, $type, $desc, $agent, $os, $ip) { $data = array("\x69\x64\137\x75\x73\145\x72" => $id_user, "\x69\144\x5f\147\x72\157\165\x70" => $group_id, "\156\x61\155\145\x5f\x67\x72\x6f\165\x70" => $group_name, "\x6c\157\147\137\x64\x65\163\143" => $desc, "\x61\x64\144\162\x65\163\163" => $ip, "\141\147\x65\x6e\164" => $agent, "\x64\x65\x76\x69\x63\145" => $os); $this->db->insert("\x6c\157\147", $data); } public function loadNotifikasi() { } public function loadChat() { } public function loadAktifitas($limit = null) { goto mrDzA; i2Rbb: $result = $this->db->get()->result(); goto HzAkj; UXUcq: $this->db->order_by("\x61\56\x6c\157\147\x5f\164\x69\x6d\145", "\104\105\x53\x43"); goto i2Rbb; ZO2uU: $this->db->join("\x75\x73\x65\162\x73\x20\x62", "\142\56\151\x64\x3d\x61\x2e\x69\x64\x5f\x75\x73\x65\x72", "\154\145\x66\164"); goto CLwJ8; uIHF8: if (!($limit != null)) { goto uixXh; } goto RhJTf; mrDzA: $this->db->select("\141\56\52\x2c\x20\x62\x2e\146\x69\162\x73\164\x5f\x6e\141\155\145\x2c\40\x62\56\154\x61\x73\164\x5f\x6e\x61\155\x65\54\40\x64\x2e\156\141\155\x65"); goto CzWU4; CzWU4: $this->db->from("\x6c\157\x67\40\141"); goto ZO2uU; HzAkj: return $result; goto mvWu4; t0RoP: uixXh: goto UXUcq; CLwJ8: $this->db->join("\x67\x72\x6f\x75\160\163\x20\x64", "\144\x2e\151\144\x3d\141\x2e\x69\x64\x5f\147\x72\157\x75\x70"); goto uIHF8; RhJTf: $this->db->limit($limit, 0); goto t0RoP; mvWu4: } public function loadAktifitasSiswa($limit = null) { goto I6HqX; NzjGk: hhRc2: goto tOy1W; AGUMC: $this->db->limit($limit, 0); goto NzjGk; eAG00: $this->db->join("\x67\x72\157\165\160\163\40\x64", "\144\56\x69\144\75\141\x2e\151\x64\137\x67\x72\157\165\160"); goto nREnd; dt_D4: $this->db->order_by("\x61\56\154\x6f\x67\137\164\x69\x6d\x65", "\104\x45\123\103"); goto GBy03; CiOlU: $this->db->join("\x75\163\145\162\163\x20\x62", "\142\56\x69\144\x3d\x61\x2e\151\x64\x5f\165\x73\145\162", "\x6c\145\146\164"); goto eAG00; nREnd: if (!($limit != null)) { goto hhRc2; } goto AGUMC; tOy1W: $this->db->where("\141\x2e\x69\144\x5f\x67\162\157\165\x70", "\x33"); goto dt_D4; Wh2cI: return $result; goto SUw4j; Nsk8P: $this->db->from("\x6c\157\147\40\141"); goto CiOlU; GBy03: $result = $this->db->get()->result(); goto Wh2cI; I6HqX: $this->db->select("\141\56\x2a\54\40\142\56\146\x69\x72\163\164\137\x6e\x61\x6d\145\x2c\40\142\x2e\154\x61\x73\164\137\156\141\x6d\x65\54\40\x64\56\x6e\141\x6d\145"); goto Nsk8P; SUw4j: } }
