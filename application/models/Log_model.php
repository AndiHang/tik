<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Log_model extends CI_Model { function __construct() { parent::__construct(); $this->load->library("\x75\x73\145\162\137\x61\147\x65\x6e\164"); } public function saveLog($type, $desc) { goto CcO2Z; CcO2Z: $user_id = $this->ion_auth->user()->row()->id; goto pP_86; gYB4f: if ($this->agent->is_browser()) { goto EsNL0; } goto heJGZ; pP_86: $group = $this->ion_auth->get_users_groups($user_id)->row(); goto gYB4f; KrxOH: $this->insertLog($user_id, $group->id, $group->name, $type, $desc, $agent, $os, $ip); goto q3Wzi; qsL_h: QPvws: goto pfzPB; GhR1k: EsNL0: goto JEnsF; i5FKL: goto QPvws; goto GhR1k; PCgTq: $ip = $this->input->ip_address(); goto KrxOH; kpLo7: $agent = "\104\x61\x74\x61\40\165\x73\145\162\40\x67\x61\147\141\x6c\40\x64\x69\40\x64\x61\x70\x61\164\153\x61\x6e"; goto i5FKL; yd9RO: goto QPvws; goto mKVcp; heJGZ: if ($this->agent->is_mobile()) { goto P9z1c; } goto kpLo7; mKVcp: P9z1c: goto pqRFl; pfzPB: $os = $this->agent->platform(); goto PCgTq; JEnsF: $agent = $this->agent->browser() . "\x20" . $this->agent->version(); goto yd9RO; pqRFl: $agent = $this->agent->mobile(); goto qsL_h; q3Wzi: } private function insertLog($id_user, $group_id, $group_name, $type, $desc, $agent, $os, $ip) { $data = array("\x69\x64\137\165\163\x65\x72" => $id_user, "\151\144\137\147\162\x6f\x75\160" => $group_id, "\156\x61\155\x65\137\147\x72\157\165\160" => $group_name, "\x6c\157\147\137\x64\x65\x73\x63" => $desc, "\x61\144\x64\162\x65\163\163" => $ip, "\141\x67\145\156\x74" => $agent, "\144\x65\x76\151\x63\145" => $os); $this->db->insert("\x6c\x6f\x67", $data); } public function loadNotifikasi() { } public function loadChat() { } public function loadAktifitas($limit = null) { goto f3Mpc; N5Spu: $this->db->join("\165\x73\x65\162\x73\x20\x62", "\142\56\x69\144\75\141\x2e\x69\144\137\x75\x73\145\x72", "\x6c\145\x66\164"); goto ulDV7; h2yf6: $this->db->from("\154\157\x67\40\141"); goto N5Spu; O0xf2: if (!($limit != null)) { goto pCFen; } goto k5t71; ulDV7: $this->db->join("\x67\162\x6f\165\x70\x73\x20\144", "\144\x2e\151\144\75\141\x2e\151\x64\137\x67\x72\157\x75\x70"); goto O0xf2; Jp9HV: $result = $this->db->get()->result(); goto JJehY; HL0Eb: $this->db->order_by("\x61\56\x6c\x6f\x67\137\x74\151\x6d\x65", "\104\x45\123\103"); goto Jp9HV; JJehY: return $result; goto RasK1; f3Mpc: $this->db->select("\141\56\x2a\x2c\x20\x62\x2e\146\151\162\163\164\x5f\156\141\x6d\x65\54\x20\142\x2e\x6c\141\163\164\137\x6e\141\x6d\145\x2c\40\x64\56\x6e\141\155\x65"); goto h2yf6; DyoNb: pCFen: goto HL0Eb; k5t71: $this->db->limit($limit, 0); goto DyoNb; RasK1: } public function loadAktifitasSiswa($limit = null) { goto iIsJt; WFbxx: YRmID: goto P3XNx; G3fpi: $this->db->join("\x67\x72\x6f\x75\x70\x73\40\144", "\144\56\x69\144\75\141\56\x69\144\137\147\162\157\165\x70"); goto qh7fI; HzQTb: $this->db->join("\165\x73\145\x72\163\40\142", "\x62\x2e\151\144\75\x61\56\151\x64\137\165\163\x65\x72", "\x6c\145\x66\x74"); goto G3fpi; tMOkV: $this->db->order_by("\x61\56\154\x6f\x67\137\164\x69\x6d\145", "\104\x45\123\103"); goto GbDet; qh7fI: if (!($limit != null)) { goto YRmID; } goto kZznW; IsAZ7: return $result; goto utaOS; P3XNx: $this->db->where("\x61\x2e\151\x64\x5f\x67\162\x6f\x75\160", "\63"); goto tMOkV; GbDet: $result = $this->db->get()->result(); goto IsAZ7; iIsJt: $this->db->select("\x61\x2e\x2a\x2c\40\142\x2e\146\x69\x72\163\x74\137\x6e\x61\155\x65\54\x20\x62\56\x6c\x61\x73\x74\137\156\141\155\x65\x2c\40\x64\56\x6e\x61\x6d\x65"); goto oLvcE; oLvcE: $this->db->from("\154\157\x67\x20\141"); goto HzQTb; kZznW: $this->db->limit($limit, 0); goto WFbxx; utaOS: } }
