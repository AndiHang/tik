<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Log_model extends CI_Model { function __construct() { parent::__construct(); $this->load->library("\165\163\x65\x72\137\141\147\x65\x6e\x74"); } public function saveLog($type, $desc) { goto BRbvz; Yqkca: $ip = $this->input->ip_address(); goto JUtuk; TQ0NW: SnhkF: goto glSXS; FFGr0: uOSTH: goto bRAqi; CDX7b: if ($this->agent->is_browser()) { goto NMk1f; } goto ZjrCe; yYjzB: $agent = $this->agent->browser() . "\x20" . $this->agent->version(); goto TkxrS; onSC6: NMk1f: goto yYjzB; TkxrS: goto uOSTH; goto TQ0NW; BRbvz: $user_id = $this->ion_auth->user()->row()->id; goto sJ94_; jPnvd: $agent = "\x44\x61\164\141\40\165\x73\145\x72\x20\147\141\x67\141\154\x20\x64\x69\x20\144\x61\x70\141\164\x6b\x61\x6e"; goto Y5uj5; sJ94_: $group = $this->ion_auth->get_users_groups($user_id)->row(); goto CDX7b; glSXS: $agent = $this->agent->mobile(); goto FFGr0; Y5uj5: goto uOSTH; goto onSC6; JUtuk: $this->insertLog($user_id, $group->id, $group->name, $type, $desc, $agent, $os, $ip); goto mAKZl; ZjrCe: if ($this->agent->is_mobile()) { goto SnhkF; } goto jPnvd; bRAqi: $os = $this->agent->platform(); goto Yqkca; mAKZl: } private function insertLog($id_user, $group_id, $group_name, $type, $desc, $agent, $os, $ip) { $data = array("\151\x64\137\165\x73\145\162" => $id_user, "\151\144\137\147\162\157\x75\160" => $group_id, "\x6e\x61\155\145\137\x67\x72\x6f\x75\160" => $group_name, "\x6c\x6f\147\x5f\x64\145\x73\143" => $desc, "\x61\x64\144\162\145\x73\x73" => $ip, "\141\x67\145\x6e\x74" => $agent, "\144\145\x76\151\143\145" => $os); $this->db->insert("\154\x6f\x67", $data); } public function loadNotifikasi() { } public function loadChat() { } public function loadAktifitas($limit = null) { goto tZrLE; ocXxK: if (!($limit != null)) { goto QNfae; } goto hYC4B; uEI_w: $this->db->order_by("\141\x2e\154\x6f\147\137\x74\x69\155\145", "\104\105\123\x43"); goto UbZFX; VGA90: return $result; goto Qq8yQ; hYC4B: $this->db->limit($limit, 0); goto H5ckV; SSJEI: $this->db->join("\x67\x72\x6f\165\160\163\x20\144", "\x64\x2e\x69\144\x3d\141\56\x69\144\137\x67\x72\x6f\165\x70"); goto ocXxK; UbZFX: $result = $this->db->get()->result(); goto VGA90; tt4Ys: $this->db->from("\154\157\x67\x20\x61"); goto NS9nC; H5ckV: QNfae: goto uEI_w; MDAMt: $this->db->select("\x61\x2e\x2a\54\x20\x62\56\x66\151\162\163\x74\x5f\x6e\141\x6d\x65\x2c\x20\x62\56\154\141\x73\164\137\156\141\155\145\54\40\x64\56\156\141\x6d\145"); goto tt4Ys; tZrLE: $this->db->query("\x53\105\x54\x20\x53\121\114\137\x42\x49\107\x5f\x53\105\114\x45\x43\x54\x53\x3d\x31"); goto MDAMt; NS9nC: $this->db->join("\165\x73\145\x72\163\x20\x62", "\x62\x2e\151\x64\75\141\x2e\x69\144\x5f\x75\163\x65\x72", "\154\x65\x66\x74"); goto SSJEI; Qq8yQ: } public function loadAktifitasSiswa($limit = null) { goto OulhV; OulhV: $this->db->query("\123\x45\124\40\123\121\x4c\x5f\102\x49\x47\137\x53\105\114\x45\x43\124\x53\75\x31"); goto kvdW1; QtpRu: $this->db->from("\x6c\157\x67\x20\141"); goto fvsyN; ZL5kY: $this->db->limit($limit, 0); goto Mjbl7; x5Aq9: if (!($limit != null)) { goto pjKGD; } goto ZL5kY; fuTVh: $result = $this->db->get()->result(); goto CIz82; Mjbl7: pjKGD: goto yD7uq; xZp3Q: $this->db->order_by("\141\56\x6c\x6f\147\x5f\164\151\155\x65", "\104\105\x53\103"); goto fuTVh; kvdW1: $this->db->select("\x61\x2e\52\x2c\40\142\56\x66\x69\x72\x73\x74\137\156\x61\155\x65\x2c\x20\x62\x2e\154\x61\x73\x74\x5f\156\x61\x6d\145\x2c\x20\x64\x2e\x6e\141\155\145"); goto QtpRu; CIz82: return $result; goto LDjHV; fvsyN: $this->db->join("\165\163\x65\162\163\x20\142", "\142\56\151\144\x3d\141\x2e\x69\144\137\x75\x73\x65\x72", "\154\145\146\164"); goto zWk3A; zWk3A: $this->db->join("\x67\162\157\165\x70\x73\x20\144", "\144\x2e\151\144\75\141\56\151\144\x5f\147\x72\157\165\160"); goto x5Aq9; yD7uq: $this->db->where("\x61\56\x69\x64\x5f\x67\162\x6f\x75\160", "\x33"); goto xZp3Q; LDjHV: } }
