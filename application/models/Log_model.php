<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Log_model extends CI_Model { function __construct() { parent::__construct(); $this->load->library("\x75\163\145\x72\137\141\x67\145\156\x74"); } public function saveLog($type, $desc) { goto Fxdhq; mKNHy: if ($this->agent->is_browser()) { goto ki2mz; } goto xM5ab; nq5X_: $ip = $this->input->ip_address(); goto XZPp6; xM5ab: if ($this->agent->is_mobile()) { goto iY01c; } goto IcAP3; rVxpn: iY01c: goto m3LLG; oDnKA: $os = $this->agent->platform(); goto nq5X_; ZMWhK: $agent = $this->agent->browser() . "\x20" . $this->agent->version(); goto WaMbE; SKvHf: $group = $this->ion_auth->get_users_groups($user_id)->row(); goto mKNHy; h9c_7: ki2mz: goto ZMWhK; IcAP3: $agent = "\x44\141\x74\141\40\165\x73\145\162\x20\147\141\x67\x61\154\40\x64\151\x20\x64\x61\x70\x61\x74\x6b\141\156"; goto LwSxw; XZPp6: $this->insertLog($user_id, $group->id, $group->name, $type, $desc, $agent, $os, $ip); goto an6S9; LwSxw: goto Wb8sy; goto h9c_7; ja_sF: Wb8sy: goto oDnKA; m3LLG: $agent = $this->agent->mobile(); goto ja_sF; WaMbE: goto Wb8sy; goto rVxpn; Fxdhq: $user_id = $this->ion_auth->user()->row()->id; goto SKvHf; an6S9: } private function insertLog($id_user, $group_id, $group_name, $type, $desc, $agent, $os, $ip) { $data = array("\151\144\137\165\x73\x65\x72" => $id_user, "\151\x64\137\147\x72\157\x75\x70" => $group_id, "\156\x61\x6d\145\137\147\x72\157\165\160" => $group_name, "\x6c\157\x67\137\x64\x65\163\143" => $desc, "\141\144\144\x72\x65\163\163" => $ip, "\141\147\x65\x6e\x74" => $agent, "\144\x65\x76\151\x63\145" => $os); $this->db->insert("\154\x6f\x67", $data); } public function loadNotifikasi() { } public function loadChat() { } public function loadAktifitas($limit = null) { goto lYyid; LbKdy: $this->db->join("\x67\162\157\x75\160\x73\40\144", "\x64\56\x69\x64\x3d\x61\56\151\144\x5f\147\162\x6f\x75\160"); goto Nzngj; FzYiB: $this->db->limit($limit, 0); goto md9Cp; Umheu: $result = $this->db->get()->result(); goto SCoAB; YUHNt: $this->db->join("\x75\x73\145\162\163\40\x62", "\142\x2e\151\x64\x3d\x61\x2e\151\144\x5f\165\x73\145\162", "\154\x65\146\x74"); goto LbKdy; kEIon: $this->db->order_by("\141\x2e\x6c\157\147\137\x74\x69\x6d\x65", "\x44\x45\123\x43"); goto Umheu; lYyid: $this->db->select("\x61\x2e\x2a\x2c\40\x62\56\x66\x69\162\163\164\x5f\x6e\x61\155\145\x2c\40\x62\56\154\x61\x73\164\x5f\x6e\x61\155\145\54\40\x64\x2e\156\x61\x6d\x65"); goto zYYsZ; SCoAB: return $result; goto aLGsT; Nzngj: if (!($limit != null)) { goto COtoy; } goto FzYiB; zYYsZ: $this->db->from("\154\x6f\147\x20\141"); goto YUHNt; md9Cp: COtoy: goto kEIon; aLGsT: } public function loadAktifitasSiswa($limit = null) { goto JnQIR; mctxn: $this->db->join("\147\x72\x6f\x75\x70\163\x20\x64", "\144\x2e\151\x64\x3d\141\56\x69\144\x5f\147\162\x6f\165\x70"); goto byyiE; R52q3: $this->db->from("\154\157\x67\40\x61"); goto FyiHX; aCZIX: $this->db->where("\x61\x2e\x69\x64\x5f\x67\x72\x6f\x75\160", "\x33"); goto gDQ_S; byyiE: if (!($limit != null)) { goto xuxRe; } goto G5RbY; cR_Lx: return $result; goto lLFNj; JnQIR: $this->db->select("\x61\56\x2a\x2c\40\142\x2e\146\x69\x72\163\164\137\x6e\x61\x6d\145\x2c\40\x62\x2e\x6c\141\163\x74\137\x6e\141\155\145\54\40\144\x2e\156\141\x6d\145"); goto R52q3; QO8cJ: xuxRe: goto aCZIX; FyiHX: $this->db->join("\165\163\145\162\163\x20\142", "\x62\x2e\x69\x64\x3d\x61\x2e\x69\x64\x5f\x75\163\x65\162", "\154\x65\x66\x74"); goto mctxn; Ks6vP: $result = $this->db->get()->result(); goto cR_Lx; G5RbY: $this->db->limit($limit, 0); goto QO8cJ; gDQ_S: $this->db->order_by("\x61\x2e\154\157\147\137\x74\x69\155\x65", "\104\105\x53\x43"); goto Ks6vP; lLFNj: } }
