<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Log_model extends CI_Model { function __construct() { parent::__construct(); $this->load->library("\x75\163\145\x72\137\141\147\145\x6e\164"); } public function saveLog($type, $desc) { goto ZTZiu; ZTZiu: $user_id = $this->ion_auth->user()->row()->id; goto XZuzZ; CT9uk: Py1E0: goto I7kkr; p2r90: L8YND: goto pRXJy; o21sM: $agent = $this->agent->mobile(); goto p2r90; I7kkr: $agent = $this->agent->browser() . "\x20" . $this->agent->version(); goto E1TXT; pRXJy: $os = $this->agent->platform(); goto XQMT0; uaMfk: if ($this->agent->is_mobile()) { goto znrNd; } goto QpOhn; ch3DI: if ($this->agent->is_browser()) { goto Py1E0; } goto uaMfk; E1TXT: goto L8YND; goto Zd71I; XQMT0: $ip = $this->input->ip_address(); goto FtsFZ; QpOhn: $agent = "\104\141\x74\141\40\165\163\145\x72\40\147\141\x67\x61\154\40\144\151\x20\x64\x61\x70\141\164\x6b\141\156"; goto MJv8q; XZuzZ: $group = $this->ion_auth->get_users_groups($user_id)->row(); goto ch3DI; Zd71I: znrNd: goto o21sM; FtsFZ: $this->insertLog($user_id, $group->id, $group->name, $type, $desc, $agent, $os, $ip); goto ZVqkz; MJv8q: goto L8YND; goto CT9uk; ZVqkz: } private function insertLog($id_user, $group_id, $group_name, $type, $desc, $agent, $os, $ip) { $data = array("\151\x64\x5f\x75\x73\145\x72" => $id_user, "\x69\x64\137\147\x72\157\x75\x70" => $group_id, "\156\x61\x6d\145\137\147\x72\157\165\x70" => $group_name, "\x6c\157\x67\137\144\145\163\x63" => $desc, "\141\144\x64\x72\x65\x73\x73" => $ip, "\141\x67\145\x6e\164" => $agent, "\144\x65\166\x69\x63\145" => $os); $this->db->insert("\154\x6f\147", $data); } public function loadNotifikasi() { } public function loadChat() { } public function loadAktifitas($limit = null) { goto tKauO; g9pb_: if (!($limit != null)) { goto uXJgb; } goto hP1ry; Zy0X4: uXJgb: goto u0jVj; u0jVj: $this->db->order_by("\x61\56\154\x6f\147\137\164\151\x6d\x65", "\x44\x45\x53\x43"); goto Q7cEb; MRQNz: $this->db->select("\141\56\x2a\54\40\142\56\146\x69\x72\x73\x74\137\x6e\x61\155\145\54\40\142\x2e\x6c\141\x73\164\x5f\x6e\141\x6d\x65\x2c\x20\144\x2e\156\x61\x6d\145"); goto UjYid; UjYid: $this->db->from("\x6c\157\x67\x20\141"); goto ndWqP; nMjQY: $this->db->join("\147\162\x6f\x75\160\x73\x20\x64", "\144\x2e\x69\144\75\x61\56\151\144\x5f\x67\x72\x6f\165\x70"); goto g9pb_; hP1ry: $this->db->limit($limit, 0); goto Zy0X4; MeGfS: return $result; goto MM6QP; ndWqP: $this->db->join("\x75\163\145\162\163\40\142", "\142\56\x69\144\75\x61\56\151\144\137\x75\x73\x65\x72", "\x6c\145\146\164"); goto nMjQY; Q7cEb: $result = $this->db->get()->result(); goto MeGfS; tKauO: $this->db->query("\123\x45\x54\x20\123\121\x4c\137\x42\111\x47\x5f\123\105\x4c\105\103\x54\123\x3d\61"); goto MRQNz; MM6QP: } public function loadAktifitasSiswa($limit = null) { goto Bn6zz; CdKek: $this->db->order_by("\x61\56\154\157\147\137\164\151\x6d\x65", "\104\x45\123\x43"); goto oVXbJ; oHGT4: $this->db->where("\141\x2e\151\144\137\147\162\x6f\x75\x70", "\63"); goto CdKek; oVXbJ: $result = $this->db->get()->result(); goto jnkcb; MvHKO: $this->db->select("\141\x2e\x2a\54\x20\142\x2e\x66\x69\162\163\x74\x5f\156\141\x6d\x65\x2c\40\142\56\x6c\141\x73\x74\137\x6e\x61\x6d\145\x2c\40\x64\56\x6e\141\155\145"); goto TGDw8; wuDDt: $this->db->join("\x67\x72\x6f\165\160\x73\40\144", "\144\56\x69\x64\x3d\x61\x2e\151\144\x5f\x67\162\157\x75\x70"); goto DZx6Z; jnkcb: return $result; goto LpTOZ; YXHqU: $this->db->limit($limit, 0); goto ZAXsR; DZx6Z: if (!($limit != null)) { goto MKsHW; } goto YXHqU; TGDw8: $this->db->from("\x6c\x6f\x67\x20\141"); goto vvJ95; ZAXsR: MKsHW: goto oHGT4; vvJ95: $this->db->join("\x75\x73\145\162\x73\x20\142", "\x62\56\151\144\75\141\x2e\151\x64\137\165\163\x65\162", "\x6c\x65\x66\164"); goto wuDDt; Bn6zz: $this->db->query("\123\x45\124\x20\x53\121\x4c\x5f\x42\111\x47\137\123\105\114\105\x43\124\123\75\x31"); goto MvHKO; LpTOZ: } }
