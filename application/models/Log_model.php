<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Log_model extends CI_Model { function __construct() { parent::__construct(); $this->load->library("\165\163\x65\x72\x5f\x61\x67\145\156\164"); } public function saveLog($type, $desc) { goto v6IM7; v6IM7: $user_id = $this->ion_auth->user()->row()->id; goto e2qEO; Zx2C2: z4xOk: goto k4qDE; ZC9ru: if ($this->agent->is_mobile()) { goto cOym8; } goto FU9g2; e2qEO: $group = $this->ion_auth->get_users_groups($user_id)->row(); goto O5Gr9; yHkoz: cOym8: goto O5tsB; O5tsB: $agent = $this->agent->mobile(); goto Zx2C2; N2yQ6: $this->insertLog($user_id, $group->id, $group->name, $type, $desc, $agent, $os, $ip); goto e0qvu; bmI_j: $agent = $this->agent->browser() . "\x20" . $this->agent->version(); goto AhPb3; O5Gr9: if ($this->agent->is_browser()) { goto pMzy7; } goto ZC9ru; IPjm7: pMzy7: goto bmI_j; AhPb3: goto z4xOk; goto yHkoz; V3QcD: goto z4xOk; goto IPjm7; FU9g2: $agent = "\x44\x61\164\x61\x20\165\x73\145\162\40\x67\141\x67\141\x6c\40\x64\151\x20\144\141\160\x61\164\153\141\156"; goto V3QcD; k4qDE: $os = $this->agent->platform(); goto FnJua; FnJua: $ip = $this->input->ip_address(); goto N2yQ6; e0qvu: } private function insertLog($id_user, $group_id, $group_name, $type, $desc, $agent, $os, $ip) { $data = array("\151\x64\x5f\165\163\145\162" => $id_user, "\151\x64\x5f\x67\162\157\x75\x70" => $group_id, "\156\x61\x6d\x65\x5f\147\162\x6f\x75\160" => $group_name, "\154\x6f\147\x5f\x64\145\163\x63" => $desc, "\x61\144\144\x72\145\x73\x73" => $ip, "\x61\x67\x65\156\x74" => $agent, "\144\x65\166\151\143\145" => $os); $this->db->insert("\154\x6f\147", $data); } public function loadNotifikasi() { } public function loadChat() { } public function loadAktifitas($limit = null) { goto fU5cs; Gq1td: $this->db->join("\147\162\x6f\x75\160\163\x20\144", "\144\x2e\x69\144\75\x61\56\151\144\x5f\x67\x72\x6f\x75\160"); goto rAUCc; DBVH8: $this->db->join("\165\x73\x65\x72\163\40\x62", "\142\x2e\151\144\x3d\x61\x2e\x69\x64\x5f\x75\163\x65\162", "\154\x65\x66\164"); goto Gq1td; FpwtC: $this->db->order_by("\x61\x2e\x6c\x6f\x67\x5f\x74\151\155\x65", "\x44\105\x53\x43"); goto cSk2Y; tfzk7: $this->db->select("\141\x2e\x2a\54\x20\142\56\x66\151\x72\163\x74\x5f\x6e\x61\155\145\x2c\x20\x62\x2e\x6c\x61\x73\164\x5f\x6e\141\155\x65\54\x20\144\56\x6e\141\x6d\145"); goto d0CGw; cSk2Y: $result = $this->db->get()->result(); goto s3C72; d0CGw: $this->db->from("\154\157\x67\40\x61"); goto DBVH8; HL72o: eWD85: goto FpwtC; d6RR3: $this->db->limit($limit, 0); goto HL72o; fU5cs: $this->db->query("\x53\x45\124\40\123\x51\x4c\x5f\x42\111\107\x5f\x53\105\114\x45\x43\124\x53\75\61"); goto tfzk7; s3C72: return $result; goto lkt5L; rAUCc: if (!($limit != null)) { goto eWD85; } goto d6RR3; lkt5L: } public function loadAktifitasSiswa($limit = null) { goto Ra8l3; wLSat: $this->db->limit($limit, 0); goto zsQGk; JXr3j: $result = $this->db->get()->result(); goto GSbtB; GSbtB: return $result; goto msXO8; Z8qwX: $this->db->from("\154\157\x67\x20\141"); goto PjgGr; x_clo: $this->db->order_by("\x61\56\x6c\x6f\147\x5f\x74\151\x6d\145", "\104\x45\123\103"); goto JXr3j; PjgGr: $this->db->join("\165\163\145\162\x73\40\x62", "\142\x2e\x69\144\x3d\141\56\x69\x64\137\165\163\145\162", "\x6c\x65\x66\164"); goto i4B5j; zsQGk: ngxLR: goto FSj1E; FSj1E: $this->db->where("\x61\x2e\x69\144\137\x67\x72\x6f\x75\160", "\63"); goto x_clo; i4B5j: $this->db->join("\147\x72\x6f\x75\160\163\x20\144", "\144\56\x69\x64\x3d\x61\56\x69\x64\137\147\162\x6f\165\160"); goto ZkI36; Ra8l3: $this->db->query("\x53\x45\x54\40\x53\121\x4c\x5f\x42\x49\x47\137\x53\105\114\105\x43\124\123\75\x31"); goto PfvOm; ZkI36: if (!($limit != null)) { goto ngxLR; } goto wLSat; PfvOm: $this->db->select("\x61\56\x2a\x2c\40\142\x2e\x66\151\162\163\164\x5f\x6e\141\155\x65\x2c\40\142\56\154\x61\x73\x74\x5f\156\x61\155\x65\54\40\144\x2e\x6e\141\x6d\145"); goto Z8qwX; msXO8: } }
