<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Log_model extends CI_Model { function __construct() { parent::__construct(); $this->load->library("\x75\x73\x65\162\137\141\x67\145\x6e\164"); } public function saveLog($type, $desc) { goto ycvUQ; ycvUQ: $user_id = $this->ion_auth->user()->row()->id; goto DolYB; ey196: $agent = $this->agent->mobile(); goto ByB7l; x1Fae: $this->insertLog($user_id, $group->id, $group->name, $type, $desc, $agent, $os, $ip); goto GGPou; HiQvr: $agent = $this->agent->browser() . "\40" . $this->agent->version(); goto kISsp; zhoBy: xM01w: goto HiQvr; mctFG: $os = $this->agent->platform(); goto P23sP; DolYB: $group = $this->ion_auth->get_users_groups($user_id)->row(); goto u1ZGJ; P23sP: $ip = $this->input->ip_address(); goto x1Fae; OujSi: goto X05z7; goto zhoBy; kISsp: goto X05z7; goto Wjm9k; u1ZGJ: if ($this->agent->is_browser()) { goto xM01w; } goto MpTaQ; ByB7l: X05z7: goto mctFG; MpTaQ: if ($this->agent->is_mobile()) { goto SQWof; } goto BpPjm; Wjm9k: SQWof: goto ey196; BpPjm: $agent = "\104\x61\164\x61\x20\165\x73\145\x72\x20\x67\x61\147\141\x6c\x20\x64\x69\40\144\x61\x70\x61\x74\153\141\156"; goto OujSi; GGPou: } private function insertLog($id_user, $group_id, $group_name, $type, $desc, $agent, $os, $ip) { $data = array("\x69\x64\x5f\165\163\x65\162" => $id_user, "\151\144\x5f\147\x72\157\x75\x70" => $group_id, "\156\141\x6d\x65\x5f\147\x72\x6f\165\x70" => $group_name, "\154\x6f\x67\x5f\x64\x65\163\143" => $desc, "\141\144\x64\x72\145\163\x73" => $ip, "\x61\147\145\x6e\x74" => $agent, "\x64\x65\166\151\143\145" => $os); $this->db->insert("\x6c\157\147", $data); } public function loadNotifikasi() { } public function loadChat() { } public function loadAktifitas($limit = null) { goto Yw1Ek; TqUIU: $this->db->select("\141\56\52\x2c\40\142\56\146\151\162\x73\164\137\156\x61\x6d\145\x2c\x20\x62\x2e\x6c\x61\x73\164\137\x6e\141\x6d\145\x2c\x20\x64\x2e\156\141\155\145"); goto ItztY; EHWqu: return $result; goto fS6IO; Ig2lp: $result = $this->db->get()->result(); goto EHWqu; xxOwW: $this->db->join("\147\162\x6f\165\x70\163\x20\144", "\x64\56\x69\x64\x3d\141\56\151\x64\x5f\147\162\157\165\160"); goto UjPr4; ItztY: $this->db->from("\154\157\x67\x20\141"); goto a19Mb; UjPr4: if (!($limit != null)) { goto RpaFU; } goto VOyOZ; MV0Xm: RpaFU: goto bBYlc; Yw1Ek: $this->db->query("\x53\105\124\40\123\121\114\x5f\102\111\x47\137\x53\105\x4c\105\103\124\123\x3d\x31"); goto TqUIU; bBYlc: $this->db->order_by("\x61\56\154\157\147\137\164\x69\x6d\145", "\104\x45\123\x43"); goto Ig2lp; VOyOZ: $this->db->limit($limit, 0); goto MV0Xm; a19Mb: $this->db->join("\x75\163\145\162\163\x20\x62", "\x62\x2e\x69\144\x3d\141\56\x69\x64\x5f\x75\x73\x65\x72", "\x6c\x65\146\164"); goto xxOwW; fS6IO: } public function loadAktifitasSiswa($limit = null) { goto ezda7; ezda7: $this->db->query("\x53\105\x54\40\123\121\x4c\137\x42\111\x47\x5f\x53\105\114\x45\103\x54\x53\75\61"); goto IlDBK; IlDBK: $this->db->select("\141\56\52\54\40\x62\56\x66\151\x72\x73\x74\137\x6e\x61\155\145\x2c\40\x62\56\154\141\163\x74\137\x6e\141\155\145\54\40\144\x2e\x6e\141\155\x65"); goto NVOPx; Ubo1b: if (!($limit != null)) { goto qp3oK; } goto O3TBd; P8KJb: $this->db->join("\165\163\145\x72\x73\40\x62", "\x62\56\151\144\75\141\x2e\x69\x64\137\165\x73\x65\x72", "\x6c\145\x66\x74"); goto LoSd3; CWftG: $this->db->order_by("\141\x2e\x6c\x6f\x67\x5f\164\151\155\x65", "\104\105\x53\x43"); goto m1evF; NVOPx: $this->db->from("\x6c\157\147\40\141"); goto P8KJb; C_yGd: $this->db->where("\141\56\151\144\x5f\x67\x72\157\x75\160", "\x33"); goto CWftG; LoSd3: $this->db->join("\147\162\x6f\x75\x70\x73\40\144", "\x64\56\151\x64\x3d\141\56\x69\144\x5f\x67\x72\x6f\x75\x70"); goto Ubo1b; O3TBd: $this->db->limit($limit, 0); goto MJ9Nl; rFeDx: return $result; goto mqJB2; MJ9Nl: qp3oK: goto C_yGd; m1evF: $result = $this->db->get()->result(); goto rFeDx; mqJB2: } }
