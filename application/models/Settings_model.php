<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\x41\123\x45\120\x41\124\110") or exit("\116\157\40\144\151\162\145\x63\164\x20\163\x63\x72\x69\x70\x74\x20\141\143\x63\x65\163\163\x20\x61\x6c\154\157\167\145\x64"); class Settings_model extends CI_Model { public function not_admin() { goto E0XjF; E0XjF: $this->db->select("\x61\x2e\151\x64"); goto sBlW5; L6UjB: return $this->db->get()->result(); goto LnNvf; yNT0s: $this->db->where_not_in("\x62\x2e\x67\x72\157\x75\x70\137\151\144", ["\x31"]); goto L6UjB; sBlW5: $this->db->from("\x75\163\x65\x72\163\x20\141"); goto a11Ld; a11Ld: $this->db->join("\x75\163\145\x72\163\137\x67\162\x6f\x75\160\x73\x20\142", "\x61\56\x69\144\x3d\x62\56\x75\x73\145\162\x5f\151\144"); goto yNT0s; LnNvf: } public function truncate($table) { goto aeKYg; pKBOe: return; goto vKZ6O; SxRc2: $this->db->query("\x53\105\124\40\106\x4f\122\x45\x49\107\116\137\113\105\x59\137\x43\110\x45\x43\113\123\x20\75\40\x30"); goto XxOUp; XxOUp: foreach ($table as $tb) { $this->db->truncate($tb); sJEFy: } goto PyG3T; xEKmO: O69aR: goto pKBOe; J5_R0: $users = $this->not_admin(); goto Bf4df; PyG3T: etDta: goto plFcF; Bf4df: foreach ($users as $user) { $this->db->delete("\165\163\x65\x72\163", array("\151\144" => $user->id)); am5i_: } goto xEKmO; tIWVk: delete_files("\x2e\x2f\x75\x70\x6c\157\141\x64\x73\57\x62\x61\156\x6b\x5f\x73\157\141\154\57"); goto J5_R0; aeKYg: $this->load->helper("\146\x69\x6c\145"); goto SxRc2; plFcF: $this->db->query("\123\x45\124\40\106\x4f\122\x45\x49\107\116\x5f\x4b\105\x59\x5f\103\x48\x45\103\113\123\40\x3d\x20\x31"); goto tIWVk; vKZ6O: } public function getSetting() { return $this->db->get("\x73\x65\164\x74\x69\156\x67")->row(); } function toJSON($table) { $query = $this->db->get($table); return json_encode($query->result(), JSON_PRETTY_PRINT); } function rowSize($table) { $query = $this->db->get($table); return $query->num_rows(); } }
