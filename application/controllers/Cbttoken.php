<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbttoken extends CI_Controller { public function __construct() { goto A3zyz; EPDhO: $this->load->model("\x44\x61\x73\150\142\x6f\x61\162\144\137\x6d\157\x64\145\154", "\x64\x61\x73\x68\142\157\x61\x72\144"); goto BQXl9; FsHPD: show_error("\x48\x61\x6e\171\x61\40\101\x64\x6d\151\156\151\163\x74\162\x61\164\x6f\162\x20\x79\141\156\147\x20\144\x69\x62\x65\162\151\40\x68\141\153\40\165\156\164\x75\x6b\x20\x6d\145\156\x67\x61\x6b\x73\x65\x73\40\x68\141\x6c\x61\x6d\x61\x6e\x20\x69\x6e\151\54\40\74\141\x20\x68\162\x65\146\75\x22" . base_url("\x64\x61\163\150\x62\157\x61\x72\x64") . "\42\x3e\x4b\x65\x6d\142\141\154\x69\40\153\145\40\x6d\145\156\165\40\141\x77\141\154\x3c\57\141\76", 403, "\101\153\x73\x65\x73\x20\x54\x65\x72\x6c\x61\x72\x61\156\x67"); goto CFQ_V; LcLwj: redirect("\141\165\x74\150"); goto gxNOE; BQXl9: $this->load->model("\103\x62\x74\x5f\155\x6f\x64\x65\x6c", "\143\x62\164"); goto J42H_; l7WK9: $this->form_validation->set_error_delimiters('', ''); goto bRTR8; N58rz: LV5BS: goto LcLwj; gxNOE: b7K3N: goto FPhYW; uDLR0: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\x75\x72\x75"))) { goto Xzs2C; } goto FsHPD; cRWqC: goto b7K3N; goto N58rz; lbmT2: $this->load->dbforge(); goto BLYJ5; A3zyz: parent::__construct(); goto lbmT2; J42H_: $this->load->model("\x4c\157\x67\137\x6d\157\x64\x65\154", "\154\x6f\x67\x67\x69\x6e\147"); goto l7WK9; CFQ_V: Xzs2C: goto cRWqC; aMZTW: $this->load->model("\115\x61\x73\164\x65\162\x5f\155\157\x64\145\154", "\x6d\141\x73\164\145\162"); goto EPDhO; BLYJ5: if (!$this->ion_auth->logged_in()) { goto LV5BS; } goto uDLR0; FPhYW: $this->load->library(["\144\141\164\141\164\141\142\x6c\145\163", "\x66\157\x72\155\x5f\x76\x61\x6c\x69\x64\x61\164\151\x6f\x6e"]); goto aMZTW; bRTR8: } public function output_json($data, $encode = true) { goto QLEPr; QLEPr: if (!$encode) { goto x6JNK; } goto wRQU7; sPFdg: $this->output->set_content_type("\141\160\x70\x6c\151\x63\x61\164\x69\x6f\x6e\57\x6a\163\157\156")->set_output($data); goto Dryhq; wRQU7: $data = json_encode($data); goto fwp1b; fwp1b: x6JNK: goto sPFdg; Dryhq: } public function index() { goto qwTrx; tjA5W: $tkn["\145\154\x61\x70\163\145\x64"] = "\60\60\x3a\x30\60\72\x30\x30"; goto PB0uP; kn2Hj: $smt = $this->master->getSemesterActive(); goto ujzuS; pbRg_: $token = $this->cbt->getToken(); goto SM7ni; gXfo3: $data["\x73\155\x74\x5f\141\x63\164\151\166\145"] = $smt; goto pbRg_; zx1Dd: if ($this->ion_auth->is_admin()) { goto WASeU; } goto XGYDL; OH5or: $tp = $this->master->getTahunActive(); goto kn2Hj; XGYDL: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto uexbZ; Z3xm7: $this->load->view("\x5f\164\x65\x6d\160\x6c\x61\164\145\163\57\144\x61\x73\150\142\157\141\x72\144\x2f\x5f\150\145\141\x64\x65\162", $data); goto rFbdW; i8hbS: $data["\x70\162\x6f\146\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto Z3xm7; qwTrx: $user = $this->ion_auth->user()->row(); goto akc93; bGLUw: $this->load->view("\x6d\145\x6d\x62\145\162\163\x2f\x67\x75\x72\165\57\164\145\x6d\x70\x6c\141\x74\x65\163\x2f\146\157\x6f\164\145\162"); goto F3lZt; ujzuS: $data["\x74\x70"] = $this->dashboard->getTahun(); goto OIlev; PB0uP: $data["\164\x6f\x6b\x65\156"] = $token != null ? $token : json_decode(json_encode($tkn)); goto zx1Dd; gdGbv: $this->load->view("\x6d\x65\155\x62\x65\x72\163\x2f\x67\x75\162\165\57\x74\145\x6d\x70\154\141\x74\x65\163\x2f\x68\x65\x61\144\x65\x72", $data); goto XLHYF; uexbZ: $data["\x67\165\162\x75"] = $guru; goto gdGbv; KFc3K: $tkn["\141\165\x74\157"] = "\x30"; goto n2tY2; YNbt9: $this->load->view("\x5f\x74\x65\155\160\154\x61\164\x65\163\57\144\141\x73\x68\x62\157\x61\162\x64\x2f\x5f\x66\157\x6f\164\x65\162"); goto uJacs; n2tY2: $tkn["\x6a\x61\x72\x61\x6b"] = "\61"; goto tjA5W; F3lZt: goto ueDRn; goto UnMal; SM7ni: $tkn["\164\x6f\x6b\145\x6e"] = ''; goto KFc3K; uJacs: ueDRn: goto wgP_k; OIlev: $data["\164\x70\137\x61\x63\x74\151\166\145"] = $tp; goto bSbFy; rFbdW: $this->load->view("\143\142\164\x2f\164\x6f\153\x65\156\57\x64\141\x74\x61"); goto YNbt9; bSbFy: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto gXfo3; UnMal: WASeU: goto i8hbS; XLHYF: $this->load->view("\155\x65\155\x62\x65\x72\163\x2f\x67\165\x72\165\57\143\142\164\57\164\x6f\153\145\156\x2f\x64\141\164\x61"); goto bGLUw; akc93: $data = ["\165\163\x65\x72" => $user, "\x6a\165\144\165\x6c" => "\x54\x6f\x6b\x65\x6e\x20\125\x6a\151\x61\156", "\x73\165\x62\152\x75\x64\165\x6c" => "\124\x6f\x6b\x65\156", "\163\x65\x74\164\151\156\147" => $this->dashboard->getSetting()]; goto OH5or; wgP_k: } public function generateToken() { goto ABTDX; SXiiZ: $diff = $mulai->diff(new DateTime()); goto Wiu4h; SHdpT: $new = $this->createNewToken(); goto GSOUk; jZpwY: $force = $this->input->get("\x66\x6f\x72\143\x65"); goto RoBdE; R0MbB: $this->output_json($token); goto avdf0; pzpoD: $updated = date("\x59\x2d\155\55\144\x20\110\72\151\72\163"); goto i_ZE1; WZEaB: $total_minutes += $diff->i; goto PvQv1; GSOUk: $post_token->token = $new; goto DsROm; Wiu4h: $total_minutes = $diff->days * 24 * 60; goto BqqVm; LeSGZ: $new = $this->createNewToken(); goto QNZGs; QNZGs: $post_token->token = $new; goto TNEEg; i_ZE1: if ($force == "\61") { goto oZIrV; } goto G99hY; EZpLC: oZIrV: goto SHdpT; X0Oab: Co7mE: goto geNal; DsROm: $post_token->updated = $updated; goto RoW7L; R7VFB: $token = $this->cbt->getToken(); goto OQlq0; OQlq0: $token->now = $updated; goto R0MbB; G99hY: $mulai = new DateTime($token->updated); goto SXiiZ; RoBdE: $token = $this->cbt->getToken(); goto pzpoD; ABTDX: $post_token = json_decode($this->input->get("\x64\141\x74\x61")); goto jZpwY; RoW7L: $this->cbt->saveToken($post_token); goto kZUtO; geNal: goto XE4nw; goto EZpLC; kZUtO: XE4nw: goto R7VFB; i7NFv: $this->cbt->saveToken($post_token); goto X0Oab; BqqVm: $total_minutes += $diff->h * 60; goto WZEaB; TNEEg: $post_token->updated = $updated; goto i7NFv; PvQv1: if (!($total_minutes >= $post_token->jarak)) { goto Co7mE; } goto LeSGZ; avdf0: } public function loadToken() { goto j99iU; bazD6: XxRw0: goto m4mJW; Q4BJN: $data["\145\154\141\160\163\145\x64"] = "\60\x30\x3a\x30\60\72\60\60"; goto UmOe3; PlWxk: $this->output_json($token); goto ZHLwM; eZ2Pd: $token->now = date("\x59\55\155\x2d\x64\x20\x48\72\x69\72\x73"); goto PlWxk; j99iU: $dataflds = $this->db->field_data("\x63\142\164\137\164\157\x6b\145\x6e"); goto ZjKyU; ZjKyU: $table_changed = false; goto mDeyp; eY1LW: ffmyv: goto m4aN_; m4mJW: $data["\164\157\153\145\156"] = ''; goto nrTyk; E1vqe: if ($token == null) { goto XxRw0; } goto eZ2Pd; rFR1P: zifhG: goto YqZFB; nrTyk: $data["\141\x75\x74\157"] = "\60"; goto Q4BJN; YqZFB: $token = $this->cbt->getToken(); goto E1vqe; ZHLwM: goto ffmyv; goto bazD6; mDeyp: foreach ($dataflds as $fild) { goto th13c; N9NiI: UZx39: goto JRtu3; FLxKl: if (!($fild->type != "\x76\x61\x72\143\x68\141\162")) { goto UZx39; } goto p_Hsz; nqDnm: $table_changed = $this->dbforge->modify_column("\143\142\164\x5f\164\157\x6b\145\156", $field); goto N9NiI; JRtu3: A6hRU: goto yWNpe; yWNpe: lXMyp: goto gKqqs; p_Hsz: $field = ["\165\x70\x64\x61\x74\x65\x64" => array("\x74\171\160\145" => "\x56\101\122\103\x48\x41\x52", "\143\x6f\x6e\x73\164\162\141\x69\x6e\164" => 20, "\x64\x65\146\x61\x75\x6c\164" => '')]; goto nqDnm; th13c: if (!($fild->name == "\165\160\144\141\x74\145\144")) { goto A6hRU; } goto FLxKl; gKqqs: } goto rFR1P; UmOe3: $this->output_json($data); goto eY1LW; m4aN_: } private function createNewToken() { goto fGBHp; n1x7G: $new_token = ''; goto Sn0Il; Sn0Il: $i = 0; goto HyLi2; up_KI: E8kvW: goto P7flN; QoqI5: $random_character = $chars[mt_rand(0, $input_length - 1)]; goto DIGqF; fGBHp: $chars = "\x41\102\x43\104\105\106\107\110\x49\112\113\x4c\x4d\116\117\x50\x51\122\x53\x54\125\126\x57\x58\x59\132"; goto ih3Q9; ih3Q9: $input_length = strlen($chars); goto n1x7G; P7flN: return $new_token; goto kx8Xg; HyLi2: pbe7S: goto Nwb6h; zfOn6: goto pbe7S; goto up_KI; mfYkY: $i++; goto zfOn6; Nwb6h: if (!($i < 6)) { goto E8kvW; } goto QoqI5; pyYtj: lUE41: goto mfYkY; DIGqF: $new_token .= $random_character; goto pyYtj; kx8Xg: } }
