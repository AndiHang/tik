<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbttoken extends CI_Controller { public function __construct() { goto yVTzT; e1fHW: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\x67\165\x72\165"))) { goto Q4_N5; } goto h4Itl; D6XFC: VihIr: goto QYmm4; h4Itl: show_error("\x48\141\x6e\x79\141\x20\101\144\x6d\151\x6e\151\x73\x74\x72\141\164\157\162\x20\171\x61\156\147\x20\144\x69\x62\145\x72\x69\40\x68\141\x6b\x20\165\156\x74\x75\153\x20\155\145\x6e\147\141\x6b\163\x65\163\40\x68\141\154\x61\x6d\x61\x6e\x20\151\156\151\54\40\x3c\141\x20\x68\x72\x65\x66\75\42" . base_url("\x64\x61\x73\x68\x62\157\141\x72\144") . "\42\76\x4b\145\x6d\142\141\154\x69\x20\153\x65\40\x6d\145\x6e\165\40\x61\167\x61\x6c\74\x2f\141\76", 403, "\x41\x6b\x73\x65\x73\40\124\145\162\154\141\162\141\156\x67"); goto ecYRR; Ux1Xz: $this->form_validation->set_error_delimiters('', ''); goto CBMru; ecYRR: Q4_N5: goto o0x7N; BPPIB: $this->load->model("\x43\142\x74\x5f\x6d\x6f\x64\x65\154", "\143\142\164"); goto rhtYh; BtWPq: $this->load->model("\x4d\141\163\164\145\x72\x5f\155\157\144\145\154", "\x6d\141\x73\x74\145\x72"); goto KEsJm; KEsJm: $this->load->model("\104\141\163\x68\x62\x6f\x61\x72\x64\137\x6d\x6f\x64\145\x6c", "\144\141\x73\x68\142\x6f\141\x72\x64"); goto BPPIB; o0x7N: goto OzkD8; goto D6XFC; yVTzT: parent::__construct(); goto Sz3uI; GBIqs: $this->load->library(["\x64\141\x74\141\x74\141\142\154\x65\163", "\146\x6f\162\x6d\x5f\166\141\154\x69\x64\x61\x74\x69\x6f\156"]); goto BtWPq; rhtYh: $this->load->model("\x4c\157\147\x5f\x6d\x6f\x64\x65\154", "\x6c\x6f\147\x67\151\156\147"); goto Ux1Xz; Sz3uI: if (!$this->ion_auth->logged_in()) { goto VihIr; } goto e1fHW; QYmm4: redirect("\x61\165\164\150"); goto oJrDk; oJrDk: OzkD8: goto GBIqs; CBMru: } public function output_json($data, $encode = true) { goto dYr5b; Xh9XL: yHPXF: goto WZetl; sxWlR: $data = json_encode($data); goto Xh9XL; WZetl: $this->output->set_content_type("\141\x70\160\x6c\x69\143\x61\x74\151\x6f\x6e\57\152\x73\x6f\x6e")->set_output($data); goto by4xI; dYr5b: if (!$encode) { goto yHPXF; } goto sxWlR; by4xI: } public function index() { goto e8zhc; R39j6: $smt = $this->master->getSemesterActive(); goto C0ykZ; ZbY4A: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto eNgGU; WV7sn: $data = ["\165\x73\145\x72" => $user, "\x6a\x75\144\165\154" => "\124\x6f\x6b\145\156\40\125\x6a\151\141\156", "\x73\165\142\152\165\x64\165\154" => "\124\x6f\x6b\x65\156", "\x73\x65\x74\164\x69\156\147" => $this->dashboard->getSetting()]; goto yk_JY; tmA53: $data["\x74\x6f\x6b\145\x6e"] = $this->cbt->getToken(); goto KOogb; msEoD: oWy54: goto pXZ0X; e8zhc: $user = $this->ion_auth->user()->row(); goto WV7sn; T1VfC: $this->load->view("\143\x62\x74\x2f\x74\157\x6b\x65\x6e\x2f\x64\141\x74\141"); goto V17LK; KOogb: if ($this->ion_auth->is_admin()) { goto Miwlx; } goto O9SCt; eNgGU: $data["\x73\x6d\x74\x5f\x61\143\164\151\x76\x65"] = $smt; goto tmA53; O9SCt: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto U3WLJ; Th4Yg: $data["\x74\160\x5f\141\x63\x74\x69\x76\145"] = $tp; goto ZbY4A; hNyuU: $this->load->view("\155\x65\x6d\x62\x65\x72\x73\x2f\147\x75\162\x75\57\x74\x65\x6d\160\154\141\x74\x65\x73\x2f\x66\157\x6f\164\x65\162"); goto S2PpC; V17LK: $this->load->view("\x5f\164\x65\x6d\x70\154\x61\164\x65\163\x2f\144\x61\x73\150\x62\157\x61\x72\x64\x2f\x5f\x66\157\x6f\x74\x65\162"); goto msEoD; JJER8: $this->load->view("\137\164\x65\155\160\154\141\164\x65\x73\x2f\144\141\163\150\x62\x6f\141\162\144\x2f\x5f\x68\x65\141\144\145\162", $data); goto T1VfC; m3we3: $data["\x70\x72\x6f\146\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto JJER8; S2PpC: goto oWy54; goto m_i3V; m_i3V: Miwlx: goto m3we3; U3WLJ: $data["\147\165\162\165"] = $guru; goto I450w; lrnEb: $this->load->view("\155\145\155\x62\x65\x72\x73\x2f\147\165\x72\x75\x2f\143\142\x74\57\x74\x6f\153\x65\156\x2f\x64\x61\x74\141"); goto hNyuU; yk_JY: $tp = $this->master->getTahunActive(); goto R39j6; I450w: $this->load->view("\x6d\145\155\x62\145\162\163\x2f\x67\x75\x72\165\x2f\164\x65\155\160\154\x61\164\145\x73\x2f\x68\x65\x61\x64\x65\x72", $data); goto lrnEb; C0ykZ: $data["\164\160"] = $this->dashboard->getTahun(); goto Th4Yg; pXZ0X: } public function generateToken() { goto JBvZM; WInWh: $this->cbt->saveToken($post_token); goto OxonL; OxonL: $token = $this->cbt->getToken(); goto pyWv1; pyWv1: $this->output_json($token); goto Hf0BN; JBvZM: $post_token = json_decode($this->input->get("\x64\x61\164\x61")); goto WInWh; Hf0BN: } public function autoToken($token, $auto) { $this->output_json($this->cbt->updateToken($token, $auto)); } public function loadToken() { goto O5OW0; Purz3: if ($token == null) { goto yc7nl; } goto gtiX_; UvTcw: goto zYlZi; goto KjUqG; SwTYg: $data["\164\x6f\x6b\145\x6e"] = ''; goto cp2zy; gtiX_: $this->output_json($token); goto UvTcw; G3b7X: zYlZi: goto oT2Sg; MuqvU: $this->output_json($data); goto G3b7X; cp2zy: $data["\141\165\164\x6f"] = "\x31"; goto MuqvU; O5OW0: $token = $this->cbt->getToken(); goto Purz3; KjUqG: yc7nl: goto SwTYg; oT2Sg: } }
