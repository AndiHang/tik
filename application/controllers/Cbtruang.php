<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtruang extends CI_Controller { public function __construct() { goto AtQvd; gwQA9: if ($this->ion_auth->is_admin()) { goto aLy4r; } goto vw69p; Kxfdv: goto OsjYf; goto z7bui; xR9Dj: OsjYf: goto efD5z; V9AdE: $this->load->model("\115\141\163\164\145\162\137\x6d\157\x64\x65\154", "\x6d\141\x73\164\x65\162"); goto qPd88; wP9bR: redirect("\141\x75\x74\x68"); goto xR9Dj; efD5z: $this->load->library(["\x64\141\x74\141\x74\141\x62\154\145\163", "\x66\157\x72\x6d\x5f\x76\141\x6c\151\144\141\164\151\x6f\x6e"]); goto V9AdE; GS4M6: $this->form_validation->set_error_delimiters('', ''); goto tKKYd; yKEfa: $this->load->model("\x43\x62\x74\x5f\x6d\157\144\x65\154", "\143\142\x74"); goto GS4M6; O2r97: aLy4r: goto Kxfdv; vw69p: show_error("\110\141\156\171\141\40\x41\x64\x6d\151\156\x69\163\x74\162\141\x74\x6f\x72\40\171\x61\x6e\147\40\144\x69\142\x65\x72\151\40\x68\x61\x6b\x20\165\156\164\x75\153\x20\155\x65\x6e\x67\x61\x6b\x73\145\163\x20\x68\141\154\x61\155\x61\156\40\x69\x6e\x69\x2c\40\x3c\x61\x20\x68\x72\145\146\x3d\x22" . base_url("\x64\x61\163\x68\142\x6f\x61\x72\144") . "\x22\x3e\113\145\x6d\142\141\154\151\x20\153\x65\40\155\x65\x6e\165\x20\x61\x77\141\154\74\x2f\141\76", 403, "\101\x6b\163\145\163\40\x54\x65\x72\154\141\x72\x61\x6e\x67"); goto O2r97; GcW5M: if (!$this->ion_auth->logged_in()) { goto ubtA8; } goto gwQA9; z7bui: ubtA8: goto wP9bR; AtQvd: parent::__construct(); goto GcW5M; qPd88: $this->load->model("\104\141\x73\150\x62\157\x61\x72\x64\137\x6d\157\x64\145\x6c", "\144\141\163\x68\142\157\141\162\x64"); goto yKEfa; tKKYd: } public function output_json($data, $encode = true) { goto Ozwy3; Ozwy3: if (!$encode) { goto jFt5h; } goto jguli; qqtCL: jFt5h: goto pCl5J; jguli: $data = json_encode($data); goto qqtCL; pCl5J: $this->output->set_content_type("\x61\x70\x70\154\x69\x63\141\164\x69\157\156\57\152\163\x6f\156")->set_output($data); goto ll3J6; ll3J6: } public function index() { goto ZD2Qk; ZD2Qk: $user = $this->ion_auth->user()->row(); goto u40Ne; u40Ne: $data = ["\165\x73\x65\162" => $user, "\152\165\x64\165\x6c" => "\122\165\141\156\147\40\x55\x6a\151\141\x6e", "\x73\x75\142\152\x75\144\x75\x6c" => "\104\141\x74\x61\40\x52\x75\141\x6e\147\40\x55\152\x69\141\156", "\x70\x72\x6f\146\151\x6c\x65" => $this->dashboard->getProfileAdmin($user->id), "\163\x65\x74\164\151\156\x67" => $this->dashboard->getSetting()]; goto V6suH; V6suH: $data["\164\x70"] = $this->dashboard->getTahun(); goto TSywd; ngInJ: $this->load->view("\143\142\164\57\x72\x75\x61\156\x67\57\144\141\x74\x61"); goto XfvWD; FgXUR: $data["\163\155\x74\x5f\141\143\x74\151\166\145"] = $this->dashboard->getSemesterActive(); goto Hlu6v; Hlu6v: $this->load->view("\x5f\164\145\155\160\154\141\x74\145\163\x2f\x64\x61\x73\x68\142\157\141\x72\144\57\137\150\145\141\x64\145\x72", $data); goto ngInJ; XfvWD: $this->load->view("\137\x74\x65\x6d\160\154\x61\164\x65\x73\57\x64\141\x73\x68\142\x6f\141\162\x64\x2f\x5f\146\x6f\157\x74\x65\162"); goto nIIJ9; TSywd: $data["\164\160\137\x61\x63\164\151\x76\145"] = $this->dashboard->getTahunActive(); goto PXE5E; PXE5E: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto FgXUR; nIIJ9: } public function data() { $this->output_json($this->cbt->getRuang(), false); } public function add() { goto BZ4IA; BZ4IA: $insert = ["\156\141\155\x61\x5f\x72\165\141\156\147" => $this->input->post("\x6e\141\155\x61\x5f\162\165\141\156\x67", true), "\x6b\x6f\x64\145\137\162\x75\141\x6e\x67" => $this->input->post("\x6b\157\144\x65\137\162\165\141\156\147", true)]; goto frg8S; QvHQj: $data["\163\x74\141\x74\165\163"] = $insert; goto Dp253; Dp253: $this->output_json($data); goto I4q9s; frg8S: $this->master->create("\x63\x62\164\x5f\x72\x75\x61\156\147", $insert, false); goto QvHQj; I4q9s: } public function update() { $data = $this->cbt->updateRuang(); $this->output->set_content_type("\x61\x70\160\x6c\x69\143\x61\x74\x69\157\x6e\57\x6a\163\x6f\156")->set_output($data); } public function delete() { goto kRjG0; Oz7gP: $this->output_json(["\163\x74\x61\x74\x75\x73" => true, "\x74\157\x74\141\154" => count($chk)]); goto kZETQ; B_aMa: if (!$chk) { goto CVE9l; } goto yFz30; fY8PF: goto wFfLf; goto TPKAq; TPKAq: CVE9l: goto n0fgY; kRjG0: $chk = $this->input->post("\x63\x68\x65\x63\153\145\x64", true); goto B_aMa; VFrMz: wFfLf: goto rfMO1; kZETQ: R3_AN: goto fY8PF; n0fgY: $this->output_json(["\163\x74\141\164\x75\163" => false]); goto VFrMz; yFz30: if (!$this->master->delete("\143\x62\x74\x5f\x72\x75\141\x6e\147", $chk, "\151\x64\137\x72\165\141\x6e\147")) { goto R3_AN; } goto Oz7gP; rfMO1: } }
