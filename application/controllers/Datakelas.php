<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\123\105\120\101\124\110") or exit("\x4e\x6f\40\144\x69\162\145\143\164\x20\x73\x63\x72\x69\x70\164\x20\x61\x63\x63\145\x73\163\x20\x61\154\154\157\167\x65\144"); class Datakelas extends CI_Controller { public function __construct() { goto h2oyz; FLf2c: goto K7BEi; goto pF6Qj; Rh_13: $this->form_validation->set_error_delimiters('', ''); goto kmtYM; MFjgi: $this->load->model("\x52\x61\160\x6f\x72\x5f\x6d\x6f\x64\145\154", "\162\141\x70\x6f\x72"); goto Rh_13; X3jM0: $this->load->model("\x4d\141\163\164\145\x72\x5f\155\x6f\144\x65\x6c", "\155\x61\163\164\x65\x72"); goto YGgAq; bT3p6: if (!$this->ion_auth->logged_in()) { goto Sg7og; } goto E78pW; vYwfK: K7BEi: goto Lfomr; XvtSc: show_error("\x48\x61\x6e\171\x61\x20\101\x64\155\151\156\x69\163\164\162\141\164\157\162\x20\171\x61\x6e\147\x20\x64\151\142\145\x72\151\40\150\x61\x6b\x20\165\x6e\164\165\153\40\x6d\x65\156\x67\x61\153\x73\145\x73\40\x68\141\154\141\x6d\x61\x6e\40\x69\x6e\151\x2c\40\74\x61\x20\150\162\145\x66\x3d\x22" . base_url("\x64\141\x73\150\142\x6f\141\162\144") . "\42\x3e\113\145\155\142\141\154\151\40\153\x65\x20\155\x65\x6e\x75\40\x61\x77\141\x6c\x3c\x2f\x61\x3e", 403, "\101\x6b\x73\145\x73\x20\x54\x65\x72\x6c\x61\162\x61\x6e\x67"); goto BEpSJ; duaXS: $this->load->model("\104\141\163\x68\142\157\x61\162\x64\137\155\157\x64\x65\x6c", "\x64\x61\163\150\x62\157\x61\x72\144"); goto X3jM0; bYFTF: $this->load->model("\113\145\x6c\141\163\137\x6d\157\144\x65\154", "\x6b\145\154\141\163"); goto duaXS; BEpSJ: tLvn2: goto FLf2c; Lfomr: $this->load->library(["\144\141\164\141\164\141\142\154\x65\x73", "\x66\x6f\162\x6d\x5f\166\141\x6c\151\x64\141\x74\151\157\156"]); goto bYFTF; pF6Qj: Sg7og: goto XMMnK; XMMnK: redirect("\141\x75\164\x68"); goto vYwfK; YGgAq: $this->load->model("\x44\162\x6f\x70\x64\157\x77\156\x5f\155\x6f\144\145\154", "\144\162\157\160\144\x6f\167\x6e"); goto MFjgi; E78pW: if ($this->ion_auth->is_admin()) { goto tLvn2; } goto XvtSc; h2oyz: parent::__construct(); goto bT3p6; kmtYM: } public function output_json($data, $encode = true) { goto HVcn3; rFDN0: $this->output->set_content_type("\x61\x70\x70\x6c\x69\143\141\164\x69\157\156\x2f\x6a\x73\157\x6e")->set_output($data); goto Ufv9L; vt5R0: $data = json_encode($data); goto rxIhr; rxIhr: tfodh: goto rFDN0; HVcn3: if (!$encode) { goto tfodh; } goto vt5R0; Ufv9L: } public function index() { goto PYNkj; P00_N: $data["\147\165\x72\165"] = $this->kelas->get_guru(); goto PxdsF; PYNkj: $user = $this->ion_auth->user()->row(); goto kmE1g; Acbdk: $data["\x6c\145\x76\145\154"] = $this->kelas->getLevel($setting->jenjang); goto P00_N; c_hkn: $kelas = $this->kelas->getKelasList($tp->id_tp, $smt->id_smt); goto TAP3P; luqZG: $data["\x6b\145\x6c\x61\x73"] = $kelas; goto CMvLH; sts6c: $data["\x70\162\x6f\x66\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto YM4an; n6Rcd: $data["\x74\160\137\141\143\x74\x69\x76\x65"] = $tp; goto zQhgC; CMvLH: $data["\153\145\154\x61\x73\x5f\x6c\141\x6d\x61"] = $kelas_lama; goto ZYXTL; VaLfo: $smt = $this->dashboard->getSemesterActive(); goto XdpEP; eu8bT: $this->load->view("\137\x74\145\x6d\x70\x6c\x61\164\x65\163\57\144\141\x73\x68\142\x6f\141\x72\144\57\x5f\150\x65\x61\x64\x65\x72", $data); goto BjcpO; kmE1g: $setting = $this->dashboard->getSetting(); goto HoQlI; E9Cu5: RgRqN: goto luqZG; HIX_g: $data["\x73\x6d\x74\x5f\x61\143\164\x69\166\x65"] = $smt; goto sts6c; HoQlI: $data = ["\x75\163\145\x72" => $user, "\x6a\x75\x64\165\x6c" => "\113\145\154\x61\163", "\x73\x75\142\152\165\144\x75\x6c" => "\x44\x61\164\141\x20\113\145\x6c\141\x73", "\163\x65\x74\x74\x69\156\147" => $setting]; goto c0of1; XdpEP: $data["\x74\x70"] = $this->dashboard->getTahun(); goto n6Rcd; P61NN: $kelas = []; goto B8wnx; YM4an: $chek = $this->kelas->count_all(); goto P61NN; ZYXTL: $data["\x6a\165\x72\x75\163\x61\x6e"] = $this->kelas->get_jurusan(); goto Acbdk; zQhgC: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto HIX_g; c0of1: $tp = $this->dashboard->getTahunActive(); goto VaLfo; j6NpW: if (!($chek > 0)) { goto RgRqN; } goto c_hkn; BjcpO: $this->load->view("\x6d\x61\163\164\x65\162\57\x6b\145\154\x61\x73\57\x64\141\x74\141"); goto XixAo; B8wnx: $kelas_lama = []; goto j6NpW; XixAo: $this->load->view("\x5f\x74\x65\155\x70\x6c\x61\164\145\x73\57\144\x61\163\150\142\x6f\x61\x72\x64\x2f\137\146\157\157\x74\145\162"); goto g3HeZ; PxdsF: $data["\x73\151\x73\167\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto eu8bT; TAP3P: $kelas_lama = $this->kelas->getKelasList($tp->id_tp - 1, "\62"); goto E9Cu5; g3HeZ: } public function detail($id) { goto oxH9Y; lwKLF: $data["\152\165\162\x75\x73\x61\156"] = $this->kelas->get_jurusan(); goto AVjmA; OsxBT: goto InyoD; goto bzmHm; tKa5F: $this->load->view("\137\164\145\x6d\x70\x6c\x61\x74\145\163\x2f\144\141\163\x68\142\157\x61\162\x64\57\137\x66\x6f\x6f\164\x65\162"); goto fkBAm; xX07S: $struktur = $this->kelas->getStrukturKelas($id); goto NsrwO; OW0Wh: $data["\x6b\x65\154\x61\x73"] = $this->kelas->get_one($id); goto lwKLF; L7pFE: $data["\x73\x74\x72\x75\153\x74\165\x72"] = $struktur; goto OsxBT; oigdq: $data["\160\162\157\146\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto OW0Wh; NsrwO: if ($struktur == null) { goto lErWx; } goto L7pFE; MMPs4: InyoD: goto CdUTh; WQMoG: $data["\163\x6d\164\x5f\x61\143\x74\151\166\x65"] = $smt; goto oigdq; bzmHm: lErWx: goto WfJ6s; LF9Ji: $data["\x74\x70"] = $this->dashboard->getTahun(); goto XguQw; NIyTV: $data["\163\x69\x73\167\x61\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto xX07S; AVjmA: $data["\154\145\x76\145\154"] = $this->kelas->getLevel($setting->jenjang); goto SJD1H; XguQw: $data["\164\160\137\141\x63\164\x69\x76\145"] = $tp; goto be8FZ; SJD1H: $data["\x67\165\162\165"] = $this->kelas->get_guru(); goto NIyTV; weXIK: $setting = $this->dashboard->getSetting(); goto d_XIL; Wwb8B: $tp = $this->dashboard->getTahunActive(); goto eAhjG; WfJ6s: $data["\163\x74\x72\165\x6b\164\x75\x72"] = json_decode(json_encode($this->kelas->dummyStruktur())); goto MMPs4; be8FZ: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto WQMoG; d_XIL: $data = ["\165\x73\x65\162" => $user, "\152\x75\144\x75\154" => "\104\145\x74\141\151\154\x20\x4b\145\154\x61\x73", "\x73\165\x62\152\x75\144\165\x6c" => "\104\x65\x74\x61\151\154\x20\113\x65\x6c\x61\163", "\163\145\164\164\151\x6e\147" => $setting]; goto Wwb8B; eAhjG: $smt = $this->dashboard->getSemesterActive(); goto LF9Ji; oxH9Y: $user = $this->ion_auth->user()->row(); goto weXIK; MqYO8: $this->load->view("\155\x61\163\x74\145\162\57\153\x65\x6c\x61\x73\x2f\144\x65\x74\141\x69\154"); goto tKa5F; CdUTh: $this->load->view("\137\x74\x65\155\x70\154\141\164\145\x73\x2f\x64\141\163\150\142\157\141\162\x64\x2f\137\x68\145\x61\x64\145\162", $data); goto MqYO8; fkBAm: } public function add() { goto sCadd; FfRyZ: $siswa = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto GQH99; qkb_F: $data["\x6a\165\162\165\163\141\x6e"] = $this->kelas->get_jurusan(); goto luxx2; bUhmq: $data = ["\165\x73\145\x72" => $user, "\152\x75\x64\x75\154" => "\113\x65\154\x61\163", "\163\165\x62\152\x75\144\165\x6c" => "\124\x61\155\x62\x61\150\40\113\145\154\141\x73", "\163\x65\x74\164\x69\x6e\x67" => $setting]; goto aAsAC; fNY1g: $this->load->view("\137\164\x65\x6d\x70\154\141\x74\145\163\57\144\141\163\x68\x62\157\141\162\144\57\x5f\150\145\x61\144\145\x72", $data); goto Vgpuu; Qko4G: $data["\163\151\x73\167\141\x6b\145\x6c\141\163"] = array(); goto fNY1g; aAsAC: $tp = $this->dashboard->getTahunActive(); goto DycUN; mi0cn: $this->load->view("\x5f\164\145\x6d\160\x6c\141\x74\x65\163\x2f\x64\x61\x73\x68\x62\x6f\x61\162\144\x2f\x5f\x66\157\x6f\164\145\x72"); goto K37m2; i7WL5: $data["\164\x70\x5f\x61\x63\164\x69\x76\x65"] = $tp; goto fFzhV; izXMY: $data["\164\160"] = $this->dashboard->getTahun(); goto i7WL5; LzZ6x: $data["\147\x75\162\165"] = $this->kelas->get_guru(); goto FfRyZ; he4UV: $data["\153\x65\x6c\x61\163"] = json_decode(json_encode($this->kelas->dummy())); goto qkb_F; kuWOS: $data["\163\x6d\x74\137\x61\143\x74\x69\x76\x65"] = $smt; goto Iu0cd; luxx2: $data["\154\145\166\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto LzZ6x; h3BY8: $setting = $this->dashboard->getSetting(); goto bUhmq; Iu0cd: $data["\160\162\x6f\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto he4UV; fFzhV: $data["\163\155\164"] = $this->dashboard->getSemester(); goto kuWOS; Vgpuu: $this->load->view("\x6d\141\163\164\145\162\x2f\153\x65\154\x61\163\x2f\x61\x64\x64"); goto mi0cn; DycUN: $smt = $this->dashboard->getSemesterActive(); goto izXMY; sCadd: $user = $this->ion_auth->user()->row(); goto h3BY8; GQH99: $data["\x73\x69\163\167\x61"] = $siswa; goto Qko4G; K37m2: } public function edit($id = '') { goto dWOcu; Vnyas: $data["\154\x65\x76\145\x6c"] = $this->kelas->getLevel($setting->jenjang); goto VcKpb; HMZ66: $data["\x73\x69\x73\167\141\x6b\x65\x6c\141\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto Um5te; N0WZ5: $this->load->view("\x6d\x61\163\x74\x65\x72\57\153\145\154\x61\163\57\141\x64\x64"); goto mXvfw; l2Zb4: $smt = $this->dashboard->getSemesterActive(); goto J5yI7; uWOJv: $data["\163\x69\163\x77\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto HMZ66; Um5te: $this->load->view("\x5f\x74\x65\x6d\x70\154\141\x74\x65\163\x2f\x64\x61\163\150\x62\157\x61\x72\144\x2f\137\x68\x65\141\x64\145\162", $data); goto N0WZ5; LGZ13: $data["\163\155\164"] = $this->dashboard->getSemester(); goto NsfeX; mXvfw: $this->load->view("\137\164\145\x6d\x70\x6c\141\164\145\163\x2f\144\141\163\150\142\x6f\x61\162\144\57\137\146\157\x6f\x74\x65\162"); goto q0KRG; NsfeX: $data["\163\155\x74\137\141\x63\164\151\166\145"] = $smt; goto bWEK4; dWOcu: $user = $this->ion_auth->user()->row(); goto DCcm3; Aep48: $tp = $this->dashboard->getTahunActive(); goto l2Zb4; bWEK4: $data["\160\x72\x6f\146\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto VeLky; faPb7: $data = ["\x75\x73\145\x72" => $user, "\x6a\165\144\165\x6c" => "\x4b\145\154\141\x73", "\x73\165\x62\152\x75\x64\x75\x6c" => "\x45\144\x69\164\x20\x4b\x65\154\x61\163", "\163\x65\x74\x74\x69\x6e\x67" => $setting]; goto Aep48; VcKpb: $data["\147\x75\x72\165"] = $this->kelas->getWaliKelas($tp->id_tp, $smt->id_smt); goto uWOJv; J5yI7: $data["\164\x70"] = $this->dashboard->getTahun(); goto YSt8m; YSt8m: $data["\x74\160\137\141\143\x74\x69\166\x65"] = $tp; goto LGZ13; DCcm3: $setting = $this->dashboard->getSetting(); goto faPb7; GIXgx: $data["\x6b\145\x6c\141\x73"] = $this->kelas->get_one($id); goto VezTe; VeLky: $data["\x69\x64\x5f\153\x65\x6c\x61\x73"] = $id; goto GIXgx; VezTe: $data["\152\x75\162\x75\x73\141\156"] = $this->kelas->get_jurusan(); goto Vnyas; q0KRG: } public function save() { goto oNJaJ; l9gbn: $siswas = $this->input->post("\163\151\x73\x77\141", true); goto vBPEX; HzOvc: $updated = $this->db->update("\152\x61\x62\141\x74\x61\x6e\137\x67\x75\162\165"); goto OKC_U; CxhCo: Us7cD: goto LUf9S; kW4jG: E_hvD: goto jVLnl; DMda1: $status = $this->db->insert("\x6d\x61\163\x74\x65\162\137\153\x65\154\141\163", $insert); goto s1m9d; jVLnl: if (!($i <= count($siswas))) { goto BcNSu; } goto J6QJl; HqgvT: goto DNlFw; goto Em0hM; oVByr: $i = 0; goto cR0ac; p1zEW: oNkAH: goto Bxu1r; CVq6Y: $i++; goto soBGV; CcuiL: if (isset($insert[$id_tp . $id_smt . $idsiswa])) { goto Us7cD; } goto L29qi; yeLRd: PTyzq: goto YD0em; PRLlP: $this->form_validation->set_rules($config); goto lBeFZ; LFfo1: $siswa_kelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto MqqIW; rkEAo: BcNSu: goto oB6QX; oqK_A: if (!($idsiswa != null)) { goto U3oQ8; } goto CcuiL; UNaVl: $this->form_validation->set_rules($config); goto vrPgG; oB6QX: $jumlah = serialize($siswakelas); goto H4fqk; vrPgG: if ($this->form_validation->run() == TRUE) { goto PTyzq; } goto J3PbR; NI041: if (!($i <= count($siswas))) { goto ccIdQ; } goto ZGohc; yFx6u: array_push($siswakelas, ["\151\144" => $id_siswa]); goto FZUHl; iZyoP: $guru_id = strip_tags($this->input->post("\147\165\x72\165\x5f\151\144", TRUE)); goto sxy0F; cR0ac: RkGD3: goto NI041; DKLqF: sauDi: goto UNaVl; FZUHl: WjRee: goto nuLxU; T7D7M: DNlFw: goto cxfz8; b8xEh: $id_new = null; goto a0hDa; fUcKZ: zuTfd: goto fjxTs; sRniL: w1pJz: goto fUcKZ; XLtjE: GQ0No: goto B4Z6_; lBeFZ: if ($this->form_validation->run() == TRUE) { goto y3l2Y; } goto tlKoC; bSyiK: $data["\163\x69\x73\x77\141"] = $siswa_inserted; goto uxgKd; BrmQK: $this->output_json($data); goto nJUIX; uxgKd: $data["\x75\160\x64\x61\x74\x65"] = $updated; goto vP3CX; fjxTs: XHObD: goto oVByr; D4iIp: M5Jc3: goto P5ib4; B4Z6_: U3oQ8: goto FpRJp; sxy0F: $id_tp = $this->master->getTahunActive()->id_tp; goto LydiU; s1m9d: $id_new = $this->db->insert_id(); goto T7D7M; rikGu: CLxSE: goto RP7Xt; PrhrW: ccIdQ: goto wG0d7; soBGV: goto RkGD3; goto PrhrW; DKmeB: goto E_hvD; goto rkEAo; nuLxU: EaWVI: goto WaSXY; wG0d7: foreach ($insert as $ins) { goto sHuAa; gtxPE: kMgL7: goto hNtqU; eJgAw: $siswa_inserted++; goto Ofj_g; sHuAa: if (!$this->db->replace("\x6b\x65\x6c\x61\x73\137\x73\151\x73\x77\x61", $ins)) { goto AHrQd; } goto eJgAw; Ofj_g: AHrQd: goto gtxPE; hNtqU: } goto p1zEW; lTCzz: goto GQ0No; goto CxhCo; H4fqk: $insert = array("\x6e\141\155\141\137\x6b\x65\x6c\x61\163" => strip_tags($this->input->post("\156\x61\155\141\137\x6b\x65\154\141\163", TRUE)), "\x6b\x6f\x64\x65\x5f\x6b\x65\154\141\163" => strip_tags($this->input->post("\x6b\157\x64\x65\x5f\x6b\x65\154\x61\x73", TRUE)), "\152\165\162\165\x73\141\156\137\151\144" => strip_tags($this->input->post("\x6a\x75\x72\x75\163\x61\156\137\x69\x64", TRUE)), "\151\x64\x5f\x74\160" => $id_tp, "\151\x64\x5f\x73\155\x74" => $id_smt, "\154\x65\x76\145\x6c\137\x69\144" => strip_tags($this->input->post("\154\x65\166\x65\x6c\137\x69\144", TRUE)), "\147\x75\x72\165\x5f\x69\144" => strip_tags($this->input->post("\147\x75\162\165\x5f\151\x64", TRUE)), "\163\x69\163\167\x61\137\151\144" => strip_tags($this->input->post("\x73\151\x73\167\x61\x5f\151\x64", TRUE)), "\152\165\155\154\x61\x68\x5f\163\x69\x73\x77\x61" => $jumlah); goto b8xEh; ZGohc: $idsiswa = isset($siswas[$i]) ? $siswas[$i] : null; goto f6pik; Ij44l: $siswakelas = []; goto iTRvv; a0hDa: if ($id != null && $id != '') { goto sauDi; } goto PRLlP; f6pik: $new_id_kelas = $id != null && $id != '' ? $id : $id_new; goto oqK_A; OKC_U: if (!$updated) { goto M5Jc3; } goto fM1ud; fM1ud: $insert = []; goto U6Rhs; WaSXY: $i++; goto DKmeB; RdiZV: $updated = false; goto P3RJt; vBPEX: $config = array(array("\146\x69\x65\154\144" => "\x6e\x61\155\x61\x5f\153\x65\154\x61\163", "\x6c\x61\x62\x65\x6c" => "\116\141\155\141\40\113\x65\154\141\163", "\x72\165\x6c\x65\163" => "\x74\x72\x69\155"), array("\x66\x69\x65\x6c\144" => "\x6b\x6f\x64\x65\137\153\x65\x6c\x61\163", "\154\x61\142\x65\x6c" => "\x4b\x6f\144\x65\40\x4b\x65\154\x61\x73", "\162\165\x6c\x65\163" => "\164\162\151\x6d"), array("\146\151\x65\154\x64" => "\x6a\x75\x72\165\163\141\156\137\151\144", "\x6c\x61\x62\x65\x6c" => "\x4a\165\x72\165\x73\141\156", "\x72\x75\154\145\163" => "\164\162\x69\155"), array("\x66\x69\x65\154\x64" => "\x6c\x65\x76\x65\x6c\x5f\x69\x64", "\154\141\x62\145\x6c" => "\114\145\166\x65\154", "\x72\x75\154\145\163" => "\x74\x72\x69\x6d"), array("\146\151\x65\x6c\144" => "\x67\x75\x72\x75\137\x69\144", "\154\x61\142\145\154" => "\107\x75\162\165", "\162\x75\154\x65\x73" => "\x74\162\x69\x6d"), array("\146\151\145\x6c\144" => "\x73\x69\x73\167\x61\137\151\144", "\x6c\x61\x62\x65\154" => "\123\151\163\167\141", "\162\165\x6c\145\x73" => "\x74\x72\x69\155")); goto Ij44l; W7i1e: goto CLxSE; goto yeLRd; P5ib4: eMoQC: goto bSyiK; kwa0m: if (!$status) { goto eMoQC; } goto B05tY; tlKoC: $status = FALSE; goto HqgvT; vP3CX: $data["\163\x74\141\164\x75\163"] = $status; goto BrmQK; QxUup: if (!($id_siswa != null)) { goto WjRee; } goto yFx6u; RP7Xt: yPdx5: goto RdiZV; LUf9S: $insert[$id_tp . $id_smt . $idsiswa]["\x69\144\x5f\x6b\x65\x6c\141\x73"] = $new_id_kelas; goto XLtjE; YD0em: $this->db->where("\x69\x64\137\x6b\145\x6c\x61\163", $id); goto n9S5r; U6Rhs: if (!($id != null && $id != '')) { goto XHObD; } goto LFfo1; MqqIW: if (!(count($siswa_kelas) > 0)) { goto zuTfd; } goto lC2nF; Bxu1r: $data["\151\156\163\145\x72\x74"] = $insert; goto D4iIp; B05tY: $this->db->set("\x69\144\137\153\145\154\x61\x73", $id); goto B7Zyo; FpRJp: hpYM9: goto CVq6Y; Em0hM: y3l2Y: goto DMda1; iTRvv: $i = 0; goto kW4jG; cxfz8: goto yPdx5; goto DKLqF; B7Zyo: $this->db->where("\151\x64\137\152\x61\142\141\164\141\x6e\x5f\x67\x75\162\165", $guru_id . $id_tp . $id_smt); goto HzOvc; L29qi: $insert[$id_tp . $id_smt . $idsiswa] = ["\x69\x64\x5f\153\x65\154\x61\163\137\163\151\x73\x77\141" => $id_tp . $id_smt . $idsiswa, "\x69\x64\137\x74\x70" => $id_tp, "\151\144\137\x73\x6d\164" => $id_smt, "\x69\x64\x5f\x6b\145\x6c\x61\x73" => $new_id_kelas, "\x69\144\137\163\x69\x73\x77\x61" => $idsiswa]; goto lTCzz; LydiU: $id_smt = $this->master->getSemesterActive()->id_smt; goto l9gbn; P3RJt: $siswa_inserted = 0; goto kwa0m; lC2nF: foreach ($siswa_kelas as $id_siswa => $sis) { $insert[$id_tp . $id_smt . $id_siswa] = ["\x69\x64\x5f\x6b\x65\x6c\x61\x73\137\163\x69\x73\167\141" => $id_tp . $id_smt . $id_siswa, "\151\x64\x5f\x74\x70" => $id_tp, "\151\144\x5f\x73\x6d\164" => $id_smt, "\151\144\x5f\153\145\154\141\x73" => 0, "\x69\x64\137\163\x69\163\x77\141" => $id_siswa]; IPfba: } goto sRniL; oNJaJ: $id = $this->input->post("\x69\144\137\x6b\x65\154\x61\x73", true); goto iZyoP; J6QJl: $id_siswa = isset($siswas[$i]) ? $siswas[$i] : null; goto QxUup; J3PbR: $status = FALSE; goto W7i1e; n9S5r: $status = $this->db->update("\x6d\x61\x73\164\145\x72\137\x6b\145\x6c\x61\x73", $insert); goto rikGu; nJUIX: } public function update_kelas($id) { goto caYWH; mc7Jq: if (!(count($siswakelas) > 0)) { goto uXBI3; } goto wG3ha; eOali: if (!($id_siswa != null)) { goto Ze0c1; } goto Df8U8; ZQ0PR: XsVR4: goto EDqXL; XzKTb: dIMdL: goto MDDYC; jfiZS: Ze0c1: goto YKP0A; caYWH: $id_tp = $this->master->getTahunActive()->id_tp; goto iD1Ur; rrPCu: if (!($i <= $rowsSelect)) { goto dIMdL; } goto CMOTe; Df8U8: $insert = ["\x69\144\x5f\153\x65\x6c\x61\x73\137\163\151\163\167\141" => $id_tp . $id_smt . $id_siswa, "\x69\144\137\x74\160" => $id_tp, "\151\x64\137\163\x6d\x74" => $id_smt, "\x69\144\x5f\153\145\x6c\141\x73" => $id, "\x69\144\x5f\163\151\x73\x77\x61" => $id_siswa]; goto oA_an; F7IVF: $rowsSelect = count($this->input->post("\163\x69\x73\x77\x61", true)); goto lIfMX; oZ8JS: Dc87p: goto rrPCu; CMOTe: $id_siswa = $this->input->post("\x73\x69\163\167\x61\x5b" . $i . "\135", true); goto eOali; oA_an: $this->db->replace("\153\x65\x6c\x61\x73\137\x73\x69\163\x77\x61", $insert); goto jfiZS; qnsye: goto Dc87p; goto XzKTb; iD1Ur: $id_smt = $this->master->getSemesterActive()->id_smt; goto ti3Cz; lIfMX: $i = 0; goto oZ8JS; EDqXL: uXBI3: goto F7IVF; wG3ha: foreach ($siswakelas as $id_siswa => $sis) { goto gaekO; VEgga: RZU2X: goto NfFS0; gaekO: $insert = ["\151\x64\x5f\x6b\x65\x6c\141\x73\x5f\x73\x69\163\167\141" => $id_tp . $id_smt . $id_siswa, "\151\x64\x5f\164\160" => $id_tp, "\151\144\137\163\155\x74" => $id_smt, "\151\144\x5f\x6b\145\154\x61\x73" => 0, "\151\144\137\163\x69\x73\x77\x61" => $id_siswa]; goto zfDci; zfDci: $this->db->replace("\153\145\x6c\x61\163\137\x73\151\163\x77\141", $insert); goto VEgga; NfFS0: } goto ZQ0PR; YKP0A: VtuEL: goto Gv3vh; Gv3vh: $i++; goto qnsye; MDDYC: return $siswakelas; goto MaJVY; ti3Cz: $siswakelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto mc7Jq; MaJVY: } public function manage() { goto ddxRJ; C6Ere: $this->load->view("\137\x74\x65\155\x70\154\x61\164\145\x73\x2f\x64\141\163\x68\142\157\x61\162\144\x2f\137\146\157\x6f\x74\x65\162"); goto uVHHl; aSyHe: $smt = $this->dashboard->getSemesterActive(); goto RmzXG; ubp34: $data["\x70\162\x6f\x66\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto TOUmc; TOUmc: $data["\x6b\145\154\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, "\61"); goto gYOpK; MaUbh: $data["\163\x6d\x74\x5f\x61\143\x74\151\x76\145"] = $smt; goto ubp34; gYOpK: $data["\x6b\x65\x6c\141\163\x32"] = $this->dropdown->getAllKelas($tp->id_tp, "\62"); goto xTR1P; ddxRJ: $user = $this->ion_auth->user()->row(); goto PcwfJ; PcwfJ: $data = ["\165\x73\145\162" => $user, "\152\165\x64\165\x6c" => "\x43\x6f\x70\x79\40\x4b\x65\154\141\163", "\x73\x75\142\152\165\144\165\154" => "\x43\157\x70\x79\x20\104\141\x74\x61\x20\113\145\154\x61\x73\40\x6b\x65\40\x53\115\124\40\111\111", "\163\x65\164\x74\151\x6e\147" => $this->dashboard->getSetting()]; goto LicxC; fI3GK: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto MaUbh; LicxC: $tp = $this->dashboard->getTahunActive(); goto aSyHe; xTR1P: $this->load->view("\x5f\164\x65\155\x70\154\141\164\x65\x73\x2f\144\x61\163\x68\142\x6f\x61\x72\144\57\137\150\x65\141\144\145\x72", $data); goto IZy15; RmzXG: $data["\164\x70"] = $this->dashboard->getTahun(); goto V_Fco; IZy15: $this->load->view("\155\141\x73\x74\145\x72\57\x6b\145\x6c\x61\163\x2f\160\145\162\163\145\155\145\x73\x74\x65\x72"); goto C6Ere; V_Fco: $data["\x74\x70\137\x61\143\x74\151\166\145"] = $tp; goto fI3GK; uVHHl: } public function getFromSmt1($kelas) { goto e1QdQ; o0bmD: $data2 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\x32"); goto n98lQ; iBlGk: if (!(count($data2) > 0)) { goto jX4nT; } goto olcbN; e1QdQ: $tp = $this->dashboard->getTahunActive(); goto nEtY_; ll6FO: jX4nT: goto I8omU; olcbN: foreach ($data2 as $s) { $ids[] = $s->id_siswa; EFV0c: } goto bVcvY; I8omU: $this->output_json(["\x73\155\164\61" => $data1, "\163\x6d\164\x32" => $ids]); goto zvHgu; nEtY_: $data1 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\61"); goto o0bmD; n98lQ: $ids = []; goto iBlGk; bVcvY: gxyxu: goto ll6FO; zvHgu: } public function copyFromSmt1() { goto rDuz3; G21D5: $idk = $this->db->insert_id(); goto rjEvc; u28PE: $kelas1 = $this->input->post("\x6b\145\x6c\141\x73\137\x6c\x61\x6d\141", true); goto fNPay; VmrKz: $this->db->insert("\155\x61\x73\164\x65\162\137\153\x65\x6c\141\163", $data); goto G21D5; Uj37t: $smt = $this->dashboard->getSemesterActive(); goto u28PE; sz91S: foreach ($arrSiswa as $value) { goto StgP7; eCteA: tUzyg: goto XSvDJ; LnWEu: $res[] = $this->db->replace("\153\x65\154\x61\x73\137\x73\151\163\x77\141", $insert); goto eCteA; Xe11R: if (!($id_siswa != null)) { goto tUzyg; } goto QQklj; StgP7: $id_siswa = $value["\151\x64"]; goto Xe11R; XSvDJ: FrXke: goto O4Iaq; QQklj: $insert = ["\151\144\137\x6b\145\154\x61\x73\137\x73\x69\x73\167\141" => $tp->id_tp . $smt->id_smt . $id_siswa, "\x69\x64\x5f\x74\x70" => $tp->id_tp, "\x69\144\137\x73\x6d\164" => $smt->id_smt, "\x69\144\x5f\153\x65\x6c\x61\x73" => $idk, "\x69\144\x5f\163\x69\163\x77\141" => $id_siswa]; goto LnWEu; O4Iaq: } goto sMq6b; NZ5K0: $data = array("\156\x61\x6d\141\137\153\145\x6c\141\163" => $kelas2, "\153\x6f\144\x65\137\x6b\x65\154\141\x73" => $kelas->kode_kelas, "\152\165\162\x75\x73\141\156\x5f\151\144" => $kelas->jurusan_id, "\151\144\137\x74\x70" => $tp->id_tp, "\151\144\137\163\x6d\164" => $smt->id_smt, "\x6c\x65\166\x65\154\x5f\x69\144" => $kelas->level_id, "\x67\x75\162\165\x5f\151\144" => $kelas->guru_id, "\x73\x69\163\x77\141\137\x69\144" => $kelas->siswa_id, "\152\165\155\x6c\141\x68\x5f\x73\151\x73\x77\x61" => $kelas->jumlah_siswa); goto VmrKz; rDuz3: $tp = $this->dashboard->getTahunActive(); goto Uj37t; Ghcd2: $kelas = $this->kelas->get_one($kelas1, $tp->id_tp, "\61"); goto NZ5K0; MZ3b6: $this->output_json($res); goto fuAsU; sMq6b: Mdtu_: goto MZ3b6; fNPay: $kelas2 = $this->input->post("\153\145\x6c\141\x73\x5f\x62\141\162\x75", true); goto Ghcd2; Kpoz3: $arrSiswa = unserialize($kelas->jumlah_siswa); goto sz91S; rjEvc: $res = []; goto Kpoz3; fuAsU: } public function copySiswaFromSmt1() { goto rjRzp; COm90: foreach ($posts as $d) { goto fMv6N; COCoF: $siswakelas[$d->id_kelas][] = ["\x69\144" => $d->id_siswa]; goto fvrth; fMv6N: $idkelases[] = $d->id_kelas; goto COCoF; fvrth: A3vce: goto KTVU8; KTVU8: } goto F0IK0; bncRV: $res = []; goto pIkrQ; Fy3RM: HK_EG: goto CkmY3; pIkrQ: foreach ($idkelases as $ik) { goto vEZkW; Oz2HH: $jumlah = serialize($siswakelas[$ik]); goto sgQsH; H6pOz: $this->db->insert("\155\141\x73\x74\x65\162\137\153\145\x6c\x61\163", $data); goto GA5Vj; vEZkW: if (!($ik != '')) { goto byHlc; } goto lv9ic; lv9ic: $kelas = $this->kelas->get_one($ik, $tp->id_tp, "\61"); goto Oz2HH; NueJZ: byHlc: goto fA5kt; fA5kt: WMbYC: goto N6NwI; I6d0J: r7H18: goto NueJZ; sgQsH: $data = array("\156\x61\155\x61\x5f\x6b\x65\154\141\x73" => $kelas->nama_kelas, "\x6b\x6f\144\x65\137\153\145\154\141\x73" => $kelas->kode_kelas, "\x6a\x75\162\x75\x73\x61\x6e\x5f\x69\x64" => $kelas->jurusan_id, "\151\144\x5f\164\160" => $tp->id_tp, "\151\144\x5f\x73\155\x74" => $smt->id_smt, "\x6c\145\x76\145\154\x5f\x69\x64" => $kelas->level_id, "\147\165\162\165\x5f\151\144" => $kelas->guru_id, "\163\151\x73\x77\141\137\151\x64" => $kelas->siswa_id, "\152\165\155\x6c\x61\x68\137\x73\x69\x73\167\141" => $jumlah); goto H6pOz; GA5Vj: $idk = $this->db->insert_id(); goto bwhQ8; bwhQ8: foreach ($siswakelas[$ik] as $s) { goto vgWaA; QWsaZ: mhwO0: goto G9q5P; BZJvr: $res[] = $this->db->replace("\153\x65\154\x61\163\x5f\x73\151\163\x77\x61", $insert); goto QWsaZ; vgWaA: $insert = ["\x69\144\x5f\153\x65\154\141\x73\137\163\151\x73\167\x61" => $tp->id_tp . $smt->id_smt . $s["\151\144"], "\151\144\137\164\x70" => $tp->id_tp, "\151\x64\137\163\x6d\164" => $smt->id_smt, "\x69\x64\137\153\145\154\141\163" => $idk, "\x69\144\x5f\x73\151\163\x77\x61" => $s["\151\x64"]]; goto BZJvr; G9q5P: } goto I6d0J; N6NwI: } goto Fy3RM; Dos14: $idkelases = []; goto zeXzq; zeXzq: $siswakelas = []; goto COm90; qTGn3: $smt = $this->dashboard->getSemesterActive(); goto PydJ4; PydJ4: $posts = json_decode($this->input->post("\153\x65\x6c\x61\x73", true)); goto Dos14; CkmY3: $this->output_json($res); goto qQeVk; E4fBd: $idkelases = array_unique($idkelases); goto bncRV; rjRzp: $tp = $this->dashboard->getTahunActive(); goto qTGn3; F0IK0: MbIps: goto E4fBd; qQeVk: } public function kenaikan() { goto eRB2s; s2JPi: $this->load->view("\x5f\x74\145\155\160\x6c\x61\x74\145\163\57\x64\x61\163\150\x62\x6f\141\162\144\57\137\150\x65\x61\x64\x65\162", $data); goto Yg8cV; x82p6: $data["\160\162\x6f\x66\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto oLbh2; bbz5W: $data["\x6b\x65\x6c\141\x73\137\x73\145\154\x65\143\164\145\144"] = $kelas; goto kgaHL; Yg8cV: $this->load->view("\x6d\141\163\164\145\x72\57\153\x65\x6c\141\163\x2f\156\141\151\153\x6b\x65\154\141\163"); goto PSPRM; kRgYW: $smt = $this->dashboard->getSemesterActive(); goto DR42z; F007R: $user = $this->ion_auth->user()->row(); goto ogVuD; ogVuD: $setting = $this->dashboard->getSetting(); goto QoZA6; kgaHL: $lvlKls = $this->kelas->get_one($kelas, $tp->id_tp - 1, "\62"); goto DFjo0; ws7T9: if (!($kelas != null)) { goto xM7RG; } goto SHWL2; DFjo0: $data["\153\145\x6c\x61\x73\145\x73"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\62", "\x3d" . ($lvlKls->level_id + 1)); goto GnDCG; PJf3i: $data["\164\x70\137\x61\x63\164\151\166\x65"] = $tp; goto eWOxc; eRB2s: $kelas = $this->input->get("\x6b\x65\154\x61\x73", true); goto F007R; eWOxc: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto WdAtF; PSPRM: $this->load->view("\x5f\164\145\155\160\x6c\141\x74\x65\x73\x2f\x64\x61\163\x68\142\x6f\x61\x72\x64\57\x5f\146\x6f\157\164\145\162"); goto qnUjy; oLbh2: $level = $setting->jenjang == "\61" ? "\x36" : ($setting->jenjang == "\x32" ? "\71" : ($setting->jenjang == "\61" ? "\x33" : "\61\x32")); goto XgQuL; obeoR: $tp = $this->dashboard->getTahunActive(); goto kRgYW; WdAtF: $data["\163\x6d\164\137\141\143\x74\x69\x76\145"] = $smt; goto x82p6; DR42z: $data["\x74\160"] = $this->dashboard->getTahun(); goto PJf3i; J9vcU: $data["\x73\151\x73\167\x61\163"] = $this->rapor->getKenaikanSiswa($kelas, $tp->id_tp - 1, "\62"); goto bbz5W; QoZA6: $data = ["\x75\163\x65\x72" => $user, "\x6a\165\144\165\154" => "\x4b\145\156\x61\151\x6b\153\141\x6e\40\x4b\145\x6c\x61\x73", "\x73\165\x62\152\165\x64\165\x6c" => "\x4e\x61\x69\153\x20\x4b\x65\x6c\x61\163\x20\x53\151\163\167\141", "\x73\145\x74\x74\x69\156\147" => $setting]; goto obeoR; SHWL2: $data["\x73\151\x73\167\141\x5f\x6b\145\x6c\x61\x73\137\x62\x61\162\x75"] = $this->master->getSiswaKelasBaru($tp->id_tp, $smt->id_smt); goto J9vcU; J3RnX: $data["\x6b\145\x6c\x61\x73\x5f\142\x61\162\165"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto ws7T9; GnDCG: xM7RG: goto s2JPi; XgQuL: $data["\x6b\x65\x6c\x61\x73\x5f\154\x61\155\x61"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\41\75" . $level); goto J3RnX; qnUjy: } public function naikKelas() { goto AWb6b; pAuIZ: Yux5a: goto okUkL; MVm74: $siswakelas = []; goto fh5pv; cM_gs: $res = []; goto CC3Ul; iCT9Q: $this->output_json($data); goto ftWOl; iS89r: foreach ($idkelases as $ik) { goto B8vIx; IGRbH: n5caq: goto TMgcL; Nrxan: if ($mode == "\160\x65\x72\x73\x69\163\x77\x61") { goto I2pLk; } goto wS9Bh; dRhvB: $this->db->insert("\x6d\141\x73\164\x65\x72\137\x6b\x65\x6c\141\163", $data); goto RvZRj; TOha7: goto GX0Pv; goto WwGdD; DXi85: GX0Pv: goto LIUx8; B8vIx: $kelas = $this->kelas->get_one($ik, $tp->id_tp - 1, "\x32"); goto l5Fod; QsRbn: array_push($idks, $kelas_baru->id_kelas); goto Gj1Ux; q_cpo: $jumlah = serialize($jmlLama); goto txLOp; l5Fod: $kelas_baru = $this->kelas->getKelasByNama($kelas->nama_kelas, $tp->id_tp, $smt->id_smt); goto hOSdy; vbvD7: $data = array("\156\x61\155\141\137\153\x65\154\x61\163" => $kelas->nama_kelas, "\153\x6f\144\x65\x5f\x6b\145\x6c\x61\x73" => $kelas->kode_kelas, "\x6a\165\x72\x75\x73\141\156\137\x69\144" => $kelas->jurusan_id, "\x69\144\137\x74\160" => $tp->id_tp, "\151\144\137\x73\x6d\164" => $smt->id_smt, "\x6c\x65\x76\x65\154\137\x69\x64" => $kelas->level_id, "\x67\165\x72\x75\137\x69\144" => $kelas->guru_id, "\163\151\x73\x77\141\137\151\x64" => $kelas->siswa_id, "\x6a\165\155\154\141\x68\137\x73\151\163\167\141" => $jumlah); goto V_2UQ; J50Yz: I2pLk: goto plXDK; WwGdD: hM3qq: goto rpOkL; LIUx8: foreach ($idks as $idk) { goto rIJi8; S0TD2: Y4c9_: goto FcplY; FcplY: ZwzyU: goto N3S0P; rIJi8: foreach ($siswakelas[$ik] as $s) { goto MsJbt; uB1zc: $res[] = $this->db->replace("\153\x65\x6c\x61\163\137\x73\151\163\167\x61", $insert); goto O4qxl; O4qxl: KjLDT: goto Asu2H; MsJbt: $insert = ["\x69\144\137\153\145\154\x61\x73\137\163\x69\163\167\141" => $tp->id_tp . $smt->id_smt . $s["\x69\x64"], "\151\144\x5f\x74\x70" => $tp->id_tp, "\151\144\x5f\x73\x6d\164" => $smt->id_smt, "\151\x64\x5f\153\x65\154\x61\x73" => $idk, "\151\144\x5f\163\x69\x73\167\x61" => $s["\151\144"]]; goto uB1zc; Asu2H: } goto S0TD2; N3S0P: } goto j6XiP; wS9Bh: $jumlah = serialize($siswakelas[$ik]); goto QsRbn; uIb6E: $this->db->update("\155\141\x73\164\x65\162\137\x6b\145\154\141\x73", $data); goto TOha7; txLOp: kUzAe: goto vbvD7; j6XiP: ncpu6: goto IGRbH; quZbA: tmpmE: goto q_cpo; IS5Aa: foreach ($siswakelas[$ik] as $s) { goto kP0a3; yQ4tt: QcVoa: goto EV8u8; kP0a3: foreach ($jmlLama as $lama) { goto toLDg; XXve9: Ql1jO: goto a2zqq; FyRUJ: array_push($jmlLama, ["\x69\x64" => $s["\151\x64"]]); goto H95ns; IrusH: IigPf: goto XXve9; toLDg: if (!($lama["\x69\x64"] != $s["\151\x64"])) { goto IigPf; } goto FyRUJ; H95ns: array_push($idks, $kelas_baru->id_kelas); goto IrusH; a2zqq: } goto wjlne; wjlne: FH6tp: goto yQ4tt; EV8u8: } goto quZbA; V_2UQ: $this->db->where("\151\x64\137\153\145\154\x61\x73", $kelas_baru->id_kelas); goto uIb6E; hOSdy: if ($kelas_baru == null) { goto hM3qq; } goto Nrxan; RvZRj: array_push($idks, $this->db->insert_id()); goto DXi85; rpOkL: $jumlah = serialize($siswakelas[$ik]); goto xuWA_; plXDK: $jmlLama = unserialize($kelas_baru->jumlah_siswa); goto IS5Aa; xuWA_: $data = array("\x6e\141\x6d\141\137\153\145\x6c\141\163" => $kelas->nama_kelas, "\153\x6f\x64\145\137\153\145\154\141\163" => $kelas->kode_kelas, "\x6a\x75\x72\165\163\141\156\x5f\151\x64" => $kelas->jurusan_id, "\x69\x64\137\164\x70" => $tp->id_tp, "\x69\144\x5f\163\x6d\164" => $smt->id_smt, "\x6c\145\166\x65\x6c\x5f\151\144" => $kelas->level_id, "\147\165\x72\165\137\x69\144" => $kelas->guru_id, "\163\151\163\x77\141\x5f\151\144" => $kelas->siswa_id, "\x6a\x75\x6d\154\141\x68\x5f\x73\151\x73\167\141" => $jumlah); goto dRhvB; Gj1Ux: goto kUzAe; goto J50Yz; TMgcL: } goto EBAnM; Y3VJb: $idkelases = []; goto MVm74; GtLjn: $mode = $this->input->post("\155\157\144\145", true); goto Y3VJb; AWb6b: $tp = $this->dashboard->getTahunActive(); goto I80Zl; CC3Ul: $idks = []; goto iS89r; Ksriw: $data["\x72\x65\163"] = $siswakelas; goto iCT9Q; EBAnM: o0Z8V: goto Ksriw; okUkL: $idkelases = array_unique($idkelases); goto cM_gs; I80Zl: $smt = $this->dashboard->getSemesterActive(); goto Nvp1v; Nvp1v: $posts = json_decode($this->input->post("\153\145\154\141\x73", true)); goto GtLjn; fh5pv: foreach ($posts as $d) { goto V2rH4; ekJXP: WTAuJ: goto EQaIE; V2rH4: $idkelases[] = $d->kelas_baru; goto GeVYU; GeVYU: $siswakelas[$d->kelas_baru][] = ["\x69\x64" => $d->id_siswa]; goto ekJXP; EQaIE: } goto pAuIZ; ftWOl: } public function hapus($id_kelas) { goto Y8a3X; u6Sdt: $this->output_json($delete); goto g7kr9; Y8a3X: $delete["\x73\151\x73\167\x61"] = $this->master->delete("\153\x65\154\141\x73\137\163\x69\x73\167\x61", $id_kelas, "\x69\144\x5f\x6b\x65\154\x61\x73"); goto cYn3K; cYn3K: $delete["\153\x65\x6c\141\x73"] = $this->master->delete("\x6d\141\x73\164\145\x72\x5f\x6b\x65\x6c\141\x73", $id_kelas, "\151\144\x5f\x6b\x65\x6c\x61\x73"); goto u6Sdt; g7kr9: } }
