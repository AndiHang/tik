<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\x41\123\x45\x50\101\x54\110") or exit("\x4e\x6f\x20\x64\x69\162\x65\143\x74\x20\163\x63\x72\x69\x70\164\x20\141\143\x63\x65\x73\163\x20\x61\x6c\x6c\x6f\x77\x65\x64"); class Datakelas extends CI_Controller { public function __construct() { goto dsts4; FJwXo: show_error("\x48\141\156\x79\141\x20\x41\144\155\x69\x6e\x69\x73\x74\x72\141\164\x6f\162\40\x79\141\x6e\x67\40\144\151\142\x65\x72\x69\x20\150\x61\153\40\165\x6e\164\x75\153\x20\x6d\145\x6e\147\141\153\163\x65\163\40\150\141\x6c\141\x6d\141\156\40\x69\x6e\x69\x2c\x20\74\x61\40\150\162\x65\x66\75\x22" . base_url("\x64\x61\x73\150\x62\x6f\x61\x72\x64") . "\42\x3e\113\145\x6d\142\141\154\x69\40\153\x65\x20\x6d\145\x6e\165\x20\141\167\141\x6c\x3c\57\x61\x3e", 403, "\101\153\x73\145\x73\40\124\x65\x72\154\141\x72\x61\x6e\x67"); goto pS6zt; Yh73G: Wthhs: goto sXNzn; RmnnA: $this->form_validation->set_error_delimiters('', ''); goto tf3LL; dOUuo: C2XUy: goto zueX0; PYQLF: if (!$this->ion_auth->logged_in()) { goto C2XUy; } goto xVY0f; nHeWs: $this->load->model("\115\x61\x73\x74\x65\x72\137\x6d\x6f\144\x65\x6c", "\155\x61\x73\x74\x65\162"); goto YgeXJ; RrNLs: goto Wthhs; goto dOUuo; YgeXJ: $this->load->model("\104\x72\157\x70\144\157\167\x6e\137\155\157\144\145\x6c", "\144\162\x6f\160\144\x6f\x77\x6e"); goto Q0Nv0; P_d52: $this->load->model("\104\x61\163\x68\x62\x6f\x61\162\x64\x5f\x6d\157\x64\145\154", "\144\141\163\150\x62\157\x61\x72\x64"); goto nHeWs; xVY0f: if ($this->ion_auth->is_admin()) { goto tyYNb; } goto FJwXo; fzGbd: $this->load->model("\x4b\145\154\141\x73\x5f\x6d\157\x64\x65\154", "\x6b\x65\154\x61\x73"); goto P_d52; zueX0: redirect("\x61\x75\x74\x68"); goto Yh73G; sXNzn: $this->load->library(["\x64\141\164\141\x74\141\142\x6c\x65\163", "\x66\157\x72\x6d\137\166\141\x6c\x69\x64\x61\164\x69\157\x6e"]); goto fzGbd; Q0Nv0: $this->load->model("\122\141\160\x6f\x72\137\155\x6f\144\145\154", "\162\141\160\157\x72"); goto RmnnA; dsts4: parent::__construct(); goto PYQLF; pS6zt: tyYNb: goto RrNLs; tf3LL: } public function output_json($data, $encode = true) { goto s2tDr; nAhop: eI8QU: goto fpKmo; fpKmo: $this->output->set_content_type("\141\x70\160\x6c\x69\x63\x61\x74\151\x6f\x6e\x2f\x6a\163\x6f\156")->set_output($data); goto Y67B3; s2tDr: if (!$encode) { goto eI8QU; } goto sPqoO; sPqoO: $data = json_encode($data); goto nAhop; Y67B3: } public function index() { goto wKcCx; CKEbu: $this->load->view("\137\164\x65\155\x70\154\x61\164\x65\x73\57\x64\141\x73\150\x62\157\141\162\144\57\137\150\x65\x61\144\x65\x72", $data); goto SbzuR; LkgQw: $data["\x73\151\x73\x77\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto CKEbu; n5_tk: $chek = $this->kelas->count_all(); goto xoAOJ; wKcCx: $user = $this->ion_auth->user()->row(); goto C1uka; GdBWH: if (!($chek > 0)) { goto u05_h; } goto LbSso; U0u7m: $tp = $this->dashboard->getTahunActive(); goto vb9SQ; xoAOJ: $kelas = []; goto k6onc; nSLN0: u05_h: goto YjygX; O5y2t: $data["\x67\165\162\x75"] = $this->kelas->get_guru(); goto LkgQw; rsLEk: $data["\164\160\x5f\x61\143\164\x69\166\x65"] = $tp; goto eLHga; yXXM1: $data = ["\x75\163\145\162" => $user, "\x6a\x75\144\165\154" => "\113\x65\x6c\x61\163", "\163\165\142\x6a\165\144\x75\x6c" => "\104\141\x74\x61\40\x4b\x65\154\x61\x73", "\163\x65\164\x74\x69\x6e\147" => $setting]; goto U0u7m; C1uka: $setting = $this->dashboard->getSetting(); goto yXXM1; eLHga: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto pv3mc; iR_DN: $data["\x70\162\157\146\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto n5_tk; LUnhs: $data["\154\145\x76\145\154"] = $this->kelas->getLevel($setting->jenjang); goto O5y2t; YjygX: $data["\153\145\x6c\x61\163"] = $kelas; goto Z12rW; PF4SA: $this->load->view("\137\x74\145\x6d\x70\154\x61\164\145\163\x2f\x64\x61\163\150\x62\157\x61\162\144\57\137\146\157\x6f\164\x65\162"); goto u3C6n; vb9SQ: $smt = $this->dashboard->getSemesterActive(); goto oR5Hm; ufHNv: $kelas_lama = $this->kelas->getKelasList($tp->id_tp - 1, "\62"); goto nSLN0; LbSso: $kelas = $this->kelas->getKelasList($tp->id_tp, $smt->id_smt); goto ufHNv; hOqsy: $data["\x6a\165\x72\x75\x73\141\156"] = $this->kelas->get_jurusan(); goto LUnhs; Z12rW: $data["\153\x65\154\141\x73\x5f\x6c\x61\155\141"] = $kelas_lama; goto hOqsy; oR5Hm: $data["\164\x70"] = $this->dashboard->getTahun(); goto rsLEk; pv3mc: $data["\163\x6d\164\x5f\141\x63\x74\151\x76\x65"] = $smt; goto iR_DN; k6onc: $kelas_lama = []; goto GdBWH; SbzuR: $this->load->view("\155\x61\163\164\145\162\x2f\153\x65\154\x61\163\x2f\144\141\x74\x61"); goto PF4SA; u3C6n: } public function detail($id) { goto JlOec; iGHXS: $data["\x73\x6d\164\137\x61\143\x74\x69\166\145"] = $smt; goto pQvNw; ItCod: $data["\164\160"] = $this->dashboard->getTahun(); goto aHY0z; y6jFk: $data["\163\164\x72\165\x6b\x74\165\x72"] = $struktur; goto P5jhJ; Hh_Nl: $smt = $this->dashboard->getSemesterActive(); goto ItCod; hP93O: $data["\x73\x69\163\x77\x61\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto ZPL2E; sdJMJ: $data = ["\165\163\x65\162" => $user, "\152\165\144\165\x6c" => "\x44\145\x74\141\x69\x6c\40\113\x65\154\x61\x73", "\163\x75\142\x6a\165\144\x75\x6c" => "\x44\145\164\x61\151\x6c\x20\x4b\145\x6c\141\163", "\x73\145\x74\164\151\x6e\x67" => $setting]; goto rRlW3; aHY0z: $data["\164\x70\137\141\x63\164\x69\x76\x65"] = $tp; goto gP3z1; FCEqU: $this->load->view("\137\x74\145\x6d\160\x6c\141\164\145\x73\x2f\x64\x61\x73\x68\142\157\x61\x72\x64\57\x5f\x68\x65\141\144\x65\x72", $data); goto qcp1B; b7sGx: $data["\154\145\166\145\x6c"] = $this->kelas->getLevel($setting->jenjang); goto ZW9b5; VnGH4: $data["\163\164\x72\x75\x6b\164\x75\162"] = json_decode(json_encode($this->kelas->dummyStruktur())); goto EJPKA; P5jhJ: goto nkPl3; goto aPyZc; EJPKA: nkPl3: goto FCEqU; GUga0: $data["\x6a\x75\x72\x75\163\141\156"] = $this->kelas->get_jurusan(); goto b7sGx; KkKig: if ($struktur == null) { goto etLo3; } goto y6jFk; gP3z1: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto iGHXS; qcp1B: $this->load->view("\155\x61\x73\164\145\162\x2f\x6b\x65\154\141\163\57\x64\x65\x74\141\x69\154"); goto xfr9D; pQvNw: $data["\160\x72\157\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto etEz3; KW8oy: $setting = $this->dashboard->getSetting(); goto sdJMJ; ZPL2E: $struktur = $this->kelas->getStrukturKelas($id); goto KkKig; etEz3: $data["\x6b\x65\x6c\x61\163"] = $this->kelas->get_one($id); goto GUga0; aPyZc: etLo3: goto VnGH4; ZW9b5: $data["\147\165\x72\165"] = $this->kelas->get_guru(); goto hP93O; rRlW3: $tp = $this->dashboard->getTahunActive(); goto Hh_Nl; xfr9D: $this->load->view("\x5f\164\145\x6d\160\154\x61\x74\x65\163\57\144\x61\163\150\142\x6f\141\162\x64\x2f\137\x66\x6f\157\x74\145\x72"); goto cvtm6; JlOec: $user = $this->ion_auth->user()->row(); goto KW8oy; cvtm6: } public function add() { goto y_bgD; jTjHt: $this->load->view("\137\164\x65\155\x70\x6c\x61\164\145\x73\57\x64\x61\163\x68\142\x6f\141\162\144\57\137\150\x65\141\x64\x65\162", $data); goto f37AN; JswM2: $data["\x6b\x65\154\141\163"] = json_decode(json_encode($this->kelas->dummy())); goto tDhXy; y_bgD: $user = $this->ion_auth->user()->row(); goto b5w8f; Uueis: $data["\x73\151\x73\x77\x61"] = $siswa; goto pRfW1; tDhXy: $data["\152\165\x72\165\x73\x61\156"] = $this->kelas->get_jurusan(); goto M07CS; kR8_6: $data["\x73\155\x74\137\x61\x63\x74\151\166\145"] = $smt; goto VA8Vs; nDdzI: $data["\164\x70"] = $this->dashboard->getTahun(); goto WOOTN; M07CS: $data["\x6c\x65\166\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto SjVT7; pRfW1: $data["\x73\x69\x73\x77\141\153\x65\154\141\x73"] = array(); goto jTjHt; pxSV8: $tp = $this->dashboard->getTahunActive(); goto PE1QI; WOOTN: $data["\x74\160\x5f\x61\x63\164\151\x76\x65"] = $tp; goto VECn0; VA8Vs: $data["\x70\x72\157\x66\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto JswM2; VECn0: $data["\163\155\164"] = $this->dashboard->getSemester(); goto kR8_6; f37AN: $this->load->view("\155\x61\x73\x74\x65\x72\x2f\153\x65\154\x61\x73\x2f\x61\x64\144"); goto VhfZQ; SjVT7: $data["\147\165\x72\x75"] = $this->kelas->get_guru(); goto Pl1dh; b5w8f: $setting = $this->dashboard->getSetting(); goto C3AAj; VhfZQ: $this->load->view("\137\x74\145\155\x70\x6c\x61\x74\x65\163\57\144\x61\x73\x68\x62\x6f\x61\x72\x64\x2f\x5f\x66\157\x6f\x74\x65\x72"); goto CUFQ0; PE1QI: $smt = $this->dashboard->getSemesterActive(); goto nDdzI; C3AAj: $data = ["\x75\x73\x65\162" => $user, "\x6a\165\x64\x75\154" => "\113\x65\x6c\141\163", "\x73\165\142\x6a\x75\x64\165\154" => "\x54\x61\155\x62\x61\150\40\x4b\145\x6c\x61\163", "\163\x65\164\x74\x69\x6e\147" => $setting]; goto pxSV8; Pl1dh: $siswa = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto Uueis; CUFQ0: } public function edit($id = '') { goto GC2kQ; uUDx7: $setting = $this->dashboard->getSetting(); goto h36UE; gx6zG: $this->load->view("\155\141\163\164\145\x72\57\x6b\x65\x6c\141\x73\x2f\141\144\144"); goto zphO2; h36UE: $data = ["\165\163\x65\x72" => $user, "\x6a\165\x64\165\x6c" => "\x4b\145\x6c\x61\x73", "\163\x75\142\x6a\165\144\x75\154" => "\x45\144\151\x74\40\x4b\x65\x6c\x61\163", "\x73\x65\164\164\151\x6e\147" => $setting]; goto uUYWG; BeKhp: $data["\164\160\137\141\x63\x74\x69\166\x65"] = $tp; goto O18r1; cLEch: $data["\151\144\137\x6b\x65\154\x61\x73"] = $id; goto JmBE1; uUYWG: $tp = $this->dashboard->getTahunActive(); goto LkpWW; XxLSp: $data["\x6c\x65\166\x65\x6c"] = $this->kelas->getLevel($setting->jenjang); goto yffPZ; LkpWW: $smt = $this->dashboard->getSemesterActive(); goto ZZsDV; yffPZ: $data["\x67\165\x72\x75"] = $this->kelas->getWaliKelas($tp->id_tp, $smt->id_smt); goto zymWt; YH4Us: $data["\163\155\x74\137\141\x63\x74\x69\x76\145"] = $smt; goto W54SU; DIwX0: $data["\152\x75\x72\165\x73\141\156"] = $this->kelas->get_jurusan(); goto XxLSp; O18r1: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto YH4Us; ZZsDV: $data["\x74\x70"] = $this->dashboard->getTahun(); goto BeKhp; k6m4o: $data["\x73\x69\x73\x77\x61\x6b\145\154\x61\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto tAqMv; zymWt: $data["\163\151\163\x77\141"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto k6m4o; GC2kQ: $user = $this->ion_auth->user()->row(); goto uUDx7; W54SU: $data["\160\162\157\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto cLEch; tAqMv: $this->load->view("\x5f\164\145\x6d\x70\154\x61\164\145\x73\57\x64\x61\x73\x68\x62\x6f\x61\x72\144\x2f\x5f\150\145\141\144\x65\162", $data); goto gx6zG; JmBE1: $data["\x6b\145\154\141\x73"] = $this->kelas->get_one($id); goto DIwX0; zphO2: $this->load->view("\x5f\x74\x65\155\160\154\x61\164\x65\x73\57\x64\141\x73\150\142\157\141\x72\144\x2f\x5f\146\157\157\164\145\162"); goto TsZ0m; TsZ0m: } public function save() { goto ZhhQR; svBnC: $data["\165\160\144\141\x74\x65"] = $updated; goto u9Jg7; RQLhr: soEMN: goto tmIbJ; kLvFW: if (!($idsiswa != null)) { goto UGE4h; } goto a5mui; Hm7dF: if (!$status) { goto imuvu; } goto s9KYS; l_iRD: SX1qr: goto JSUhl; dLqZj: $config = array(array("\146\151\145\x6c\144" => "\156\x61\155\141\x5f\153\x65\154\x61\163", "\154\141\142\145\x6c" => "\116\141\x6d\x61\40\113\x65\154\141\x73", "\x72\165\x6c\x65\163" => "\x74\x72\151\x6d"), array("\x66\151\145\154\x64" => "\x6b\x6f\x64\145\x5f\x6b\x65\154\x61\x73", "\154\141\x62\145\x6c" => "\x4b\157\144\x65\40\113\145\x6c\141\x73", "\162\165\154\145\x73" => "\164\x72\x69\x6d"), array("\146\151\x65\x6c\x64" => "\x6a\x75\162\x75\163\141\156\x5f\x69\144", "\154\141\x62\145\x6c" => "\x4a\x75\162\x75\x73\x61\x6e", "\162\165\x6c\x65\163" => "\x74\x72\x69\x6d"), array("\x66\151\x65\x6c\144" => "\x6c\x65\166\145\154\x5f\151\144", "\x6c\x61\x62\145\x6c" => "\114\x65\166\x65\x6c", "\x72\x75\154\145\x73" => "\x74\x72\x69\155"), array("\x66\151\145\x6c\x64" => "\x67\165\162\165\x5f\151\144", "\x6c\x61\x62\145\x6c" => "\x47\165\x72\x75", "\x72\165\x6c\x65\x73" => "\164\162\151\155"), array("\146\151\145\x6c\144" => "\x73\151\x73\167\141\x5f\x69\x64", "\154\x61\142\x65\154" => "\x53\x69\163\167\x61", "\162\x75\154\x65\x73" => "\x74\x72\x69\x6d")); goto tK2Jn; DMhKW: XAxeR: goto DcucC; uVsT7: $this->db->where("\151\x64\x5f\153\145\x6c\x61\x73", $id); goto PTegn; o3Mez: if ($id != null && $id != '') { goto TVFuo; } goto r2WlX; qto0e: HYalB: goto mvMi7; mvMi7: $status = $this->db->insert("\x6d\x61\x73\x74\x65\x72\137\x6b\x65\x6c\x61\x73", $insert); goto f9A8x; Ad6QL: goto PH1Me; goto qto0e; f9A8x: $id_new = $this->db->insert_id(); goto VvUv7; PubKB: if ($this->form_validation->run() == TRUE) { goto HYalB; } goto ct_MA; Iiwie: dP7Q3: goto Wf1_U; DcucC: $i++; goto QbHcd; v2vRx: oG_YK: goto DMhKW; jmEhK: cZMRz: goto rnvrC; xRvtt: array_push($siswakelas, ["\x69\144" => $id_siswa]); goto v2vRx; uOuYQ: vGeJ0: goto AIOtw; mKXLF: $id_tp = $this->master->getTahunActive()->id_tp; goto b3bMn; R0WKD: $insert[$id_tp . $id_smt . $idsiswa] = ["\151\144\137\153\x65\154\x61\163\137\163\151\163\167\x61" => $id_tp . $id_smt . $idsiswa, "\x69\144\137\x74\160" => $id_tp, "\x69\144\137\x73\x6d\x74" => $id_smt, "\x69\x64\x5f\153\x65\x6c\141\163" => $new_id_kelas, "\151\x64\137\163\x69\x73\x77\x61" => $idsiswa]; goto hMw8T; ZWoIJ: $siswas = $this->input->post("\x73\x69\163\167\x61", true); goto dLqZj; QnvwR: $this->output_json($data); goto K3n8T; LvyAn: $this->form_validation->set_rules($config); goto n4YZX; Vu5MR: $data["\151\x6e\163\145\162\164"] = $insert; goto Lq2Be; L6SXy: $new_id_kelas = $id != null && $id != '' ? $id : $id_new; goto kLvFW; fAYg6: $guru_id = strip_tags($this->input->post("\x67\x75\x72\165\x5f\x69\x64", TRUE)); goto mKXLF; Lq2Be: VKRg3: goto WVY1z; JSUhl: if (!($i <= count($siswas))) { goto dP7Q3; } goto iWSgw; AIOtw: $insert[$id_tp . $id_smt . $idsiswa]["\x69\144\x5f\153\145\154\141\163"] = $new_id_kelas; goto RQLhr; iWSgw: $id_siswa = isset($siswas[$i]) ? $siswas[$i] : null; goto TC__V; iCCE1: $siswa_inserted = 0; goto Hm7dF; UqscO: f1C88: goto u0Ge5; ovHhv: foreach ($insert as $ins) { goto xlAP3; xlAP3: if (!$this->db->replace("\x6b\145\x6c\141\163\x5f\x73\x69\x73\x77\141", $ins)) { goto mSRJ0; } goto xRbZi; S13uN: VZR8k: goto dRzTT; dXiTc: mSRJ0: goto S13uN; xRbZi: $siswa_inserted++; goto dXiTc; dRzTT: } goto JX8wf; FtJws: if (!(count($siswa_kelas) > 0)) { goto I1hTH; } goto S0D4o; a0I2m: $this->db->where("\151\x64\137\152\x61\142\141\x74\x61\156\x5f\x67\165\x72\x75", $guru_id . $id_tp . $id_smt); goto WaFwo; kjLKR: $data["\x73\151\163\x77\x61"] = $siswa_inserted; goto svBnC; tmIbJ: UGE4h: goto mWNpq; TC__V: if (!($id_siswa != null)) { goto oG_YK; } goto xRvtt; n4YZX: if ($this->form_validation->run() == TRUE) { goto U6oh3; } goto fgMbi; ObrmN: $i = 0; goto l_iRD; WaFwo: $updated = $this->db->update("\x6a\141\142\x61\164\x61\x6e\137\x67\165\x72\165"); goto EUbFq; qJkBk: $id_new = null; goto o3Mez; u9Jg7: $data["\163\164\141\164\x75\163"] = $status; goto QnvwR; tK2Jn: $siswakelas = []; goto ObrmN; rnvrC: I1hTH: goto P9CLR; vzMwl: $insert = array("\x6e\141\x6d\x61\137\153\x65\154\x61\163" => strip_tags($this->input->post("\x6e\141\155\141\x5f\x6b\x65\154\141\163", TRUE)), "\153\157\144\x65\137\153\x65\154\x61\x73" => strip_tags($this->input->post("\x6b\x6f\x64\x65\137\153\145\154\x61\x73", TRUE)), "\152\x75\x72\165\x73\x61\x6e\x5f\151\144" => strip_tags($this->input->post("\x6a\x75\x72\165\163\x61\x6e\137\x69\144", TRUE)), "\151\x64\x5f\x74\160" => $id_tp, "\x69\144\x5f\x73\155\164" => $id_smt, "\154\145\x76\x65\x6c\x5f\151\x64" => strip_tags($this->input->post("\154\145\x76\145\154\x5f\x69\144", TRUE)), "\147\x75\x72\x75\137\x69\x64" => strip_tags($this->input->post("\x67\x75\x72\x75\137\x69\144", TRUE)), "\x73\151\163\167\141\x5f\151\144" => strip_tags($this->input->post("\x73\151\x73\167\x61\137\x69\144", TRUE)), "\x6a\x75\155\154\141\150\137\x73\x69\x73\x77\141" => $jumlah); goto qJkBk; hA2kC: $updated = false; goto iCCE1; WVY1z: imuvu: goto kjLKR; a5mui: if (isset($insert[$id_tp . $id_smt . $idsiswa])) { goto vGeJ0; } goto R0WKD; JX8wf: dwUmO: goto Vu5MR; QbHcd: goto SX1qr; goto Iiwie; VvUv7: PH1Me: goto H6Pj8; EUbFq: if (!$updated) { goto VKRg3; } goto aC2Tt; tWqgb: $i = 0; goto gGlKo; u0Ge5: AUQq8: goto hA2kC; d8vxI: gljqb: goto ovHhv; fgMbi: $status = FALSE; goto KB_tb; P9CLR: B2Pw0: goto tWqgb; BkYQt: $siswa_kelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto FtJws; ryZOr: U6oh3: goto uVsT7; mWNpq: qfhuw: goto FF8Bl; hMw8T: goto soEMN; goto uOuYQ; Cym0H: if (!($id != null && $id != '')) { goto B2Pw0; } goto BkYQt; PTegn: $status = $this->db->update("\155\141\x73\164\x65\x72\137\153\x65\x6c\x61\x73", $insert); goto UqscO; ZhhQR: $id = $this->input->post("\x69\x64\x5f\153\x65\154\141\163", true); goto fAYg6; H6Pj8: goto AUQq8; goto Zz1ii; r2WlX: $this->form_validation->set_rules($config); goto PubKB; S0D4o: foreach ($siswa_kelas as $id_siswa => $sis) { $insert[$id_tp . $id_smt . $id_siswa] = ["\151\x64\x5f\153\145\154\x61\163\137\163\x69\x73\x77\141" => $id_tp . $id_smt . $id_siswa, "\151\x64\137\x74\160" => $id_tp, "\151\144\137\163\x6d\x74" => $id_smt, "\x69\144\x5f\153\x65\x6c\x61\163" => 0, "\151\144\x5f\163\151\163\167\141" => $id_siswa]; tkO86: } goto jmEhK; Zz1ii: TVFuo: goto LvyAn; Wf1_U: $jumlah = serialize($siswakelas); goto vzMwl; FF8Bl: $i++; goto aPxbu; bH4xn: $idsiswa = isset($siswas[$i]) ? $siswas[$i] : null; goto L6SXy; gGlKo: EMiPk: goto lDYdB; aPxbu: goto EMiPk; goto d8vxI; lDYdB: if (!($i <= count($siswas))) { goto gljqb; } goto bH4xn; aC2Tt: $insert = []; goto Cym0H; ct_MA: $status = FALSE; goto Ad6QL; KB_tb: goto f1C88; goto ryZOr; b3bMn: $id_smt = $this->master->getSemesterActive()->id_smt; goto ZWoIJ; s9KYS: $this->db->set("\x69\x64\x5f\x6b\145\154\141\163", $id); goto a0I2m; K3n8T: } public function update_kelas($id) { goto Bnqbg; xu9dI: goto MP0KH; goto ny7jq; dhOKi: $id_smt = $this->master->getSemesterActive()->id_smt; goto ZeecL; gz8u_: return $siswakelas; goto sxe67; LZqD0: $rowsSelect = count($this->input->post("\163\151\163\x77\x61", true)); goto orhPl; BmbIN: $insert = ["\151\144\x5f\x6b\145\x6c\141\163\137\x73\x69\x73\167\141" => $id_tp . $id_smt . $id_siswa, "\151\144\137\x74\x70" => $id_tp, "\x69\x64\x5f\163\155\x74" => $id_smt, "\151\x64\137\153\x65\x6c\x61\163" => $id, "\x69\x64\137\x73\x69\x73\167\x61" => $id_siswa]; goto BslH1; orhPl: $i = 0; goto PwBI0; Af0Wu: bv6ic: goto DwbLA; Bnqbg: $id_tp = $this->master->getTahunActive()->id_tp; goto dhOKi; R052s: RUwqf: goto Kq8gF; rATRD: $id_siswa = $this->input->post("\163\x69\163\167\x61\133" . $i . "\x5d", true); goto cW1Xf; BslH1: $this->db->replace("\x6b\x65\x6c\x61\x73\137\x73\x69\x73\167\x61", $insert); goto R052s; DwbLA: liDVL: goto LZqD0; K5psv: if (!($i <= $rowsSelect)) { goto J89f9; } goto rATRD; yFdgh: if (!(count($siswakelas) > 0)) { goto liDVL; } goto M8xFD; ny7jq: J89f9: goto gz8u_; PwBI0: MP0KH: goto K5psv; M8xFD: foreach ($siswakelas as $id_siswa => $sis) { goto nK_cE; nK_cE: $insert = ["\x69\x64\137\x6b\x65\x6c\141\163\137\x73\x69\163\167\141" => $id_tp . $id_smt . $id_siswa, "\x69\x64\137\x74\160" => $id_tp, "\151\144\137\163\x6d\x74" => $id_smt, "\151\x64\x5f\153\145\x6c\141\163" => 0, "\151\144\137\163\x69\x73\167\x61" => $id_siswa]; goto dkC9N; dkC9N: $this->db->replace("\153\x65\x6c\141\x73\137\x73\x69\x73\x77\x61", $insert); goto NQmuG; NQmuG: LJroh: goto PePaX; PePaX: } goto Af0Wu; ZeecL: $siswakelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto yFdgh; vekEh: $i++; goto xu9dI; Kq8gF: i0ZK4: goto vekEh; cW1Xf: if (!($id_siswa != null)) { goto RUwqf; } goto BmbIN; sxe67: } public function manage() { goto dAbJf; dAbJf: $user = $this->ion_auth->user()->row(); goto BOzqy; jNdAf: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto aOJum; aOJum: $data["\x73\155\x74\x5f\141\x63\x74\151\x76\x65"] = $smt; goto JoM3U; R6abN: $data["\x6b\145\154\141\163\x32"] = $this->dropdown->getAllKelas($tp->id_tp, "\62"); goto IBwQN; BOzqy: $data = ["\x75\163\x65\162" => $user, "\x6a\165\144\165\154" => "\103\157\160\171\40\x4b\x65\154\141\x73", "\x73\x75\142\x6a\x75\144\165\154" => "\103\157\160\x79\x20\x44\141\164\x61\40\113\145\x6c\141\x73\x20\153\145\40\123\x4d\x54\x20\x49\x49", "\163\145\x74\x74\x69\156\x67" => $this->dashboard->getSetting()]; goto FGdre; X88Qn: $data["\x74\x70\x5f\x61\x63\164\x69\166\145"] = $tp; goto jNdAf; VIP_q: $smt = $this->dashboard->getSemesterActive(); goto s6ghm; IBwQN: $this->load->view("\x5f\x74\x65\155\160\x6c\141\164\x65\163\x2f\144\141\163\x68\142\157\x61\x72\144\x2f\137\150\x65\x61\144\x65\162", $data); goto Tisd6; JoM3U: $data["\160\162\x6f\146\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto coEGy; Tisd6: $this->load->view("\155\141\163\x74\145\162\x2f\153\x65\x6c\x61\x73\57\x70\145\162\163\x65\x6d\x65\x73\164\145\162"); goto x9Mfo; x9Mfo: $this->load->view("\137\164\145\x6d\x70\154\x61\x74\x65\x73\57\144\141\163\x68\x62\x6f\x61\x72\144\x2f\137\x66\157\x6f\x74\145\x72"); goto hcbrl; coEGy: $data["\x6b\x65\x6c\141\x73"] = $this->dropdown->getAllKelas($tp->id_tp, "\61"); goto R6abN; s6ghm: $data["\164\160"] = $this->dashboard->getTahun(); goto X88Qn; FGdre: $tp = $this->dashboard->getTahunActive(); goto VIP_q; hcbrl: } public function getFromSmt1($kelas) { goto ulRW0; jU4jb: if (!(count($data2) > 0)) { goto mMT1N; } goto T9E9o; W7Dr_: $ids = []; goto jU4jb; T9E9o: foreach ($data2 as $s) { $ids[] = $s->id_siswa; w85MX: } goto Zm3Nn; glfOD: $data2 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\62"); goto W7Dr_; ulRW0: $tp = $this->dashboard->getTahunActive(); goto y6eVT; WkJKt: mMT1N: goto T57ky; T57ky: $this->output_json(["\163\x6d\164\61" => $data1, "\x73\155\164\x32" => $ids]); goto fOrdq; y6eVT: $data1 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\61"); goto glfOD; Zm3Nn: hQoZn: goto WkJKt; fOrdq: } public function copyFromSmt1() { goto HMQGs; TBvn5: $arrSiswa = unserialize($kelas->jumlah_siswa); goto D2yRo; hACNP: $this->output_json($res); goto cs31R; DIYud: $kelas = $this->kelas->get_one($kelas1, $tp->id_tp, "\61"); goto G7Q3b; kvlwW: $idk = $this->db->insert_id(); goto a7qQl; D2yRo: foreach ($arrSiswa as $value) { goto jACGx; FoknW: if (!($id_siswa != null)) { goto f9qw1; } goto dhNLU; hD5A6: f9qw1: goto IIJoN; dhNLU: $insert = ["\x69\144\137\x6b\x65\x6c\141\x73\137\x73\x69\163\x77\x61" => $tp->id_tp . $smt->id_smt . $id_siswa, "\x69\x64\137\x74\x70" => $tp->id_tp, "\x69\x64\x5f\163\x6d\164" => $smt->id_smt, "\151\x64\137\153\145\154\141\x73" => $idk, "\151\144\x5f\x73\x69\163\x77\141" => $id_siswa]; goto tOTVr; IIJoN: kZNoZ: goto YGHSH; jACGx: $id_siswa = $value["\151\144"]; goto FoknW; tOTVr: $res[] = $this->db->replace("\153\145\x6c\x61\x73\137\x73\x69\x73\167\x61", $insert); goto hD5A6; YGHSH: } goto r5UhS; r5UhS: UHM27: goto hACNP; HMQGs: $tp = $this->dashboard->getTahunActive(); goto N812o; mOXQC: $this->db->insert("\x6d\141\x73\164\x65\x72\137\x6b\x65\x6c\x61\163", $data); goto kvlwW; a7qQl: $res = []; goto TBvn5; N812o: $smt = $this->dashboard->getSemesterActive(); goto s1L15; DBogG: $kelas2 = $this->input->post("\153\x65\154\x61\x73\x5f\x62\x61\162\x75", true); goto DIYud; G7Q3b: $data = array("\x6e\141\155\141\137\x6b\x65\x6c\x61\163" => $kelas2, "\153\x6f\144\x65\137\x6b\x65\x6c\x61\x73" => $kelas->kode_kelas, "\152\165\x72\165\163\141\156\137\151\144" => $kelas->jurusan_id, "\151\144\x5f\164\160" => $tp->id_tp, "\x69\144\137\x73\x6d\164" => $smt->id_smt, "\x6c\x65\166\145\x6c\137\151\x64" => $kelas->level_id, "\147\x75\162\165\137\x69\144" => $kelas->guru_id, "\x73\x69\163\167\141\x5f\151\x64" => $kelas->siswa_id, "\x6a\x75\155\x6c\x61\150\x5f\x73\151\x73\167\141" => $kelas->jumlah_siswa); goto mOXQC; s1L15: $kelas1 = $this->input->post("\x6b\x65\x6c\141\x73\x5f\x6c\141\x6d\x61", true); goto DBogG; cs31R: } public function copySiswaFromSmt1() { goto yEzl8; JQYqd: $idkelases = array_unique($idkelases); goto WzPtI; n48dr: rObQx: goto JQYqd; S7HpL: $posts = json_decode($this->input->post("\153\145\154\141\163", true)); goto E8Z01; IfcK_: foreach ($posts as $d) { goto Lgcbq; XW_PE: $siswakelas[$d->id_kelas][] = ["\x69\144" => $d->id_siswa]; goto zZdRr; Lgcbq: $idkelases[] = $d->id_kelas; goto XW_PE; zZdRr: Azewh: goto q1PC0; q1PC0: } goto n48dr; WzPtI: $res = []; goto jdhOH; jdhOH: foreach ($idkelases as $ik) { goto ya8wM; J2Tlx: foreach ($siswakelas[$ik] as $s) { goto dfUGS; vtezj: V7bA2: goto cFFRZ; lPm1g: $res[] = $this->db->replace("\153\145\154\141\163\x5f\x73\151\x73\167\x61", $insert); goto vtezj; dfUGS: $insert = ["\x69\144\x5f\153\x65\x6c\x61\163\137\163\x69\163\x77\x61" => $tp->id_tp . $smt->id_smt . $s["\x69\144"], "\151\144\x5f\164\x70" => $tp->id_tp, "\x69\x64\x5f\x73\155\x74" => $smt->id_smt, "\151\144\137\153\x65\x6c\141\x73" => $idk, "\x69\x64\137\x73\151\163\167\x61" => $s["\x69\144"]]; goto lPm1g; cFFRZ: } goto P9Nui; ya8wM: if (!($ik != '')) { goto AbN12; } goto cwFgO; nxT0Y: $data = array("\156\141\155\x61\137\153\x65\x6c\141\x73" => $kelas->nama_kelas, "\153\157\x64\x65\137\x6b\x65\x6c\141\163" => $kelas->kode_kelas, "\x6a\165\x72\x75\163\x61\x6e\x5f\151\144" => $kelas->jurusan_id, "\151\x64\137\164\160" => $tp->id_tp, "\x69\x64\137\x73\x6d\164" => $smt->id_smt, "\x6c\x65\166\x65\154\137\x69\x64" => $kelas->level_id, "\x67\x75\162\165\137\x69\144" => $kelas->guru_id, "\163\151\x73\x77\141\x5f\151\x64" => $kelas->siswa_id, "\x6a\165\x6d\154\x61\x68\137\x73\151\163\167\141" => $jumlah); goto QlHum; jjrIQ: $jumlah = serialize($siswakelas[$ik]); goto nxT0Y; ddiAf: AbN12: goto kf0Us; QlHum: $this->db->insert("\x6d\141\x73\x74\145\162\x5f\153\145\154\x61\163", $data); goto vSNmf; cwFgO: $kelas = $this->kelas->get_one($ik, $tp->id_tp, "\x31"); goto jjrIQ; vSNmf: $idk = $this->db->insert_id(); goto J2Tlx; kf0Us: Y4ZXs: goto W2Dpf; P9Nui: rOiUu: goto ddiAf; W2Dpf: } goto HJV9b; zLKsQ: $siswakelas = []; goto IfcK_; MvxaI: $smt = $this->dashboard->getSemesterActive(); goto S7HpL; yEzl8: $tp = $this->dashboard->getTahunActive(); goto MvxaI; kOaKu: $this->output_json($res); goto DqH1T; E8Z01: $idkelases = []; goto zLKsQ; HJV9b: u3W4X: goto kOaKu; DqH1T: } public function kenaikan() { goto rnBvD; w0izt: $this->load->view("\x5f\x74\145\155\160\154\141\164\145\x73\57\144\x61\x73\150\x62\157\x61\x72\144\57\137\146\x6f\157\164\145\x72"); goto VUXO7; rcGCx: $data["\163\x6d\164\x5f\x61\x63\164\x69\166\x65"] = $smt; goto T_OTn; T_OTn: $data["\160\x72\157\x66\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto QgfdX; hNovO: $data["\x73\x69\163\x77\x61\x5f\x6b\x65\x6c\141\163\137\142\x61\162\x75"] = $this->master->getSiswaKelasBaru($tp->id_tp, $smt->id_smt); goto zewKG; QuOyj: if (!($kelas != null)) { goto VZ2iR; } goto hNovO; zewKG: $data["\163\151\163\x77\x61\x73"] = $this->rapor->getKenaikanSiswa($kelas, $tp->id_tp - 1, "\x32"); goto Fi0RQ; UQHs8: $data["\153\145\154\141\x73\137\x62\x61\162\x75"] = $this->dropdown->getAllKelas($tp->id_tp, "\61"); goto QuOyj; gbDGn: VZ2iR: goto HChc8; HChc8: $this->load->view("\x5f\164\145\155\160\x6c\x61\164\145\x73\x2f\x64\x61\163\150\x62\157\x61\x72\x64\x2f\137\x68\145\x61\x64\145\162", $data); goto C1VNN; NU2ph: $tp = $this->dashboard->getTahunActive(); goto T_h7t; QgfdX: $level = $setting->jenjang == "\x31" ? "\x36" : ($setting->jenjang == "\62" ? "\71" : ($setting->jenjang == "\x31" ? "\63" : "\61\62")); goto Zebcu; uoJ3M: $user = $this->ion_auth->user()->row(); goto TPVZB; T_h7t: $smt = $this->dashboard->getSemesterActive(); goto BoadV; rnBvD: $kelas = $this->input->get("\x6b\145\154\x61\163", true); goto uoJ3M; TPVZB: $setting = $this->dashboard->getSetting(); goto qDcVG; NLLu4: $data["\164\x70\137\141\x63\x74\x69\166\145"] = $tp; goto tGSu5; qDcVG: $data = ["\165\163\x65\x72" => $user, "\x6a\x75\x64\165\x6c" => "\113\145\x6e\x61\151\153\x6b\141\156\40\x4b\145\x6c\x61\x73", "\163\165\x62\x6a\165\144\x75\154" => "\x4e\x61\151\153\40\x4b\145\x6c\141\x73\x20\123\x69\x73\167\141", "\x73\x65\x74\x74\x69\156\147" => $setting]; goto NU2ph; Zebcu: $data["\x6b\145\x6c\x61\163\137\154\141\155\141"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\41\75" . $level); goto UQHs8; yMe1V: $lvlKls = $this->kelas->get_one($kelas, $tp->id_tp - 1, "\x32"); goto sdD2W; BoadV: $data["\x74\160"] = $this->dashboard->getTahun(); goto NLLu4; Fi0RQ: $data["\x6b\145\154\x61\x73\x5f\x73\145\154\145\143\164\x65\x64"] = $kelas; goto yMe1V; tGSu5: $data["\163\155\164"] = $this->dashboard->getSemester(); goto rcGCx; sdD2W: $data["\x6b\145\x6c\x61\x73\x65\163"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\75" . ($lvlKls->level_id + 1)); goto gbDGn; C1VNN: $this->load->view("\x6d\141\x73\164\145\162\x2f\153\145\154\141\x73\x2f\x6e\x61\151\153\153\145\154\x61\x73"); goto w0izt; VUXO7: } public function naikKelas() { goto DPQtX; DPQtX: $tp = $this->dashboard->getTahunActive(); goto f1DWb; W0w0K: ES3Lx: goto eLZZi; CS441: foreach ($posts as $d) { goto IYKnT; Im70W: Km6LZ: goto sOueF; IYKnT: $idkelases[] = $d->kelas_baru; goto tewnN; tewnN: $siswakelas[$d->kelas_baru][] = ["\x69\144" => $d->id_siswa]; goto Im70W; sOueF: } goto W0w0K; wsqTt: foreach ($idkelases as $ik) { goto m3JcF; Mbt41: goto wb13R; goto xXGEN; t7qlS: $kelas_baru = $this->kelas->getKelasByNama($kelas->nama_kelas, $tp->id_tp, $smt->id_smt); goto qL9IY; ucA7E: $jumlah = serialize($jmlLama); goto ShGv9; yATre: $this->db->update("\155\141\x73\164\x65\162\x5f\153\145\154\x61\x73", $data); goto lu9wR; gvYLw: foreach ($idks as $idk) { goto V9yRV; V9yRV: foreach ($siswakelas[$ik] as $s) { goto NUknK; xdG__: $res[] = $this->db->replace("\153\145\154\141\163\137\163\x69\163\167\x61", $insert); goto vq5x1; vq5x1: kTMVa: goto NL2lg; NUknK: $insert = ["\x69\x64\x5f\x6b\145\x6c\141\x73\x5f\163\x69\x73\x77\141" => $tp->id_tp . $smt->id_smt . $s["\x69\x64"], "\x69\x64\137\164\160" => $tp->id_tp, "\x69\x64\137\x73\x6d\164" => $smt->id_smt, "\x69\x64\137\153\x65\154\x61\x73" => $idk, "\x69\144\x5f\x73\151\163\167\x61" => $s["\x69\144"]]; goto xdG__; NL2lg: } goto eOR_2; eOR_2: e9zc3: goto UMZMx; UMZMx: TDUrs: goto aQr3s; aQr3s: } goto W6hsW; m3JcF: $kelas = $this->kelas->get_one($ik, $tp->id_tp - 1, "\x32"); goto t7qlS; Xec5k: Ktn1W: goto gvYLw; OerFw: foreach ($siswakelas[$ik] as $s) { goto S4gan; S4gan: foreach ($jmlLama as $lama) { goto yV7OQ; yV7OQ: if (!($lama["\151\144"] != $s["\151\x64"])) { goto ypOHO; } goto AkWql; XjvQ9: uKoqn: goto Tb84m; vmYUH: ypOHO: goto XjvQ9; znvC4: array_push($idks, $kelas_baru->id_kelas); goto vmYUH; AkWql: array_push($jmlLama, ["\151\144" => $s["\151\x64"]]); goto znvC4; Tb84m: } goto uYWOv; FDySI: yWYHU: goto m82c0; uYWOv: Rx0If: goto FDySI; m82c0: } goto rY6nd; KvdlQ: array_push($idks, $kelas_baru->id_kelas); goto Mbt41; iTBOV: array_push($idks, $this->db->insert_id()); goto Xec5k; Aazuk: $jumlah = serialize($siswakelas[$ik]); goto KvdlQ; m0Czn: $this->db->insert("\x6d\x61\163\x74\145\162\x5f\x6b\x65\x6c\141\163", $data); goto iTBOV; ShGv9: wb13R: goto pYheS; G2Zc6: if ($mode == "\x70\145\x72\163\x69\x73\x77\141") { goto APABL; } goto Aazuk; qL9IY: if ($kelas_baru == null) { goto Qbj9H; } goto G2Zc6; lu9wR: goto Ktn1W; goto xHupP; zsxl3: g1lYU: goto Sn9Cy; xHupP: Qbj9H: goto k901L; zH2yd: $this->db->where("\x69\144\x5f\x6b\145\x6c\x61\x73", $kelas_baru->id_kelas); goto yATre; rY6nd: GVK1W: goto ucA7E; pYheS: $data = array("\156\141\x6d\x61\137\153\145\x6c\141\163" => $kelas->nama_kelas, "\153\157\144\x65\137\x6b\145\154\141\x73" => $kelas->kode_kelas, "\152\165\162\x75\x73\x61\x6e\x5f\x69\144" => $kelas->jurusan_id, "\x69\x64\x5f\164\160" => $tp->id_tp, "\151\144\x5f\163\155\164" => $smt->id_smt, "\x6c\145\166\145\154\137\151\x64" => $kelas->level_id, "\147\165\162\x75\x5f\151\x64" => $kelas->guru_id, "\x73\151\x73\x77\x61\x5f\151\x64" => $kelas->siswa_id, "\x6a\x75\155\154\x61\x68\x5f\x73\151\x73\x77\141" => $jumlah); goto zH2yd; k901L: $jumlah = serialize($siswakelas[$ik]); goto R983S; R983S: $data = array("\156\x61\x6d\x61\x5f\153\145\154\141\x73" => $kelas->nama_kelas, "\x6b\x6f\144\145\137\153\145\154\x61\x73" => $kelas->kode_kelas, "\152\x75\x72\165\x73\141\156\x5f\151\x64" => $kelas->jurusan_id, "\151\x64\x5f\164\160" => $tp->id_tp, "\151\x64\x5f\163\155\x74" => $smt->id_smt, "\x6c\x65\x76\145\154\137\x69\x64" => $kelas->level_id, "\x67\x75\x72\165\137\151\x64" => $kelas->guru_id, "\x73\x69\163\x77\141\137\151\144" => $kelas->siswa_id, "\x6a\165\155\154\141\x68\x5f\x73\x69\163\x77\x61" => $jumlah); goto m0Czn; W6hsW: WeHB3: goto zsxl3; oSq1e: $jmlLama = unserialize($kelas_baru->jumlah_siswa); goto OerFw; xXGEN: APABL: goto oSq1e; Sn9Cy: } goto qjKU8; f1DWb: $smt = $this->dashboard->getSemesterActive(); goto TL29m; qjKU8: VILsi: goto CqEQG; j0klT: $idks = []; goto wsqTt; MOuPG: $idkelases = []; goto BbKYh; EA3TX: $mode = $this->input->post("\x6d\x6f\x64\x65", true); goto MOuPG; TL29m: $posts = json_decode($this->input->post("\153\145\x6c\141\163", true)); goto EA3TX; gzAP9: $res = []; goto j0klT; CqEQG: $data["\x72\x65\x73"] = $siswakelas; goto fMMeo; fMMeo: $this->output_json($data); goto PbQrc; BbKYh: $siswakelas = []; goto CS441; eLZZi: $idkelases = array_unique($idkelases); goto gzAP9; PbQrc: } public function hapus($id_kelas) { goto t2kqS; xrPWR: $this->output_json($delete); goto itrc0; t2kqS: $delete["\163\151\x73\x77\141"] = $this->master->delete("\153\145\x6c\x61\163\x5f\163\151\163\167\141", $id_kelas, "\151\x64\x5f\153\145\x6c\x61\x73"); goto f10mS; f10mS: $delete["\x6b\145\x6c\x61\163"] = $this->master->delete("\155\141\163\164\145\x72\x5f\153\145\154\x61\163", $id_kelas, "\151\x64\137\153\145\154\x61\163"); goto xrPWR; itrc0: } }
