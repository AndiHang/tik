<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\x53\x45\120\101\x54\x48") or exit("\x4e\x6f\x20\144\151\162\x65\143\164\40\163\x63\162\x69\160\164\40\141\143\143\x65\x73\163\40\x61\154\x6c\x6f\167\145\144"); class Datakelas extends CI_Controller { public function __construct() { goto SUz1r; HTupD: if ($this->ion_auth->is_admin()) { goto LSDNS; } goto RpF9Y; SUz1r: parent::__construct(); goto DZ7Tj; OnjLf: LSDNS: goto vQM7i; vQM7i: goto IZ0mS; goto k7ILO; DZ7Tj: if (!$this->ion_auth->logged_in()) { goto rPMOD; } goto HTupD; k7ILO: rPMOD: goto msA9z; RpF9Y: show_error("\110\x61\x6e\x79\141\x20\x41\144\x6d\x69\x6e\x69\x73\x74\x72\141\164\x6f\x72\x20\171\x61\x6e\x67\40\x64\x69\142\x65\162\151\40\150\141\153\x20\x75\x6e\164\x75\153\40\155\145\156\x67\x61\x6b\163\145\x73\40\150\141\x6c\141\155\141\156\40\x69\x6e\x69\x2c\x20\x3c\141\x20\150\162\145\x66\x3d\x22" . base_url("\144\x61\163\150\142\x6f\x61\162\144") . "\x22\x3e\113\145\155\x62\141\x6c\151\40\153\x65\40\155\x65\x6e\x75\x20\x61\167\x61\154\x3c\x2f\141\76", 403, "\x41\153\163\145\163\x20\124\x65\162\154\x61\x72\141\x6e\147"); goto OnjLf; X7fhf: $this->load->model("\x44\162\x6f\160\144\157\x77\156\x5f\x6d\x6f\144\x65\154", "\x64\162\x6f\160\144\x6f\x77\156"); goto pw8Pd; pw8Pd: $this->load->model("\x52\x61\x70\157\x72\x5f\x6d\x6f\x64\145\154", "\162\x61\160\157\x72"); goto AXDH7; lXyrW: IZ0mS: goto NgLKI; a5M25: $this->load->model("\x4d\141\x73\x74\x65\162\137\x6d\157\x64\x65\x6c", "\155\x61\x73\164\x65\x72"); goto X7fhf; AXDH7: $this->form_validation->set_error_delimiters('', ''); goto SedCg; marBP: $this->load->model("\113\145\154\141\163\137\x6d\157\x64\145\x6c", "\153\145\154\x61\x73"); goto UQZVd; msA9z: redirect("\x61\x75\x74\x68"); goto lXyrW; NgLKI: $this->load->library(["\x64\x61\164\141\x74\x61\x62\x6c\145\163", "\146\157\162\x6d\137\166\141\x6c\x69\144\x61\164\151\157\156"]); goto marBP; UQZVd: $this->load->model("\x44\141\x73\x68\x62\157\141\x72\144\137\155\x6f\144\145\154", "\x64\x61\163\150\x62\x6f\x61\162\144"); goto a5M25; SedCg: } public function output_json($data, $encode = true) { goto BWdBk; hy_SO: $this->output->set_content_type("\141\x70\x70\x6c\151\x63\141\164\x69\x6f\156\57\x6a\163\x6f\156")->set_output($data); goto Av10N; PpqSV: $data = json_encode($data); goto F7AYn; BWdBk: if (!$encode) { goto qt7kp; } goto PpqSV; F7AYn: qt7kp: goto hy_SO; Av10N: } public function index() { goto wikxH; WFeRp: $data["\163\155\x74\137\141\143\164\x69\166\x65"] = $smt; goto IU1_y; Y7xh3: $chek = $this->kelas->count_all(); goto WNxHW; iXSNX: $data["\153\x65\154\141\x73"] = $kelas; goto IOafR; qaA89: $data["\x6a\165\162\x75\x73\141\x6e"] = $this->kelas->get_jurusan(); goto pEO4d; IU1_y: $data["\160\x72\x6f\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto Y7xh3; HXbpl: $this->load->view("\155\x61\163\x74\x65\162\x2f\x6b\145\154\x61\x73\57\144\141\x74\141"); goto s3e37; eon_b: $this->load->view("\137\x74\145\x6d\x70\154\141\x74\x65\x73\57\144\x61\163\150\x62\157\141\162\144\57\137\x68\145\x61\144\x65\162", $data); goto HXbpl; s3e37: $this->load->view("\x5f\x74\x65\155\160\x6c\x61\164\145\x73\57\144\x61\163\x68\x62\157\x61\162\144\x2f\137\146\x6f\157\x74\145\x72"); goto TprpA; vVJoO: $kelas = $this->kelas->getKelasList($tp->id_tp, $smt->id_smt); goto sGm9n; ImP8Q: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto WFeRp; pEO4d: $data["\x6c\x65\x76\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto ergrf; qhcf1: $data = ["\x75\x73\145\162" => $user, "\x6a\x75\x64\165\154" => "\x4b\145\154\141\x73", "\163\x75\142\x6a\165\x64\x75\x6c" => "\104\141\x74\141\x20\113\x65\154\141\163", "\163\x65\x74\x74\151\156\147" => $setting]; goto WETEv; WNxHW: $kelas = []; goto wBu4R; CQSoy: $data["\x73\151\163\167\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto eon_b; wikxH: $user = $this->ion_auth->user()->row(); goto gll7J; kS3ur: $data["\x74\160\x5f\x61\143\164\x69\x76\145"] = $tp; goto ImP8Q; EHqfz: $smt = $this->dashboard->getSemesterActive(); goto lelLH; ergrf: $data["\x67\165\x72\165"] = $this->kelas->get_guru(); goto CQSoy; gll7J: $setting = $this->dashboard->getSetting(); goto qhcf1; IOafR: $data["\153\x65\x6c\141\x73\137\x6c\141\x6d\x61"] = $kelas_lama; goto qaA89; WETEv: $tp = $this->dashboard->getTahunActive(); goto EHqfz; wBu4R: $kelas_lama = []; goto kZRS1; sGm9n: $kelas_lama = $this->kelas->getKelasList($tp->id_tp - 1, "\62"); goto x4Igi; x4Igi: F0Btp: goto iXSNX; kZRS1: if (!($chek > 0)) { goto F0Btp; } goto vVJoO; lelLH: $data["\164\160"] = $this->dashboard->getTahun(); goto kS3ur; TprpA: } public function detail($id) { goto M3nHF; pHOiJ: $this->load->view("\137\164\x65\155\160\154\x61\164\x65\x73\57\x64\141\x73\150\x62\x6f\x61\x72\144\x2f\137\146\157\157\164\x65\162"); goto M68w7; ojwU6: $data["\152\x75\162\x75\x73\x61\156"] = $this->kelas->get_jurusan(); goto F9qdv; rW9nT: $data["\x73\155\164\137\141\x63\x74\x69\x76\x65"] = $smt; goto bPfwk; bPfwk: $data["\160\x72\x6f\x66\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto DwQ73; DwQ73: $data["\153\x65\154\x61\163"] = $this->kelas->get_one($id); goto ojwU6; pi42Y: Mg_6S: goto UyxFW; F9qdv: $data["\154\145\x76\x65\x6c"] = $this->kelas->getLevel($setting->jenjang); goto caRfF; X_OL2: $data["\164\160"] = $this->dashboard->getTahun(); goto fME2v; JiSaN: if ($struktur == null) { goto cYJN1; } goto neUS0; XEE2O: $data = ["\165\x73\x65\162" => $user, "\x6a\165\144\x75\154" => "\104\x65\x74\x61\x69\154\40\x4b\x65\x6c\141\163", "\163\x75\x62\x6a\165\144\x75\154" => "\x44\x65\164\x61\x69\154\40\x4b\145\154\141\163", "\163\x65\164\164\x69\x6e\x67" => $setting]; goto H38sw; neUS0: $data["\163\164\x72\x75\x6b\x74\x75\162"] = $struktur; goto W0cfx; W0cfx: goto Mg_6S; goto oD2K_; fME2v: $data["\x74\x70\137\141\143\x74\151\x76\145"] = $tp; goto fcqxv; hTTs0: $this->load->view("\155\141\x73\x74\145\162\57\153\x65\154\141\x73\x2f\144\145\x74\141\151\x6c"); goto pHOiJ; JdhUv: $data["\x73\x69\x73\x77\x61\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto puLBm; M3nHF: $user = $this->ion_auth->user()->row(); goto FpXct; TAol7: $data["\x73\x74\162\x75\153\x74\165\162"] = json_decode(json_encode($this->kelas->dummyStruktur())); goto pi42Y; puLBm: $struktur = $this->kelas->getStrukturKelas($id); goto JiSaN; oD2K_: cYJN1: goto TAol7; h4BBo: $smt = $this->dashboard->getSemesterActive(); goto X_OL2; caRfF: $data["\147\x75\162\x75"] = $this->kelas->get_guru(); goto JdhUv; H38sw: $tp = $this->dashboard->getTahunActive(); goto h4BBo; UyxFW: $this->load->view("\137\164\145\155\x70\154\x61\164\x65\163\57\x64\141\163\x68\x62\x6f\141\162\144\57\137\150\x65\x61\144\x65\x72", $data); goto hTTs0; FpXct: $setting = $this->dashboard->getSetting(); goto XEE2O; fcqxv: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto rW9nT; M68w7: } public function add() { goto I0dDN; ayi7N: $data["\164\160\x5f\141\143\164\x69\x76\145"] = $tp; goto UpZmy; eNyLW: $data["\x6b\x65\x6c\141\x73"] = json_decode(json_encode($this->kelas->dummy())); goto I3thp; UlDaJ: $this->load->view("\x5f\164\145\x6d\160\x6c\141\164\145\163\x2f\144\x61\x73\x68\142\x6f\141\x72\x64\x2f\x5f\x66\157\x6f\x74\145\162"); goto T09KC; ReyQu: $data["\163\x6d\164\137\141\x63\164\x69\166\x65"] = $smt; goto qHD34; vZyN4: $this->load->view("\155\141\163\x74\x65\x72\x2f\153\x65\154\141\x73\57\141\x64\144"); goto UlDaJ; njjx2: $data = ["\165\x73\145\162" => $user, "\152\165\144\x75\x6c" => "\x4b\145\154\x61\x73", "\x73\x75\x62\152\165\x64\165\154" => "\124\x61\x6d\x62\141\x68\x20\x4b\x65\x6c\x61\x73", "\163\145\164\x74\151\156\147" => $setting]; goto bJSLj; IMOWj: $data["\x74\x70"] = $this->dashboard->getTahun(); goto ayi7N; pDkRr: $siswa = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto V0wVY; wDKgE: $data["\x73\151\x73\167\141\153\145\154\x61\163"] = array(); goto Y31fA; I3thp: $data["\152\x75\162\x75\163\141\156"] = $this->kelas->get_jurusan(); goto EJ9Rj; Y31fA: $this->load->view("\x5f\164\x65\x6d\x70\x6c\x61\x74\145\x73\57\x64\141\x73\150\142\157\141\162\x64\57\137\150\145\x61\x64\145\162", $data); goto vZyN4; qHD34: $data["\160\x72\157\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto eNyLW; I0dDN: $user = $this->ion_auth->user()->row(); goto URooJ; V0wVY: $data["\x73\151\163\167\x61"] = $siswa; goto wDKgE; QGjB1: $data["\147\165\x72\165"] = $this->kelas->get_guru(); goto pDkRr; UpZmy: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto ReyQu; bJSLj: $tp = $this->dashboard->getTahunActive(); goto JHKvu; URooJ: $setting = $this->dashboard->getSetting(); goto njjx2; EJ9Rj: $data["\154\x65\166\145\x6c"] = $this->kelas->getLevel($setting->jenjang); goto QGjB1; JHKvu: $smt = $this->dashboard->getSemesterActive(); goto IMOWj; T09KC: } public function edit($id = '') { goto IJSCH; CdWDd: $setting = $this->dashboard->getSetting(); goto A7uca; RGtcR: $this->load->view("\x5f\x74\145\x6d\x70\154\x61\x74\145\x73\x2f\x64\141\163\x68\142\157\141\162\144\57\x5f\146\x6f\157\164\145\162"); goto a1Hui; IJSCH: $user = $this->ion_auth->user()->row(); goto CdWDd; yXPYV: $data["\160\162\x6f\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto RAtlu; A7uca: $data = ["\x75\163\x65\162" => $user, "\x6a\165\144\x75\x6c" => "\113\145\154\x61\x73", "\163\165\142\152\x75\x64\x75\x6c" => "\105\x64\x69\164\40\x4b\145\154\141\163", "\163\145\164\x74\x69\156\147" => $setting]; goto c08Ma; LGAjY: $this->load->view("\x5f\164\x65\155\160\x6c\141\x74\x65\163\x2f\144\x61\163\x68\x62\x6f\x61\162\144\x2f\x5f\150\145\141\x64\145\162", $data); goto bnlOt; Gg95_: $data["\164\x70\137\x61\x63\164\151\166\x65"] = $tp; goto Ao4Da; cDAnJ: $data["\x74\x70"] = $this->dashboard->getTahun(); goto Gg95_; upxr9: $data["\x6b\145\x6c\141\x73"] = $this->kelas->get_one($id); goto Wfbje; QDibt: $smt = $this->dashboard->getSemesterActive(); goto cDAnJ; zWuQd: $data["\x6c\145\x76\145\154"] = $this->kelas->getLevel($setting->jenjang); goto yVFOe; Ao4Da: $data["\163\155\164"] = $this->dashboard->getSemester(); goto U0c3c; ufw21: $data["\x73\151\163\167\141"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto k2xmn; c08Ma: $tp = $this->dashboard->getTahunActive(); goto QDibt; U0c3c: $data["\163\155\164\137\x61\x63\164\x69\x76\145"] = $smt; goto yXPYV; yVFOe: $data["\x67\x75\x72\165"] = $this->kelas->getWaliKelas($tp->id_tp, $smt->id_smt); goto ufw21; k2xmn: $data["\163\151\x73\x77\x61\153\x65\154\141\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto LGAjY; RAtlu: $data["\x69\x64\x5f\x6b\145\x6c\x61\x73"] = $id; goto upxr9; bnlOt: $this->load->view("\155\x61\x73\x74\x65\x72\x2f\153\x65\154\141\x73\57\141\x64\x64"); goto RGtcR; Wfbje: $data["\x6a\165\x72\165\163\141\156"] = $this->kelas->get_jurusan(); goto zWuQd; a1Hui: } public function save() { goto ihoL4; Z4cYT: gdBaU: goto rGj07; q1dsd: $i = 0; goto So8EL; NPPlm: $updated = $this->db->update("\x6a\x61\x62\141\164\141\156\137\147\x75\162\165"); goto keZtd; ga7_b: goto SEfSl; goto pg2lQ; RNcPU: iajJe: goto VSmlj; vIt8k: $insert[$id_tp . $id_smt . $idsiswa]["\x69\144\x5f\x6b\145\x6c\141\163"] = $new_id_kelas; goto CqUzT; VSmlj: goto GaxTC; goto gLOvI; bQEsH: array_push($siswakelas, ["\x69\x64" => $id_siswa]); goto y9oQw; Rg3qC: D9r_I: goto vIt8k; iAAGa: if (!($id_siswa != null)) { goto kNgg1; } goto bQEsH; Nmeck: G1cy2: goto hUb7k; K3AwZ: if (!($i <= count($siswas))) { goto buWB8; } goto IX138; Hpies: $this->db->where("\x69\144\x5f\x6a\141\x62\141\164\141\156\x5f\147\x75\x72\165", $guru_id . $id_tp . $id_smt); goto NPPlm; h1S0Y: $status = FALSE; goto YoRw5; wZ_Q6: m0pq5: goto a0RNc; y9oQw: kNgg1: goto wMJdt; Pj74q: eLDgb: goto e7iN8; vL78s: $data["\x75\160\x64\141\164\x65"] = $updated; goto P1RsR; cdwTx: $siswa_inserted = 0; goto HikPi; UHo11: $id_tp = $this->master->getTahunActive()->id_tp; goto ObwUS; dLDa3: DPJi4: goto eUeio; fx9Rr: $siswa_kelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto f9QVO; CqUzT: tWenG: goto J7_Ed; wMJdt: RvGMv: goto usGUL; m03iL: $siswakelas = []; goto q1dsd; awXZx: $status = $this->db->update("\x6d\x61\163\x74\x65\162\137\153\145\154\141\x73", $insert); goto PH1d5; H6cWQ: MzF9O: goto Nmeck; Aj219: $data["\x69\156\163\145\x72\x74"] = $insert; goto H6cWQ; hUb7k: $data["\163\x69\163\x77\141"] = $siswa_inserted; goto vL78s; P1RsR: $data["\163\164\x61\x74\x75\163"] = $status; goto B4sCt; gHn3Z: $this->db->set("\x69\x64\137\153\x65\x6c\x61\163", $id); goto Hpies; KTVEK: goto tWenG; goto Rg3qC; rGj07: $this->db->where("\x69\x64\137\x6b\145\x6c\x61\163", $id); goto awXZx; e7iN8: g2wtZ: goto wZ_Q6; YomBs: goto iajJe; goto HgK3M; I_MOY: $status = $this->db->insert("\x6d\x61\x73\164\145\162\x5f\x6b\x65\154\141\x73", $insert); goto yITwO; nbhEP: Yhwnp: goto Fdhtv; usGUL: $i++; goto ga7_b; QjSlq: $id_new = null; goto uXvOV; hFWUn: $this->form_validation->set_rules($config); goto VU2JO; IwkK6: goto DPJi4; goto fRQLu; ObwUS: $id_smt = $this->master->getSemesterActive()->id_smt; goto SDZmV; So8EL: SEfSl: goto K3AwZ; gLOvI: FNt6u: goto hFWUn; eUeio: if (!($i <= count($siswas))) { goto oK8QD; } goto MI37r; keZtd: if (!$updated) { goto MzF9O; } goto X53pq; B4sCt: $this->output_json($data); goto g4O42; MBgE7: if ($this->form_validation->run() == TRUE) { goto xzt8X; } goto YoKSo; uUwkZ: GaxTC: goto Aodaj; T99dc: $insert = array("\156\141\x6d\141\x5f\x6b\x65\154\x61\x73" => strip_tags($this->input->post("\x6e\141\x6d\x61\x5f\x6b\145\x6c\x61\x73", TRUE)), "\x6b\157\x64\x65\x5f\x6b\145\x6c\141\x73" => strip_tags($this->input->post("\153\x6f\x64\145\137\153\145\x6c\x61\x73", TRUE)), "\x6a\x75\x72\x75\163\x61\156\x5f\151\x64" => strip_tags($this->input->post("\x6a\165\162\165\163\x61\x6e\x5f\151\x64", TRUE)), "\151\144\137\x74\160" => $id_tp, "\x69\144\x5f\163\x6d\x74" => $id_smt, "\154\145\166\145\x6c\137\151\144" => strip_tags($this->input->post("\x6c\x65\166\145\x6c\x5f\x69\x64", TRUE)), "\147\165\x72\165\x5f\x69\x64" => strip_tags($this->input->post("\x67\165\162\165\x5f\x69\144", TRUE)), "\163\x69\x73\x77\x61\137\151\144" => strip_tags($this->input->post("\x73\151\163\x77\141\x5f\151\x64", TRUE)), "\152\x75\x6d\x6c\141\150\137\163\x69\x73\167\141" => $jumlah); goto QjSlq; yITwO: $id_new = $this->db->insert_id(); goto RNcPU; TYmTK: if (!($idsiswa != null)) { goto PgcVM; } goto g5MiW; PxGUy: $this->form_validation->set_rules($config); goto MBgE7; pg2lQ: buWB8: goto WXPDM; HikPi: if (!$status) { goto G1cy2; } goto gHn3Z; a0RNc: $i = 0; goto dLDa3; vpvBF: foreach ($siswa_kelas as $id_siswa => $sis) { $insert[$id_tp . $id_smt . $id_siswa] = ["\x69\x64\x5f\153\x65\x6c\x61\x73\x5f\163\x69\163\167\141" => $id_tp . $id_smt . $id_siswa, "\151\x64\x5f\x74\160" => $id_tp, "\151\x64\137\163\x6d\164" => $id_smt, "\151\144\137\153\x65\x6c\x61\163" => 0, "\x69\144\137\163\x69\163\167\141" => $id_siswa]; Cvpsa: } goto Pj74q; eiMRJ: $insert[$id_tp . $id_smt . $idsiswa] = ["\151\144\137\153\145\x6c\x61\163\x5f\x73\151\x73\167\141" => $id_tp . $id_smt . $idsiswa, "\151\144\x5f\164\160" => $id_tp, "\151\144\137\163\x6d\164" => $id_smt, "\x69\144\137\x6b\x65\154\x61\x73" => $new_id_kelas, "\151\x64\137\x73\x69\x73\x77\x61" => $idsiswa]; goto KTVEK; YoKSo: $status = FALSE; goto YomBs; X53pq: $insert = []; goto BgCJD; fRQLu: oK8QD: goto M0tZy; PH1d5: tBpFp: goto uUwkZ; Fdhtv: $i++; goto IwkK6; HgK3M: xzt8X: goto I_MOY; M0tZy: foreach ($insert as $ins) { goto hvIlg; xtg3_: uc4p_: goto GxYZC; GxYZC: jeynO: goto pZbsd; hvIlg: if (!$this->db->replace("\x6b\x65\x6c\x61\163\137\163\151\x73\167\141", $ins)) { goto uc4p_; } goto nld8_; nld8_: $siswa_inserted++; goto xtg3_; pZbsd: } goto JYGpB; uXvOV: if ($id != null && $id != '') { goto FNt6u; } goto PxGUy; BgCJD: if (!($id != null && $id != '')) { goto m0pq5; } goto fx9Rr; J7_Ed: PgcVM: goto nbhEP; IPnc2: $new_id_kelas = $id != null && $id != '' ? $id : $id_new; goto TYmTK; SDZmV: $siswas = $this->input->post("\x73\151\163\167\x61", true); goto ph2uw; YoRw5: goto tBpFp; goto Z4cYT; ph2uw: $config = array(array("\x66\x69\x65\154\144" => "\x6e\141\x6d\141\x5f\153\x65\154\x61\163", "\154\141\142\x65\x6c" => "\x4e\141\x6d\x61\x20\x4b\x65\154\141\x73", "\x72\x75\x6c\145\x73" => "\164\162\x69\155"), array("\146\151\145\x6c\x64" => "\x6b\157\x64\145\x5f\153\x65\x6c\141\163", "\154\x61\142\x65\x6c" => "\x4b\157\144\145\40\113\145\x6c\x61\163", "\162\x75\x6c\145\x73" => "\164\162\151\155"), array("\x66\x69\145\x6c\144" => "\152\x75\x72\165\163\141\x6e\137\151\144", "\x6c\x61\142\x65\x6c" => "\112\165\x72\x75\163\141\156", "\x72\x75\154\x65\x73" => "\164\x72\151\155"), array("\x66\x69\145\x6c\144" => "\x6c\145\166\145\x6c\x5f\151\x64", "\x6c\141\142\145\154" => "\x4c\145\x76\145\x6c", "\x72\165\x6c\x65\163" => "\164\162\151\x6d"), array("\146\151\x65\154\x64" => "\147\x75\x72\x75\137\x69\x64", "\154\141\x62\145\154" => "\107\x75\162\165", "\162\165\x6c\145\163" => "\x74\162\151\x6d"), array("\x66\151\145\x6c\x64" => "\163\151\x73\x77\x61\x5f\x69\x64", "\154\141\142\145\x6c" => "\123\x69\x73\x77\x61", "\x72\x75\x6c\145\x73" => "\x74\162\x69\155")); goto m03iL; g5MiW: if (isset($insert[$id_tp . $id_smt . $idsiswa])) { goto D9r_I; } goto eiMRJ; ihoL4: $id = $this->input->post("\x69\x64\x5f\153\x65\154\x61\163", true); goto wx9Gy; wx9Gy: $guru_id = strip_tags($this->input->post("\x67\x75\162\165\137\x69\144", TRUE)); goto UHo11; VU2JO: if ($this->form_validation->run() == TRUE) { goto gdBaU; } goto h1S0Y; f9QVO: if (!(count($siswa_kelas) > 0)) { goto g2wtZ; } goto vpvBF; MI37r: $idsiswa = isset($siswas[$i]) ? $siswas[$i] : null; goto IPnc2; JYGpB: tsJzI: goto Aj219; WXPDM: $jumlah = serialize($siswakelas); goto T99dc; Aodaj: $updated = false; goto cdwTx; IX138: $id_siswa = isset($siswas[$i]) ? $siswas[$i] : null; goto iAAGa; g4O42: } public function update_kelas($id) { goto pfSQY; Zz9Dp: goto JraIu; goto Cl3Ge; d8o0w: $i = 0; goto Ec5Yc; Ec5Yc: JraIu: goto rdUg7; zAkpx: UzKx7: goto beTUS; Sw4Ww: if (!($id_siswa != null)) { goto lWx_2; } goto GxmR2; qrqW2: pdEt1: goto xE2fc; BbGFd: $siswakelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto smZpE; O4Ewj: $id_siswa = $this->input->post("\x73\x69\x73\x77\141\133" . $i . "\135", true); goto Sw4Ww; smZpE: if (!(count($siswakelas) > 0)) { goto evpHl; } goto jN9hk; ip47m: lWx_2: goto zAkpx; xE2fc: evpHl: goto dL3J2; Cl3Ge: ynBkm: goto mEKGH; usOf2: $id_smt = $this->master->getSemesterActive()->id_smt; goto BbGFd; beTUS: $i++; goto Zz9Dp; dL3J2: $rowsSelect = count($this->input->post("\163\x69\x73\167\141", true)); goto d8o0w; jN9hk: foreach ($siswakelas as $id_siswa => $sis) { goto Srw4o; QkCxP: $this->db->replace("\x6b\x65\x6c\141\x73\137\x73\151\x73\167\141", $insert); goto NFxvh; NFxvh: GzHz9: goto ma5AO; Srw4o: $insert = ["\x69\144\x5f\153\145\x6c\x61\163\x5f\x73\x69\x73\167\141" => $id_tp . $id_smt . $id_siswa, "\x69\x64\x5f\x74\160" => $id_tp, "\x69\144\137\x73\155\164" => $id_smt, "\x69\144\137\153\x65\x6c\x61\x73" => 0, "\x69\x64\x5f\x73\x69\x73\167\x61" => $id_siswa]; goto QkCxP; ma5AO: } goto qrqW2; GxmR2: $insert = ["\151\144\x5f\x6b\x65\x6c\x61\163\x5f\163\x69\x73\x77\x61" => $id_tp . $id_smt . $id_siswa, "\151\x64\x5f\164\160" => $id_tp, "\151\x64\x5f\163\x6d\x74" => $id_smt, "\151\144\x5f\153\x65\154\x61\x73" => $id, "\151\x64\137\x73\151\x73\x77\x61" => $id_siswa]; goto LlITQ; LlITQ: $this->db->replace("\x6b\145\x6c\x61\x73\x5f\x73\151\163\x77\141", $insert); goto ip47m; mEKGH: return $siswakelas; goto lqhM3; rdUg7: if (!($i <= $rowsSelect)) { goto ynBkm; } goto O4Ewj; pfSQY: $id_tp = $this->master->getTahunActive()->id_tp; goto usOf2; lqhM3: } public function manage() { goto dir1V; p3Bhl: $this->load->view("\137\x74\145\x6d\160\154\x61\x74\x65\x73\57\144\x61\163\x68\142\x6f\141\162\144\x2f\x5f\x66\157\x6f\164\x65\162"); goto Ffe1m; dir1V: $user = $this->ion_auth->user()->row(); goto YICKQ; s6Ioy: $data["\x70\x72\157\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto xz6ge; uqsnQ: $this->load->view("\x6d\141\x73\x74\x65\162\57\x6b\x65\154\141\163\57\x70\145\x72\x73\x65\x6d\145\x73\x74\145\162"); goto p3Bhl; jPOt7: $data["\x6b\x65\x6c\x61\x73\x32"] = $this->dropdown->getAllKelas($tp->id_tp, "\62"); goto tbNnS; SnexT: $data["\x73\155\164\137\x61\143\164\151\x76\x65"] = $smt; goto s6Ioy; hXsOP: $smt = $this->dashboard->getSemesterActive(); goto EnaKW; EnaKW: $data["\x74\x70"] = $this->dashboard->getTahun(); goto KXhQN; xz6ge: $data["\153\145\x6c\141\x73"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto jPOt7; KXhQN: $data["\164\160\137\x61\143\x74\x69\166\x65"] = $tp; goto MXLPW; lkiUR: $tp = $this->dashboard->getTahunActive(); goto hXsOP; YICKQ: $data = ["\x75\163\x65\x72" => $user, "\152\165\x64\165\x6c" => "\x43\157\x70\171\40\x4b\145\154\141\163", "\163\x75\x62\x6a\x75\x64\x75\x6c" => "\x43\x6f\x70\x79\40\104\x61\x74\x61\x20\113\145\x6c\x61\x73\40\153\x65\40\123\115\124\x20\x49\x49", "\x73\x65\x74\164\x69\x6e\147" => $this->dashboard->getSetting()]; goto lkiUR; MXLPW: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto SnexT; tbNnS: $this->load->view("\137\164\145\x6d\160\154\x61\164\x65\x73\57\144\141\163\x68\x62\x6f\x61\162\144\x2f\137\150\x65\x61\x64\x65\162", $data); goto uqsnQ; Ffe1m: } public function getFromSmt1($kelas) { goto CAkus; NfwR6: L2NJe: goto bXfoF; bXfoF: $this->output_json(["\x73\x6d\164\61" => $data1, "\x73\x6d\164\x32" => $ids]); goto fOwhr; CAkus: $tp = $this->dashboard->getTahunActive(); goto k3P9s; USu2V: $ids = []; goto H_p5T; VEGw9: pLLGh: goto NfwR6; H_p5T: if (!(count($data2) > 0)) { goto L2NJe; } goto g9UIP; ao_gz: $data2 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\62"); goto USu2V; g9UIP: foreach ($data2 as $s) { $ids[] = $s->id_siswa; olBHc: } goto VEGw9; k3P9s: $data1 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\x31"); goto ao_gz; fOwhr: } public function copyFromSmt1() { goto wQ1AD; R_47I: $kelas2 = $this->input->post("\153\145\x6c\x61\163\x5f\x62\x61\162\165", true); goto n4ikn; HXl0N: $this->db->insert("\x6d\x61\163\x74\145\162\137\x6b\x65\x6c\141\163", $data); goto uXVMA; jMsPC: $res = []; goto yU1E7; bofQe: $this->output_json($res); goto MLkbw; D_3UU: $kelas1 = $this->input->post("\153\x65\154\x61\x73\137\x6c\141\x6d\x61", true); goto R_47I; yU1E7: $arrSiswa = unserialize($kelas->jumlah_siswa); goto UU3SW; iPvdm: $smt = $this->dashboard->getSemesterActive(); goto D_3UU; uXVMA: $idk = $this->db->insert_id(); goto jMsPC; wQ1AD: $tp = $this->dashboard->getTahunActive(); goto iPvdm; oVgZO: $data = array("\x6e\141\155\141\x5f\153\x65\154\141\163" => $kelas2, "\153\x6f\x64\x65\137\x6b\145\x6c\x61\x73" => $kelas->kode_kelas, "\152\x75\162\165\x73\x61\156\x5f\x69\144" => $kelas->jurusan_id, "\151\x64\x5f\x74\160" => $tp->id_tp, "\x69\x64\137\x73\x6d\164" => $smt->id_smt, "\154\x65\166\145\154\137\151\144" => $kelas->level_id, "\x67\165\162\165\x5f\151\x64" => $kelas->guru_id, "\x73\151\x73\167\141\x5f\x69\x64" => $kelas->siswa_id, "\152\x75\x6d\x6c\x61\x68\x5f\163\151\163\x77\141" => $kelas->jumlah_siswa); goto HXl0N; UU3SW: foreach ($arrSiswa as $value) { goto us2CJ; Z6mEk: $insert = ["\151\x64\137\x6b\145\x6c\x61\x73\137\x73\151\x73\x77\x61" => $tp->id_tp . $smt->id_smt . $id_siswa, "\151\144\x5f\x74\160" => $tp->id_tp, "\x69\144\x5f\163\155\x74" => $smt->id_smt, "\x69\144\137\153\x65\x6c\141\x73" => $idk, "\x69\x64\x5f\163\151\x73\167\x61" => $id_siswa]; goto SZM7Z; SZM7Z: $res[] = $this->db->replace("\153\145\x6c\141\x73\137\163\151\x73\x77\141", $insert); goto WPyf8; us2CJ: $id_siswa = $value["\151\144"]; goto Hrg2Y; Hrg2Y: if (!($id_siswa != null)) { goto NvTzg; } goto Z6mEk; iXf1M: Xs3Hz: goto cbd7Q; WPyf8: NvTzg: goto iXf1M; cbd7Q: } goto AJv28; n4ikn: $kelas = $this->kelas->get_one($kelas1, $tp->id_tp, "\61"); goto oVgZO; AJv28: HaSO_: goto bofQe; MLkbw: } public function copySiswaFromSmt1() { goto sCnEu; KAuIz: $this->output_json($res); goto yriO8; xf4Ln: foreach ($posts as $d) { goto ek3Jk; aE_m0: $siswakelas[$d->id_kelas][] = ["\151\x64" => $d->id_siswa]; goto RUOq2; RUOq2: A326f: goto PbYEJ; ek3Jk: $idkelases[] = $d->id_kelas; goto aE_m0; PbYEJ: } goto SsrIb; B4L3z: foreach ($idkelases as $ik) { goto BK1uC; pBv5E: xoiO0: goto PfcJo; BK1uC: if (!($ik != '')) { goto AuSZC; } goto pX1dj; u42Sz: TTzZF: goto pXv8p; abmsR: $this->db->insert("\x6d\x61\163\164\145\x72\137\153\x65\154\141\x73", $data); goto j8wlv; hFwuo: foreach ($siswakelas[$ik] as $s) { goto XU67b; Cj2vF: $res[] = $this->db->replace("\x6b\145\x6c\141\x73\x5f\x73\x69\x73\x77\x61", $insert); goto ECNxM; XU67b: $insert = ["\151\x64\137\153\145\154\141\x73\x5f\x73\x69\x73\167\141" => $tp->id_tp . $smt->id_smt . $s["\151\x64"], "\151\144\137\x74\x70" => $tp->id_tp, "\151\144\x5f\163\x6d\x74" => $smt->id_smt, "\x69\x64\137\153\145\x6c\x61\163" => $idk, "\x69\x64\x5f\163\151\x73\x77\141" => $s["\151\144"]]; goto Cj2vF; ECNxM: FnpqM: goto hG19J; hG19J: } goto pBv5E; PfcJo: AuSZC: goto u42Sz; wO4z_: $jumlah = serialize($siswakelas[$ik]); goto cAO4Y; j8wlv: $idk = $this->db->insert_id(); goto hFwuo; pX1dj: $kelas = $this->kelas->get_one($ik, $tp->id_tp, "\x31"); goto wO4z_; cAO4Y: $data = array("\156\x61\x6d\x61\x5f\153\145\x6c\x61\163" => $kelas->nama_kelas, "\x6b\x6f\x64\145\x5f\x6b\145\154\141\x73" => $kelas->kode_kelas, "\152\x75\x72\165\x73\141\156\x5f\151\144" => $kelas->jurusan_id, "\151\144\137\x74\160" => $tp->id_tp, "\x69\x64\137\x73\155\x74" => $smt->id_smt, "\x6c\145\x76\145\154\137\x69\144" => $kelas->level_id, "\147\x75\162\165\137\x69\144" => $kelas->guru_id, "\163\151\163\x77\141\x5f\151\x64" => $kelas->siswa_id, "\152\165\155\154\141\x68\x5f\x73\x69\163\x77\141" => $jumlah); goto abmsR; pXv8p: } goto N5dlG; v3zlR: $siswakelas = []; goto xf4Ln; N5dlG: tCdEL: goto KAuIz; vCs3x: $res = []; goto B4L3z; Anp1G: $smt = $this->dashboard->getSemesterActive(); goto M8avS; SsrIb: ieGsI: goto C8XN_; M8avS: $posts = json_decode($this->input->post("\x6b\145\x6c\141\163", true)); goto OFATS; C8XN_: $idkelases = array_unique($idkelases); goto vCs3x; sCnEu: $tp = $this->dashboard->getTahunActive(); goto Anp1G; OFATS: $idkelases = []; goto v3zlR; yriO8: } public function kenaikan() { goto ZViN5; TQfKC: $this->load->view("\137\164\145\x6d\160\x6c\x61\x74\145\x73\x2f\144\x61\163\150\142\x6f\141\162\144\x2f\137\x68\x65\141\x64\145\x72", $data); goto TZM8O; PDHYO: $setting = $this->dashboard->getSetting(); goto K9SMm; Y3CU2: $smt = $this->dashboard->getSemesterActive(); goto nBF0N; CgVp3: $data["\163\151\163\167\x61\137\x6b\145\x6c\x61\163\x5f\142\x61\162\x75"] = $this->master->getSiswaKelasBaru($tp->id_tp, $smt->id_smt); goto KuMMB; DKFpe: $level = $setting->jenjang == "\x31" ? "\66" : ($setting->jenjang == "\x32" ? "\x39" : ($setting->jenjang == "\61" ? "\x33" : "\61\x32")); goto Odm7B; EyiJv: $data["\x6b\x65\x6c\141\x73\x5f\163\145\154\x65\x63\164\145\144"] = $kelas; goto X0A7v; zt2SP: $tp = $this->dashboard->getTahunActive(); goto Y3CU2; K9SMm: $data = ["\x75\163\145\162" => $user, "\152\165\144\x75\x6c" => "\x4b\145\156\x61\x69\153\x6b\141\x6e\x20\x4b\x65\x6c\141\x73", "\x73\165\142\x6a\x75\144\x75\x6c" => "\x4e\141\151\x6b\40\113\x65\154\x61\x73\x20\123\151\163\x77\141", "\163\145\x74\164\x69\x6e\147" => $setting]; goto zt2SP; nBF0N: $data["\164\160"] = $this->dashboard->getTahun(); goto TR1Ot; ZViN5: $kelas = $this->input->get("\153\x65\154\141\x73", true); goto XvduU; X0A7v: $lvlKls = $this->kelas->get_one($kelas, $tp->id_tp - 1, "\62"); goto Enet2; PKWt0: $this->load->view("\x5f\164\x65\155\x70\x6c\x61\164\x65\163\57\144\141\x73\x68\x62\157\141\162\x64\57\137\x66\x6f\157\x74\145\x72"); goto Xl3lq; z5u8G: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto HtQFz; EshqN: QVLHC: goto TQfKC; XvduU: $user = $this->ion_auth->user()->row(); goto PDHYO; KuMMB: $data["\163\151\163\x77\141\x73"] = $this->rapor->getKenaikanSiswa($kelas, $tp->id_tp - 1, "\62"); goto EyiJv; TZM8O: $this->load->view("\x6d\x61\x73\x74\x65\162\57\x6b\x65\x6c\x61\x73\57\156\x61\x69\x6b\153\x65\154\141\163"); goto PKWt0; TR1Ot: $data["\x74\x70\x5f\141\x63\164\151\x76\145"] = $tp; goto z5u8G; KiJGC: $data["\153\145\x6c\141\163\x5f\x62\141\x72\x75"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto TVNuh; TVNuh: if (!($kelas != null)) { goto QVLHC; } goto CgVp3; QvG7b: $data["\160\x72\x6f\146\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto DKFpe; HtQFz: $data["\x73\x6d\164\x5f\x61\x63\x74\x69\166\x65"] = $smt; goto QvG7b; Enet2: $data["\153\x65\x6c\x61\163\x65\163"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\62", "\x3d" . ($lvlKls->level_id + 1)); goto EshqN; Odm7B: $data["\153\x65\154\x61\163\137\x6c\141\155\x61"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\x21\x3d" . $level); goto KiJGC; Xl3lq: } public function naikKelas() { goto io3dz; JPagd: $this->output_json($data); goto NPbxn; sihId: $data["\162\145\163"] = $siswakelas; goto JPagd; L3K7_: foreach ($posts as $d) { goto QivMS; r5s9j: OqsK6: goto ixXOS; QivMS: $idkelases[] = $d->kelas_baru; goto ikSW3; ikSW3: $siswakelas[$d->kelas_baru][] = ["\151\144" => $d->id_siswa]; goto r5s9j; ixXOS: } goto mEcUM; mEcUM: NkdIg: goto eiIdG; U0R2v: $smt = $this->dashboard->getSemesterActive(); goto GQODZ; YvjiU: $siswakelas = []; goto L3K7_; io3dz: $tp = $this->dashboard->getTahunActive(); goto U0R2v; i8QE3: foreach ($idkelases as $ik) { goto vrZhz; Njk9i: foreach ($idks as $idk) { goto P9uoj; qAgBx: w14qL: goto g9qnC; P9uoj: foreach ($siswakelas[$ik] as $s) { goto PpMDQ; PpMDQ: $insert = ["\151\x64\137\x6b\145\154\141\x73\137\x73\x69\x73\167\x61" => $tp->id_tp . $smt->id_smt . $s["\x69\144"], "\x69\x64\137\x74\x70" => $tp->id_tp, "\151\144\137\x73\x6d\x74" => $smt->id_smt, "\x69\144\137\x6b\x65\154\141\x73" => $idk, "\x69\144\x5f\x73\151\163\167\141" => $s["\x69\144"]]; goto kfh3F; TaSVh: l54TJ: goto g_kYO; kfh3F: $res[] = $this->db->replace("\x6b\145\x6c\x61\x73\137\163\151\163\167\x61", $insert); goto TaSVh; g_kYO: } goto qAgBx; g9qnC: JdsX7: goto utrAv; utrAv: } goto lsGsp; lsGsp: UTWEx: goto c__SU; U4J73: $data = array("\x6e\x61\155\141\137\x6b\145\x6c\x61\163" => $kelas->nama_kelas, "\153\x6f\x64\145\x5f\x6b\x65\x6c\141\x73" => $kelas->kode_kelas, "\x6a\165\x72\x75\163\x61\x6e\x5f\151\x64" => $kelas->jurusan_id, "\x69\144\137\x74\x70" => $tp->id_tp, "\x69\x64\x5f\163\x6d\164" => $smt->id_smt, "\154\x65\x76\x65\154\137\x69\x64" => $kelas->level_id, "\147\x75\162\165\x5f\x69\144" => $kelas->guru_id, "\x73\x69\x73\167\141\137\151\x64" => $kelas->siswa_id, "\x6a\165\x6d\x6c\141\150\x5f\163\x69\x73\x77\141" => $jumlah); goto qmeCR; qmeCR: $this->db->where("\x69\144\x5f\x6b\x65\154\x61\163", $kelas_baru->id_kelas); goto fbZNh; ex92w: uZIc5: goto zgBJH; Nr_OC: foreach ($siswakelas[$ik] as $s) { goto F1Aqo; jGlvH: JTxQX: goto Qe7eh; F1Aqo: foreach ($jmlLama as $lama) { goto Ps05B; SqzAc: array_push($jmlLama, ["\151\x64" => $s["\151\x64"]]); goto Hmncd; Ps05B: if (!($lama["\x69\x64"] != $s["\151\x64"])) { goto O8xzS; } goto SqzAc; Hmncd: array_push($idks, $kelas_baru->id_kelas); goto cxLfa; cxLfa: O8xzS: goto x1Mn2; x1Mn2: oiCZJ: goto VetNS; VetNS: } goto jGlvH; Qe7eh: EY_FJ: goto SPbHi; SPbHi: } goto I2aPz; y0793: goto GFHc2; goto ex92w; iHhnf: if ($kelas_baru == null) { goto m9wzi; } goto wATf8; wATf8: if ($mode == "\x70\145\x72\163\151\x73\x77\x61") { goto uZIc5; } goto CJpar; fbZNh: $this->db->update("\x6d\x61\x73\164\145\x72\137\153\145\x6c\x61\163", $data); goto r2M1T; c__SU: qZb0n: goto PcjdU; XTx92: $jumlah = serialize($siswakelas[$ik]); goto g06vH; CJpar: $jumlah = serialize($siswakelas[$ik]); goto mCX79; mCX79: array_push($idks, $kelas_baru->id_kelas); goto y0793; vrZhz: $kelas = $this->kelas->get_one($ik, $tp->id_tp - 1, "\x32"); goto LbhT3; g06vH: $data = array("\156\141\x6d\x61\137\x6b\x65\154\141\163" => $kelas->nama_kelas, "\153\157\144\x65\x5f\153\x65\154\141\163" => $kelas->kode_kelas, "\152\x75\162\x75\x73\141\x6e\x5f\x69\x64" => $kelas->jurusan_id, "\x69\144\x5f\164\160" => $tp->id_tp, "\x69\x64\x5f\x73\155\164" => $smt->id_smt, "\x6c\x65\166\145\x6c\137\x69\x64" => $kelas->level_id, "\147\x75\162\165\137\151\144" => $kelas->guru_id, "\163\x69\x73\x77\x61\x5f\x69\x64" => $kelas->siswa_id, "\152\165\x6d\x6c\141\x68\137\163\151\x73\x77\x61" => $jumlah); goto frqQm; JB3X2: Xh8xu: goto Njk9i; frqQm: $this->db->insert("\x6d\141\x73\x74\x65\x72\x5f\153\x65\154\x61\163", $data); goto XAGXb; r2M1T: goto Xh8xu; goto cJcT5; u9N0N: $jumlah = serialize($jmlLama); goto eV1sn; cJcT5: m9wzi: goto XTx92; XAGXb: array_push($idks, $this->db->insert_id()); goto JB3X2; eV1sn: GFHc2: goto U4J73; I2aPz: DX7O4: goto u9N0N; zgBJH: $jmlLama = unserialize($kelas_baru->jumlah_siswa); goto Nr_OC; LbhT3: $kelas_baru = $this->kelas->getKelasByNama($kelas->nama_kelas, $tp->id_tp, $smt->id_smt); goto iHhnf; PcjdU: } goto IKNnQ; N0J2M: $res = []; goto MBnIc; GQODZ: $posts = json_decode($this->input->post("\153\145\154\141\x73", true)); goto VFGDq; VFGDq: $mode = $this->input->post("\155\x6f\x64\x65", true); goto t3H1F; eiIdG: $idkelases = array_unique($idkelases); goto N0J2M; MBnIc: $idks = []; goto i8QE3; t3H1F: $idkelases = []; goto YvjiU; IKNnQ: e1J6D: goto sihId; NPbxn: } public function hapus($id_kelas) { goto m5Xji; jD0Aj: $delete["\153\145\x6c\141\163"] = $this->master->delete("\155\141\x73\164\x65\x72\x5f\x6b\x65\154\x61\x73", $id_kelas, "\151\x64\137\153\145\154\141\x73"); goto IVeQL; m5Xji: $delete["\163\151\163\x77\x61"] = $this->master->delete("\153\145\x6c\x61\163\x5f\x73\x69\163\167\x61", $id_kelas, "\x69\144\x5f\x6b\x65\154\141\163"); goto jD0Aj; IVeQL: $this->output_json($delete); goto JWjia; JWjia: } }
