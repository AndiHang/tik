<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\x41\x53\105\120\101\x54\x48") or exit("\116\x6f\40\x64\151\x72\x65\x63\164\40\163\143\162\151\160\x74\x20\x61\143\143\145\x73\163\x20\141\154\154\157\167\x65\144"); class Datakelas extends CI_Controller { public function __construct() { goto I1deS; wcYde: $this->load->model("\122\141\160\157\x72\137\x6d\x6f\x64\145\154", "\x72\141\160\157\162"); goto pVMU3; GzkDV: UGZw2: goto Zu4K0; ym_k1: $this->load->model("\113\x65\154\141\x73\137\155\x6f\x64\145\x6c", "\x6b\145\x6c\x61\163"); goto B5S6D; vqEoU: $this->load->model("\115\x61\x73\164\145\162\x5f\155\x6f\x64\145\x6c", "\x6d\141\x73\164\x65\162"); goto yQSUg; I1deS: parent::__construct(); goto fMLhT; pVMU3: $this->form_validation->set_error_delimiters('', ''); goto huVXk; dWZnP: redirect("\141\165\164\150"); goto GzkDV; wQQqm: show_error("\x48\x61\156\x79\141\40\x41\x64\x6d\151\x6e\x69\163\x74\162\x61\164\157\162\x20\x79\x61\156\x67\x20\x64\151\x62\145\x72\151\x20\150\141\153\40\165\x6e\x74\x75\x6b\x20\x6d\x65\x6e\147\x61\x6b\163\x65\x73\x20\x68\x61\154\141\155\141\x6e\x20\151\156\151\54\x20\x3c\141\40\150\162\145\x66\75\x22" . base_url("\144\x61\x73\x68\142\157\141\x72\x64") . "\42\76\x4b\x65\155\142\141\154\x69\x20\153\145\x20\x6d\x65\156\165\x20\x61\167\141\154\x3c\x2f\141\x3e", 403, "\x41\153\163\145\163\40\x54\145\162\154\141\162\141\x6e\147"); goto BdFYu; dSuCx: goto UGZw2; goto hbsoK; BdFYu: jA8hU: goto dSuCx; i95BG: if ($this->ion_auth->is_admin()) { goto jA8hU; } goto wQQqm; Zu4K0: $this->load->library(["\144\141\x74\x61\164\x61\x62\x6c\145\x73", "\146\157\162\x6d\137\166\141\x6c\x69\x64\x61\x74\151\x6f\156"]); goto ym_k1; B5S6D: $this->load->model("\104\x61\163\150\142\x6f\141\x72\144\137\155\x6f\x64\145\x6c", "\144\141\163\x68\142\x6f\x61\162\144"); goto vqEoU; hbsoK: xi9vr: goto dWZnP; fMLhT: if (!$this->ion_auth->logged_in()) { goto xi9vr; } goto i95BG; yQSUg: $this->load->model("\x44\162\x6f\160\144\157\167\156\137\x6d\157\144\x65\154", "\x64\x72\x6f\x70\144\x6f\167\x6e"); goto wcYde; huVXk: } public function output_json($data, $encode = true) { goto apR8D; X6vH6: ACug8: goto k52vP; apR8D: if (!$encode) { goto ACug8; } goto dBSO2; k52vP: $this->output->set_content_type("\141\x70\x70\x6c\151\143\x61\x74\151\x6f\x6e\57\x6a\163\157\156")->set_output($data); goto j7Br4; dBSO2: $data = json_encode($data); goto X6vH6; j7Br4: } public function index() { goto MSIQN; lpg31: $tp = $this->dashboard->getTahunActive(); goto P9E7x; WS9c7: $data["\147\165\162\x75"] = $this->kelas->get_guru(); goto Dqqln; MSIQN: $user = $this->ion_auth->user()->row(); goto Sn_TG; P0mo_: $data["\164\160\x5f\x61\x63\164\x69\x76\x65"] = $tp; goto KMYXM; KMYXM: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto oRLb9; QSFlf: $data["\x6b\145\x6c\141\x73"] = $kelas; goto ef0fB; Sn_TG: $setting = $this->dashboard->getSetting(); goto eJ17M; VIvdi: $data["\154\x65\x76\145\154"] = $this->kelas->getLevel($setting->jenjang); goto WS9c7; W7pVB: $chek = $this->kelas->count_all(); goto XO7Az; uOqR6: $kelas = $this->kelas->getKelasList($tp->id_tp, $smt->id_smt); goto Uinqh; oRLb9: $data["\x73\x6d\164\137\141\143\164\x69\x76\145"] = $smt; goto TPm8j; P9E7x: $smt = $this->dashboard->getSemesterActive(); goto sow7Z; sow7Z: $data["\164\160"] = $this->dashboard->getTahun(); goto P0mo_; Ip175: $data["\x6a\x75\x72\x75\163\x61\156"] = $this->kelas->get_jurusan(); goto VIvdi; x8J9f: zqnWg: goto QSFlf; GP4J_: $this->load->view("\x5f\x74\x65\x6d\160\154\x61\164\x65\x73\x2f\144\141\163\x68\x62\x6f\141\162\x64\57\137\146\x6f\157\164\145\x72"); goto LkQ0U; XO7Az: $kelas = []; goto bQ1_Z; Uinqh: $kelas_lama = $this->kelas->getKelasList($tp->id_tp - 1, "\x32"); goto x8J9f; NS54v: $this->load->view("\x5f\164\145\155\160\x6c\x61\164\x65\163\x2f\144\141\163\x68\142\157\x61\x72\x64\x2f\x5f\150\145\141\x64\145\162", $data); goto NLSul; qbAba: if (!($chek > 0)) { goto zqnWg; } goto uOqR6; ef0fB: $data["\153\x65\154\141\x73\x5f\154\x61\155\141"] = $kelas_lama; goto Ip175; bQ1_Z: $kelas_lama = []; goto qbAba; Dqqln: $data["\163\151\163\167\141"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto NS54v; eJ17M: $data = ["\165\x73\145\162" => $user, "\152\x75\x64\x75\x6c" => "\113\x65\154\x61\163", "\x73\165\142\x6a\165\x64\165\x6c" => "\104\141\164\x61\x20\113\x65\x6c\141\163", "\163\145\x74\x74\151\156\x67" => $setting]; goto lpg31; NLSul: $this->load->view("\x6d\x61\163\x74\x65\x72\57\x6b\145\x6c\141\x73\57\144\x61\164\x61"); goto GP4J_; TPm8j: $data["\x70\x72\157\x66\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto W7pVB; LkQ0U: } public function detail($id) { goto DENtk; K4Yn7: $this->load->view("\x5f\x74\145\155\160\154\x61\164\x65\x73\57\x64\x61\x73\x68\142\x6f\141\162\x64\57\137\x66\157\157\164\x65\162"); goto oKdnU; clwNc: $data["\x67\165\x72\x75"] = $this->kelas->get_guru(); goto gOjeP; hDK65: $data["\x73\x74\162\x75\x6b\164\165\x72"] = json_decode(json_encode($this->kelas->dummyStruktur())); goto F_vLw; f1fbS: if ($struktur == null) { goto TdN25; } goto vmUqB; Caxhj: TdN25: goto hDK65; vmUqB: $data["\x73\x74\x72\x75\153\164\165\162"] = $struktur; goto KtLXN; Wktqb: $tp = $this->dashboard->getTahunActive(); goto sF4lv; gOjeP: $data["\x73\151\x73\167\141\x73"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto pkgOG; aUJSq: $data["\x6a\x75\x72\165\x73\x61\x6e"] = $this->kelas->get_jurusan(); goto C01m1; F_vLw: VOCFp: goto b4aAo; C01m1: $data["\x6c\145\x76\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto clwNc; rqJYZ: $data["\153\x65\154\141\163"] = $this->kelas->get_one($id); goto aUJSq; XPQli: $data = ["\x75\x73\145\162" => $user, "\152\x75\144\x75\154" => "\104\145\x74\x61\x69\154\40\x4b\x65\154\x61\x73", "\163\x75\142\x6a\165\x64\165\x6c" => "\104\x65\164\x61\x69\154\x20\x4b\x65\x6c\141\163", "\x73\145\164\164\x69\x6e\x67" => $setting]; goto Wktqb; BUZnJ: $this->load->view("\155\x61\x73\164\145\162\57\153\145\154\141\163\57\x64\x65\x74\x61\x69\154"); goto K4Yn7; FvZdu: $setting = $this->dashboard->getSetting(); goto XPQli; tbUv2: $data["\x74\x70\137\x61\143\x74\x69\166\x65"] = $tp; goto jdbdY; b4aAo: $this->load->view("\x5f\164\x65\x6d\160\x6c\141\164\145\163\57\144\141\163\x68\142\x6f\x61\x72\x64\x2f\137\x68\145\141\144\x65\x72", $data); goto BUZnJ; sF4lv: $smt = $this->dashboard->getSemesterActive(); goto OSVI2; pkgOG: $struktur = $this->kelas->getStrukturKelas($id); goto f1fbS; jdbdY: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto SUojg; OSVI2: $data["\x74\160"] = $this->dashboard->getTahun(); goto tbUv2; SUojg: $data["\163\x6d\164\x5f\x61\x63\164\x69\166\x65"] = $smt; goto YXzMc; DENtk: $user = $this->ion_auth->user()->row(); goto FvZdu; KtLXN: goto VOCFp; goto Caxhj; YXzMc: $data["\x70\x72\x6f\x66\x69\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto rqJYZ; oKdnU: } public function add() { goto UhL3H; LP2V2: $data["\x73\x6d\164\137\141\143\164\151\166\145"] = $smt; goto OUIk6; pSYpa: $data["\x67\165\x72\165"] = $this->kelas->get_guru(); goto wlbER; pFkzX: $this->load->view("\x5f\164\x65\x6d\160\x6c\x61\x74\145\163\x2f\x64\141\x73\x68\142\x6f\141\162\x64\57\137\x68\145\141\144\145\162", $data); goto MuFyQ; J4T95: $data["\164\160"] = $this->dashboard->getTahun(); goto xY4VB; Sf1F8: $data["\154\145\166\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto pSYpa; UhL3H: $user = $this->ion_auth->user()->row(); goto Dvsua; ozbhL: $data["\x6a\x75\162\x75\x73\x61\x6e"] = $this->kelas->get_jurusan(); goto Sf1F8; nbKZZ: $data["\x6b\x65\154\x61\x73"] = json_decode(json_encode($this->kelas->dummy())); goto ozbhL; MkajG: $data = ["\x75\x73\x65\x72" => $user, "\x6a\x75\144\x75\154" => "\113\145\154\x61\163", "\163\x75\142\152\165\144\165\154" => "\124\x61\155\142\141\150\40\x4b\145\154\141\x73", "\163\145\x74\164\x69\156\x67" => $setting]; goto yAUjM; wlbER: $siswa = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto XW9kl; JAF__: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto LP2V2; MuFyQ: $this->load->view("\155\141\x73\x74\x65\162\57\x6b\145\x6c\141\163\57\x61\144\144"); goto lxDhH; xY4VB: $data["\x74\160\x5f\x61\143\164\151\166\145"] = $tp; goto JAF__; lxDhH: $this->load->view("\x5f\164\145\155\x70\154\141\x74\145\x73\57\144\141\163\150\142\157\141\x72\144\x2f\x5f\x66\157\157\164\145\162"); goto qsl5u; XW9kl: $data["\x73\x69\x73\x77\x61"] = $siswa; goto tOXw8; yAUjM: $tp = $this->dashboard->getTahunActive(); goto cHr76; Dvsua: $setting = $this->dashboard->getSetting(); goto MkajG; tOXw8: $data["\163\x69\163\x77\x61\x6b\145\154\x61\163"] = array(); goto pFkzX; OUIk6: $data["\160\x72\x6f\x66\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto nbKZZ; cHr76: $smt = $this->dashboard->getSemesterActive(); goto J4T95; qsl5u: } public function edit($id = '') { goto fb3_Z; pISUq: $data["\x73\151\163\167\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto IydrY; Jjtpm: $data["\163\155\x74\x5f\141\143\164\151\166\145"] = $smt; goto L1BZo; ZHJbN: $data["\x67\165\x72\165"] = $this->kelas->getWaliKelas($tp->id_tp, $smt->id_smt); goto pISUq; Eoi1f: $smt = $this->dashboard->getSemesterActive(); goto EVwdg; ZMzEt: $data["\x69\144\x5f\x6b\145\154\141\x73"] = $id; goto s_Bbl; s_Bbl: $data["\x6b\145\x6c\141\x73"] = $this->kelas->get_one($id); goto hi8s9; fb3_Z: $user = $this->ion_auth->user()->row(); goto IUh43; KzYu5: $this->load->view("\137\x74\145\x6d\x70\x6c\141\x74\x65\163\57\x64\141\x73\x68\142\x6f\x61\162\144\57\x5f\x66\157\157\x74\x65\162"); goto VVdVM; BbW7q: $data = ["\x75\x73\145\162" => $user, "\152\x75\144\x75\x6c" => "\113\x65\154\141\163", "\x73\165\142\x6a\165\x64\165\154" => "\x45\144\151\x74\40\113\145\x6c\x61\x73", "\163\145\x74\164\x69\x6e\147" => $setting]; goto J4E0q; J4E0q: $tp = $this->dashboard->getTahunActive(); goto Eoi1f; zsag6: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto Jjtpm; EVwdg: $data["\x74\x70"] = $this->dashboard->getTahun(); goto Dzq1E; Dzq1E: $data["\x74\160\137\x61\x63\164\x69\x76\x65"] = $tp; goto zsag6; d0SKn: $this->load->view("\155\x61\163\x74\x65\162\57\x6b\x65\x6c\141\x73\57\x61\144\x64"); goto KzYu5; IUh43: $setting = $this->dashboard->getSetting(); goto BbW7q; HZxqq: $this->load->view("\137\164\145\x6d\x70\154\141\x74\145\163\x2f\x64\x61\163\x68\x62\157\x61\x72\144\57\x5f\150\145\141\144\145\x72", $data); goto d0SKn; hi8s9: $data["\152\165\x72\165\163\x61\x6e"] = $this->kelas->get_jurusan(); goto Q6N_p; IydrY: $data["\163\x69\163\x77\141\153\145\x6c\141\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto HZxqq; Q6N_p: $data["\154\145\166\x65\x6c"] = $this->kelas->getLevel($setting->jenjang); goto ZHJbN; L1BZo: $data["\160\x72\157\x66\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto ZMzEt; VVdVM: } public function save() { goto Ax802; nFj2j: if (!($id_siswa != null)) { goto ELX1f; } goto i4HBe; RjUD0: if ($this->form_validation->run() == TRUE) { goto B32eF; } goto iWcNy; YpLrl: if (!$status) { goto tnM9M; } goto vUpjq; RiSG4: $this->form_validation->set_rules($config); goto l462e; uYvz9: $insert = array("\156\x61\x6d\141\137\x6b\x65\x6c\141\163" => strip_tags($this->input->post("\156\141\x6d\141\137\x6b\145\x6c\141\x73", TRUE)), "\153\157\x64\145\x5f\x6b\145\154\141\163" => strip_tags($this->input->post("\x6b\157\x64\x65\137\x6b\x65\154\141\x73", TRUE)), "\152\165\162\x75\163\141\156\137\x69\x64" => strip_tags($this->input->post("\x6a\x75\162\x75\x73\141\x6e\x5f\x69\144", TRUE)), "\151\x64\137\x74\160" => $id_tp, "\151\x64\x5f\x73\x6d\164" => $id_smt, "\154\145\x76\x65\x6c\137\151\x64" => strip_tags($this->input->post("\154\x65\x76\x65\154\137\151\144", TRUE)), "\147\x75\162\x75\x5f\151\x64" => strip_tags($this->input->post("\147\165\x72\x75\x5f\x69\x64", TRUE)), "\x73\151\163\x77\x61\137\x69\144" => strip_tags($this->input->post("\x73\x69\163\x77\141\x5f\151\144", TRUE)), "\152\165\155\x6c\x61\150\x5f\163\151\163\167\x61" => $jumlah); goto dMbVZ; XEUSu: ELX1f: goto bBK3w; TduJS: UGmVU: goto OTzwe; A9rGZ: $i = 0; goto ynuPP; qyvPX: $updated = false; goto iUBBO; YYn7y: $status = $this->db->insert("\155\141\163\164\145\162\137\153\x65\x6c\141\x73", $insert); goto H6AI5; bBK3w: OV2L4: goto P2li9; UhvWu: $guru_id = strip_tags($this->input->post("\147\x75\162\165\137\x69\144", TRUE)); goto eu0P4; XnHqS: $id_smt = $this->master->getSemesterActive()->id_smt; goto kX86L; TT65w: goto UvF2a; goto TduJS; OTzwe: foreach ($insert as $ins) { goto OqBqg; OqBqg: if (!$this->db->replace("\x6b\145\x6c\141\x73\x5f\163\x69\x73\167\x61", $ins)) { goto bMzB2; } goto HLw7h; dowdq: LV93r: goto MJoWi; cg7jH: bMzB2: goto dowdq; HLw7h: $siswa_inserted++; goto cg7jH; MJoWi: } goto JyWj4; Un6eP: UvF2a: goto QHEOY; UNDqa: y2ePA: goto Q_Kz0; Yvs5X: goto qKpDo; goto CEETA; WLwJ1: goto Lr_te; goto FLO3r; rv4FB: goto p4I0n; goto yZ80Z; dMbVZ: $id_new = null; goto n5rw5; q4qY6: $data["\x73\164\x61\164\165\163"] = $status; goto N1GiW; o6kPI: $data["\x69\156\163\145\162\x74"] = $insert; goto n9b_P; eu0P4: $id_tp = $this->master->getTahunActive()->id_tp; goto XnHqS; RQRNQ: $insert = []; goto qAUvy; skvTi: bspIt: goto YYn7y; Pucbm: $siswa_kelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto ygRNT; b452n: $jumlah = serialize($siswakelas); goto uYvz9; qAUvy: if (!($id != null && $id != '')) { goto dFE1q; } goto Pucbm; lyjBL: $this->db->where("\151\144\x5f\152\x61\x62\141\164\x61\x6e\137\x67\x75\x72\x75", $guru_id . $id_tp . $id_smt); goto LXhcS; yZ80Z: ceEPa: goto E_OcY; jjdns: goto V0Swx; goto UNDqa; nJJ0a: oHPbi: goto WLKnu; ySNj2: $insert[$id_tp . $id_smt . $idsiswa] = ["\151\x64\x5f\x6b\x65\154\141\x73\137\163\x69\163\167\141" => $id_tp . $id_smt . $idsiswa, "\151\144\x5f\164\x70" => $id_tp, "\x69\144\137\163\155\x74" => $id_smt, "\x69\x64\137\x6b\x65\x6c\141\163" => $new_id_kelas, "\x69\x64\x5f\163\151\163\x77\x61" => $idsiswa]; goto jjdns; iWcNy: $status = FALSE; goto Yvs5X; Ax802: $id = $this->input->post("\151\144\x5f\153\x65\x6c\141\x73", true); goto UhvWu; QgkGk: qKpDo: goto As0OM; U893H: ExDuR: goto UK4Y3; UK4Y3: dFE1q: goto y0wVw; i4HBe: array_push($siswakelas, ["\x69\144" => $id_siswa]); goto XEUSu; Cmz9v: if (isset($insert[$id_tp . $id_smt . $idsiswa])) { goto y2ePA; } goto ySNj2; n5rw5: if ($id != null && $id != '') { goto ceEPa; } goto RiSG4; ynuPP: Lr_te: goto FfqQG; G13Mi: $this->db->where("\151\x64\137\x6b\x65\x6c\x61\163", $id); goto jM9vY; FLO3r: roiZU: goto b452n; eTul4: V0Swx: goto nJJ0a; LXhcS: $updated = $this->db->update("\x6a\x61\x62\x61\164\141\156\137\x67\165\162\165"); goto R9pE1; CEETA: B32eF: goto G13Mi; QHEOY: if (!($i <= count($siswas))) { goto UGmVU; } goto HM2Kz; JyWj4: yzzSL: goto o6kPI; H6AI5: $id_new = $this->db->insert_id(); goto gaEZR; ygRNT: if (!(count($siswa_kelas) > 0)) { goto ExDuR; } goto FXIBV; As0OM: p4I0n: goto qyvPX; y0wVw: $i = 0; goto Un6eP; Q_Kz0: $insert[$id_tp . $id_smt . $idsiswa]["\x69\144\137\153\x65\x6c\x61\x73"] = $new_id_kelas; goto eTul4; E_OcY: $this->form_validation->set_rules($config); goto RjUD0; SeGQ8: $data["\165\160\x64\x61\164\x65"] = $updated; goto q4qY6; P2li9: $i++; goto WLwJ1; n9b_P: v_GkI: goto tDEhj; DiZXa: $id_siswa = isset($siswas[$i]) ? $siswas[$i] : null; goto nFj2j; Xpboj: if (!($idsiswa != null)) { goto oHPbi; } goto Cmz9v; qBCBX: $data["\163\151\x73\x77\141"] = $siswa_inserted; goto SeGQ8; N1GiW: $this->output_json($data); goto iUxNi; jM9vY: $status = $this->db->update("\155\x61\163\x74\x65\162\x5f\153\x65\154\x61\163", $insert); goto QgkGk; FfqQG: if (!($i <= count($siswas))) { goto roiZU; } goto DiZXa; tSNGX: $config = array(array("\x66\151\x65\154\144" => "\156\141\155\x61\x5f\x6b\x65\154\x61\163", "\x6c\x61\x62\145\x6c" => "\116\x61\155\141\40\113\x65\x6c\141\163", "\x72\165\x6c\x65\163" => "\x74\x72\151\x6d"), array("\x66\x69\x65\154\144" => "\153\x6f\x64\x65\137\153\145\154\141\163", "\154\x61\x62\x65\154" => "\x4b\157\144\145\40\113\x65\x6c\141\x73", "\162\165\154\145\x73" => "\x74\x72\151\155"), array("\x66\x69\145\x6c\144" => "\x6a\x75\x72\x75\x73\x61\156\x5f\x69\144", "\x6c\141\x62\145\x6c" => "\112\165\162\x75\163\141\x6e", "\162\x75\x6c\x65\163" => "\x74\162\x69\x6d"), array("\146\151\x65\x6c\x64" => "\x6c\145\166\x65\154\137\x69\x64", "\154\x61\142\x65\x6c" => "\x4c\145\x76\x65\x6c", "\162\165\154\x65\x73" => "\x74\162\x69\x6d"), array("\x66\151\145\154\x64" => "\147\165\162\x75\x5f\x69\x64", "\x6c\141\142\145\x6c" => "\x47\x75\x72\x75", "\x72\x75\154\145\163" => "\164\x72\x69\x6d"), array("\146\151\145\x6c\x64" => "\163\151\163\x77\141\x5f\x69\x64", "\x6c\x61\142\145\x6c" => "\123\x69\x73\167\x61", "\162\x75\x6c\x65\x73" => "\x74\x72\151\x6d")); goto XsE3b; kX86L: $siswas = $this->input->post("\163\151\163\x77\x61", true); goto tSNGX; R9pE1: if (!$updated) { goto v_GkI; } goto RQRNQ; w8dCb: goto dHFEB; goto skvTi; WLKnu: V2DjU: goto azK0f; Qmw1S: $status = FALSE; goto w8dCb; gaEZR: dHFEB: goto rv4FB; XsE3b: $siswakelas = []; goto A9rGZ; iUBBO: $siswa_inserted = 0; goto YpLrl; azK0f: $i++; goto TT65w; HM2Kz: $idsiswa = isset($siswas[$i]) ? $siswas[$i] : null; goto htStr; FXIBV: foreach ($siswa_kelas as $id_siswa => $sis) { $insert[$id_tp . $id_smt . $id_siswa] = ["\x69\x64\137\153\x65\x6c\141\163\x5f\x73\x69\163\167\141" => $id_tp . $id_smt . $id_siswa, "\x69\x64\137\x74\160" => $id_tp, "\x69\x64\137\163\155\x74" => $id_smt, "\151\x64\x5f\153\x65\x6c\x61\163" => 0, "\x69\x64\x5f\163\151\x73\x77\141" => $id_siswa]; vB0Lh: } goto Swp2o; l462e: if ($this->form_validation->run() == TRUE) { goto bspIt; } goto Qmw1S; tDEhj: tnM9M: goto qBCBX; vUpjq: $this->db->set("\x69\144\x5f\x6b\145\x6c\141\163", $id); goto lyjBL; htStr: $new_id_kelas = $id != null && $id != '' ? $id : $id_new; goto Xpboj; Swp2o: d2W2e: goto U893H; iUxNi: } public function update_kelas($id) { goto ku_zM; v9laO: OnfiE: goto S0Xl7; hfqHP: $siswakelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto wDDln; mIF_g: $i = 0; goto EFfiG; tH3vx: $id_smt = $this->master->getSemesterActive()->id_smt; goto hfqHP; tUTpS: foreach ($siswakelas as $id_siswa => $sis) { goto ZWeFD; Jtc72: IywWX: goto XgaEY; ZWeFD: $insert = ["\151\144\x5f\x6b\x65\154\141\x73\137\163\151\163\x77\141" => $id_tp . $id_smt . $id_siswa, "\151\x64\137\164\160" => $id_tp, "\x69\144\137\x73\x6d\x74" => $id_smt, "\x69\x64\137\153\x65\x6c\141\x73" => 0, "\151\x64\137\x73\151\163\167\x61" => $id_siswa]; goto VuP1M; VuP1M: $this->db->replace("\x6b\x65\x6c\141\x73\x5f\x73\151\x73\167\x61", $insert); goto Jtc72; XgaEY: } goto fsv_0; wT7du: goto ezhpK; goto ZqMYe; EFfiG: ezhpK: goto EQrZN; gERsi: R21IQ: goto a1Bqk; ku_zM: $id_tp = $this->master->getTahunActive()->id_tp; goto tH3vx; a1Bqk: AElis: goto XrLzO; wDDln: if (!(count($siswakelas) > 0)) { goto OnfiE; } goto tUTpS; S0Xl7: $rowsSelect = count($this->input->post("\x73\x69\x73\167\x61", true)); goto mIF_g; vK3_p: $this->db->replace("\x6b\x65\154\141\x73\x5f\x73\x69\x73\167\x61", $insert); goto gERsi; EQrZN: if (!($i <= $rowsSelect)) { goto w6_Ue; } goto o1GVh; o1GVh: $id_siswa = $this->input->post("\163\x69\163\x77\x61\133" . $i . "\135", true); goto UJiqR; UJiqR: if (!($id_siswa != null)) { goto R21IQ; } goto KI2pb; ZqMYe: w6_Ue: goto VIjjS; fsv_0: jjhpA: goto v9laO; KI2pb: $insert = ["\151\144\137\x6b\145\x6c\x61\163\137\x73\x69\163\167\141" => $id_tp . $id_smt . $id_siswa, "\x69\144\x5f\x74\x70" => $id_tp, "\x69\x64\137\x73\155\164" => $id_smt, "\151\x64\x5f\153\x65\154\x61\x73" => $id, "\x69\x64\137\163\151\163\167\141" => $id_siswa]; goto vK3_p; XrLzO: $i++; goto wT7du; VIjjS: return $siswakelas; goto s78ke; s78ke: } public function manage() { goto s81HO; c2bt3: $data["\163\x6d\164\137\141\x63\164\151\x76\145"] = $smt; goto bdR4J; SKgHQ: $tp = $this->dashboard->getTahunActive(); goto TY7Vs; fKoN3: $data["\164\x70\137\x61\x63\x74\x69\166\x65"] = $tp; goto y6NrK; TY7Vs: $smt = $this->dashboard->getSemesterActive(); goto IrUEZ; KPr9K: $data = ["\165\163\145\162" => $user, "\152\165\x64\165\154" => "\103\x6f\160\171\40\113\145\x6c\x61\163", "\x73\x75\x62\152\165\144\x75\x6c" => "\x43\x6f\160\x79\40\x44\x61\x74\141\40\113\x65\x6c\x61\163\40\x6b\145\40\x53\115\x54\x20\111\111", "\163\145\x74\164\x69\156\x67" => $this->dashboard->getSetting()]; goto SKgHQ; qmnVZ: $this->load->view("\137\x74\x65\155\x70\154\x61\x74\145\163\x2f\x64\141\163\x68\142\x6f\x61\x72\x64\57\x5f\150\x65\x61\144\145\x72", $data); goto IvfpX; y6NrK: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto c2bt3; IvfpX: $this->load->view("\x6d\x61\x73\164\145\x72\57\x6b\145\154\x61\x73\x2f\x70\145\x72\x73\x65\155\145\x73\164\145\x72"); goto rbq_6; IrUEZ: $data["\x74\160"] = $this->dashboard->getTahun(); goto fKoN3; rbq_6: $this->load->view("\137\x74\145\155\160\x6c\141\x74\x65\x73\x2f\x64\141\x73\150\142\x6f\141\x72\x64\57\x5f\146\157\157\x74\x65\x72"); goto DcWoM; fYbHV: $data["\x6b\x65\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto vR9Jk; bdR4J: $data["\x70\x72\157\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto fYbHV; s81HO: $user = $this->ion_auth->user()->row(); goto KPr9K; vR9Jk: $data["\x6b\145\154\141\x73\x32"] = $this->dropdown->getAllKelas($tp->id_tp, "\x32"); goto qmnVZ; DcWoM: } public function getFromSmt1($kelas) { goto ns7Mt; ns7Mt: $tp = $this->dashboard->getTahunActive(); goto ehFdb; WFEIr: $this->output_json(["\163\x6d\x74\x31" => $data1, "\x73\x6d\164\62" => $ids]); goto pZXF1; lo1Dc: foreach ($data2 as $s) { $ids[] = $s->id_siswa; zlAnM: } goto H2bkF; CBd1L: $data2 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\62"); goto XWcOD; JwzpF: lNzVk: goto WFEIr; sX9Zp: if (!(count($data2) > 0)) { goto lNzVk; } goto lo1Dc; ehFdb: $data1 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\61"); goto CBd1L; XWcOD: $ids = []; goto sX9Zp; H2bkF: bnpWQ: goto JwzpF; pZXF1: } public function copyFromSmt1() { goto v7eNN; lCKPB: $idk = $this->db->insert_id(); goto Uw81e; Q6PlE: $arrSiswa = unserialize($kelas->jumlah_siswa); goto FuWyO; xKI8q: gvX1I: goto aJLhz; FuWyO: foreach ($arrSiswa as $value) { goto qsjiy; PzeoK: UcDWu: goto DZLlp; FsEBj: if (!($id_siswa != null)) { goto UcDWu; } goto dme1P; dme1P: $insert = ["\x69\144\137\x6b\x65\x6c\141\x73\137\163\x69\163\x77\x61" => $tp->id_tp . $smt->id_smt . $id_siswa, "\x69\x64\x5f\x74\x70" => $tp->id_tp, "\151\144\x5f\x73\155\x74" => $smt->id_smt, "\151\x64\x5f\x6b\x65\x6c\x61\163" => $idk, "\x69\144\137\x73\x69\163\x77\141" => $id_siswa]; goto BD1pT; BD1pT: $res[] = $this->db->replace("\153\x65\154\141\163\137\163\x69\163\167\141", $insert); goto PzeoK; qsjiy: $id_siswa = $value["\x69\x64"]; goto FsEBj; DZLlp: pMNE1: goto SK6n6; SK6n6: } goto xKI8q; EiG1l: $kelas1 = $this->input->post("\153\x65\154\x61\x73\x5f\x6c\x61\155\x61", true); goto EK_Ym; VVhdc: $data = array("\156\x61\x6d\x61\137\153\145\154\141\163" => $kelas2, "\x6b\157\x64\x65\137\x6b\145\x6c\x61\163" => $kelas->kode_kelas, "\152\165\162\165\x73\141\156\137\x69\x64" => $kelas->jurusan_id, "\x69\144\137\164\160" => $tp->id_tp, "\x69\x64\x5f\163\155\164" => $smt->id_smt, "\x6c\145\166\x65\x6c\137\151\144" => $kelas->level_id, "\147\x75\162\165\137\x69\144" => $kelas->guru_id, "\163\151\x73\167\141\137\x69\x64" => $kelas->siswa_id, "\x6a\x75\x6d\x6c\x61\150\137\163\151\x73\x77\141" => $kelas->jumlah_siswa); goto LLsVW; aJLhz: $this->output_json($res); goto Lblnv; EK_Ym: $kelas2 = $this->input->post("\153\145\x6c\x61\163\x5f\x62\x61\x72\x75", true); goto UEqGS; LLsVW: $this->db->insert("\155\x61\x73\164\145\162\x5f\153\x65\154\141\x73", $data); goto lCKPB; k24An: $smt = $this->dashboard->getSemesterActive(); goto EiG1l; UEqGS: $kelas = $this->kelas->get_one($kelas1, $tp->id_tp, "\x31"); goto VVhdc; Uw81e: $res = []; goto Q6PlE; v7eNN: $tp = $this->dashboard->getTahunActive(); goto k24An; Lblnv: } public function copySiswaFromSmt1() { goto KXq93; R1Lth: fts74: goto g8Arf; WtfiT: $res = []; goto bW5At; g8Arf: $this->output_json($res); goto c8Jyz; BTEdP: $posts = json_decode($this->input->post("\153\x65\x6c\x61\x73", true)); goto ODiH0; jh8Oy: $smt = $this->dashboard->getSemesterActive(); goto BTEdP; HuGcD: $siswakelas = []; goto tJ6My; ODiH0: $idkelases = []; goto HuGcD; tJ6My: foreach ($posts as $d) { goto TkXkn; TkXkn: $idkelases[] = $d->id_kelas; goto WeYuh; Vt25Y: Vk4Xl: goto tp8gi; WeYuh: $siswakelas[$d->id_kelas][] = ["\151\x64" => $d->id_siswa]; goto Vt25Y; tp8gi: } goto QpV1L; QpV1L: wcDFi: goto B53iV; bW5At: foreach ($idkelases as $ik) { goto l_f1X; dEBkp: JDDOR: goto XKjT6; XKjT6: A3Foo: goto JJP_J; JJP_J: c1Goc: goto lAIeN; mL3SQ: $kelas = $this->kelas->get_one($ik, $tp->id_tp, "\x31"); goto xWqMx; l_f1X: if (!($ik != '')) { goto A3Foo; } goto mL3SQ; D0pxO: foreach ($siswakelas[$ik] as $s) { goto E7bRz; bWVRm: lIpae: goto o8P_W; rLJLU: $res[] = $this->db->replace("\153\x65\x6c\x61\163\137\x73\151\x73\167\x61", $insert); goto bWVRm; E7bRz: $insert = ["\x69\144\137\x6b\145\x6c\141\x73\x5f\x73\x69\x73\167\141" => $tp->id_tp . $smt->id_smt . $s["\x69\144"], "\151\x64\x5f\x74\x70" => $tp->id_tp, "\151\144\137\163\155\x74" => $smt->id_smt, "\151\144\137\153\x65\x6c\x61\x73" => $idk, "\151\x64\x5f\163\x69\x73\x77\141" => $s["\151\x64"]]; goto rLJLU; o8P_W: } goto dEBkp; iSQcq: $this->db->insert("\155\141\x73\x74\145\162\x5f\x6b\x65\154\x61\x73", $data); goto Scn7e; Scn7e: $idk = $this->db->insert_id(); goto D0pxO; xWqMx: $jumlah = serialize($siswakelas[$ik]); goto D8l2a; D8l2a: $data = array("\x6e\x61\x6d\x61\137\153\145\154\141\x73" => $kelas->nama_kelas, "\153\x6f\x64\145\137\153\145\154\141\x73" => $kelas->kode_kelas, "\152\x75\x72\x75\x73\x61\156\137\151\x64" => $kelas->jurusan_id, "\x69\144\x5f\x74\160" => $tp->id_tp, "\x69\144\137\163\x6d\x74" => $smt->id_smt, "\x6c\x65\x76\145\x6c\137\x69\144" => $kelas->level_id, "\147\x75\x72\165\x5f\x69\144" => $kelas->guru_id, "\x73\x69\x73\x77\x61\137\x69\144" => $kelas->siswa_id, "\152\165\155\x6c\141\150\137\163\151\163\x77\141" => $jumlah); goto iSQcq; lAIeN: } goto R1Lth; KXq93: $tp = $this->dashboard->getTahunActive(); goto jh8Oy; B53iV: $idkelases = array_unique($idkelases); goto WtfiT; c8Jyz: } public function kenaikan() { goto jpejj; W9EQg: $data["\163\151\163\x77\141\x73"] = $this->rapor->getKenaikanSiswa($kelas, $tp->id_tp - 1, "\x32"); goto EHjmC; RrIoa: $data["\153\x65\x6c\141\x73\137\142\141\x72\x75"] = $this->dropdown->getAllKelas($tp->id_tp, "\61"); goto xPAki; XnT2u: $this->load->view("\x6d\x61\x73\164\x65\x72\57\153\145\154\x61\x73\57\x6e\141\151\x6b\x6b\145\x6c\141\163"); goto MVN3b; jpejj: $kelas = $this->input->get("\153\145\154\x61\163", true); goto Jxd04; VX8_n: $tp = $this->dashboard->getTahunActive(); goto xmKD4; nbZBY: $data["\163\x69\x73\x77\x61\137\153\x65\154\x61\x73\x5f\142\141\x72\165"] = $this->master->getSiswaKelasBaru($tp->id_tp, $smt->id_smt); goto W9EQg; aVXo2: $setting = $this->dashboard->getSetting(); goto NtuBc; iRwKE: $level = $setting->jenjang == "\61" ? "\x36" : ($setting->jenjang == "\x32" ? "\71" : ($setting->jenjang == "\x31" ? "\63" : "\x31\x32")); goto Mkz_5; Jxd04: $user = $this->ion_auth->user()->row(); goto aVXo2; r5I7Q: $data["\x74\x70"] = $this->dashboard->getTahun(); goto FrFNz; NtuBc: $data = ["\165\163\x65\162" => $user, "\152\x75\144\165\154" => "\113\x65\x6e\141\x69\x6b\153\x61\156\x20\x4b\x65\154\x61\163", "\163\165\x62\152\165\x64\165\x6c" => "\x4e\141\151\x6b\40\x4b\145\154\x61\x73\40\123\151\x73\x77\141", "\x73\145\164\x74\151\156\147" => $setting]; goto VX8_n; cvmSb: zwgDy: goto kzss4; EHjmC: $data["\153\x65\x6c\x61\x73\x5f\x73\145\154\145\143\x74\x65\144"] = $kelas; goto CPnNp; WqCnZ: $data["\153\x65\x6c\141\x73\145\x73"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\62", "\75" . ($lvlKls->level_id + 1)); goto cvmSb; FrFNz: $data["\164\x70\x5f\x61\x63\x74\151\x76\145"] = $tp; goto zb7Js; kzss4: $this->load->view("\137\164\145\155\x70\154\141\164\145\163\57\144\x61\163\x68\142\157\141\x72\x64\x2f\x5f\x68\x65\x61\144\x65\162", $data); goto XnT2u; LIkOS: $data["\x70\162\x6f\146\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto iRwKE; MVN3b: $this->load->view("\137\164\x65\155\160\x6c\141\x74\145\163\x2f\x64\x61\x73\150\142\x6f\x61\162\x64\57\x5f\x66\157\157\x74\145\162"); goto HPCpM; zb7Js: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto wu3Vu; xPAki: if (!($kelas != null)) { goto zwgDy; } goto nbZBY; CPnNp: $lvlKls = $this->kelas->get_one($kelas, $tp->id_tp - 1, "\x32"); goto WqCnZ; wu3Vu: $data["\163\155\164\x5f\x61\143\164\x69\166\145"] = $smt; goto LIkOS; Mkz_5: $data["\153\x65\x6c\141\163\x5f\154\x61\155\x61"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\41\x3d" . $level); goto RrIoa; xmKD4: $smt = $this->dashboard->getSemesterActive(); goto r5I7Q; HPCpM: } public function naikKelas() { goto DXfSQ; uEOPz: PlzxI: goto ayTeU; liSiq: $idks = []; goto Fkkgr; r_bgP: $data["\162\x65\x73"] = $siswakelas; goto Xgmdq; TfQmJ: $mode = $this->input->post("\x6d\157\144\145", true); goto qpkiF; Ho9Ly: foreach ($posts as $d) { goto SUM7d; CIrI4: CQW43: goto CMV8H; SUM7d: $idkelases[] = $d->kelas_baru; goto NcVVK; NcVVK: $siswakelas[$d->kelas_baru][] = ["\x69\x64" => $d->id_siswa]; goto CIrI4; CMV8H: } goto uEOPz; DXfSQ: $tp = $this->dashboard->getTahunActive(); goto VGxDY; VK8Kp: tnuA5: goto r_bgP; Xgmdq: $this->output_json($data); goto WRWQc; VGxDY: $smt = $this->dashboard->getSemesterActive(); goto YAKjr; Fkkgr: foreach ($idkelases as $ik) { goto zfJJd; qEOKL: $jumlah = serialize($jmlLama); goto UiF_1; mFmpv: if ($mode == "\160\x65\162\x73\151\163\167\x61") { goto hDjqI; } goto jMzar; Qmjuv: $this->db->update("\155\x61\163\164\145\x72\137\x6b\x65\154\x61\163", $data); goto kzpJj; PUMb6: goto sIXYV; goto nWrHz; eEcOz: $data = array("\x6e\x61\155\x61\x5f\153\x65\x6c\141\x73" => $kelas->nama_kelas, "\153\157\x64\145\x5f\153\x65\154\141\x73" => $kelas->kode_kelas, "\152\x75\162\x75\x73\141\156\x5f\x69\x64" => $kelas->jurusan_id, "\x69\144\137\x74\x70" => $tp->id_tp, "\x69\x64\x5f\x73\155\x74" => $smt->id_smt, "\154\145\x76\x65\154\137\x69\x64" => $kelas->level_id, "\x67\x75\x72\165\137\151\144" => $kelas->guru_id, "\x73\151\x73\167\x61\137\151\144" => $kelas->siswa_id, "\152\165\155\154\x61\x68\x5f\x73\151\x73\x77\x61" => $jumlah); goto Y82oU; CcJdT: foreach ($idks as $idk) { goto P3A3k; GyY6S: zlTiD: goto XGslU; XGslU: X6m6E: goto BRtox; P3A3k: foreach ($siswakelas[$ik] as $s) { goto SvnTC; UPpq4: $res[] = $this->db->replace("\x6b\x65\x6c\x61\163\x5f\x73\x69\x73\167\141", $insert); goto lnj1X; lnj1X: WLcOX: goto uz1Zw; SvnTC: $insert = ["\x69\x64\137\153\x65\154\x61\163\137\163\x69\163\167\x61" => $tp->id_tp . $smt->id_smt . $s["\x69\x64"], "\x69\144\x5f\164\160" => $tp->id_tp, "\x69\144\x5f\163\x6d\x74" => $smt->id_smt, "\x69\144\x5f\x6b\x65\x6c\141\x73" => $idk, "\151\x64\x5f\163\151\163\167\141" => $s["\151\144"]]; goto UPpq4; uz1Zw: } goto GyY6S; BRtox: } goto ncwWC; ncwWC: MOkcY: goto W4wXs; GHd2x: array_push($idks, $kelas_baru->id_kelas); goto PUMb6; LCyQl: PnM3d: goto LZHVs; nWrHz: hDjqI: goto Q3xcB; LZHVs: $jumlah = serialize($siswakelas[$ik]); goto eEcOz; Q3xcB: $jmlLama = unserialize($kelas_baru->jumlah_siswa); goto YfMfh; jMzar: $jumlah = serialize($siswakelas[$ik]); goto GHd2x; kzpJj: goto OuXJM; goto LCyQl; tgJpp: if ($kelas_baru == null) { goto PnM3d; } goto mFmpv; zfJJd: $kelas = $this->kelas->get_one($ik, $tp->id_tp - 1, "\x32"); goto C4__P; t2_K7: $this->db->where("\x69\x64\137\153\145\x6c\141\x73", $kelas_baru->id_kelas); goto Qmjuv; W4wXs: vvy4F: goto gqUG6; EUoE1: mkwJy: goto qEOKL; YfMfh: foreach ($siswakelas[$ik] as $s) { goto gHFrY; r3yv7: jKI46: goto Ok0ZC; gHFrY: foreach ($jmlLama as $lama) { goto oF4DD; cfoY5: mCV33: goto ofxpf; QKpuf: array_push($jmlLama, ["\x69\x64" => $s["\x69\144"]]); goto JMMAv; ofxpf: kidg7: goto BhZC2; JMMAv: array_push($idks, $kelas_baru->id_kelas); goto cfoY5; oF4DD: if (!($lama["\151\144"] != $s["\x69\x64"])) { goto mCV33; } goto QKpuf; BhZC2: } goto r3yv7; Ok0ZC: rnxPu: goto dknRs; dknRs: } goto EUoE1; UiF_1: sIXYV: goto YyqET; u34OA: OuXJM: goto CcJdT; YyqET: $data = array("\x6e\x61\x6d\x61\137\153\145\154\141\163" => $kelas->nama_kelas, "\153\x6f\x64\145\x5f\x6b\x65\x6c\141\163" => $kelas->kode_kelas, "\152\x75\x72\x75\163\141\156\137\x69\x64" => $kelas->jurusan_id, "\151\144\137\x74\x70" => $tp->id_tp, "\x69\144\137\x73\x6d\x74" => $smt->id_smt, "\154\145\166\145\x6c\137\x69\144" => $kelas->level_id, "\x67\x75\162\x75\137\x69\x64" => $kelas->guru_id, "\x73\x69\x73\167\141\137\151\x64" => $kelas->siswa_id, "\x6a\165\x6d\154\141\x68\x5f\163\x69\x73\167\x61" => $jumlah); goto t2_K7; X8kgL: array_push($idks, $this->db->insert_id()); goto u34OA; Y82oU: $this->db->insert("\155\141\x73\164\145\x72\x5f\153\x65\154\141\x73", $data); goto X8kgL; C4__P: $kelas_baru = $this->kelas->getKelasByNama($kelas->nama_kelas, $tp->id_tp, $smt->id_smt); goto tgJpp; gqUG6: } goto VK8Kp; MTFgO: $siswakelas = []; goto Ho9Ly; ayTeU: $idkelases = array_unique($idkelases); goto laZpf; laZpf: $res = []; goto liSiq; qpkiF: $idkelases = []; goto MTFgO; YAKjr: $posts = json_decode($this->input->post("\x6b\x65\x6c\x61\163", true)); goto TfQmJ; WRWQc: } public function hapus($id_kelas) { goto qLQ9i; VILgi: $delete["\x6b\145\154\x61\163"] = $this->master->delete("\155\141\x73\164\x65\x72\x5f\153\x65\x6c\141\x73", $id_kelas, "\151\144\137\153\145\154\141\x73"); goto Xzfvq; qLQ9i: $delete["\x73\x69\163\x77\141"] = $this->master->delete("\x6b\145\154\141\163\x5f\163\151\x73\167\x61", $id_kelas, "\x69\x64\x5f\x6b\x65\154\x61\x73"); goto VILgi; Xzfvq: $this->output_json($delete); goto g6BIP; g6BIP: } }
