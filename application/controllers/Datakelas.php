<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\x53\105\120\101\124\x48") or exit("\116\157\40\x64\151\162\x65\x63\164\40\163\x63\162\151\x70\164\40\x61\143\143\x65\163\163\x20\x61\154\x6c\x6f\167\x65\144"); class Datakelas extends CI_Controller { public function __construct() { goto WNXPu; legeT: $this->form_validation->set_error_delimiters('', ''); goto VaHJs; UhA16: show_error("\110\x61\x6e\171\x61\40\101\144\x6d\x69\x6e\x69\x73\x74\x72\141\164\157\162\40\171\x61\x6e\147\40\x64\151\x62\x65\x72\151\40\x68\x61\x6b\x20\165\156\164\x75\153\40\x6d\145\156\x67\x61\x6b\163\x65\163\40\150\141\154\x61\155\141\156\x20\x69\156\x69\54\40\x3c\x61\40\x68\x72\145\x66\x3d\x22" . base_url("\144\x61\x73\x68\x62\157\x61\x72\144") . "\42\76\x4b\145\155\x62\141\154\x69\x20\x6b\x65\40\155\145\156\165\40\x61\167\141\154\x3c\x2f\141\x3e", 403, "\101\153\163\x65\x73\x20\x54\x65\162\x6c\x61\162\141\x6e\x67"); goto QS6nd; QS6nd: HJt7g: goto bf1j7; wspUJ: $this->load->model("\104\x72\x6f\x70\144\x6f\x77\x6e\x5f\x6d\x6f\144\145\154", "\144\x72\157\160\144\x6f\167\156"); goto PwKqX; PwKqX: $this->load->model("\x52\141\160\157\x72\137\x6d\157\144\145\x6c", "\x72\141\x70\157\x72"); goto legeT; f2lM2: AWtZt: goto lWiPx; SuQ6u: if (!$this->ion_auth->logged_in()) { goto AWtZt; } goto H6cSw; lcXG1: julKL: goto EkoD0; TYFcf: $this->load->model("\x44\x61\163\150\142\157\x61\x72\144\x5f\155\x6f\144\145\x6c", "\144\x61\x73\150\x62\157\x61\x72\x64"); goto Zu3e8; H6cSw: if ($this->ion_auth->is_admin()) { goto HJt7g; } goto UhA16; bf1j7: goto julKL; goto f2lM2; JpGrA: $this->load->model("\x4b\x65\x6c\x61\163\x5f\x6d\157\x64\145\x6c", "\x6b\x65\154\141\x73"); goto TYFcf; EkoD0: $this->load->library(["\144\x61\164\141\x74\141\x62\x6c\145\x73", "\146\157\162\x6d\137\x76\x61\x6c\x69\x64\x61\x74\151\157\x6e"]); goto JpGrA; Zu3e8: $this->load->model("\x4d\141\163\164\145\x72\137\155\157\x64\x65\x6c", "\155\x61\x73\x74\x65\x72"); goto wspUJ; WNXPu: parent::__construct(); goto SuQ6u; lWiPx: redirect("\141\165\164\x68"); goto lcXG1; VaHJs: } public function output_json($data, $encode = true) { goto MQXpg; k_wne: $this->output->set_content_type("\141\160\160\154\151\x63\x61\x74\151\157\156\57\x6a\163\157\156")->set_output($data); goto dPuHh; MQXpg: if (!$encode) { goto ltJX2; } goto NGxF6; irYIr: ltJX2: goto k_wne; NGxF6: $data = json_encode($data); goto irYIr; dPuHh: } public function index() { goto wi6Wv; ULTfy: $kelas_lama = []; goto uVyjr; H8E0c: $data["\x74\160"] = $this->dashboard->getTahun(); goto ztfMi; dZviI: $this->load->view("\137\164\145\155\x70\x6c\141\164\145\163\x2f\144\141\x73\150\142\157\141\162\x64\x2f\137\150\145\141\144\145\x72", $data); goto TQVYT; J32Ug: $data["\152\165\x72\165\163\x61\156"] = $this->kelas->get_jurusan(); goto FrClk; kEMgt: $chek = $this->kelas->count_all(); goto iv46h; DKEpa: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto QIbBZ; AOjmb: $data["\153\145\154\141\x73\x5f\x6c\x61\155\141"] = $kelas_lama; goto J32Ug; wi6Wv: $user = $this->ion_auth->user()->row(); goto reMDA; peySm: $this->load->view("\137\164\145\155\x70\154\141\164\x65\163\x2f\x64\x61\x73\x68\x62\x6f\x61\162\144\57\x5f\146\x6f\157\164\145\162"); goto g6sip; jjvaY: $data["\147\x75\162\x75"] = $this->kelas->get_guru(); goto HhPGC; VWFMo: $data["\160\x72\157\146\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto kEMgt; uj1si: $data["\x6b\145\154\x61\163"] = $kelas; goto AOjmb; reMDA: $setting = $this->dashboard->getSetting(); goto A5f7R; ygzAs: k5HBj: goto uj1si; HhPGC: $data["\163\x69\163\167\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto dZviI; QIbBZ: $data["\x73\155\164\137\141\143\164\151\166\x65"] = $smt; goto VWFMo; PRbMv: $kelas = $this->kelas->getKelasList($tp->id_tp, $smt->id_smt); goto VrZnz; uVyjr: if (!($chek > 0)) { goto k5HBj; } goto PRbMv; ztfMi: $data["\x74\x70\137\141\x63\164\151\166\145"] = $tp; goto DKEpa; TQVYT: $this->load->view("\x6d\x61\x73\164\x65\x72\x2f\153\x65\x6c\141\163\57\144\x61\164\141"); goto peySm; b4Fy4: $smt = $this->dashboard->getSemesterActive(); goto H8E0c; AVX9j: $tp = $this->dashboard->getTahunActive(); goto b4Fy4; FrClk: $data["\154\145\166\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto jjvaY; iv46h: $kelas = []; goto ULTfy; A5f7R: $data = ["\x75\x73\145\x72" => $user, "\x6a\x75\x64\165\154" => "\x4b\x65\x6c\141\x73", "\163\165\x62\x6a\165\144\x75\x6c" => "\x44\x61\x74\x61\x20\113\x65\154\x61\163", "\x73\x65\x74\x74\151\x6e\x67" => $setting]; goto AVX9j; VrZnz: $kelas_lama = $this->kelas->getKelasList($tp->id_tp - 1, "\62"); goto ygzAs; g6sip: } public function detail($id) { goto m5_JU; Q7Hjw: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto v9072; eg1ah: $data["\154\145\x76\145\154"] = $this->kelas->getLevel($setting->jenjang); goto ozJh7; ozJh7: $data["\x67\x75\162\165"] = $this->kelas->get_guru(); goto JE6nz; dTUI1: $tp = $this->dashboard->getTahunActive(); goto cbWnG; t3k1q: $data["\x73\x74\x72\x75\x6b\164\165\x72"] = json_decode(json_encode($this->kelas->dummyStruktur())); goto jAYlz; nF7D3: $data["\x73\x74\162\165\x6b\x74\165\x72"] = $struktur; goto rZkUR; Mj_5o: $this->load->view("\155\x61\163\x74\x65\x72\x2f\153\x65\x6c\x61\x73\57\x64\145\x74\141\151\154"); goto SFWCi; oYoPO: mWYLJ: goto t3k1q; v9072: $data["\163\x6d\x74\x5f\141\143\x74\x69\x76\145"] = $smt; goto D7NCK; rZkUR: goto uU_DH; goto oYoPO; m5_JU: $user = $this->ion_auth->user()->row(); goto uVciM; rKGfD: if ($struktur == null) { goto mWYLJ; } goto nF7D3; D7NCK: $data["\x70\162\x6f\x66\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto jhSBA; jAYlz: uU_DH: goto K6HUM; ZuzEF: $data["\164\160\x5f\x61\143\164\x69\166\145"] = $tp; goto Q7Hjw; SFWCi: $this->load->view("\x5f\x74\145\x6d\160\154\x61\164\x65\163\57\x64\x61\x73\x68\x62\157\141\x72\x64\x2f\137\x66\157\x6f\x74\145\162"); goto rKHUH; K6HUM: $this->load->view("\137\x74\145\x6d\160\154\x61\164\145\x73\57\x64\x61\x73\x68\x62\157\x61\162\x64\57\137\x68\x65\x61\x64\x65\162", $data); goto Mj_5o; jhSBA: $data["\x6b\x65\x6c\x61\x73"] = $this->kelas->get_one($id); goto I0Jjc; Cle07: $data = ["\165\x73\x65\162" => $user, "\x6a\165\144\x75\x6c" => "\x44\145\x74\141\151\154\x20\113\x65\x6c\141\163", "\x73\165\x62\152\165\144\x75\x6c" => "\104\x65\164\141\x69\x6c\x20\x4b\x65\x6c\141\x73", "\x73\x65\x74\x74\x69\x6e\x67" => $setting]; goto dTUI1; uVciM: $setting = $this->dashboard->getSetting(); goto Cle07; I0Jjc: $data["\152\165\162\165\x73\x61\x6e"] = $this->kelas->get_jurusan(); goto eg1ah; JE6nz: $data["\x73\x69\163\x77\x61\x73"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto Z6Jeh; Z6Jeh: $struktur = $this->kelas->getStrukturKelas($id); goto rKGfD; DTQ7I: $data["\x74\x70"] = $this->dashboard->getTahun(); goto ZuzEF; cbWnG: $smt = $this->dashboard->getSemesterActive(); goto DTQ7I; rKHUH: } public function add() { goto xNK4L; aHpvR: $data["\x73\151\x73\167\x61\153\x65\154\x61\163"] = array(); goto rlrjC; VIcLp: $tp = $this->dashboard->getTahunActive(); goto UPf2x; rlrjC: $this->load->view("\137\164\x65\x6d\160\154\141\164\145\163\57\144\141\x73\150\142\x6f\x61\162\144\57\x5f\x68\x65\x61\x64\145\162", $data); goto taaCK; qSi4F: $siswa = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto DCxA5; Zy4h0: $data["\x6b\145\x6c\x61\163"] = json_decode(json_encode($this->kelas->dummy())); goto LewdV; xNK4L: $user = $this->ion_auth->user()->row(); goto mFYwA; LewdV: $data["\x6a\165\162\165\x73\141\x6e"] = $this->kelas->get_jurusan(); goto Ohvav; wqHod: $data["\163\155\164"] = $this->dashboard->getSemester(); goto AAhi8; UPf2x: $smt = $this->dashboard->getSemesterActive(); goto YZ6pm; OaiIi: $data = ["\165\x73\x65\162" => $user, "\152\x75\144\165\x6c" => "\x4b\145\x6c\141\163", "\x73\x75\x62\x6a\165\144\165\x6c" => "\x54\x61\x6d\x62\141\x68\40\x4b\x65\x6c\x61\x73", "\163\145\164\164\x69\x6e\147" => $setting]; goto VIcLp; DCxA5: $data["\x73\x69\163\x77\x61"] = $siswa; goto aHpvR; taaCK: $this->load->view("\155\x61\163\x74\145\162\57\153\145\154\141\163\57\141\144\144"); goto oQQYm; o80UT: $data["\164\160\x5f\x61\x63\164\151\166\145"] = $tp; goto wqHod; oQQYm: $this->load->view("\137\164\x65\x6d\160\x6c\x61\164\145\x73\57\144\141\x73\150\142\157\x61\162\x64\x2f\x5f\x66\x6f\x6f\x74\x65\x72"); goto yQl9a; mFYwA: $setting = $this->dashboard->getSetting(); goto OaiIi; JEGfX: $data["\160\x72\x6f\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto Zy4h0; Ohvav: $data["\154\x65\166\x65\x6c"] = $this->kelas->getLevel($setting->jenjang); goto fJ1JB; YZ6pm: $data["\164\160"] = $this->dashboard->getTahun(); goto o80UT; AAhi8: $data["\x73\155\x74\x5f\141\143\164\x69\166\x65"] = $smt; goto JEGfX; fJ1JB: $data["\147\x75\162\x75"] = $this->kelas->get_guru(); goto qSi4F; yQl9a: } public function edit($id = '') { goto RKvn9; YSagr: $data = ["\165\163\x65\162" => $user, "\152\165\x64\165\x6c" => "\113\145\x6c\141\x73", "\x73\x75\142\x6a\165\144\165\x6c" => "\x45\x64\151\164\40\113\145\154\x61\163", "\163\145\164\x74\151\156\x67" => $setting]; goto RQpbC; mXPcD: $data["\x74\x70\137\141\x63\164\x69\x76\x65"] = $tp; goto LsrdL; PhOxp: $setting = $this->dashboard->getSetting(); goto YSagr; RKvn9: $user = $this->ion_auth->user()->row(); goto PhOxp; DKWpf: $this->load->view("\155\x61\163\164\x65\162\x2f\153\x65\x6c\x61\163\57\141\x64\x64"); goto aakww; Hp40w: $data["\160\162\157\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto rpkg1; LsrdL: $data["\163\155\164"] = $this->dashboard->getSemester(); goto jndAq; SuTvD: $data["\147\165\162\165"] = $this->kelas->getWaliKelas($tp->id_tp, $smt->id_smt); goto iRUf0; zLHUN: $data["\153\145\x6c\x61\x73"] = $this->kelas->get_one($id); goto YJxIN; OIYdr: $this->load->view("\137\164\145\155\x70\154\x61\164\x65\163\57\144\x61\163\x68\142\157\141\x72\144\57\137\x68\145\141\144\145\162", $data); goto DKWpf; KBGh1: $data["\x74\160"] = $this->dashboard->getTahun(); goto mXPcD; Zyz3Y: $data["\154\x65\x76\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto SuTvD; aakww: $this->load->view("\137\164\x65\155\160\x6c\141\x74\x65\x73\x2f\144\141\x73\x68\142\157\x61\162\144\x2f\x5f\x66\157\x6f\164\x65\162"); goto m2nP7; nrNXu: $data["\163\x69\x73\167\x61\153\145\x6c\x61\x73"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto OIYdr; rpkg1: $data["\x69\x64\x5f\153\x65\154\x61\163"] = $id; goto zLHUN; YJxIN: $data["\x6a\x75\162\165\163\141\156"] = $this->kelas->get_jurusan(); goto Zyz3Y; RQpbC: $tp = $this->dashboard->getTahunActive(); goto l5TAi; l5TAi: $smt = $this->dashboard->getSemesterActive(); goto KBGh1; jndAq: $data["\163\x6d\x74\x5f\141\143\x74\x69\x76\x65"] = $smt; goto Hp40w; iRUf0: $data["\163\151\163\x77\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto nrNXu; m2nP7: } public function save() { goto lA_jZ; YSgQS: goto UdfGu; goto nS9h5; GDeYy: NT8P2: goto jfR_m; qxwNS: $insert[$id_tp . $id_smt . $idsiswa] = ["\151\144\x5f\153\145\154\141\x73\x5f\163\x69\x73\x77\141" => $id_tp . $id_smt . $idsiswa, "\151\x64\x5f\x74\160" => $id_tp, "\151\144\137\x73\155\x74" => $id_smt, "\x69\144\137\x6b\x65\x6c\141\163" => $new_id_kelas, "\x69\144\x5f\x73\151\x73\167\x61" => $idsiswa]; goto ZYj3N; DHg2V: $status = FALSE; goto B41r5; pHOMz: $i = 0; goto fzWNy; lA_jZ: $id = $this->input->post("\x69\144\x5f\x6b\145\154\x61\x73", true); goto llN8L; e5jaZ: $status = $this->db->insert("\x6d\141\163\x74\145\162\x5f\153\145\154\141\163", $insert); goto TkKru; t2hdk: WsxM9: goto GDeYy; EJQTO: if (!($i <= count($siswas))) { goto MOIsD; } goto qCCaV; Ku4xR: $id_smt = $this->master->getSemesterActive()->id_smt; goto enH4C; gRaJC: bXYVC: goto rgONl; Iqs8f: foreach ($siswa_kelas as $id_siswa => $sis) { $insert[$id_tp . $id_smt . $id_siswa] = ["\151\x64\x5f\x6b\145\154\x61\163\137\x73\x69\x73\x77\x61" => $id_tp . $id_smt . $id_siswa, "\x69\144\x5f\164\160" => $id_tp, "\x69\x64\x5f\x73\155\x74" => $id_smt, "\151\144\137\x6b\x65\154\x61\163" => 0, "\151\x64\x5f\163\x69\163\167\x61" => $id_siswa]; wXKU5: } goto ID5jr; HuIpF: $data["\151\156\163\145\162\164"] = $insert; goto T2dfu; oZ8os: UdfGu: goto fti_d; PiN6u: if (!$updated) { goto AvrVG; } goto PFBwF; xzzQW: if (!($i <= count($siswas))) { goto BnvlW; } goto RxQOl; K8aoV: $this->db->where("\x69\144\137\x6b\145\x6c\x61\x73", $id); goto qvipX; TkKru: $id_new = $this->db->insert_id(); goto hZfkb; wqgpr: $this->form_validation->set_rules($config); goto ui3_g; ui3_g: if ($this->form_validation->run() == TRUE) { goto EBa_x; } goto DHg2V; ID5jr: pW_Uf: goto t2hdk; OuKxJ: $siswa_kelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto Yv5dK; dCo2u: foreach ($insert as $ins) { goto t2X64; zKu_p: $siswa_inserted++; goto afZGZ; OXqsg: TVICQ: goto Mo9L5; afZGZ: bRYhq: goto OXqsg; t2X64: if (!$this->db->replace("\153\145\x6c\x61\163\137\x73\151\x73\x77\141", $ins)) { goto bRYhq; } goto zKu_p; Mo9L5: } goto WCt2y; IsWsG: JDIi7: goto bplo0; lENMj: $this->output_json($data); goto h4j6R; hZfkb: aDlQv: goto YSgQS; q91OD: if (!$status) { goto bXYVC; } goto Kmn7x; Nq7nn: $data["\x73\164\141\164\x75\x73"] = $status; goto lENMj; llN8L: $guru_id = strip_tags($this->input->post("\147\x75\162\x75\x5f\151\x64", TRUE)); goto XFybs; B41r5: goto RwTOs; goto IpoL5; nS9h5: zaYL2: goto wqgpr; wty0b: array_push($siswakelas, ["\x69\144" => $id_siswa]); goto Z7ZmV; UCrYc: BnvlW: goto U2Fta; XFybs: $id_tp = $this->master->getTahunActive()->id_tp; goto Ku4xR; CTv8x: $data["\x75\x70\144\141\x74\x65"] = $updated; goto Nq7nn; yS7Ts: OpB3R: goto oMwYW; qvipX: $status = $this->db->update("\155\x61\163\164\145\x72\x5f\x6b\x65\154\x61\x73", $insert); goto cPZDH; qCCaV: $idsiswa = isset($siswas[$i]) ? $siswas[$i] : null; goto xqihJ; d6EUA: $updated = $this->db->update("\152\141\x62\x61\x74\141\x6e\137\x67\165\x72\x75"); goto PiN6u; WCt2y: aM7U4: goto HuIpF; R7of1: if (!($idsiswa != null)) { goto zh0iJ; } goto DD1ax; oMwYW: zh0iJ: goto pRVrZ; fzWNy: yHD8i: goto xzzQW; iXds2: MOIsD: goto dCo2u; PFBwF: $insert = []; goto eWewS; FoVI3: ukz30: goto EJQTO; bplo0: $i++; goto cncaG; xqihJ: $new_id_kelas = $id != null && $id != '' ? $id : $id_new; goto R7of1; rgONl: $data["\163\151\x73\167\141"] = $siswa_inserted; goto CTv8x; fti_d: $updated = false; goto Xn9GB; W8VW9: $siswakelas = []; goto pHOMz; DD1ax: if (isset($insert[$id_tp . $id_smt . $idsiswa])) { goto KY_5c; } goto qxwNS; jfR_m: $i = 0; goto FoVI3; U2Fta: $jumlah = serialize($siswakelas); goto JhSIA; wVTFQ: $status = FALSE; goto t5tfm; kbDuj: $this->form_validation->set_rules($config); goto Z5uKv; Z7ZmV: uAwhO: goto IsWsG; pRVrZ: fcHeR: goto o9GaK; nxJSC: $this->db->where("\x69\x64\137\152\x61\142\x61\164\141\x6e\x5f\x67\165\x72\165", $guru_id . $id_tp . $id_smt); goto d6EUA; Z5uKv: if ($this->form_validation->run() == TRUE) { goto BNvlQ; } goto wVTFQ; IpoL5: EBa_x: goto K8aoV; aq4Hw: BNvlQ: goto e5jaZ; eWewS: if (!($id != null && $id != '')) { goto NT8P2; } goto OuKxJ; ZYj3N: goto OpB3R; goto zQOao; cncaG: goto yHD8i; goto UCrYc; T2dfu: AvrVG: goto gRaJC; FSful: if (!($id_siswa != null)) { goto uAwhO; } goto wty0b; PkBZW: $id_new = null; goto EltQ5; cPZDH: RwTOs: goto oZ8os; o9GaK: $i++; goto Eabiq; SV5qE: $config = array(array("\146\151\145\x6c\144" => "\156\141\x6d\141\x5f\153\x65\x6c\141\163", "\154\141\142\x65\154" => "\116\x61\x6d\141\x20\113\145\x6c\141\x73", "\x72\165\x6c\x65\163" => "\164\x72\x69\x6d"), array("\x66\151\x65\154\144" => "\x6b\157\144\x65\137\153\x65\x6c\141\163", "\154\x61\142\145\x6c" => "\113\x6f\x64\x65\x20\113\x65\154\141\x73", "\x72\x75\x6c\145\163" => "\x74\162\x69\155"), array("\146\x69\x65\154\144" => "\152\x75\x72\x75\163\x61\156\x5f\151\x64", "\154\x61\x62\145\x6c" => "\x4a\165\x72\x75\x73\x61\x6e", "\162\165\154\x65\x73" => "\x74\162\x69\155"), array("\x66\151\145\154\x64" => "\x6c\x65\x76\145\154\x5f\151\x64", "\154\x61\x62\145\x6c" => "\114\x65\x76\x65\x6c", "\x72\x75\154\x65\x73" => "\164\x72\151\155"), array("\146\151\x65\154\144" => "\x67\165\x72\165\x5f\x69\144", "\154\141\142\145\x6c" => "\107\165\x72\x75", "\162\165\x6c\x65\x73" => "\164\x72\151\155"), array("\146\151\x65\154\x64" => "\163\x69\163\x77\x61\x5f\151\x64", "\154\x61\142\x65\154" => "\x53\x69\x73\167\141", "\x72\165\154\x65\x73" => "\x74\x72\x69\x6d")); goto W8VW9; zQOao: KY_5c: goto wFx4T; wFx4T: $insert[$id_tp . $id_smt . $idsiswa]["\151\144\x5f\153\x65\154\141\x73"] = $new_id_kelas; goto yS7Ts; enH4C: $siswas = $this->input->post("\163\x69\163\x77\141", true); goto SV5qE; RxQOl: $id_siswa = isset($siswas[$i]) ? $siswas[$i] : null; goto FSful; Eabiq: goto ukz30; goto iXds2; Kmn7x: $this->db->set("\x69\144\137\153\x65\x6c\x61\x73", $id); goto nxJSC; t5tfm: goto aDlQv; goto aq4Hw; Xn9GB: $siswa_inserted = 0; goto q91OD; JhSIA: $insert = array("\x6e\141\155\141\137\x6b\145\x6c\x61\163" => strip_tags($this->input->post("\x6e\141\155\x61\137\153\145\x6c\x61\x73", TRUE)), "\x6b\157\144\x65\x5f\x6b\145\x6c\141\x73" => strip_tags($this->input->post("\153\x6f\x64\x65\137\x6b\x65\x6c\141\163", TRUE)), "\152\165\x72\x75\x73\x61\x6e\x5f\x69\x64" => strip_tags($this->input->post("\x6a\x75\162\x75\163\141\156\x5f\x69\x64", TRUE)), "\151\144\137\164\x70" => $id_tp, "\x69\x64\x5f\163\x6d\x74" => $id_smt, "\x6c\145\x76\145\154\137\x69\144" => strip_tags($this->input->post("\x6c\145\166\145\x6c\137\151\144", TRUE)), "\147\165\x72\x75\x5f\x69\x64" => strip_tags($this->input->post("\x67\x75\x72\165\137\151\x64", TRUE)), "\x73\151\163\167\141\x5f\x69\x64" => strip_tags($this->input->post("\163\x69\163\167\141\x5f\x69\x64", TRUE)), "\x6a\x75\155\154\x61\150\x5f\163\x69\163\167\x61" => $jumlah); goto PkBZW; Yv5dK: if (!(count($siswa_kelas) > 0)) { goto WsxM9; } goto Iqs8f; EltQ5: if ($id != null && $id != '') { goto zaYL2; } goto kbDuj; h4j6R: } public function update_kelas($id) { goto M_62p; daiQx: if (!(count($siswakelas) > 0)) { goto DHkEI; } goto bfrca; bn8ey: $insert = ["\151\x64\137\153\x65\x6c\x61\x73\137\x73\x69\x73\x77\x61" => $id_tp . $id_smt . $id_siswa, "\x69\144\137\x74\x70" => $id_tp, "\151\144\x5f\163\155\164" => $id_smt, "\x69\x64\137\153\x65\154\x61\x73" => $id, "\x69\144\x5f\x73\x69\163\167\141" => $id_siswa]; goto zSzOw; M_62p: $id_tp = $this->master->getTahunActive()->id_tp; goto x76Z5; zSzOw: $this->db->replace("\153\145\154\141\x73\137\x73\151\x73\x77\x61", $insert); goto kHEMj; R8N0A: Nb87W: goto z6NPh; nalja: $siswakelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto daiQx; Y5l_X: $id_siswa = $this->input->post("\163\151\163\167\x61\133" . $i . "\x5d", true); goto WPKc7; Pdpst: udbGO: goto Mx63R; ZV2Sq: CUsbW: goto X8dPd; MOhyz: $rowsSelect = count($this->input->post("\163\151\163\x77\141", true)); goto ynM_n; X8dPd: return $siswakelas; goto XJs4j; ynM_n: $i = 0; goto nyz5o; Mx63R: DHkEI: goto MOhyz; BbSGl: if (!($i <= $rowsSelect)) { goto CUsbW; } goto Y5l_X; nyz5o: mftI1: goto BbSGl; WPKc7: if (!($id_siswa != null)) { goto IDDjg; } goto bn8ey; z6NPh: $i++; goto OUnsN; kHEMj: IDDjg: goto R8N0A; x76Z5: $id_smt = $this->master->getSemesterActive()->id_smt; goto nalja; bfrca: foreach ($siswakelas as $id_siswa => $sis) { goto rruEI; umwoO: H3U_W: goto OsxSQ; falGR: $this->db->replace("\x6b\x65\x6c\141\x73\x5f\x73\x69\x73\x77\141", $insert); goto umwoO; rruEI: $insert = ["\x69\x64\137\x6b\x65\154\141\x73\x5f\163\151\x73\167\141" => $id_tp . $id_smt . $id_siswa, "\x69\144\137\x74\160" => $id_tp, "\151\144\x5f\x73\155\x74" => $id_smt, "\x69\144\x5f\x6b\x65\x6c\141\163" => 0, "\x69\144\137\163\151\163\x77\x61" => $id_siswa]; goto falGR; OsxSQ: } goto Pdpst; OUnsN: goto mftI1; goto ZV2Sq; XJs4j: } public function manage() { goto maf1J; i0r_H: $data["\x6b\145\x6c\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto jxWqg; JcPCU: $data["\164\x70"] = $this->dashboard->getTahun(); goto K5hmx; eKhEX: $this->load->view("\137\164\145\x6d\160\154\141\x74\x65\163\57\144\141\163\150\x62\157\141\162\144\x2f\137\146\157\x6f\x74\145\x72"); goto Zyx4G; K5hmx: $data["\164\x70\137\141\x63\x74\151\166\145"] = $tp; goto ZmUkP; l3TdT: $tp = $this->dashboard->getTahunActive(); goto wFGKz; jnlQv: $data["\163\155\164\137\141\x63\164\151\x76\145"] = $smt; goto f1nfm; UPjoK: $this->load->view("\155\141\x73\164\x65\162\x2f\x6b\x65\154\141\x73\57\x70\145\x72\x73\145\x6d\x65\x73\164\145\162"); goto eKhEX; f1nfm: $data["\160\162\x6f\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto i0r_H; ZmUkP: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto jnlQv; wFGKz: $smt = $this->dashboard->getSemesterActive(); goto JcPCU; N8jCd: $this->load->view("\137\164\x65\x6d\x70\154\141\164\x65\163\57\x64\141\163\x68\x62\x6f\x61\162\x64\57\x5f\x68\145\141\x64\145\x72", $data); goto UPjoK; maf1J: $user = $this->ion_auth->user()->row(); goto QSuL1; jxWqg: $data["\153\145\154\141\163\62"] = $this->dropdown->getAllKelas($tp->id_tp, "\x32"); goto N8jCd; QSuL1: $data = ["\x75\163\x65\x72" => $user, "\152\x75\x64\x75\154" => "\x43\x6f\160\171\40\x4b\x65\x6c\x61\x73", "\163\x75\x62\x6a\165\x64\165\x6c" => "\103\x6f\160\x79\40\x44\141\x74\141\x20\x4b\145\x6c\141\163\40\x6b\x65\x20\x53\115\x54\40\x49\111", "\163\x65\164\164\x69\156\x67" => $this->dashboard->getSetting()]; goto l3TdT; Zyx4G: } public function getFromSmt1($kelas) { goto kayfJ; kayfJ: $tp = $this->dashboard->getTahunActive(); goto rCC0L; Yq8RO: $ids = []; goto KptQh; S00s4: ymOBu: goto xcZ4X; vnqD7: $data2 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\62"); goto Yq8RO; rCC0L: $data1 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\x31"); goto vnqD7; xcZ4X: wg32S: goto dCHsC; dCHsC: $this->output_json(["\x73\x6d\x74\61" => $data1, "\x73\155\x74\62" => $ids]); goto QHy9t; KptQh: if (!(count($data2) > 0)) { goto wg32S; } goto Yk_Ip; Yk_Ip: foreach ($data2 as $s) { $ids[] = $s->id_siswa; s_uaE: } goto S00s4; QHy9t: } public function copyFromSmt1() { goto fd0SV; Wpu8P: $kelas = $this->kelas->get_one($kelas1, $tp->id_tp, "\x31"); goto YAWF4; eGm4G: foreach ($arrSiswa as $value) { goto RJBnl; JoOSW: $insert = ["\151\x64\x5f\153\x65\x6c\x61\x73\x5f\x73\x69\x73\x77\141" => $tp->id_tp . $smt->id_smt . $id_siswa, "\151\x64\x5f\164\160" => $tp->id_tp, "\151\x64\x5f\x73\155\x74" => $smt->id_smt, "\x69\144\x5f\x6b\145\x6c\x61\163" => $idk, "\x69\x64\x5f\x73\x69\163\167\141" => $id_siswa]; goto wve6E; hpQxR: if (!($id_siswa != null)) { goto Ep01Q; } goto JoOSW; ZEes5: jEtWr: goto LF9iS; wve6E: $res[] = $this->db->replace("\x6b\x65\x6c\x61\163\137\163\151\x73\167\x61", $insert); goto fnHVf; fnHVf: Ep01Q: goto ZEes5; RJBnl: $id_siswa = $value["\151\x64"]; goto hpQxR; LF9iS: } goto e2v3X; QNnxE: $arrSiswa = unserialize($kelas->jumlah_siswa); goto eGm4G; fd0SV: $tp = $this->dashboard->getTahunActive(); goto s429Z; N6Jch: $kelas1 = $this->input->post("\x6b\145\x6c\x61\163\137\x6c\x61\155\141", true); goto m1ksZ; YAWF4: $data = array("\156\x61\155\141\137\x6b\x65\154\x61\163" => $kelas2, "\153\157\144\x65\x5f\x6b\x65\x6c\141\163" => $kelas->kode_kelas, "\152\x75\162\165\x73\141\x6e\137\151\x64" => $kelas->jurusan_id, "\x69\144\137\x74\x70" => $tp->id_tp, "\x69\144\137\x73\155\x74" => $smt->id_smt, "\154\145\166\x65\154\x5f\151\144" => $kelas->level_id, "\147\165\x72\x75\x5f\151\x64" => $kelas->guru_id, "\x73\151\x73\x77\x61\137\151\x64" => $kelas->siswa_id, "\x6a\165\155\154\141\150\x5f\163\151\x73\167\141" => $kelas->jumlah_siswa); goto m3bhR; xStj3: $res = []; goto QNnxE; GH8Im: $this->output_json($res); goto aLcDP; s429Z: $smt = $this->dashboard->getSemesterActive(); goto N6Jch; e2v3X: EbcKs: goto GH8Im; m1ksZ: $kelas2 = $this->input->post("\153\x65\154\x61\x73\137\x62\141\x72\x75", true); goto Wpu8P; VXq16: $idk = $this->db->insert_id(); goto xStj3; m3bhR: $this->db->insert("\155\x61\163\x74\145\x72\137\153\x65\x6c\x61\x73", $data); goto VXq16; aLcDP: } public function copySiswaFromSmt1() { goto OmZiz; m17OZ: foreach ($idkelases as $ik) { goto h_DpJ; MocKF: $kelas = $this->kelas->get_one($ik, $tp->id_tp, "\61"); goto fDMVb; f3Rft: fQVIq: goto f2RSl; fDMVb: $jumlah = serialize($siswakelas[$ik]); goto Z0HuE; OXXqd: $idk = $this->db->insert_id(); goto vuDnE; UNBcH: CKzhl: goto zBqsE; Z0HuE: $data = array("\x6e\x61\x6d\x61\137\x6b\x65\154\141\163" => $kelas->nama_kelas, "\153\x6f\144\145\x5f\x6b\145\154\x61\163" => $kelas->kode_kelas, "\x6a\x75\x72\x75\x73\x61\156\137\151\x64" => $kelas->jurusan_id, "\x69\x64\137\x74\x70" => $tp->id_tp, "\151\x64\137\x73\x6d\x74" => $smt->id_smt, "\154\x65\166\145\x6c\x5f\151\144" => $kelas->level_id, "\147\165\162\165\137\x69\x64" => $kelas->guru_id, "\163\x69\x73\x77\x61\137\x69\144" => $kelas->siswa_id, "\x6a\x75\x6d\154\141\x68\x5f\163\x69\x73\x77\141" => $jumlah); goto tx6n6; tx6n6: $this->db->insert("\155\x61\x73\x74\145\162\137\x6b\145\154\141\163", $data); goto OXXqd; f2RSl: IwSfk: goto UNBcH; h_DpJ: if (!($ik != '')) { goto IwSfk; } goto MocKF; vuDnE: foreach ($siswakelas[$ik] as $s) { goto oj1ae; jDBjk: $res[] = $this->db->replace("\153\145\154\x61\x73\137\x73\151\163\167\141", $insert); goto ycx1a; oj1ae: $insert = ["\151\x64\137\153\145\154\141\x73\x5f\163\151\x73\x77\x61" => $tp->id_tp . $smt->id_smt . $s["\151\x64"], "\x69\144\137\164\160" => $tp->id_tp, "\x69\x64\x5f\163\x6d\x74" => $smt->id_smt, "\151\x64\x5f\153\145\154\141\x73" => $idk, "\151\x64\x5f\x73\151\163\167\141" => $s["\x69\x64"]]; goto jDBjk; ycx1a: NzR_s: goto UUW2Y; UUW2Y: } goto f3Rft; zBqsE: } goto MzYjp; DIQla: $idkelases = array_unique($idkelases); goto GJ4eO; YuZsw: $this->output_json($res); goto qtEz4; vcO7h: $posts = json_decode($this->input->post("\x6b\145\x6c\x61\163", true)); goto R6Rz5; MzYjp: SsRws: goto YuZsw; RkBt5: WbFyW: goto DIQla; d73od: foreach ($posts as $d) { goto u_bV7; Zb6_N: sCEL2: goto DHE6K; u_bV7: $idkelases[] = $d->id_kelas; goto RIudP; RIudP: $siswakelas[$d->id_kelas][] = ["\151\x64" => $d->id_siswa]; goto Zb6_N; DHE6K: } goto RkBt5; R6Rz5: $idkelases = []; goto ovrN_; gbY86: $smt = $this->dashboard->getSemesterActive(); goto vcO7h; OmZiz: $tp = $this->dashboard->getTahunActive(); goto gbY86; GJ4eO: $res = []; goto m17OZ; ovrN_: $siswakelas = []; goto d73od; qtEz4: } public function kenaikan() { goto gvUG4; HG9Tx: if (!($kelas != null)) { goto aW2nI; } goto WmPmO; G2dgN: $level = $setting->jenjang == "\x31" ? "\x36" : ($setting->jenjang == "\62" ? "\71" : ($setting->jenjang == "\x31" ? "\x33" : "\61\62")); goto CORCD; WmPmO: $data["\x73\x69\163\167\141\x5f\153\145\x6c\x61\x73\x5f\142\141\162\x75"] = $this->master->getSiswaKelasBaru($tp->id_tp, $smt->id_smt); goto MQCBw; eAHRQ: $this->load->view("\137\x74\145\x6d\160\x6c\141\164\x65\x73\x2f\x64\141\163\150\142\157\x61\162\x64\x2f\137\x68\145\141\144\145\162", $data); goto k5oWA; U6xWY: $data["\153\x65\154\141\x73\x5f\142\141\x72\x75"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto HG9Tx; WGSyD: $lvlKls = $this->kelas->get_one($kelas, $tp->id_tp - 1, "\62"); goto uAqUT; k5oWA: $this->load->view("\155\x61\x73\164\x65\x72\x2f\x6b\145\154\141\x73\x2f\x6e\x61\151\x6b\153\x65\154\x61\x73"); goto gsmlU; AR_q8: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto pv8jr; MQCBw: $data["\x73\x69\x73\x77\x61\x73"] = $this->rapor->getKenaikanSiswa($kelas, $tp->id_tp - 1, "\x32"); goto STUUi; T6h3o: $setting = $this->dashboard->getSetting(); goto hpFrC; gsmlU: $this->load->view("\137\x74\x65\155\160\154\x61\x74\145\x73\57\x64\x61\x73\x68\x62\157\x61\162\144\57\137\x66\x6f\157\164\145\162"); goto ucW9F; nM6U6: aW2nI: goto eAHRQ; gvUG4: $kelas = $this->input->get("\x6b\x65\154\x61\x73", true); goto cGq5M; cGq5M: $user = $this->ion_auth->user()->row(); goto T6h3o; pv8jr: $data["\x73\155\164\137\x61\x63\x74\x69\x76\x65"] = $smt; goto mvDXg; EvMN8: $data["\164\x70"] = $this->dashboard->getTahun(); goto dDzZX; p8RdR: $smt = $this->dashboard->getSemesterActive(); goto EvMN8; dDzZX: $data["\164\160\x5f\x61\x63\x74\151\166\x65"] = $tp; goto AR_q8; e6d5M: $tp = $this->dashboard->getTahunActive(); goto p8RdR; uAqUT: $data["\153\145\x6c\x61\x73\x65\x73"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\62", "\x3d" . ($lvlKls->level_id + 1)); goto nM6U6; CORCD: $data["\153\x65\x6c\x61\163\137\154\x61\155\141"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\62", "\41\75" . $level); goto U6xWY; mvDXg: $data["\x70\162\x6f\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto G2dgN; hpFrC: $data = ["\165\x73\145\162" => $user, "\x6a\165\x64\x75\x6c" => "\x4b\x65\156\x61\x69\x6b\x6b\141\156\40\113\x65\154\141\x73", "\163\x75\142\152\x75\144\x75\x6c" => "\116\141\151\153\40\113\145\154\141\x73\x20\123\x69\163\x77\141", "\163\x65\x74\164\x69\x6e\147" => $setting]; goto e6d5M; STUUi: $data["\153\x65\x6c\141\163\137\163\145\x6c\145\143\164\145\x64"] = $kelas; goto WGSyD; ucW9F: } public function naikKelas() { goto Qvat1; VkZ9L: $siswakelas = []; goto DsXc2; jCqWC: $idks = []; goto Ll1em; DsXc2: foreach ($posts as $d) { goto XDOMV; XDOMV: $idkelases[] = $d->kelas_baru; goto ulUvf; GGAbY: iwx04: goto FYaW4; ulUvf: $siswakelas[$d->kelas_baru][] = ["\151\x64" => $d->id_siswa]; goto GGAbY; FYaW4: } goto rIxvx; Ll1em: foreach ($idkelases as $ik) { goto yAnBo; GEg_a: $data = array("\x6e\x61\x6d\141\137\x6b\145\154\141\x73" => $kelas->nama_kelas, "\x6b\x6f\x64\x65\x5f\153\x65\154\141\163" => $kelas->kode_kelas, "\152\x75\162\165\x73\x61\x6e\x5f\151\x64" => $kelas->jurusan_id, "\x69\x64\x5f\x74\160" => $tp->id_tp, "\x69\144\137\163\155\164" => $smt->id_smt, "\154\145\x76\145\x6c\x5f\151\x64" => $kelas->level_id, "\x67\x75\162\165\x5f\151\144" => $kelas->guru_id, "\163\x69\x73\x77\141\137\151\x64" => $kelas->siswa_id, "\152\165\155\154\141\x68\137\163\151\163\x77\141" => $jumlah); goto jMqsP; dIsPL: foreach ($idks as $idk) { goto fpeQy; U9voj: bY_VB: goto OtT00; fpeQy: foreach ($siswakelas[$ik] as $s) { goto jspfM; jjzVV: $res[] = $this->db->replace("\x6b\x65\x6c\141\163\137\x73\151\163\167\141", $insert); goto p4gj_; p4gj_: KoEZM: goto mOdSY; jspfM: $insert = ["\x69\x64\137\153\x65\154\x61\x73\137\x73\x69\163\x77\141" => $tp->id_tp . $smt->id_smt . $s["\151\x64"], "\x69\x64\137\x74\x70" => $tp->id_tp, "\151\144\137\x73\x6d\164" => $smt->id_smt, "\151\x64\x5f\153\145\154\141\x73" => $idk, "\x69\x64\x5f\x73\151\x73\x77\141" => $s["\x69\144"]]; goto jjzVV; mOdSY: } goto U9voj; OtT00: zL3DY: goto r5_xZ; r5_xZ: } goto nZ_2V; kSVd8: $data = array("\156\141\155\141\x5f\153\x65\154\141\163" => $kelas->nama_kelas, "\153\x6f\144\145\137\153\x65\x6c\141\x73" => $kelas->kode_kelas, "\152\x75\x72\165\x73\x61\156\x5f\x69\x64" => $kelas->jurusan_id, "\151\144\137\x74\160" => $tp->id_tp, "\151\x64\137\x73\155\x74" => $smt->id_smt, "\154\x65\166\x65\x6c\x5f\x69\x64" => $kelas->level_id, "\x67\x75\162\165\137\151\144" => $kelas->guru_id, "\x73\151\163\x77\141\x5f\x69\x64" => $kelas->siswa_id, "\x6a\x75\155\x6c\x61\x68\137\x73\151\163\167\x61" => $jumlah); goto lixf4; hTmjJ: if ($mode == "\160\145\x72\x73\x69\163\x77\141") { goto OEgaQ; } goto SDIG1; YmR7h: goto d0XFB; goto y1n6a; DmcT4: if ($kelas_baru == null) { goto Qhqtf; } goto hTmjJ; ys_s3: array_push($idks, $this->db->insert_id()); goto jEeJT; kl6b3: d0XFB: goto kSVd8; w3JWC: S7QHL: goto voK5E; yAnBo: $kelas = $this->kelas->get_one($ik, $tp->id_tp - 1, "\x32"); goto M_H_W; rJwSC: goto IBTqE; goto EJfGE; v4KnX: $jmlLama = unserialize($kelas_baru->jumlah_siswa); goto jjICT; lixf4: $this->db->where("\x69\144\137\153\x65\154\141\x73", $kelas_baru->id_kelas); goto U4SbB; jjICT: foreach ($siswakelas[$ik] as $s) { goto VOccM; NPA4J: we04I: goto xRV78; VOccM: foreach ($jmlLama as $lama) { goto sDt_o; mira1: c2En3: goto iZPSA; fiNrT: array_push($jmlLama, ["\151\x64" => $s["\151\x64"]]); goto BxKxc; BxKxc: array_push($idks, $kelas_baru->id_kelas); goto mira1; sDt_o: if (!($lama["\x69\144"] != $s["\151\144"])) { goto c2En3; } goto fiNrT; iZPSA: yqjDR: goto sFtnW; sFtnW: } goto NPA4J; xRV78: VIdIK: goto aomTK; aomTK: } goto w3JWC; Eg64S: MfCBD: goto Z8xiA; y1n6a: OEgaQ: goto v4KnX; nZ_2V: Ky1xX: goto Eg64S; fXiRy: $jumlah = serialize($siswakelas[$ik]); goto GEg_a; NGkN4: array_push($idks, $kelas_baru->id_kelas); goto YmR7h; SDIG1: $jumlah = serialize($siswakelas[$ik]); goto NGkN4; voK5E: $jumlah = serialize($jmlLama); goto kl6b3; EJfGE: Qhqtf: goto fXiRy; jEeJT: IBTqE: goto dIsPL; U4SbB: $this->db->update("\x6d\x61\163\x74\x65\162\137\x6b\145\154\x61\163", $data); goto rJwSC; M_H_W: $kelas_baru = $this->kelas->getKelasByNama($kelas->nama_kelas, $tp->id_tp, $smt->id_smt); goto DmcT4; jMqsP: $this->db->insert("\x6d\x61\163\x74\145\x72\137\x6b\145\154\141\163", $data); goto ys_s3; Z8xiA: } goto l_fEQ; fcObL: $idkelases = []; goto VkZ9L; PVgJ1: $mode = $this->input->post("\x6d\157\144\145", true); goto fcObL; Vmcpd: $res = []; goto jCqWC; Uuuvl: $idkelases = array_unique($idkelases); goto Vmcpd; rIxvx: hMt4A: goto Uuuvl; VQRa0: $posts = json_decode($this->input->post("\153\x65\x6c\x61\x73", true)); goto PVgJ1; h6n2R: $smt = $this->dashboard->getSemesterActive(); goto VQRa0; zY4km: $data["\162\145\163"] = $siswakelas; goto jl5Gw; Qvat1: $tp = $this->dashboard->getTahunActive(); goto h6n2R; jl5Gw: $this->output_json($data); goto FugTl; l_fEQ: HF5Gs: goto zY4km; FugTl: } public function hapus($id_kelas) { goto zVhC9; zVhC9: $delete["\x73\x69\163\167\141"] = $this->master->delete("\x6b\x65\154\x61\x73\137\163\x69\x73\x77\141", $id_kelas, "\x69\x64\137\153\145\x6c\141\163"); goto lMWqa; gMppu: $this->output_json($delete); goto gi_Yv; lMWqa: $delete["\x6b\x65\154\x61\x73"] = $this->master->delete("\155\x61\x73\x74\x65\x72\137\153\145\154\x61\x73", $id_kelas, "\x69\144\137\x6b\145\154\x61\163"); goto gMppu; gi_Yv: } }
