<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\102\101\x53\x45\120\x41\x54\110") or exit("\x4e\x6f\x20\144\x69\162\145\143\164\x20\163\x63\x72\x69\160\x74\40\141\x63\143\145\x73\163\40\141\x6c\154\x6f\167\145\x64"); class Datakelas extends CI_Controller { public function __construct() { goto kpdt2; lF55x: $this->load->model("\x44\x61\x73\150\142\157\x61\x72\x64\137\x6d\157\144\145\154", "\x64\x61\x73\150\x62\x6f\141\x72\x64"); goto mwVKi; MUaFA: if (!$this->ion_auth->logged_in()) { goto iFQPw; } goto ExUN7; ExUN7: if ($this->ion_auth->is_admin()) { goto o0Fdn; } goto zwyxQ; DNfzF: WJ4jC: goto ImR57; Akseo: o0Fdn: goto fQWDx; tIU7A: $this->load->model("\x52\x61\x70\157\162\137\x6d\157\144\x65\x6c", "\x72\141\x70\x6f\162"); goto fYFew; Rra2H: redirect("\x61\165\164\x68"); goto DNfzF; kpdt2: parent::__construct(); goto MUaFA; tHwVG: $this->load->model("\104\x72\x6f\x70\144\x6f\x77\156\137\x6d\x6f\144\145\x6c", "\x64\x72\x6f\160\144\157\167\x6e"); goto tIU7A; iY9Vh: $this->load->model("\113\x65\154\141\163\x5f\155\x6f\144\145\154", "\x6b\x65\154\x61\x73"); goto lF55x; fYFew: $this->form_validation->set_error_delimiters('', ''); goto hmx63; zwyxQ: show_error("\110\x61\x6e\x79\x61\40\x41\x64\x6d\x69\x6e\x69\x73\x74\x72\x61\x74\x6f\162\40\171\x61\156\147\x20\144\x69\x62\x65\162\151\x20\x68\x61\153\x20\165\156\164\165\x6b\x20\x6d\145\156\147\141\153\x73\145\x73\x20\x68\x61\154\x61\x6d\x61\156\x20\x69\156\151\54\x20\74\x61\40\150\x72\x65\x66\x3d\x22" . base_url("\144\x61\163\x68\142\157\141\162\x64") . "\x22\76\x4b\145\x6d\142\x61\x6c\x69\x20\x6b\x65\40\155\145\x6e\165\x20\x61\x77\141\x6c\x3c\57\x61\x3e", 403, "\101\153\x73\145\163\40\x54\145\x72\154\141\162\x61\156\147"); goto Akseo; mwVKi: $this->load->model("\x4d\x61\163\164\145\162\137\155\157\144\145\154", "\x6d\141\x73\164\x65\x72"); goto tHwVG; ImR57: $this->load->library(["\x64\141\164\141\164\x61\x62\x6c\x65\x73", "\x66\x6f\x72\155\137\x76\141\x6c\x69\x64\141\x74\151\157\x6e"]); goto iY9Vh; BaC2O: iFQPw: goto Rra2H; fQWDx: goto WJ4jC; goto BaC2O; hmx63: } public function output_json($data, $encode = true) { goto JKqBf; xCQ6P: $this->output->set_content_type("\141\160\x70\154\x69\143\141\164\x69\157\156\x2f\152\163\x6f\x6e")->set_output($data); goto ARApH; zgmrZ: $data = json_encode($data); goto EqJHj; EqJHj: Eof7v: goto xCQ6P; JKqBf: if (!$encode) { goto Eof7v; } goto zgmrZ; ARApH: } public function index() { goto gHni1; PwYCE: $this->load->view("\137\164\145\x6d\x70\154\141\x74\145\163\57\144\x61\x73\150\x62\157\x61\162\x64\x2f\137\146\157\157\x74\x65\162"); goto oL0cT; IrLWD: $kelas_lama = $this->kelas->getKelasList($tp->id_tp - 1, "\62"); goto ocWyx; RN1MS: $data["\x6b\x65\x6c\141\x73\137\x6c\141\x6d\141"] = $kelas_lama; goto TAV8F; iYuAl: $data["\163\155\164"] = $this->dashboard->getSemester(); goto U9qwD; HNsCo: $data["\x73\151\163\x77\141"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto Sg4eJ; uBVUv: $smt = $this->dashboard->getSemesterActive(); goto t3jIz; ovYL1: $kelas_lama = []; goto IfIZ5; hbHPu: $data = ["\x75\163\145\162" => $user, "\152\165\x64\x75\x6c" => "\x4b\x65\154\x61\x73", "\163\165\142\152\165\144\165\154" => "\x44\x61\x74\141\x20\x4b\145\154\141\x73", "\x73\x65\x74\164\x69\x6e\x67" => $setting]; goto k_eBK; C8RTt: $data["\153\145\154\141\x73"] = $kelas; goto RN1MS; YZ0Yg: $setting = $this->dashboard->getSetting(); goto hbHPu; IfIZ5: if (!($chek > 0)) { goto fvKhz; } goto bnWdm; U9qwD: $data["\163\x6d\x74\x5f\x61\143\164\x69\x76\x65"] = $smt; goto mi0MW; EVTCW: $data["\164\x70\x5f\141\x63\x74\151\x76\x65"] = $tp; goto iYuAl; pJ4Iq: $kelas = []; goto ovYL1; Ww4VY: $data["\154\x65\166\x65\x6c"] = $this->kelas->getLevel($setting->jenjang); goto ats5E; ocWyx: fvKhz: goto C8RTt; mi0MW: $data["\x70\162\157\x66\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto uHE3w; gHni1: $user = $this->ion_auth->user()->row(); goto YZ0Yg; uHE3w: $chek = $this->kelas->count_all(); goto pJ4Iq; k_eBK: $tp = $this->dashboard->getTahunActive(); goto uBVUv; bnWdm: $kelas = $this->kelas->getKelasList($tp->id_tp, $smt->id_smt); goto IrLWD; TAV8F: $data["\x6a\x75\x72\165\x73\x61\156"] = $this->kelas->get_jurusan(); goto Ww4VY; Y4zTa: $this->load->view("\x6d\x61\x73\164\x65\x72\57\x6b\x65\x6c\141\163\x2f\x64\x61\164\x61"); goto PwYCE; ats5E: $data["\x67\165\162\x75"] = $this->kelas->get_guru(); goto HNsCo; t3jIz: $data["\164\x70"] = $this->dashboard->getTahun(); goto EVTCW; Sg4eJ: $this->load->view("\x5f\164\x65\155\160\154\x61\164\x65\163\57\144\141\163\150\x62\157\141\x72\x64\x2f\137\150\x65\141\144\145\x72", $data); goto Y4zTa; oL0cT: } public function detail($id) { goto k3lYg; vlU1a: $tp = $this->dashboard->getTahunActive(); goto sRI7l; io_d0: $this->load->view("\x5f\x74\145\x6d\160\154\x61\164\145\x73\x2f\x64\x61\163\150\x62\157\x61\162\144\x2f\x5f\x68\145\x61\144\145\x72", $data); goto b43X9; NbvJ0: $data["\163\x74\162\165\153\164\x75\x72"] = json_decode(json_encode($this->kelas->dummyStruktur())); goto oNE1S; l99Xg: $data["\x6c\145\166\x65\x6c"] = $this->kelas->getLevel($setting->jenjang); goto Sgi2_; wUFJN: $data["\163\x6d\x74\x5f\x61\143\x74\151\x76\145"] = $smt; goto B3G0X; gIjIf: $setting = $this->dashboard->getSetting(); goto Aw9Kd; NtyKN: $this->load->view("\x5f\x74\145\155\160\x6c\141\x74\x65\163\57\144\x61\x73\x68\x62\x6f\x61\162\x64\x2f\137\146\157\157\164\x65\162"); goto GBc8l; b43X9: $this->load->view("\x6d\141\163\164\145\162\57\x6b\145\x6c\x61\x73\57\144\145\x74\x61\x69\154"); goto NtyKN; JiqbT: $struktur = $this->kelas->getStrukturKelas($id); goto yD7Ug; sRI7l: $smt = $this->dashboard->getSemesterActive(); goto Zcf5r; AM2J9: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto wUFJN; KTWGx: qFnGj: goto NbvJ0; Zcf5r: $data["\x74\x70"] = $this->dashboard->getTahun(); goto UC4GM; asYd7: goto IecxR; goto KTWGx; B3G0X: $data["\160\162\x6f\146\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto AHFUf; Sgi2_: $data["\147\165\x72\165"] = $this->kelas->get_guru(); goto suutB; k3lYg: $user = $this->ion_auth->user()->row(); goto gIjIf; AHFUf: $data["\153\x65\x6c\x61\x73"] = $this->kelas->get_one($id); goto ELdDK; Aw9Kd: $data = ["\x75\163\145\x72" => $user, "\152\x75\144\165\x6c" => "\104\x65\164\141\x69\x6c\40\113\x65\x6c\x61\163", "\x73\165\x62\152\x75\144\165\x6c" => "\x44\x65\164\x61\x69\x6c\40\113\145\154\141\163", "\163\x65\x74\x74\x69\x6e\x67" => $setting]; goto vlU1a; ELdDK: $data["\152\x75\162\x75\x73\141\x6e"] = $this->kelas->get_jurusan(); goto l99Xg; UC4GM: $data["\164\x70\137\x61\143\x74\x69\166\x65"] = $tp; goto AM2J9; DYSc6: $data["\x73\164\162\x75\153\164\165\x72"] = $struktur; goto asYd7; oNE1S: IecxR: goto io_d0; yD7Ug: if ($struktur == null) { goto qFnGj; } goto DYSc6; suutB: $data["\x73\x69\x73\167\141\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto JiqbT; GBc8l: } public function add() { goto oeM2i; kZg4h: $smt = $this->dashboard->getSemesterActive(); goto zKm0U; qVU2p: $siswa = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto P1Kea; zKm0U: $data["\x74\x70"] = $this->dashboard->getTahun(); goto tEfh8; t82XI: $data["\x70\x72\157\x66\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto jK0fU; tuYd6: $data["\163\x69\x73\x77\x61\x6b\145\154\141\163"] = array(); goto sSFsm; jMXK_: $data = ["\165\163\x65\x72" => $user, "\x6a\165\x64\165\x6c" => "\x4b\145\x6c\x61\163", "\163\x75\x62\152\x75\x64\165\x6c" => "\124\x61\155\x62\x61\150\40\113\145\x6c\x61\163", "\163\x65\x74\164\151\156\x67" => $setting]; goto z2sDr; KERiv: $this->load->view("\x5f\x74\145\155\160\x6c\x61\x74\x65\163\x2f\144\141\x73\x68\x62\x6f\x61\162\144\57\x5f\146\x6f\x6f\164\x65\162"); goto BeRCY; sSFsm: $this->load->view("\137\164\145\x6d\x70\x6c\141\x74\145\163\x2f\144\141\163\x68\142\157\141\x72\x64\57\137\x68\145\141\x64\145\x72", $data); goto Ymh9z; oeM2i: $user = $this->ion_auth->user()->row(); goto M0U4_; BX72q: $data["\152\165\162\x75\x73\x61\156"] = $this->kelas->get_jurusan(); goto dB0e9; nTP4s: $data["\x73\155\x74\137\141\x63\164\151\166\145"] = $smt; goto t82XI; z2sDr: $tp = $this->dashboard->getTahunActive(); goto kZg4h; P1Kea: $data["\x73\x69\163\167\141"] = $siswa; goto tuYd6; jK0fU: $data["\x6b\145\154\x61\163"] = json_decode(json_encode($this->kelas->dummy())); goto BX72q; Ymh9z: $this->load->view("\x6d\x61\163\164\145\162\57\x6b\x65\154\x61\x73\x2f\x61\144\144"); goto KERiv; M0U4_: $setting = $this->dashboard->getSetting(); goto jMXK_; tEfh8: $data["\x74\160\x5f\x61\143\164\x69\166\145"] = $tp; goto A3uvz; zl2am: $data["\x67\165\162\165"] = $this->kelas->get_guru(); goto qVU2p; dB0e9: $data["\x6c\145\x76\145\x6c"] = $this->kelas->getLevel($setting->jenjang); goto zl2am; A3uvz: $data["\163\155\164"] = $this->dashboard->getSemester(); goto nTP4s; BeRCY: } public function edit($id = '') { goto FaGfK; YMVuI: $data["\153\145\x6c\141\163"] = $this->kelas->get_one($id); goto qnYed; YMh5t: $setting = $this->dashboard->getSetting(); goto JbrJ9; B1jBc: $tp = $this->dashboard->getTahunActive(); goto sR1BT; A6SaZ: $data["\x69\x64\137\153\145\154\x61\163"] = $id; goto YMVuI; wbwM4: $data["\164\160"] = $this->dashboard->getTahun(); goto YUd1c; JbrJ9: $data = ["\165\163\x65\162" => $user, "\x6a\x75\144\x75\x6c" => "\113\145\x6c\141\163", "\163\165\x62\x6a\x75\x64\165\x6c" => "\105\x64\x69\164\x20\113\145\154\141\x73", "\x73\x65\164\x74\x69\x6e\x67" => $setting]; goto B1jBc; od8Nm: $data["\x73\155\x74\x5f\x61\143\164\151\x76\145"] = $smt; goto YjwLT; xs1Tv: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto od8Nm; zsXbK: $this->load->view("\137\164\145\155\x70\x6c\141\x74\x65\x73\57\x64\141\x73\150\x62\x6f\x61\x72\x64\x2f\137\x68\x65\141\x64\x65\162", $data); goto xfi0j; YjwLT: $data["\160\x72\157\146\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto A6SaZ; FaGfK: $user = $this->ion_auth->user()->row(); goto YMh5t; TZur6: $this->load->view("\137\164\x65\155\160\x6c\141\x74\145\x73\x2f\144\141\x73\150\x62\157\x61\162\x64\x2f\x5f\146\x6f\157\164\x65\162"); goto Zzsu0; cRrPj: $data["\x73\x69\163\x77\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto qol_L; qnYed: $data["\152\x75\162\x75\163\x61\156"] = $this->kelas->get_jurusan(); goto HQaIx; HQaIx: $data["\154\x65\166\145\x6c"] = $this->kelas->getLevel($setting->jenjang); goto ETer6; ETer6: $data["\x67\x75\x72\165"] = $this->kelas->getWaliKelas($tp->id_tp, $smt->id_smt); goto cRrPj; xfi0j: $this->load->view("\x6d\141\163\x74\x65\x72\x2f\153\145\x6c\x61\163\x2f\x61\x64\x64"); goto TZur6; sR1BT: $smt = $this->dashboard->getSemesterActive(); goto wbwM4; YUd1c: $data["\164\160\137\x61\143\x74\x69\166\145"] = $tp; goto xs1Tv; qol_L: $data["\x73\151\163\x77\141\x6b\145\154\x61\x73"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto zsXbK; Zzsu0: } public function save() { goto BP3Lt; leCwi: z25gt: goto EAMDs; Ddpvy: $id_new = $this->db->insert_id(); goto T7bpE; WIpcm: $i++; goto eLj1r; fhYrv: Z0o_O: goto leCwi; SKJ6T: $updated = $this->db->update("\x6a\x61\x62\x61\164\x61\x6e\x5f\x67\165\x72\165"); goto sxRMx; t3s7B: $data["\151\x6e\163\x65\x72\x74"] = $insert; goto qbu9u; i8Poi: $this->db->where("\x69\x64\x5f\x6b\x65\154\x61\x73", $id); goto hrecc; gUC81: $this->form_validation->set_rules($config); goto cQplB; NHbUE: $this->form_validation->set_rules($config); goto WorFL; WzHbC: u8KFg: goto Gjh5m; fvHo9: ieeNd: goto tSfZk; DGmRb: uhE6d: goto xAOcY; MGcln: r9Nnw: goto jkJuv; WgRLg: goto Z0o_O; goto lg8vo; kefXp: $this->db->set("\x69\144\137\x6b\x65\x6c\x61\163", $id); goto X65iv; xAOcY: iAA4a: goto jCtLx; GM1yj: $id_tp = $this->master->getTahunActive()->id_tp; goto gkyYn; g3Tly: $siswa_kelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto zmbv4; oLs3J: $i++; goto LEDXl; jc9DQ: $i = 0; goto oOUds; QZJcQ: goto z25gt; goto eI0Rl; f66jN: $data["\165\160\144\x61\x74\x65"] = $updated; goto FalHo; ucp5K: YOv7u: goto YG59T; jkJuv: if (!($i <= count($siswas))) { goto YOv7u; } goto jaJ_X; dtoZL: $i = 0; goto MGcln; gY_Np: vuZmG: goto oLs3J; J36Uo: $config = array(array("\x66\151\145\154\144" => "\156\x61\x6d\141\137\153\x65\x6c\x61\163", "\154\141\142\x65\154" => "\116\141\x6d\x61\40\113\x65\154\141\x73", "\x72\165\154\145\163" => "\x74\162\x69\x6d"), array("\x66\151\145\x6c\x64" => "\x6b\157\x64\145\x5f\153\x65\x6c\141\x73", "\154\x61\142\145\x6c" => "\x4b\157\x64\x65\x20\113\145\x6c\x61\x73", "\x72\165\x6c\145\163" => "\164\x72\151\155"), array("\146\x69\145\x6c\144" => "\x6a\165\162\x75\x73\x61\156\137\151\144", "\x6c\x61\x62\145\154" => "\112\165\x72\x75\x73\x61\x6e", "\162\165\154\x65\x73" => "\164\162\x69\x6d"), array("\x66\151\x65\154\144" => "\154\x65\166\145\x6c\137\x69\144", "\154\x61\142\145\x6c" => "\114\145\166\x65\154", "\162\165\154\x65\x73" => "\164\162\151\155"), array("\x66\151\x65\154\144" => "\147\x75\162\165\x5f\151\x64", "\154\141\142\145\154" => "\x47\x75\x72\165", "\162\165\154\145\x73" => "\x74\x72\151\x6d"), array("\146\x69\145\x6c\144" => "\x73\x69\x73\x77\141\137\x69\144", "\x6c\x61\142\145\154" => "\x53\x69\163\167\141", "\x72\x75\154\145\163" => "\x74\x72\151\155")); goto JNVQG; Fe48V: foreach ($siswa_kelas as $id_siswa => $sis) { $insert[$id_tp . $id_smt . $id_siswa] = ["\x69\x64\137\153\145\154\x61\x73\x5f\163\x69\x73\x77\x61" => $id_tp . $id_smt . $id_siswa, "\x69\144\137\x74\160" => $id_tp, "\151\x64\x5f\x73\x6d\x74" => $id_smt, "\151\144\x5f\153\145\x6c\141\x73" => 0, "\151\144\x5f\x73\x69\163\x77\x61" => $id_siswa]; bYd64: } goto P4uTj; bBhgG: foreach ($insert as $ins) { goto JwIJ7; ZkPME: mx8mK: goto k6VAZ; JwIJ7: if (!$this->db->replace("\x6b\145\x6c\141\163\137\163\x69\x73\x77\141", $ins)) { goto US5Sp; } goto yHv2x; Xtocv: US5Sp: goto ZkPME; yHv2x: $siswa_inserted++; goto Xtocv; k6VAZ: } goto guNo5; EAMDs: $updated = false; goto lXN1d; P97hM: goto DCx1q; goto KQhEY; P5EA1: if (!($id_siswa != null)) { goto JKNze; } goto F50Fh; eI0Rl: iYJrs: goto gUC81; guNo5: gmVW5: goto t3s7B; a6t7z: $this->output_json($data); goto n5QVb; nK0MI: $status = FALSE; goto P97hM; LEDXl: goto r9Nnw; goto ucp5K; oOUds: Kb7Z8: goto bUGvg; P4uTj: Fny2B: goto fvHo9; WorFL: if ($this->form_validation->run() == TRUE) { goto ZuM30; } goto nK0MI; KQhEY: ZuM30: goto Trn58; X65iv: $this->db->where("\151\x64\137\x6a\141\x62\x61\x74\141\x6e\x5f\x67\x75\x72\x75", $guru_id . $id_tp . $id_smt); goto SKJ6T; tSfZk: XrqG8: goto jc9DQ; qbu9u: UsIHM: goto WzHbC; zmbv4: if (!(count($siswa_kelas) > 0)) { goto ieeNd; } goto Fe48V; vABGB: $guru_id = strip_tags($this->input->post("\147\x75\162\x75\137\151\x64", TRUE)); goto GM1yj; VTD4N: $insert = array("\156\141\x6d\141\137\153\x65\x6c\141\x73" => strip_tags($this->input->post("\x6e\141\155\141\x5f\x6b\x65\x6c\141\x73", TRUE)), "\x6b\157\144\x65\x5f\153\x65\154\x61\163" => strip_tags($this->input->post("\x6b\157\x64\145\x5f\x6b\x65\x6c\x61\x73", TRUE)), "\152\165\162\165\163\141\156\137\x69\144" => strip_tags($this->input->post("\x6a\x75\x72\165\x73\x61\156\x5f\x69\x64", TRUE)), "\151\144\137\164\160" => $id_tp, "\151\x64\x5f\163\155\164" => $id_smt, "\x6c\x65\x76\145\154\137\151\144" => strip_tags($this->input->post("\154\145\x76\x65\154\137\151\x64", TRUE)), "\x67\x75\x72\x75\137\x69\144" => strip_tags($this->input->post("\147\165\x72\165\x5f\151\144", TRUE)), "\x73\151\163\167\x61\137\151\x64" => strip_tags($this->input->post("\163\151\x73\167\141\x5f\151\x64", TRUE)), "\x6a\165\x6d\x6c\141\x68\x5f\x73\151\x73\167\141" => $jumlah); goto spWly; YG59T: $jumlah = serialize($siswakelas); goto VTD4N; T7bpE: DCx1q: goto QZJcQ; lbwCY: JKNze: goto gY_Np; F50Fh: array_push($siswakelas, ["\x69\x64" => $id_siswa]); goto lbwCY; jaJ_X: $id_siswa = isset($siswas[$i]) ? $siswas[$i] : null; goto P5EA1; JNVQG: $siswakelas = []; goto dtoZL; habNq: if ($id != null && $id != '') { goto iYJrs; } goto NHbUE; sxRMx: if (!$updated) { goto UsIHM; } goto SvYhf; AbXFX: DqUSb: goto Z0dGV; Trn58: $status = $this->db->insert("\x6d\141\x73\x74\145\162\137\153\x65\154\x61\163", $insert); goto Ddpvy; jCtLx: JRSDy: goto WIpcm; hrecc: $status = $this->db->update("\155\x61\163\x74\x65\x72\x5f\153\x65\154\141\163", $insert); goto fhYrv; bVdxs: $status = FALSE; goto WgRLg; WjfWH: $insert[$id_tp . $id_smt . $idsiswa] = ["\151\144\137\153\145\154\141\163\x5f\163\151\x73\x77\x61" => $id_tp . $id_smt . $idsiswa, "\151\x64\137\164\x70" => $id_tp, "\151\144\137\x73\x6d\164" => $id_smt, "\x69\x64\137\153\145\154\141\163" => $new_id_kelas, "\x69\144\x5f\163\x69\x73\167\141" => $idsiswa]; goto CwIND; Z0dGV: $insert[$id_tp . $id_smt . $idsiswa]["\x69\144\137\153\x65\154\x61\x73"] = $new_id_kelas; goto DGmRb; CwIND: goto uhE6d; goto AbXFX; djCPV: j4gCj: goto bBhgG; fMtAW: if (!$status) { goto u8KFg; } goto kefXp; vjihz: $new_id_kelas = $id != null && $id != '' ? $id : $id_new; goto j33oN; twQ6B: $idsiswa = isset($siswas[$i]) ? $siswas[$i] : null; goto vjihz; lXN1d: $siswa_inserted = 0; goto fMtAW; j33oN: if (!($idsiswa != null)) { goto iAA4a; } goto BYM1t; BP3Lt: $id = $this->input->post("\x69\x64\137\x6b\x65\x6c\141\163", true); goto vABGB; FalHo: $data["\163\x74\x61\x74\165\x73"] = $status; goto a6t7z; spWly: $id_new = null; goto habNq; bUGvg: if (!($i <= count($siswas))) { goto j4gCj; } goto twQ6B; eLj1r: goto Kb7Z8; goto djCPV; lg8vo: fzX58: goto i8Poi; Br8DT: $siswas = $this->input->post("\163\151\x73\x77\141", true); goto J36Uo; cQplB: if ($this->form_validation->run() == TRUE) { goto fzX58; } goto bVdxs; Gjh5m: $data["\163\151\163\x77\x61"] = $siswa_inserted; goto f66jN; gkyYn: $id_smt = $this->master->getSemesterActive()->id_smt; goto Br8DT; SvYhf: $insert = []; goto BQjHV; BYM1t: if (isset($insert[$id_tp . $id_smt . $idsiswa])) { goto DqUSb; } goto WjfWH; BQjHV: if (!($id != null && $id != '')) { goto XrqG8; } goto g3Tly; n5QVb: } public function update_kelas($id) { goto B4ouX; GqwR_: Y4MzV: goto Relv2; Lr4xk: $id_smt = $this->master->getSemesterActive()->id_smt; goto RN9cP; B4ouX: $id_tp = $this->master->getTahunActive()->id_tp; goto Lr4xk; TXoFK: goto hWCGD; goto IKfxQ; TH3_Q: foreach ($siswakelas as $id_siswa => $sis) { goto QVJhQ; jxPlR: $this->db->replace("\x6b\x65\154\x61\x73\x5f\163\x69\x73\x77\141", $insert); goto ibQWp; QVJhQ: $insert = ["\x69\x64\x5f\x6b\x65\x6c\141\163\x5f\x73\x69\x73\x77\x61" => $id_tp . $id_smt . $id_siswa, "\151\144\x5f\164\160" => $id_tp, "\x69\x64\137\163\x6d\x74" => $id_smt, "\x69\144\x5f\x6b\145\154\x61\163" => 0, "\x69\x64\x5f\163\151\163\167\141" => $id_siswa]; goto jxPlR; ibQWp: J6x3h: goto CK2Xb; CK2Xb: } goto hq37u; IKfxQ: ZNPsL: goto L4GHR; hq37u: i3VpA: goto hT4NR; hT4NR: NMfPf: goto tbWgF; RN9cP: $siswakelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto MO_5q; bX3xV: xbZfI: goto GqwR_; NFu3v: if (!($id_siswa != null)) { goto xbZfI; } goto x4q8h; x4q8h: $insert = ["\x69\144\x5f\153\x65\154\141\163\137\163\x69\163\x77\x61" => $id_tp . $id_smt . $id_siswa, "\x69\144\137\164\x70" => $id_tp, "\x69\144\137\x73\155\x74" => $id_smt, "\151\144\x5f\x6b\x65\x6c\141\x73" => $id, "\x69\144\x5f\x73\151\x73\167\x61" => $id_siswa]; goto tmArl; HVBm4: $i = 0; goto XVl7y; dTdcS: $id_siswa = $this->input->post("\x73\151\x73\167\141\133" . $i . "\x5d", true); goto NFu3v; L4GHR: return $siswakelas; goto KlM8N; MO_5q: if (!(count($siswakelas) > 0)) { goto NMfPf; } goto TH3_Q; Relv2: $i++; goto TXoFK; tmArl: $this->db->replace("\x6b\145\x6c\x61\x73\137\163\151\163\x77\x61", $insert); goto bX3xV; tbWgF: $rowsSelect = count($this->input->post("\163\151\x73\167\x61", true)); goto HVBm4; XVl7y: hWCGD: goto blYNI; blYNI: if (!($i <= $rowsSelect)) { goto ZNPsL; } goto dTdcS; KlM8N: } public function manage() { goto W7NiA; rOiIz: $data["\153\145\154\141\163\x32"] = $this->dropdown->getAllKelas($tp->id_tp, "\x32"); goto NSYIi; ZfD77: $tp = $this->dashboard->getTahunActive(); goto zDblW; W7NiA: $user = $this->ion_auth->user()->row(); goto yY3yJ; F50us: $data["\x70\x72\157\x66\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto ws7qs; yY3yJ: $data = ["\165\x73\x65\162" => $user, "\152\x75\x64\x75\154" => "\x43\x6f\160\171\40\113\145\x6c\141\163", "\x73\x75\x62\152\x75\144\x75\x6c" => "\x43\x6f\x70\171\x20\104\141\x74\x61\40\113\145\154\141\163\x20\x6b\145\40\x53\x4d\x54\40\111\111", "\163\x65\x74\x74\x69\156\147" => $this->dashboard->getSetting()]; goto ZfD77; zLduv: $data["\163\x6d\x74\x5f\x61\143\x74\151\x76\145"] = $smt; goto F50us; wtJsJ: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto zLduv; vYgo_: $this->load->view("\155\x61\x73\x74\145\162\x2f\x6b\145\154\141\163\57\160\x65\x72\163\145\155\145\x73\164\145\162"); goto WGUPg; zDblW: $smt = $this->dashboard->getSemesterActive(); goto H90jH; ws7qs: $data["\x6b\x65\154\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto rOiIz; WGUPg: $this->load->view("\137\164\145\155\160\154\141\x74\145\x73\57\x64\141\x73\x68\142\157\x61\x72\144\x2f\137\x66\157\157\x74\145\162"); goto G6gN9; H90jH: $data["\x74\160"] = $this->dashboard->getTahun(); goto Zrfd1; Zrfd1: $data["\x74\x70\137\x61\x63\164\151\166\x65"] = $tp; goto wtJsJ; NSYIi: $this->load->view("\x5f\x74\x65\155\x70\x6c\141\164\145\x73\x2f\x64\141\163\150\142\x6f\141\162\144\x2f\137\150\145\141\x64\x65\x72", $data); goto vYgo_; G6gN9: } public function getFromSmt1($kelas) { goto fd966; OHnRK: $data1 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\61"); goto h_ayj; fd966: $tp = $this->dashboard->getTahunActive(); goto OHnRK; tm535: foreach ($data2 as $s) { $ids[] = $s->id_siswa; LV7If: } goto BSeMS; xhxLH: $this->output_json(["\x73\x6d\x74\61" => $data1, "\x73\x6d\x74\62" => $ids]); goto x3p8s; BSeMS: I3bxx: goto HOoIC; ysHCe: if (!(count($data2) > 0)) { goto f0BhV; } goto tm535; EUboc: $ids = []; goto ysHCe; h_ayj: $data2 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\x32"); goto EUboc; HOoIC: f0BhV: goto xhxLH; x3p8s: } public function copyFromSmt1() { goto ZfQlD; l1bhI: $idk = $this->db->insert_id(); goto wu1_c; NIHAm: $this->db->insert("\155\141\163\x74\x65\x72\x5f\153\x65\x6c\141\163", $data); goto l1bhI; LCF2Z: $kelas = $this->kelas->get_one($kelas1, $tp->id_tp, "\x31"); goto EysMK; fE8kS: bFhs9: goto IUCZe; EysMK: $data = array("\156\x61\x6d\x61\137\153\145\154\x61\x73" => $kelas2, "\153\157\144\145\x5f\x6b\145\154\x61\x73" => $kelas->kode_kelas, "\152\x75\162\x75\x73\x61\156\x5f\x69\x64" => $kelas->jurusan_id, "\x69\144\137\164\x70" => $tp->id_tp, "\151\144\x5f\x73\155\x74" => $smt->id_smt, "\154\145\166\x65\154\137\x69\x64" => $kelas->level_id, "\147\165\x72\165\137\151\144" => $kelas->guru_id, "\x73\151\163\x77\141\x5f\151\x64" => $kelas->siswa_id, "\x6a\165\155\154\x61\x68\x5f\163\151\x73\x77\141" => $kelas->jumlah_siswa); goto NIHAm; wu1_c: $res = []; goto ToSdt; ToSdt: $arrSiswa = unserialize($kelas->jumlah_siswa); goto OPWoS; zpE5S: $kelas2 = $this->input->post("\x6b\x65\x6c\x61\163\x5f\142\141\162\165", true); goto LCF2Z; ngz6k: $smt = $this->dashboard->getSemesterActive(); goto cP2sY; IUCZe: $this->output_json($res); goto CyFHr; ZfQlD: $tp = $this->dashboard->getTahunActive(); goto ngz6k; OPWoS: foreach ($arrSiswa as $value) { goto ZJMMc; xrAny: $insert = ["\x69\144\137\153\x65\154\x61\x73\137\x73\151\163\x77\x61" => $tp->id_tp . $smt->id_smt . $id_siswa, "\151\x64\137\164\160" => $tp->id_tp, "\x69\144\137\x73\x6d\164" => $smt->id_smt, "\151\144\137\x6b\x65\x6c\141\163" => $idk, "\x69\x64\137\163\151\163\x77\141" => $id_siswa]; goto mJyaw; Hb_di: BSS2c: goto tLcio; mJyaw: $res[] = $this->db->replace("\153\145\154\x61\x73\x5f\163\x69\x73\x77\141", $insert); goto e2I09; ZJMMc: $id_siswa = $value["\151\144"]; goto RzmDU; e2I09: gmD3D: goto Hb_di; RzmDU: if (!($id_siswa != null)) { goto gmD3D; } goto xrAny; tLcio: } goto fE8kS; cP2sY: $kelas1 = $this->input->post("\x6b\145\x6c\x61\163\137\x6c\x61\155\141", true); goto zpE5S; CyFHr: } public function copySiswaFromSmt1() { goto awrjb; Vd8HM: $this->output_json($res); goto HPOar; wfx4i: foreach ($idkelases as $ik) { goto MZNVe; oDMZW: $data = array("\156\141\155\141\x5f\x6b\x65\x6c\141\163" => $kelas->nama_kelas, "\x6b\x6f\144\x65\137\x6b\145\154\141\163" => $kelas->kode_kelas, "\152\165\162\165\x73\x61\156\137\x69\x64" => $kelas->jurusan_id, "\151\144\137\164\160" => $tp->id_tp, "\x69\x64\137\163\x6d\x74" => $smt->id_smt, "\154\x65\166\145\154\137\x69\x64" => $kelas->level_id, "\147\x75\162\x75\137\x69\144" => $kelas->guru_id, "\x73\151\x73\x77\141\137\151\144" => $kelas->siswa_id, "\152\165\x6d\x6c\x61\x68\137\163\151\163\167\x61" => $jumlah); goto Vkas6; vGWWr: i889D: goto mEYKt; TdfVD: g4Rrn: goto vGWWr; MZNVe: if (!($ik != '')) { goto g4Rrn; } goto xI_Zc; FpPRb: mEW3T: goto TdfVD; Vkas6: $this->db->insert("\x6d\141\x73\x74\x65\x72\137\x6b\145\154\141\x73", $data); goto du3e5; du3e5: $idk = $this->db->insert_id(); goto lcu52; xI_Zc: $kelas = $this->kelas->get_one($ik, $tp->id_tp, "\x31"); goto yf2Hz; lcu52: foreach ($siswakelas[$ik] as $s) { goto VfucP; cQ55G: vqa3y: goto rGlhv; VfucP: $insert = ["\x69\x64\x5f\x6b\x65\154\x61\163\x5f\x73\x69\x73\x77\x61" => $tp->id_tp . $smt->id_smt . $s["\151\144"], "\151\144\137\164\x70" => $tp->id_tp, "\x69\144\x5f\163\155\164" => $smt->id_smt, "\x69\x64\137\x6b\x65\x6c\x61\x73" => $idk, "\151\144\x5f\163\151\x73\167\x61" => $s["\151\x64"]]; goto nd5Jg; nd5Jg: $res[] = $this->db->replace("\153\145\x6c\x61\163\x5f\163\151\163\x77\x61", $insert); goto cQ55G; rGlhv: } goto FpPRb; yf2Hz: $jumlah = serialize($siswakelas[$ik]); goto oDMZW; mEYKt: } goto XGw0A; kmo1D: $smt = $this->dashboard->getSemesterActive(); goto OxGZT; yILAQ: $siswakelas = []; goto IvZp1; kHO0p: $idkelases = []; goto yILAQ; VzhWm: $idkelases = array_unique($idkelases); goto ljnoV; IvZp1: foreach ($posts as $d) { goto qf4UC; yXY32: $siswakelas[$d->id_kelas][] = ["\151\144" => $d->id_siswa]; goto BYzNM; qf4UC: $idkelases[] = $d->id_kelas; goto yXY32; BYzNM: Idk0V: goto tAj_T; tAj_T: } goto cyRNK; ljnoV: $res = []; goto wfx4i; cyRNK: j57g8: goto VzhWm; OxGZT: $posts = json_decode($this->input->post("\x6b\x65\x6c\x61\163", true)); goto kHO0p; XGw0A: US3pR: goto Vd8HM; awrjb: $tp = $this->dashboard->getTahunActive(); goto kmo1D; HPOar: } public function kenaikan() { goto a09ox; J3tmD: $data["\163\155\x74\137\x61\x63\x74\151\166\x65"] = $smt; goto s2rrA; dUHuE: $data["\153\x65\154\141\x73\137\x62\x61\x72\x75"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto AGWi3; OaM2k: $this->load->view("\x5f\x74\145\155\x70\154\x61\x74\x65\163\x2f\144\x61\x73\x68\142\x6f\141\162\x64\x2f\x5f\x66\x6f\157\x74\x65\162"); goto IWaW2; hE9rC: $user = $this->ion_auth->user()->row(); goto bKeel; B6Pm_: $data["\x74\160"] = $this->dashboard->getTahun(); goto V_94m; Fm2HW: $data["\x73\x69\163\167\141\x73"] = $this->rapor->getKenaikanSiswa($kelas, $tp->id_tp - 1, "\62"); goto uKoma; ycaLS: $tp = $this->dashboard->getTahunActive(); goto OW9iy; OW9iy: $smt = $this->dashboard->getSemesterActive(); goto B6Pm_; s2rrA: $data["\160\162\157\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto N6d8o; rd_jr: $data["\x6b\x65\154\141\x73\145\163"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\x3d" . ($lvlKls->level_id + 1)); goto G70yT; I3dWN: $data["\x73\x69\163\167\141\x5f\153\145\x6c\141\163\137\142\141\x72\x75"] = $this->master->getSiswaKelasBaru($tp->id_tp, $smt->id_smt); goto Fm2HW; bKeel: $setting = $this->dashboard->getSetting(); goto CDvtP; AGWi3: if (!($kelas != null)) { goto NAnEC; } goto I3dWN; N6d8o: $level = $setting->jenjang == "\x31" ? "\x36" : ($setting->jenjang == "\x32" ? "\71" : ($setting->jenjang == "\x31" ? "\x33" : "\x31\62")); goto rCIah; dmkaK: $this->load->view("\x6d\x61\163\164\145\162\57\153\145\x6c\141\163\x2f\156\141\151\x6b\153\x65\x6c\x61\x73"); goto OaM2k; CDvtP: $data = ["\165\163\x65\162" => $user, "\x6a\165\x64\x75\x6c" => "\113\x65\156\x61\151\153\x6b\141\x6e\x20\113\x65\x6c\x61\163", "\x73\x75\x62\x6a\165\x64\x75\154" => "\116\141\151\x6b\x20\x4b\x65\x6c\141\x73\40\123\x69\163\167\x61", "\x73\145\164\x74\x69\156\x67" => $setting]; goto ycaLS; uKoma: $data["\153\x65\154\141\163\x5f\163\145\154\145\143\x74\145\x64"] = $kelas; goto nGcP9; a09ox: $kelas = $this->input->get("\x6b\145\x6c\x61\x73", true); goto hE9rC; bAiY1: $this->load->view("\x5f\164\145\x6d\x70\x6c\x61\x74\x65\x73\57\x64\141\x73\150\142\x6f\x61\x72\144\57\x5f\x68\145\141\144\145\162", $data); goto dmkaK; rCIah: $data["\153\145\154\141\x73\x5f\x6c\141\155\141"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\62", "\x21\75" . $level); goto dUHuE; nGcP9: $lvlKls = $this->kelas->get_one($kelas, $tp->id_tp - 1, "\62"); goto rd_jr; G70yT: NAnEC: goto bAiY1; V_94m: $data["\164\x70\137\141\143\x74\151\166\145"] = $tp; goto zPU_m; zPU_m: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto J3tmD; IWaW2: } public function naikKelas() { goto tO1Cz; gqjl9: $idks = []; goto ii6Hf; fhYlq: $posts = json_decode($this->input->post("\153\x65\x6c\x61\163", true)); goto XNgXF; kTCBm: $idkelases = []; goto hGYC0; jjDzd: $this->output_json($data); goto DcQON; H56br: foreach ($posts as $d) { goto rXUS1; rXUS1: $idkelases[] = $d->kelas_baru; goto cr8UX; cr8UX: $siswakelas[$d->kelas_baru][] = ["\151\144" => $d->id_siswa]; goto A3Q1g; A3Q1g: c5gPy: goto vqCmC; vqCmC: } goto vUzzL; tO1Cz: $tp = $this->dashboard->getTahunActive(); goto y3wVQ; J1oyb: s8YpJ: goto OB_6w; hGYC0: $siswakelas = []; goto H56br; OB_6w: $data["\162\x65\x73"] = $siswakelas; goto jjDzd; OsitW: $res = []; goto gqjl9; g6HdJ: $idkelases = array_unique($idkelases); goto OsitW; y3wVQ: $smt = $this->dashboard->getSemesterActive(); goto fhYlq; XNgXF: $mode = $this->input->post("\x6d\x6f\x64\x65", true); goto kTCBm; vUzzL: sO0dK: goto g6HdJ; ii6Hf: foreach ($idkelases as $ik) { goto cmkBs; IjVmi: goto StLRj; goto KnnJc; O1AW8: GmqJm: goto WDYH6; cmkBs: $kelas = $this->kelas->get_one($ik, $tp->id_tp - 1, "\62"); goto uSSyU; GdZfZ: $this->db->insert("\155\141\x73\164\x65\x72\137\x6b\x65\154\x61\163", $data); goto w9ozC; OlkVL: MVyO_: goto mUFZb; pGJfE: array_push($idks, $kelas_baru->id_kelas); goto lt_tM; Cx3dY: foreach ($siswakelas[$ik] as $s) { goto Odtnn; kOwCn: hQP0M: goto zbG28; Odtnn: foreach ($jmlLama as $lama) { goto saOFW; saOFW: if (!($lama["\151\144"] != $s["\x69\x64"])) { goto b1wh8; } goto CthF3; nj14O: b1wh8: goto lu0uq; lu0uq: ide3U: goto lrPWY; CthF3: array_push($jmlLama, ["\151\144" => $s["\x69\x64"]]); goto qAurG; qAurG: array_push($idks, $kelas_baru->id_kelas); goto nj14O; lrPWY: } goto GyZ1P; GyZ1P: xbasM: goto kOwCn; zbG28: } goto NsVF0; DqE5d: foreach ($idks as $idk) { goto q_4Mc; q_4Mc: foreach ($siswakelas[$ik] as $s) { goto C4O7G; LBCKo: iLRP2: goto IK1B8; C4O7G: $insert = ["\151\144\137\x6b\145\x6c\x61\163\x5f\163\x69\163\x77\x61" => $tp->id_tp . $smt->id_smt . $s["\151\144"], "\151\x64\137\x74\x70" => $tp->id_tp, "\x69\144\137\x73\155\164" => $smt->id_smt, "\151\144\137\x6b\145\x6c\141\x73" => $idk, "\x69\144\x5f\163\151\x73\167\141" => $s["\151\x64"]]; goto IjEdG; IjEdG: $res[] = $this->db->replace("\x6b\145\x6c\141\x73\x5f\163\x69\x73\x77\x61", $insert); goto LBCKo; IK1B8: } goto Y2GeK; Y2EkE: RfYP2: goto jmLUM; Y2GeK: J2p9J: goto Y2EkE; jmLUM: } goto OlkVL; KnnJc: aequy: goto N3K3F; XP7Uq: $this->db->where("\x69\x64\x5f\x6b\x65\154\x61\163", $kelas_baru->id_kelas); goto Anu_W; OZwg7: $jumlah = serialize($jmlLama); goto h5QkU; qiIKi: $data = array("\156\141\x6d\x61\137\153\x65\154\x61\x73" => $kelas->nama_kelas, "\x6b\x6f\144\145\x5f\153\x65\154\141\x73" => $kelas->kode_kelas, "\152\165\x72\165\x73\141\x6e\137\151\144" => $kelas->jurusan_id, "\x69\144\x5f\x74\160" => $tp->id_tp, "\x69\144\137\x73\155\164" => $smt->id_smt, "\x6c\x65\166\x65\154\137\151\144" => $kelas->level_id, "\147\165\162\165\x5f\x69\x64" => $kelas->guru_id, "\x73\x69\163\167\x61\x5f\151\x64" => $kelas->siswa_id, "\152\165\x6d\154\141\150\x5f\x73\151\163\x77\141" => $jumlah); goto XP7Uq; lInji: $jumlah = serialize($siswakelas[$ik]); goto pGJfE; seGGk: if ($kelas_baru == null) { goto aequy; } goto S8Cpx; lt_tM: goto lxl_V; goto O1AW8; w9ozC: array_push($idks, $this->db->insert_id()); goto BmmjS; mUFZb: T0B2k: goto fi3hG; NsVF0: jOzzX: goto OZwg7; BmmjS: StLRj: goto DqE5d; WDYH6: $jmlLama = unserialize($kelas_baru->jumlah_siswa); goto Cx3dY; Anu_W: $this->db->update("\155\x61\163\164\x65\162\x5f\153\x65\154\141\163", $data); goto IjVmi; N3K3F: $jumlah = serialize($siswakelas[$ik]); goto SWRGw; h5QkU: lxl_V: goto qiIKi; SWRGw: $data = array("\156\141\155\141\x5f\153\x65\154\x61\x73" => $kelas->nama_kelas, "\x6b\157\144\x65\x5f\x6b\145\x6c\x61\163" => $kelas->kode_kelas, "\x6a\x75\162\x75\163\141\x6e\137\x69\144" => $kelas->jurusan_id, "\151\144\137\164\160" => $tp->id_tp, "\x69\x64\x5f\163\155\164" => $smt->id_smt, "\154\x65\166\145\154\x5f\151\x64" => $kelas->level_id, "\x67\165\x72\x75\137\151\144" => $kelas->guru_id, "\163\151\x73\x77\x61\x5f\x69\x64" => $kelas->siswa_id, "\x6a\x75\x6d\154\x61\x68\x5f\x73\x69\163\x77\141" => $jumlah); goto GdZfZ; uSSyU: $kelas_baru = $this->kelas->getKelasByNama($kelas->nama_kelas, $tp->id_tp, $smt->id_smt); goto seGGk; S8Cpx: if ($mode == "\160\x65\x72\x73\151\163\x77\x61") { goto GmqJm; } goto lInji; fi3hG: } goto J1oyb; DcQON: } public function hapus($id_kelas) { goto Aio5l; hOtl0: $delete["\x6b\145\x6c\x61\163"] = $this->master->delete("\155\x61\x73\164\145\162\x5f\x6b\145\x6c\x61\163", $id_kelas, "\151\x64\x5f\153\145\x6c\141\x73"); goto ybeFb; ybeFb: $this->output_json($delete); goto dQEDC; Aio5l: $delete["\x73\x69\x73\167\141"] = $this->master->delete("\153\145\154\141\163\x5f\x73\x69\163\167\141", $id_kelas, "\151\144\137\153\x65\x6c\x61\x73"); goto hOtl0; dQEDC: } }
