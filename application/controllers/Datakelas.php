<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\x53\x45\120\101\x54\x48") or exit("\x4e\x6f\x20\144\151\x72\145\x63\x74\40\163\143\162\151\160\164\40\141\x63\x63\145\x73\x73\40\x61\154\x6c\x6f\167\145\144"); class Datakelas extends CI_Controller { public function __construct() { goto y2ZOZ; Mq5UY: if (!$this->ion_auth->logged_in()) { goto kPQrn; } goto IYfcT; xeXyd: redirect("\141\x75\x74\x68"); goto Gv7r9; y2ZOZ: parent::__construct(); goto Mq5UY; IYfcT: if ($this->ion_auth->is_admin()) { goto frqdE; } goto zsb0H; zsb0H: show_error("\110\x61\156\x79\x61\40\101\x64\x6d\151\x6e\x69\x73\x74\x72\x61\x74\157\x72\x20\x79\x61\x6e\147\40\144\x69\x62\145\x72\x69\x20\x68\141\153\40\x75\x6e\164\x75\x6b\40\155\145\156\x67\x61\153\163\x65\163\x20\150\141\x6c\141\x6d\x61\x6e\40\151\x6e\151\x2c\x20\74\141\x20\x68\x72\x65\x66\x3d\x22" . base_url("\144\x61\163\150\142\x6f\141\162\144") . "\x22\76\x4b\145\155\x62\141\x6c\151\40\153\x65\40\155\x65\x6e\165\x20\x61\167\141\x6c\74\57\141\76", 403, "\x41\x6b\163\x65\x73\x20\x54\145\x72\154\141\x72\141\156\x67"); goto HH4C0; HH4C0: frqdE: goto i_ciT; Gv7r9: iRFDa: goto BW9Sg; h5APN: $this->load->model("\122\x61\160\x6f\x72\x5f\155\157\144\x65\154", "\x72\141\160\x6f\162"); goto Ag6da; i_ciT: goto iRFDa; goto Hv4oX; Hv4oX: kPQrn: goto xeXyd; FQH35: $this->load->model("\104\x72\157\160\144\157\167\156\x5f\155\x6f\x64\145\x6c", "\144\162\157\160\144\157\167\156"); goto h5APN; qGgdO: $this->load->model("\115\141\x73\164\x65\x72\x5f\x6d\157\x64\x65\x6c", "\x6d\x61\163\164\145\162"); goto FQH35; JJnoR: $this->load->model("\113\145\154\x61\163\x5f\x6d\x6f\x64\x65\x6c", "\153\145\x6c\x61\x73"); goto G6cFc; BW9Sg: $this->load->library(["\144\x61\x74\x61\x74\141\x62\154\x65\x73", "\x66\x6f\162\155\137\166\x61\154\151\x64\x61\x74\151\157\x6e"]); goto JJnoR; G6cFc: $this->load->model("\x44\141\x73\150\x62\x6f\x61\x72\144\x5f\155\x6f\x64\145\154", "\x64\x61\163\150\142\157\x61\162\144"); goto qGgdO; Ag6da: $this->form_validation->set_error_delimiters('', ''); goto OVTNa; OVTNa: } public function output_json($data, $encode = true) { goto XtUbJ; nzy6s: $this->output->set_content_type("\x61\x70\x70\154\x69\x63\x61\x74\151\x6f\x6e\57\152\x73\157\156")->set_output($data); goto gwYjO; bUfLc: $data = json_encode($data); goto PkFN2; PkFN2: OXvr1: goto nzy6s; XtUbJ: if (!$encode) { goto OXvr1; } goto bUfLc; gwYjO: } public function index() { goto HvFzr; QxbY2: $data["\x6a\165\x72\165\163\141\x6e"] = $this->kelas->get_jurusan(); goto JEDiB; AjCZ5: $data["\x6b\145\154\x61\163\x5f\154\x61\x6d\141"] = $kelas_lama; goto QxbY2; ugt4h: $kelas_lama = $this->kelas->getKelasList($tp->id_tp - 1, "\x32"); goto TJUIS; PjF2c: $data = ["\x75\163\145\162" => $user, "\x6a\165\x64\x75\x6c" => "\113\145\154\141\163", "\x73\x75\142\152\165\x64\x75\154" => "\104\x61\164\141\40\113\145\154\x61\163", "\x73\145\x74\x74\151\x6e\147" => $setting]; goto TfKLI; rKAj2: $kelas = []; goto qn610; qn610: $kelas_lama = []; goto l1PdQ; zCD_i: $data["\163\155\164\x5f\141\143\x74\x69\x76\145"] = $smt; goto btw2a; Rf83n: $smt = $this->dashboard->getSemesterActive(); goto Lmekq; QqMFP: $this->load->view("\155\x61\163\x74\x65\162\x2f\x6b\x65\x6c\141\163\x2f\144\x61\164\141"); goto K8__2; uT9bz: $data["\163\x69\163\167\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto ko9oZ; TJUIS: c8Kyl: goto ffSAv; TfKLI: $tp = $this->dashboard->getTahunActive(); goto Rf83n; l1PdQ: if (!($chek > 0)) { goto c8Kyl; } goto qGAqF; JEDiB: $data["\154\x65\x76\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto XI02A; HvFzr: $user = $this->ion_auth->user()->row(); goto slqpg; L3Y2c: $chek = $this->kelas->count_all(); goto rKAj2; ffSAv: $data["\153\145\x6c\141\163"] = $kelas; goto AjCZ5; qGAqF: $kelas = $this->kelas->getKelasList($tp->id_tp, $smt->id_smt); goto ugt4h; XI02A: $data["\x67\165\162\x75"] = $this->kelas->get_guru(); goto uT9bz; K8__2: $this->load->view("\x5f\164\145\x6d\160\x6c\141\164\145\163\x2f\144\141\163\x68\x62\157\x61\162\x64\x2f\x5f\x66\x6f\157\x74\x65\162"); goto Da8F5; btw2a: $data["\x70\162\157\146\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto L3Y2c; batOO: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto zCD_i; Lmekq: $data["\x74\x70"] = $this->dashboard->getTahun(); goto DH_vj; ko9oZ: $this->load->view("\137\164\x65\x6d\160\154\x61\164\145\x73\57\x64\x61\x73\x68\x62\x6f\141\x72\144\57\137\150\145\141\144\x65\x72", $data); goto QqMFP; DH_vj: $data["\164\160\x5f\141\143\164\x69\x76\145"] = $tp; goto batOO; slqpg: $setting = $this->dashboard->getSetting(); goto PjF2c; Da8F5: } public function detail($id) { goto HkvLa; OvjaO: $this->load->view("\x5f\x74\145\x6d\160\154\141\164\x65\x73\57\x64\141\x73\x68\142\157\x61\162\x64\57\x5f\x66\157\x6f\164\x65\162"); goto ZRz63; r2tNP: $data["\x73\x69\163\x77\x61\x73"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto kWcBX; Os12l: $data["\153\145\x6c\141\x73"] = $this->kelas->get_one($id); goto LoJQs; l_Lpy: $data["\x74\160"] = $this->dashboard->getTahun(); goto TOxja; nIOjK: $data["\x6c\145\x76\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto jTxUB; HkvLa: $user = $this->ion_auth->user()->row(); goto YsYSt; lT2V_: $this->load->view("\x6d\141\x73\x74\x65\x72\57\x6b\145\x6c\x61\163\57\x64\x65\x74\141\x69\154"); goto OvjaO; YqCtd: $this->load->view("\137\x74\x65\x6d\x70\154\x61\164\145\163\57\144\x61\x73\x68\142\157\x61\x72\144\x2f\x5f\x68\x65\141\x64\x65\162", $data); goto lT2V_; AgP4K: $data["\160\x72\157\146\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto Os12l; iTnpB: ohoRv: goto YqCtd; kWcBX: $struktur = $this->kelas->getStrukturKelas($id); goto aDrp0; EaqaR: rnQnm: goto O1cQ8; GAwhl: $smt = $this->dashboard->getSemesterActive(); goto l_Lpy; O1cQ8: $data["\x73\x74\162\165\x6b\164\165\162"] = json_decode(json_encode($this->kelas->dummyStruktur())); goto iTnpB; YOdTM: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto oxSEC; YsYSt: $setting = $this->dashboard->getSetting(); goto Lpcuk; jTxUB: $data["\147\165\x72\x75"] = $this->kelas->get_guru(); goto r2tNP; Y3Tpy: $tp = $this->dashboard->getTahunActive(); goto GAwhl; z9hUl: $data["\163\x74\162\x75\153\x74\x75\162"] = $struktur; goto iZ3pT; Lpcuk: $data = ["\x75\163\x65\162" => $user, "\152\x75\144\x75\154" => "\104\x65\x74\x61\x69\154\x20\113\x65\x6c\141\x73", "\x73\x75\142\x6a\x75\x64\165\154" => "\x44\145\x74\x61\x69\x6c\x20\x4b\x65\154\x61\163", "\163\145\164\164\x69\x6e\147" => $setting]; goto Y3Tpy; TOxja: $data["\164\x70\x5f\141\x63\164\x69\166\x65"] = $tp; goto YOdTM; aDrp0: if ($struktur == null) { goto rnQnm; } goto z9hUl; oxSEC: $data["\x73\155\x74\137\x61\x63\164\151\x76\x65"] = $smt; goto AgP4K; LoJQs: $data["\x6a\165\162\165\x73\x61\156"] = $this->kelas->get_jurusan(); goto nIOjK; iZ3pT: goto ohoRv; goto EaqaR; ZRz63: } public function add() { goto Eubso; tKLap: $data["\x6a\165\162\165\x73\141\x6e"] = $this->kelas->get_jurusan(); goto j7gwP; j7gwP: $data["\154\145\166\145\x6c"] = $this->kelas->getLevel($setting->jenjang); goto CoLuw; ftAA5: $data = ["\165\163\145\x72" => $user, "\x6a\x75\x64\165\154" => "\113\x65\154\141\x73", "\x73\165\x62\152\x75\144\x75\x6c" => "\x54\x61\x6d\142\141\x68\40\x4b\x65\x6c\141\x73", "\163\145\164\164\x69\156\x67" => $setting]; goto wZq0w; IE_wp: $data["\153\x65\154\141\x73"] = json_decode(json_encode($this->kelas->dummy())); goto tKLap; iegqI: $data["\x73\151\163\167\141\153\x65\154\x61\x73"] = array(); goto kwTND; Vdyqw: $data["\164\160"] = $this->dashboard->getTahun(); goto LSDh8; f_UTj: $data["\160\162\157\146\x69\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto IE_wp; kwTND: $this->load->view("\x5f\x74\x65\x6d\160\x6c\141\x74\x65\x73\x2f\144\x61\163\150\x62\157\141\162\144\x2f\x5f\x68\x65\141\x64\x65\162", $data); goto FQbiU; CoLuw: $data["\147\165\162\165"] = $this->kelas->get_guru(); goto kfR1O; dyLW0: $data["\163\155\164"] = $this->dashboard->getSemester(); goto Pr5nP; wZq0w: $tp = $this->dashboard->getTahunActive(); goto GA9F_; VMvGi: $this->load->view("\137\x74\145\x6d\160\x6c\141\x74\145\x73\57\x64\141\x73\x68\142\x6f\141\x72\144\57\x5f\146\157\x6f\164\x65\162"); goto yC_9g; FQbiU: $this->load->view("\155\x61\x73\x74\x65\x72\57\153\x65\x6c\141\x73\x2f\x61\x64\144"); goto VMvGi; n1J9D: $data["\x73\151\x73\x77\141"] = $siswa; goto iegqI; kfR1O: $siswa = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto n1J9D; Pr5nP: $data["\163\155\x74\137\141\x63\164\x69\166\x65"] = $smt; goto f_UTj; GA9F_: $smt = $this->dashboard->getSemesterActive(); goto Vdyqw; Eubso: $user = $this->ion_auth->user()->row(); goto DDxPy; LSDh8: $data["\x74\160\137\141\143\x74\151\x76\x65"] = $tp; goto dyLW0; DDxPy: $setting = $this->dashboard->getSetting(); goto ftAA5; yC_9g: } public function edit($id = '') { goto lwPj5; pCWmk: $data["\x74\160"] = $this->dashboard->getTahun(); goto s3Hen; OOWIS: $this->load->view("\x5f\x74\145\155\160\154\x61\164\145\163\x2f\x64\x61\163\150\x62\x6f\x61\162\x64\57\137\x66\157\x6f\x74\x65\162"); goto Sxo89; lwPj5: $user = $this->ion_auth->user()->row(); goto wsKiU; HwKqQ: $tp = $this->dashboard->getTahunActive(); goto t9OvB; IpIgf: $data["\x67\x75\x72\165"] = $this->kelas->getWaliKelas($tp->id_tp, $smt->id_smt); goto dbG3m; uHGVg: $data["\x70\x72\157\146\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto zRhHZ; zdS4O: $data["\x6c\145\166\x65\x6c"] = $this->kelas->getLevel($setting->jenjang); goto IpIgf; XOgYq: $data["\163\x69\x73\167\141\153\145\154\141\x73"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto K8Fed; uGHDM: $data = ["\x75\163\x65\162" => $user, "\x6a\165\x64\165\x6c" => "\x4b\x65\x6c\141\163", "\163\165\142\152\x75\144\x75\154" => "\105\144\151\x74\x20\x4b\145\154\141\163", "\163\x65\x74\x74\x69\x6e\147" => $setting]; goto HwKqQ; rYveF: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto G9GJ1; G9GJ1: $data["\163\155\x74\x5f\141\143\164\x69\166\145"] = $smt; goto uHGVg; bKWgv: $data["\x6a\x75\x72\165\163\x61\156"] = $this->kelas->get_jurusan(); goto zdS4O; K8Fed: $this->load->view("\137\164\145\x6d\160\x6c\141\164\x65\x73\x2f\144\x61\163\x68\x62\157\x61\162\x64\57\x5f\150\145\141\x64\145\162", $data); goto lzmJe; uL9V3: $data["\153\145\154\x61\x73"] = $this->kelas->get_one($id); goto bKWgv; dbG3m: $data["\x73\151\x73\x77\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto XOgYq; s3Hen: $data["\x74\160\137\141\x63\164\x69\x76\145"] = $tp; goto rYveF; zRhHZ: $data["\151\144\137\153\145\154\141\x73"] = $id; goto uL9V3; lzmJe: $this->load->view("\x6d\141\163\164\x65\x72\57\x6b\145\154\x61\x73\x2f\x61\144\144"); goto OOWIS; wsKiU: $setting = $this->dashboard->getSetting(); goto uGHDM; t9OvB: $smt = $this->dashboard->getSemesterActive(); goto pCWmk; Sxo89: } public function save() { goto l5Qyo; USecG: xkEzU: goto RgXeK; WHRVl: JM8m8: goto J9dZ4; bEPve: llxoH: goto mZDgb; vIdkn: $status = FALSE; goto a00xM; GAkRW: $data["\151\156\x73\x65\162\x74"] = $insert; goto L3cz_; a00xM: goto Hbn5e; goto Jbx5q; GgF2t: if ($this->form_validation->run() == TRUE) { goto Qhf08; } goto vIdkn; Jbx5q: Qhf08: goto lZai3; XEstd: X0U2w: goto pMpXu; lZai3: $status = $this->db->insert("\155\x61\163\x74\145\x72\x5f\x6b\x65\154\x61\x73", $insert); goto uRgXA; bjzlv: bQ_FY: goto XABpj; SYMbs: $id_siswa = isset($siswas[$i]) ? $siswas[$i] : null; goto eZjES; EK4Tu: ITQsP: goto Ae2OX; MAMN4: $this->db->where("\151\144\137\x6a\141\x62\141\164\141\156\x5f\147\x75\x72\165", $guru_id . $id_tp . $id_smt); goto nxZw0; uRgXA: $id_new = $this->db->insert_id(); goto HUSl2; oqwKQ: goto Wq7lO; goto bjzlv; RrPiu: $status = FALSE; goto oqwKQ; NF0_Z: if ($id != null && $id != '') { goto JzePM; } goto jOSa0; xc33T: JzePM: goto l_RQD; DhPhr: $siswakelas = []; goto mwNUl; CjLem: $siswas = $this->input->post("\x73\151\163\167\x61", true); goto gi361; RgXeK: $i++; goto b5n9k; oqxQ0: $idsiswa = isset($siswas[$i]) ? $siswas[$i] : null; goto nWE7Y; yG9_n: foreach ($siswa_kelas as $id_siswa => $sis) { $insert[$id_tp . $id_smt . $id_siswa] = ["\x69\x64\x5f\x6b\x65\154\141\x73\137\163\x69\163\167\141" => $id_tp . $id_smt . $id_siswa, "\x69\144\x5f\x74\x70" => $id_tp, "\x69\144\x5f\163\x6d\x74" => $id_smt, "\151\x64\137\153\145\154\141\x73" => 0, "\151\x64\x5f\x73\x69\163\x77\x61" => $id_siswa]; dTbCt: } goto dhmA2; ZXKzd: stJqm: goto jpfVn; w8Gxk: if (!(count($siswa_kelas) > 0)) { goto E6s5h; } goto yG9_n; Rl9Fe: $status = $this->db->update("\x6d\141\163\x74\x65\x72\137\153\145\154\x61\163", $insert); goto Ow8ve; uffmB: if (!($idsiswa != null)) { goto JM8m8; } goto cft1a; J9dZ4: pH2rd: goto v8jVs; ypen7: $data["\165\160\144\141\164\145"] = $updated; goto HUTxi; rns7i: otzza: goto NkmVL; eZjES: if (!($id_siswa != null)) { goto SrPvT; } goto JIPpB; LO2Ty: goto vQ2II; goto XEstd; UDw66: goto ITQsP; goto xc33T; jpfVn: $jumlah = serialize($siswakelas); goto D9HSl; qDbLm: g5P_r: goto ABLMF; dhmA2: WdqVo: goto JDdhT; Ow8ve: Wq7lO: goto EK4Tu; aaZh4: $this->db->set("\151\x64\x5f\x6b\x65\x6c\x61\x73", $id); goto MAMN4; JIPpB: array_push($siswakelas, ["\x69\144" => $id_siswa]); goto lE8mo; URsxX: $id_tp = $this->master->getTahunActive()->id_tp; goto q26Bp; Kg8KL: $siswa_inserted = 0; goto vdeVd; NvBJ0: $this->output_json($data); goto mACIH; nxZw0: $updated = $this->db->update("\152\141\142\x61\x74\x61\x6e\x5f\x67\165\x72\165"); goto CRC0S; mZDgb: $insert[$id_tp . $id_smt . $idsiswa]["\151\144\137\x6b\x65\154\141\x73"] = $new_id_kelas; goto FkBbx; QzJwf: vQ2II: goto M4AI3; ABLMF: if (!($i <= count($siswas))) { goto stJqm; } goto SYMbs; A4JtN: $insert = []; goto KOISb; JDdhT: E6s5h: goto rns7i; cft1a: if (isset($insert[$id_tp . $id_smt . $idsiswa])) { goto llxoH; } goto HlnM9; NkmVL: $i = 0; goto QzJwf; QekD3: EhYNj: goto GAkRW; v8jVs: $i++; goto LO2Ty; CRC0S: if (!$updated) { goto VpmrP; } goto A4JtN; M4AI3: if (!($i <= count($siswas))) { goto X0U2w; } goto oqxQ0; ZZwk2: $guru_id = strip_tags($this->input->post("\x67\165\x72\x75\x5f\151\x64", TRUE)); goto URsxX; jOSa0: $this->form_validation->set_rules($config); goto GgF2t; vdeVd: if (!$status) { goto fWnyB; } goto aaZh4; gi361: $config = array(array("\146\151\x65\x6c\x64" => "\x6e\141\155\x61\137\153\x65\154\x61\x73", "\154\x61\142\145\154" => "\x4e\141\155\x61\x20\x4b\x65\154\141\x73", "\162\x75\154\x65\163" => "\x74\162\151\155"), array("\146\x69\145\154\x64" => "\x6b\x6f\144\145\137\153\145\154\x61\163", "\154\x61\142\145\154" => "\113\x6f\144\x65\x20\x4b\x65\x6c\x61\x73", "\x72\165\x6c\145\163" => "\x74\162\151\x6d"), array("\146\x69\x65\154\144" => "\x6a\x75\x72\x75\x73\x61\156\x5f\151\144", "\154\141\142\x65\x6c" => "\112\x75\x72\165\163\141\x6e", "\162\165\154\x65\x73" => "\x74\162\x69\155"), array("\146\151\x65\x6c\x64" => "\x6c\x65\166\145\154\x5f\x69\x64", "\x6c\141\142\x65\x6c" => "\114\145\166\x65\x6c", "\162\x75\x6c\145\163" => "\x74\162\151\155"), array("\x66\x69\145\154\144" => "\x67\x75\162\x75\137\x69\x64", "\x6c\141\x62\145\154" => "\107\165\x72\x75", "\162\x75\x6c\145\x73" => "\x74\162\151\x6d"), array("\146\151\x65\154\x64" => "\x73\x69\163\x77\x61\137\151\144", "\154\x61\x62\145\154" => "\123\x69\163\x77\x61", "\x72\x75\154\145\163" => "\164\x72\151\x6d")); goto DhPhr; HUSl2: Hbn5e: goto UDw66; KOISb: if (!($id != null && $id != '')) { goto otzza; } goto XBUbK; L3cz_: VpmrP: goto SiZIq; l_RQD: $this->form_validation->set_rules($config); goto brsOg; b5n9k: goto g5P_r; goto ZXKzd; QlYUB: $id_new = null; goto NF0_Z; XBUbK: $siswa_kelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto w8Gxk; l5Qyo: $id = $this->input->post("\x69\x64\x5f\153\145\x6c\x61\x73", true); goto ZZwk2; q26Bp: $id_smt = $this->master->getSemesterActive()->id_smt; goto CjLem; HUTxi: $data["\x73\x74\141\x74\165\163"] = $status; goto NvBJ0; lE8mo: SrPvT: goto USecG; Ae2OX: $updated = false; goto Kg8KL; a8eTd: goto e4cM5; goto bEPve; nWE7Y: $new_id_kelas = $id != null && $id != '' ? $id : $id_new; goto uffmB; HlnM9: $insert[$id_tp . $id_smt . $idsiswa] = ["\x69\x64\x5f\x6b\x65\x6c\x61\163\x5f\163\151\163\167\x61" => $id_tp . $id_smt . $idsiswa, "\x69\x64\137\164\x70" => $id_tp, "\x69\x64\137\x73\x6d\164" => $id_smt, "\x69\x64\137\x6b\145\x6c\x61\163" => $new_id_kelas, "\x69\144\x5f\163\x69\x73\167\141" => $idsiswa]; goto a8eTd; bBxxc: $data["\163\151\x73\167\141"] = $siswa_inserted; goto ypen7; D9HSl: $insert = array("\156\x61\155\x61\x5f\153\x65\x6c\x61\163" => strip_tags($this->input->post("\x6e\141\x6d\141\137\x6b\145\154\x61\163", TRUE)), "\x6b\157\144\x65\x5f\153\145\154\141\163" => strip_tags($this->input->post("\153\157\144\145\x5f\153\145\x6c\x61\163", TRUE)), "\152\x75\x72\x75\x73\x61\x6e\x5f\151\144" => strip_tags($this->input->post("\x6a\x75\x72\x75\x73\141\156\x5f\x69\x64", TRUE)), "\151\x64\x5f\164\x70" => $id_tp, "\x69\x64\137\x73\x6d\164" => $id_smt, "\154\x65\x76\145\154\x5f\x69\144" => strip_tags($this->input->post("\154\x65\x76\x65\154\137\x69\x64", TRUE)), "\x67\165\x72\x75\x5f\x69\144" => strip_tags($this->input->post("\x67\x75\162\165\137\151\144", TRUE)), "\163\151\x73\167\141\137\151\144" => strip_tags($this->input->post("\163\x69\x73\x77\141\x5f\151\x64", TRUE)), "\x6a\165\x6d\x6c\x61\150\137\x73\151\x73\167\x61" => $jumlah); goto QlYUB; mwNUl: $i = 0; goto qDbLm; brsOg: if ($this->form_validation->run() == TRUE) { goto bQ_FY; } goto RrPiu; SiZIq: fWnyB: goto bBxxc; pMpXu: foreach ($insert as $ins) { goto Y74j_; g4Uws: tfMxw: goto DI4Ip; j9wZ5: $siswa_inserted++; goto g4Uws; Y74j_: if (!$this->db->replace("\153\x65\x6c\x61\163\x5f\x73\x69\x73\167\141", $ins)) { goto tfMxw; } goto j9wZ5; DI4Ip: Pq3j_: goto nLdbE; nLdbE: } goto QekD3; FkBbx: e4cM5: goto WHRVl; XABpj: $this->db->where("\151\144\x5f\153\145\154\x61\x73", $id); goto Rl9Fe; mACIH: } public function update_kelas($id) { goto M2ECT; CwTC2: $id_smt = $this->master->getSemesterActive()->id_smt; goto OhyuQ; u8cKl: YeOfw: goto gEMhl; zYHbA: jXI7x: goto umxFO; WDCWo: N0uKZ: goto zYHbA; CK8EH: if (!($id_siswa != null)) { goto N0uKZ; } goto s4fum; s4fum: $insert = ["\x69\144\x5f\x6b\145\154\141\x73\137\163\151\x73\167\141" => $id_tp . $id_smt . $id_siswa, "\151\x64\137\x74\160" => $id_tp, "\151\144\x5f\163\x6d\164" => $id_smt, "\151\x64\x5f\153\x65\154\141\x73" => $id, "\151\x64\137\163\x69\163\x77\x61" => $id_siswa]; goto pJjGV; BT8ET: foreach ($siswakelas as $id_siswa => $sis) { goto MoSJI; jt2Wu: LvUPA: goto PvCA6; MoSJI: $insert = ["\x69\x64\137\x6b\145\x6c\141\x73\137\163\151\x73\167\x61" => $id_tp . $id_smt . $id_siswa, "\151\144\x5f\164\160" => $id_tp, "\151\x64\x5f\x73\x6d\164" => $id_smt, "\151\144\x5f\153\145\154\141\x73" => 0, "\151\x64\x5f\x73\x69\x73\x77\x61" => $id_siswa]; goto LmNQ_; LmNQ_: $this->db->replace("\153\x65\x6c\x61\163\137\163\151\163\167\x61", $insert); goto jt2Wu; PvCA6: } goto ML1Oi; gEMhl: $rowsSelect = count($this->input->post("\163\x69\163\x77\141", true)); goto hdyiQ; umxFO: $i++; goto Ndtb3; OhyuQ: $siswakelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto doEaw; BjV3B: return $siswakelas; goto ix03E; Ndtb3: goto Itv2h; goto MoVQW; ML1Oi: S9kcW: goto u8cKl; hdyiQ: $i = 0; goto rm7EJ; doEaw: if (!(count($siswakelas) > 0)) { goto YeOfw; } goto BT8ET; pJjGV: $this->db->replace("\153\145\154\141\163\x5f\x73\151\163\x77\141", $insert); goto WDCWo; rm7EJ: Itv2h: goto CRO0O; CRO0O: if (!($i <= $rowsSelect)) { goto HXBKR; } goto taLwC; MoVQW: HXBKR: goto BjV3B; taLwC: $id_siswa = $this->input->post("\163\151\163\167\141\x5b" . $i . "\135", true); goto CK8EH; M2ECT: $id_tp = $this->master->getTahunActive()->id_tp; goto CwTC2; ix03E: } public function manage() { goto RYcN7; Abfyq: $data = ["\x75\163\145\x72" => $user, "\152\165\144\165\154" => "\x43\x6f\x70\171\x20\113\x65\154\141\163", "\x73\165\x62\x6a\165\x64\165\x6c" => "\x43\157\160\x79\40\x44\x61\x74\x61\x20\x4b\x65\154\141\x73\40\153\145\40\123\115\124\x20\x49\111", "\163\x65\164\164\151\156\x67" => $this->dashboard->getSetting()]; goto OA2q2; hrPHY: $this->load->view("\x5f\164\145\155\x70\154\x61\164\x65\x73\x2f\144\x61\163\150\x62\x6f\141\x72\x64\57\137\150\145\141\x64\x65\162", $data); goto XXRam; wnRNu: $data["\164\x70"] = $this->dashboard->getTahun(); goto pN3Gd; quwRf: $data["\x70\x72\157\146\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto l4CK3; RYcN7: $user = $this->ion_auth->user()->row(); goto Abfyq; XXRam: $this->load->view("\155\x61\163\164\x65\162\57\x6b\145\154\141\x73\57\x70\145\162\x73\x65\155\x65\163\164\145\162"); goto WNgqp; OA2q2: $tp = $this->dashboard->getTahunActive(); goto TeZjR; WNgqp: $this->load->view("\137\x74\x65\x6d\x70\154\x61\164\145\x73\57\144\141\163\x68\x62\x6f\x61\162\x64\x2f\137\x66\157\x6f\164\x65\162"); goto reX9q; q5W4J: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto Buvqu; l4CK3: $data["\x6b\145\154\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, "\61"); goto fcmeJ; Buvqu: $data["\x73\x6d\164\137\141\x63\x74\x69\166\145"] = $smt; goto quwRf; fcmeJ: $data["\x6b\x65\154\x61\x73\62"] = $this->dropdown->getAllKelas($tp->id_tp, "\62"); goto hrPHY; pN3Gd: $data["\164\160\137\141\x63\x74\x69\x76\145"] = $tp; goto q5W4J; TeZjR: $smt = $this->dashboard->getSemesterActive(); goto wnRNu; reX9q: } public function getFromSmt1($kelas) { goto UcPow; M1aBH: HpN7k: goto HZU0P; HZU0P: $this->output_json(["\x73\x6d\164\61" => $data1, "\x73\x6d\164\62" => $ids]); goto n51lj; McDsb: if (!(count($data2) > 0)) { goto HpN7k; } goto AMqmS; UcPow: $tp = $this->dashboard->getTahunActive(); goto m3NPM; OS4FI: $ids = []; goto McDsb; TJeP_: Rd2ek: goto M1aBH; m3NPM: $data1 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\61"); goto HMORx; AMqmS: foreach ($data2 as $s) { $ids[] = $s->id_siswa; sKKBH: } goto TJeP_; HMORx: $data2 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\x32"); goto OS4FI; n51lj: } public function copyFromSmt1() { goto uG2pm; vpmlM: $kelas = $this->kelas->get_one($kelas1, $tp->id_tp, "\61"); goto ZYY0M; peuqq: foreach ($arrSiswa as $value) { goto DH_mQ; x5H3r: x5kM3: goto J_iXJ; J_iXJ: JYuqN: goto BfeY8; bkJno: $insert = ["\x69\x64\x5f\x6b\x65\x6c\x61\x73\137\163\x69\x73\x77\141" => $tp->id_tp . $smt->id_smt . $id_siswa, "\x69\144\x5f\x74\160" => $tp->id_tp, "\x69\x64\x5f\163\155\164" => $smt->id_smt, "\151\144\x5f\x6b\145\154\x61\163" => $idk, "\151\x64\x5f\163\x69\x73\167\x61" => $id_siswa]; goto VM99z; Sc53v: if (!($id_siswa != null)) { goto x5kM3; } goto bkJno; DH_mQ: $id_siswa = $value["\151\x64"]; goto Sc53v; VM99z: $res[] = $this->db->replace("\153\145\x6c\x61\163\137\163\x69\x73\167\141", $insert); goto x5H3r; BfeY8: } goto K2LRX; zEx_G: $this->output_json($res); goto dQXVl; uG2pm: $tp = $this->dashboard->getTahunActive(); goto pSwPX; k6OZH: $idk = $this->db->insert_id(); goto EMCDA; lP0Iw: $kelas2 = $this->input->post("\153\x65\154\141\163\x5f\142\x61\162\165", true); goto vpmlM; ZYY0M: $data = array("\x6e\x61\155\x61\x5f\153\x65\154\141\163" => $kelas2, "\x6b\157\x64\145\137\153\x65\x6c\x61\x73" => $kelas->kode_kelas, "\152\x75\x72\165\x73\141\156\137\151\x64" => $kelas->jurusan_id, "\151\x64\x5f\x74\160" => $tp->id_tp, "\x69\x64\x5f\x73\155\x74" => $smt->id_smt, "\x6c\x65\166\x65\x6c\137\x69\144" => $kelas->level_id, "\x67\x75\x72\165\137\x69\x64" => $kelas->guru_id, "\163\151\163\x77\x61\137\x69\x64" => $kelas->siswa_id, "\152\165\155\x6c\x61\150\137\163\x69\x73\x77\141" => $kelas->jumlah_siswa); goto m71Tq; SrN3H: $kelas1 = $this->input->post("\153\x65\154\141\x73\x5f\x6c\x61\x6d\141", true); goto lP0Iw; EMCDA: $res = []; goto Ly9HR; Ly9HR: $arrSiswa = unserialize($kelas->jumlah_siswa); goto peuqq; m71Tq: $this->db->insert("\x6d\x61\x73\164\x65\162\137\x6b\x65\x6c\x61\x73", $data); goto k6OZH; K2LRX: F_9yr: goto zEx_G; pSwPX: $smt = $this->dashboard->getSemesterActive(); goto SrN3H; dQXVl: } public function copySiswaFromSmt1() { goto lglYC; lglYC: $tp = $this->dashboard->getTahunActive(); goto KYGa7; ykhYM: $idkelases = []; goto PKLJ9; pTHGm: $idkelases = array_unique($idkelases); goto krMss; r5A7y: $posts = json_decode($this->input->post("\153\145\154\141\x73", true)); goto ykhYM; krMss: $res = []; goto iZPGl; iZPGl: foreach ($idkelases as $ik) { goto ebBGf; R3CqW: UgO2c: goto Tq0pI; HXwg5: foreach ($siswakelas[$ik] as $s) { goto I2kp7; Ee0HU: $res[] = $this->db->replace("\x6b\x65\x6c\x61\x73\137\x73\151\x73\x77\x61", $insert); goto qpLfx; qpLfx: BHpiK: goto dvyNu; I2kp7: $insert = ["\x69\144\137\153\x65\x6c\141\x73\x5f\163\x69\x73\167\141" => $tp->id_tp . $smt->id_smt . $s["\x69\144"], "\x69\x64\x5f\164\160" => $tp->id_tp, "\x69\x64\137\x73\x6d\x74" => $smt->id_smt, "\151\144\137\x6b\145\154\x61\x73" => $idk, "\151\x64\x5f\163\151\x73\167\x61" => $s["\151\x64"]]; goto Ee0HU; dvyNu: } goto q8i5P; Tq0pI: A2En2: goto RvyyO; q8i5P: aX_T5: goto R3CqW; ebBGf: if (!($ik != '')) { goto UgO2c; } goto epnPq; x0_WM: $this->db->insert("\155\x61\163\x74\x65\x72\x5f\153\145\154\x61\x73", $data); goto mytY6; epnPq: $kelas = $this->kelas->get_one($ik, $tp->id_tp, "\x31"); goto SVKhn; mytY6: $idk = $this->db->insert_id(); goto HXwg5; SVKhn: $jumlah = serialize($siswakelas[$ik]); goto Gx1Q_; Gx1Q_: $data = array("\156\x61\155\141\137\153\x65\x6c\x61\x73" => $kelas->nama_kelas, "\153\x6f\x64\x65\137\x6b\145\154\141\x73" => $kelas->kode_kelas, "\x6a\165\162\165\163\141\156\137\151\x64" => $kelas->jurusan_id, "\151\x64\137\x74\160" => $tp->id_tp, "\151\144\137\163\x6d\164" => $smt->id_smt, "\154\x65\166\x65\x6c\137\x69\x64" => $kelas->level_id, "\x67\x75\x72\x75\137\151\144" => $kelas->guru_id, "\x73\x69\x73\x77\x61\x5f\x69\144" => $kelas->siswa_id, "\x6a\x75\x6d\x6c\x61\150\x5f\x73\151\163\x77\141" => $jumlah); goto x0_WM; RvyyO: } goto WlR0y; AAwQh: foreach ($posts as $d) { goto s2Ty5; hddJ0: $siswakelas[$d->id_kelas][] = ["\x69\144" => $d->id_siswa]; goto jcrdm; s2Ty5: $idkelases[] = $d->id_kelas; goto hddJ0; jcrdm: HDVeV: goto pw1pl; pw1pl: } goto MnrDO; KYGa7: $smt = $this->dashboard->getSemesterActive(); goto r5A7y; MnrDO: Pp4y4: goto pTHGm; WlR0y: WVJ0K: goto DF8nm; DF8nm: $this->output_json($res); goto OQjOm; PKLJ9: $siswakelas = []; goto AAwQh; OQjOm: } public function kenaikan() { goto AeVJZ; NFcIX: $data["\164\160\x5f\x61\143\x74\x69\x76\145"] = $tp; goto b5ywC; ybTG3: $lvlKls = $this->kelas->get_one($kelas, $tp->id_tp - 1, "\x32"); goto G1CQs; QQJBE: $user = $this->ion_auth->user()->row(); goto MNbjk; teCNT: $data["\163\x69\x73\x77\141\x73"] = $this->rapor->getKenaikanSiswa($kelas, $tp->id_tp - 1, "\x32"); goto nMNG4; K6lvR: if (!($kelas != null)) { goto FVMBo; } goto Sd6QA; MNbjk: $setting = $this->dashboard->getSetting(); goto szBcx; szBcx: $data = ["\165\163\145\x72" => $user, "\x6a\x75\x64\165\x6c" => "\113\x65\x6e\x61\151\153\153\x61\156\40\113\145\154\x61\163", "\163\165\142\152\x75\144\165\154" => "\x4e\x61\x69\x6b\40\113\145\x6c\141\x73\x20\x53\151\x73\x77\141", "\x73\145\x74\164\151\156\x67" => $setting]; goto pBjrN; nIohx: $level = $setting->jenjang == "\61" ? "\x36" : ($setting->jenjang == "\x32" ? "\71" : ($setting->jenjang == "\61" ? "\x33" : "\61\62")); goto Eq2l7; hzloY: FVMBo: goto S6FOt; A5HxE: $data["\163\x6d\164\137\141\x63\164\151\166\145"] = $smt; goto E9wmT; Eq2l7: $data["\153\145\x6c\141\163\137\154\141\x6d\x61"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\41\x3d" . $level); goto CqvLA; cFrHb: $smt = $this->dashboard->getSemesterActive(); goto njBCD; AeVJZ: $kelas = $this->input->get("\153\x65\154\x61\163", true); goto QQJBE; CqvLA: $data["\153\145\x6c\x61\163\137\x62\x61\162\165"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto K6lvR; S6FOt: $this->load->view("\x5f\x74\145\x6d\160\154\x61\164\x65\163\x2f\x64\x61\x73\150\x62\x6f\x61\162\x64\x2f\x5f\150\145\141\x64\145\x72", $data); goto WrHXL; E9wmT: $data["\160\162\x6f\146\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto nIohx; nMNG4: $data["\x6b\145\154\x61\163\x5f\163\145\154\145\143\x74\145\144"] = $kelas; goto ybTG3; Sd6QA: $data["\163\151\163\167\141\x5f\153\145\154\141\163\x5f\142\141\x72\x75"] = $this->master->getSiswaKelasBaru($tp->id_tp, $smt->id_smt); goto teCNT; pBjrN: $tp = $this->dashboard->getTahunActive(); goto cFrHb; G1CQs: $data["\153\x65\154\x61\x73\x65\163"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\75" . ($lvlKls->level_id + 1)); goto hzloY; b5ywC: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto A5HxE; Ny12p: $this->load->view("\x5f\x74\x65\155\x70\154\x61\164\x65\x73\57\144\x61\163\x68\x62\157\x61\x72\x64\57\x5f\x66\x6f\157\164\145\x72"); goto gF3eX; njBCD: $data["\x74\160"] = $this->dashboard->getTahun(); goto NFcIX; WrHXL: $this->load->view("\x6d\x61\x73\164\145\x72\57\x6b\x65\154\141\x73\57\x6e\x61\x69\153\x6b\145\154\141\x73"); goto Ny12p; gF3eX: } public function naikKelas() { goto TA61Q; tiSuC: $siswakelas = []; goto dJiXf; b2k9V: $idkelases = array_unique($idkelases); goto iIWwl; tuioE: $idks = []; goto DWtEP; FHquW: $data["\162\145\x73"] = $siswakelas; goto SqsCV; QuSYV: YkUdI: goto b2k9V; lO6nH: $posts = json_decode($this->input->post("\x6b\145\154\x61\163", true)); goto bUS4I; iIWwl: $res = []; goto tuioE; bUS4I: $mode = $this->input->post("\155\157\144\145", true); goto buW1o; buW1o: $idkelases = []; goto tiSuC; BAxGP: $smt = $this->dashboard->getSemesterActive(); goto lO6nH; DWtEP: foreach ($idkelases as $ik) { goto eeOQq; C813I: if ($kelas_baru == null) { goto iN0_H; } goto x_D_7; IjR_3: $kelas_baru = $this->kelas->getKelasByNama($kelas->nama_kelas, $tp->id_tp, $smt->id_smt); goto C813I; rHX61: FdfCW: goto npGzw; mqoHK: $data = array("\x6e\x61\x6d\x61\137\153\145\x6c\141\x73" => $kelas->nama_kelas, "\x6b\157\x64\145\x5f\x6b\x65\154\141\x73" => $kelas->kode_kelas, "\x6a\x75\x72\x75\x73\x61\x6e\137\x69\144" => $kelas->jurusan_id, "\151\x64\137\164\160" => $tp->id_tp, "\x69\144\x5f\x73\155\x74" => $smt->id_smt, "\154\x65\166\145\154\137\x69\144" => $kelas->level_id, "\147\x75\162\165\137\151\x64" => $kelas->guru_id, "\x73\151\163\167\141\x5f\x69\x64" => $kelas->siswa_id, "\x6a\165\x6d\x6c\x61\x68\137\163\151\163\x77\x61" => $jumlah); goto EUEPO; wU0Q9: goto Jxedt; goto R9jGL; BtCSn: $this->db->insert("\155\x61\163\x74\x65\x72\137\153\145\154\x61\163", $data); goto sWaaN; KeLQP: mAZQp: goto rHX61; FXAJF: foreach ($idks as $idk) { goto eoyPx; E4wS4: oDjG3: goto Z77ad; eoyPx: foreach ($siswakelas[$ik] as $s) { goto bOQcU; bOQcU: $insert = ["\x69\144\x5f\x6b\145\x6c\141\x73\137\x73\151\163\167\x61" => $tp->id_tp . $smt->id_smt . $s["\151\144"], "\x69\x64\137\x74\x70" => $tp->id_tp, "\151\x64\137\x73\155\x74" => $smt->id_smt, "\x69\x64\x5f\x6b\x65\154\141\x73" => $idk, "\151\144\x5f\163\x69\x73\x77\141" => $s["\151\144"]]; goto nOJ03; IAED1: t7id2: goto AyTcC; nOJ03: $res[] = $this->db->replace("\x6b\145\x6c\x61\x73\x5f\x73\x69\163\167\141", $insert); goto IAED1; AyTcC: } goto E4wS4; Z77ad: Mt2D1: goto cVN7f; cVN7f: } goto KeLQP; aHQQr: array_push($idks, $kelas_baru->id_kelas); goto hlpGB; cd9hV: foreach ($siswakelas[$ik] as $s) { goto jxTeE; YYhOl: cRxOB: goto YbALA; jf4dj: X9LCO: goto YYhOl; jxTeE: foreach ($jmlLama as $lama) { goto vGGYD; a4h_S: array_push($jmlLama, ["\151\x64" => $s["\151\144"]]); goto xQ4ui; slC86: un_aP: goto qoO_6; vGGYD: if (!($lama["\151\144"] != $s["\151\144"])) { goto ZX_l7; } goto a4h_S; v1X5P: ZX_l7: goto slC86; xQ4ui: array_push($idks, $kelas_baru->id_kelas); goto v1X5P; qoO_6: } goto jf4dj; YbALA: } goto IO7AT; eeOQq: $kelas = $this->kelas->get_one($ik, $tp->id_tp - 1, "\62"); goto IjR_3; R9jGL: iN0_H: goto g8xZ6; IuIGy: $data = array("\x6e\x61\x6d\x61\x5f\153\145\x6c\x61\163" => $kelas->nama_kelas, "\153\x6f\144\x65\x5f\x6b\145\154\x61\163" => $kelas->kode_kelas, "\x6a\x75\x72\x75\x73\x61\x6e\137\x69\x64" => $kelas->jurusan_id, "\151\144\137\164\160" => $tp->id_tp, "\151\144\x5f\x73\155\164" => $smt->id_smt, "\154\x65\166\145\154\x5f\x69\144" => $kelas->level_id, "\x67\165\x72\165\x5f\151\x64" => $kelas->guru_id, "\163\x69\x73\x77\x61\x5f\x69\144" => $kelas->siswa_id, "\152\x75\x6d\x6c\141\x68\137\x73\151\163\x77\141" => $jumlah); goto BtCSn; IO7AT: fcpOC: goto M4EL2; M4EL2: $jumlah = serialize($jmlLama); goto Dp6rU; Dp6rU: ffwku: goto mqoHK; LQZJ1: Jxedt: goto FXAJF; hlpGB: goto ffwku; goto KSzBi; kxBRu: $jmlLama = unserialize($kelas_baru->jumlah_siswa); goto cd9hV; sWaaN: array_push($idks, $this->db->insert_id()); goto LQZJ1; ToYp9: $jumlah = serialize($siswakelas[$ik]); goto aHQQr; EUEPO: $this->db->where("\x69\x64\x5f\x6b\x65\x6c\141\163", $kelas_baru->id_kelas); goto n_yfb; g8xZ6: $jumlah = serialize($siswakelas[$ik]); goto IuIGy; x_D_7: if ($mode == "\160\x65\162\163\151\x73\x77\141") { goto G3y31; } goto ToYp9; KSzBi: G3y31: goto kxBRu; n_yfb: $this->db->update("\x6d\x61\x73\x74\x65\162\137\153\145\154\141\163", $data); goto wU0Q9; npGzw: } goto lHDYI; dJiXf: foreach ($posts as $d) { goto K0qg7; K0qg7: $idkelases[] = $d->kelas_baru; goto Mq2Ur; Mq2Ur: $siswakelas[$d->kelas_baru][] = ["\151\x64" => $d->id_siswa]; goto u74qN; u74qN: zMeUT: goto Y6ZQE; Y6ZQE: } goto QuSYV; TA61Q: $tp = $this->dashboard->getTahunActive(); goto BAxGP; lHDYI: gId9n: goto FHquW; SqsCV: $this->output_json($data); goto DAAjj; DAAjj: } public function hapus($id_kelas) { goto dbUdv; eJStA: $delete["\153\x65\x6c\x61\x73"] = $this->master->delete("\155\141\163\x74\145\162\137\x6b\145\154\x61\163", $id_kelas, "\x69\x64\137\153\x65\154\141\x73"); goto T_C8E; T_C8E: $this->output_json($delete); goto zWBaX; dbUdv: $delete["\163\x69\163\167\x61"] = $this->master->delete("\153\x65\154\x61\163\x5f\x73\151\x73\167\141", $id_kelas, "\x69\x64\137\153\x65\154\x61\x73"); goto eJStA; zWBaX: } }
