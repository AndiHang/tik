<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\102\101\123\x45\x50\x41\x54\x48") or exit("\x4e\x6f\40\144\x69\162\145\143\164\x20\163\x63\x72\x69\x70\164\40\141\143\143\x65\163\163\40\141\154\x6c\x6f\x77\145\x64"); class Datakelas extends CI_Controller { public function __construct() { goto wngRm; M1Z6O: show_error("\x48\x61\156\171\x61\x20\x41\144\x6d\151\x6e\151\163\164\162\141\164\x6f\x72\x20\x79\141\156\147\x20\x64\151\142\145\162\x69\40\x68\x61\x6b\40\x75\x6e\164\x75\x6b\x20\155\x65\156\x67\141\x6b\163\x65\163\x20\150\x61\x6c\x61\x6d\141\156\40\x69\x6e\x69\54\x20\74\x61\40\x68\162\x65\x66\x3d\42" . base_url("\x64\x61\x73\150\142\157\141\x72\144") . "\42\x3e\113\145\x6d\142\141\154\151\x20\x6b\145\40\155\x65\156\165\x20\x61\x77\141\154\x3c\x2f\x61\x3e", 403, "\101\x6b\163\145\x73\x20\124\145\162\x6c\141\162\x61\x6e\x67"); goto CWpzk; wngRm: parent::__construct(); goto gojIq; OoWSz: goto mlTy0; goto LUfON; I9EEw: $this->load->model("\122\x61\160\x6f\162\x5f\x6d\157\144\145\x6c", "\x72\x61\160\157\162"); goto aEBUp; Ohbn1: redirect("\141\x75\164\150"); goto IvOiQ; IvOiQ: mlTy0: goto H7oEk; H7oEk: $this->load->library(["\144\x61\164\x61\164\141\142\154\145\x73", "\146\x6f\162\155\137\166\x61\154\x69\x64\141\x74\151\157\156"]); goto knr3P; fM7_i: if ($this->ion_auth->is_admin()) { goto p7AQt; } goto M1Z6O; CWpzk: p7AQt: goto OoWSz; iUgQr: $this->load->model("\x44\x72\157\160\x64\157\x77\156\x5f\x6d\x6f\x64\145\154", "\144\162\157\160\144\x6f\x77\156"); goto I9EEw; knr3P: $this->load->model("\113\x65\x6c\141\163\x5f\x6d\157\144\x65\x6c", "\x6b\x65\x6c\x61\x73"); goto Am756; EYSWt: $this->load->model("\x4d\x61\x73\x74\x65\162\137\x6d\x6f\144\145\x6c", "\155\141\x73\164\x65\x72"); goto iUgQr; Am756: $this->load->model("\x44\141\x73\x68\x62\157\x61\162\x64\x5f\x6d\x6f\x64\x65\x6c", "\144\141\x73\150\x62\157\141\162\x64"); goto EYSWt; LUfON: cOZCz: goto Ohbn1; aEBUp: $this->form_validation->set_error_delimiters('', ''); goto vQSKz; gojIq: if (!$this->ion_auth->logged_in()) { goto cOZCz; } goto fM7_i; vQSKz: } public function output_json($data, $encode = true) { goto Y6ChT; Y6ChT: if (!$encode) { goto NsrSf; } goto wM6mP; wM6mP: $data = json_encode($data); goto qiCtz; Wq2_U: $this->output->set_content_type("\x61\x70\x70\x6c\151\143\141\164\151\157\156\x2f\152\x73\157\156")->set_output($data); goto Nm2rA; qiCtz: NsrSf: goto Wq2_U; Nm2rA: } public function index() { goto L963s; MwZdh: $smt = $this->dashboard->getSemesterActive(); goto IFYZ_; woub2: $data["\x74\x70\x5f\x61\x63\164\151\166\145"] = $tp; goto Vu_en; IFYZ_: $data["\164\x70"] = $this->dashboard->getTahun(); goto woub2; YsLN3: $data["\152\165\x72\x75\163\141\x6e"] = $this->kelas->get_jurusan(); goto S0QXV; ATUFr: $data = ["\x75\x73\145\x72" => $user, "\x6a\x75\x64\x75\x6c" => "\113\x65\154\141\163", "\163\x75\x62\x6a\x75\x64\165\154" => "\x44\x61\x74\141\x20\113\145\154\141\163", "\163\x65\x74\164\x69\156\147" => $setting]; goto Rvx27; vFzO5: $data["\x73\x69\163\x77\x61"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto yy1Lw; ZF3q0: $data["\163\x6d\164\x5f\x61\x63\x74\151\166\145"] = $smt; goto f31q6; L963s: $user = $this->ion_auth->user()->row(); goto lQqPU; TqmDi: $chek = $this->kelas->count_all(); goto uRXcH; yy1Lw: $this->load->view("\x5f\x74\x65\x6d\x70\154\141\164\x65\x73\57\144\x61\163\150\142\157\141\x72\144\57\137\150\145\x61\x64\145\x72", $data); goto MeOKi; XGeMG: $kelas = $this->kelas->getKelasList($tp->id_tp, $smt->id_smt); goto agGyK; oiObm: $data["\147\x75\x72\165"] = $this->kelas->get_guru(); goto vFzO5; agGyK: $kelas_lama = $this->kelas->getKelasList($tp->id_tp - 1, "\62"); goto RsKkd; Rvx27: $tp = $this->dashboard->getTahunActive(); goto MwZdh; II902: $kelas_lama = []; goto n_nI4; S0QXV: $data["\154\x65\x76\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto oiObm; Vu_en: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto ZF3q0; k1EiC: $data["\x6b\x65\x6c\141\163"] = $kelas; goto Pb13B; lQqPU: $setting = $this->dashboard->getSetting(); goto ATUFr; f31q6: $data["\160\162\x6f\x66\x69\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto TqmDi; RsKkd: Q4kEx: goto k1EiC; Hcaum: $this->load->view("\137\x74\145\x6d\160\x6c\x61\x74\145\163\57\x64\141\x73\x68\x62\x6f\x61\x72\x64\x2f\x5f\x66\x6f\x6f\164\145\162"); goto DNXsH; MeOKi: $this->load->view("\x6d\x61\163\164\x65\x72\57\153\x65\154\x61\x73\57\144\x61\x74\141"); goto Hcaum; n_nI4: if (!($chek > 0)) { goto Q4kEx; } goto XGeMG; uRXcH: $kelas = []; goto II902; Pb13B: $data["\x6b\x65\x6c\141\x73\x5f\154\141\155\x61"] = $kelas_lama; goto YsLN3; DNXsH: } public function detail($id) { goto Qal0E; bUDLQ: $data = ["\165\163\145\162" => $user, "\152\x75\x64\165\154" => "\x44\x65\x74\141\151\x6c\x20\113\145\154\x61\x73", "\163\x75\x62\x6a\165\x64\x75\x6c" => "\104\145\164\141\151\x6c\x20\113\145\x6c\141\163", "\163\145\x74\x74\x69\x6e\x67" => $setting]; goto ZvFpq; mP9CX: if ($struktur == null) { goto G8Hw1; } goto Q2nX4; BxBRC: ywB2G: goto L9fqe; wvbUt: G8Hw1: goto mG2yC; XKgux: $data["\147\x75\x72\x75"] = $this->kelas->get_guru(); goto nzGv2; xVvi_: $data["\153\x65\154\x61\x73"] = $this->kelas->get_one($id); goto yWcSK; ZvFpq: $tp = $this->dashboard->getTahunActive(); goto Hmgll; Hmgll: $smt = $this->dashboard->getSemesterActive(); goto w3PMK; KOVFg: $data["\x70\x72\157\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto xVvi_; mG2yC: $data["\x73\x74\162\165\153\x74\165\x72"] = json_decode(json_encode($this->kelas->dummyStruktur())); goto BxBRC; ipjuH: $this->load->view("\155\141\163\x74\x65\x72\57\153\145\154\x61\163\57\x64\x65\164\141\x69\154"); goto Bi9sb; WJ9rs: $struktur = $this->kelas->getStrukturKelas($id); goto mP9CX; yWcSK: $data["\152\x75\x72\x75\163\141\x6e"] = $this->kelas->get_jurusan(); goto Cl6N0; SYxhu: $data["\x74\160\x5f\x61\143\164\151\x76\145"] = $tp; goto HU9kw; prwcv: $data["\163\155\164\137\141\143\x74\151\x76\145"] = $smt; goto KOVFg; sBbUv: $setting = $this->dashboard->getSetting(); goto bUDLQ; HnVt1: goto ywB2G; goto wvbUt; Qal0E: $user = $this->ion_auth->user()->row(); goto sBbUv; w3PMK: $data["\164\160"] = $this->dashboard->getTahun(); goto SYxhu; nzGv2: $data["\x73\151\x73\x77\x61\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto WJ9rs; L9fqe: $this->load->view("\x5f\x74\145\x6d\x70\154\x61\x74\x65\163\x2f\x64\141\163\x68\142\157\x61\162\x64\x2f\137\x68\x65\141\144\x65\x72", $data); goto ipjuH; HU9kw: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto prwcv; Bi9sb: $this->load->view("\x5f\164\x65\x6d\x70\154\141\x74\145\163\x2f\144\141\x73\150\142\157\x61\x72\144\57\137\x66\x6f\157\x74\145\x72"); goto xeoGu; Cl6N0: $data["\154\145\x76\145\x6c"] = $this->kelas->getLevel($setting->jenjang); goto XKgux; Q2nX4: $data["\163\164\x72\165\153\x74\165\162"] = $struktur; goto HnVt1; xeoGu: } public function add() { goto dbhzc; A2Pb2: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto aGv8L; tAnKY: $this->load->view("\155\141\163\164\x65\x72\57\153\145\x6c\141\x73\57\141\144\144"); goto NtQPQ; GPXGm: $data["\x73\151\x73\167\141"] = $siswa; goto x3RnH; bPnEO: $this->load->view("\137\164\145\x6d\160\x6c\x61\x74\x65\163\x2f\144\141\163\x68\x62\157\x61\162\x64\x2f\x5f\150\x65\141\144\x65\x72", $data); goto tAnKY; ndMUH: $setting = $this->dashboard->getSetting(); goto koRc0; oyEmZ: $smt = $this->dashboard->getSemesterActive(); goto c55B7; NtQPQ: $this->load->view("\137\164\145\x6d\x70\154\x61\164\145\163\x2f\x64\141\x73\150\142\x6f\x61\162\144\57\137\146\157\x6f\x74\x65\x72"); goto v3jJ4; EjusC: $data["\160\162\x6f\x66\x69\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto tl_IY; gu3q2: $tp = $this->dashboard->getTahunActive(); goto oyEmZ; T6pr_: $data["\x6c\x65\166\145\x6c"] = $this->kelas->getLevel($setting->jenjang); goto EDR5l; x3RnH: $data["\163\x69\163\167\141\x6b\145\x6c\x61\x73"] = array(); goto bPnEO; VXlKi: $data["\164\160\x5f\141\x63\164\151\x76\x65"] = $tp; goto A2Pb2; eqxO1: $data["\x6a\165\x72\165\163\x61\x6e"] = $this->kelas->get_jurusan(); goto T6pr_; d2Qka: $siswa = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto GPXGm; EDR5l: $data["\147\x75\x72\165"] = $this->kelas->get_guru(); goto d2Qka; koRc0: $data = ["\x75\x73\x65\162" => $user, "\x6a\x75\x64\165\x6c" => "\x4b\x65\x6c\x61\163", "\163\x75\x62\152\x75\x64\165\x6c" => "\124\x61\155\142\141\150\40\x4b\145\154\x61\163", "\x73\x65\x74\164\x69\x6e\147" => $setting]; goto gu3q2; dbhzc: $user = $this->ion_auth->user()->row(); goto ndMUH; tl_IY: $data["\153\x65\x6c\141\163"] = json_decode(json_encode($this->kelas->dummy())); goto eqxO1; aGv8L: $data["\x73\155\164\137\141\x63\x74\151\166\x65"] = $smt; goto EjusC; c55B7: $data["\x74\x70"] = $this->dashboard->getTahun(); goto VXlKi; v3jJ4: } public function edit($id = '') { goto GcS8D; jkhIU: $this->load->view("\x6d\x61\x73\x74\x65\162\57\153\145\x6c\x61\x73\x2f\x61\144\x64"); goto PJ8Aj; NDlEp: $data["\x74\160\x5f\x61\143\x74\x69\166\145"] = $tp; goto QUs2d; cTvpH: $setting = $this->dashboard->getSetting(); goto wAmrL; vnaSa: $data["\x74\x70"] = $this->dashboard->getTahun(); goto NDlEp; ruez_: $data["\x70\x72\x6f\x66\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto ZzQIo; cLzM_: $data["\x73\x69\x73\x77\141"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto NlhNf; XDIzk: $data["\x6c\x65\166\145\154"] = $this->kelas->getLevel($setting->jenjang); goto vPl71; Dhqbw: $tp = $this->dashboard->getTahunActive(); goto ChmWz; eUrHu: $this->load->view("\x5f\164\x65\155\160\154\x61\164\x65\163\57\x64\x61\163\150\142\157\x61\x72\x64\x2f\137\150\145\x61\144\x65\162", $data); goto jkhIU; NlhNf: $data["\163\x69\163\x77\x61\153\145\154\141\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto eUrHu; hKC3C: $data["\x73\x6d\x74\137\141\143\164\151\x76\145"] = $smt; goto ruez_; vPl71: $data["\x67\x75\x72\165"] = $this->kelas->getWaliKelas($tp->id_tp, $smt->id_smt); goto cLzM_; QUs2d: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto hKC3C; wAmrL: $data = ["\165\163\145\162" => $user, "\x6a\165\144\165\154" => "\x4b\x65\154\141\x73", "\x73\x75\x62\x6a\165\x64\165\x6c" => "\x45\144\x69\x74\40\113\145\x6c\141\x73", "\163\145\164\164\151\156\x67" => $setting]; goto Dhqbw; mhK0h: $data["\152\x75\x72\x75\163\x61\156"] = $this->kelas->get_jurusan(); goto XDIzk; ChmWz: $smt = $this->dashboard->getSemesterActive(); goto vnaSa; GcS8D: $user = $this->ion_auth->user()->row(); goto cTvpH; ZzQIo: $data["\x6b\x65\x6c\x61\163"] = $this->kelas->get_one($id); goto mhK0h; PJ8Aj: $this->load->view("\x5f\x74\x65\155\x70\154\141\x74\x65\x73\57\x64\141\163\x68\x62\x6f\141\162\144\x2f\x5f\146\x6f\x6f\x74\145\162"); goto eKTbN; eKTbN: } public function save() { goto woBeL; hPFNo: torlA: goto ZusEI; thIkD: $this->output_json($data); goto kdD7k; p67Gr: $id_tp = $this->master->getTahunActive()->id_tp; goto TzkXQ; woBeL: $id = $this->input->post("\151\x64\x5f\153\145\x6c\141\163", true); goto DQEml; l4SZf: $this->db->update("\x6a\x61\142\141\x74\141\x6e\x5f\x67\x75\x72\x75"); goto PU1zY; DIv0x: $this->kelas->update($id, $id_tp, $id_smt); goto tIP6J; i8Hvc: mC8xj: goto Tx6Ol; goKIN: CnR0n: goto qxcbD; ipDZ5: $data["\x75\160\x64\141\164\x65"] = $res; goto rYnnh; dghky: Zhug7: goto G8iyS; lT1Pu: $status = FALSE; goto MUsY3; nDCXg: if ($this->form_validation->run() == TRUE) { goto XSZWQ; } goto lT1Pu; oXEK1: if ($this->form_validation->run() == TRUE) { goto Zhug7; } goto d6Gw0; RyMUS: $this->form_validation->set_rules($config); goto nDCXg; PU1zY: $res = $this->update_kelas($id); goto ipDZ5; HqsNi: $this->db->where("\x69\x64\137\x6a\x61\x62\141\164\141\156\137\147\165\x72\165", $guru_id . $id_tp . $id_smt); goto l4SZf; ZusEI: $status = TRUE; goto iE_OL; XRWbm: if (!$id) { goto g2MCa; } goto zcMoZ; MUsY3: goto x1sH2; goto cIuBC; YISTq: $id = $this->kelas->save($id_tp, $id_smt); goto hPFNo; tIP6J: sTvsG: goto b0CAx; TzkXQ: $id_smt = $this->master->getSemesterActive()->id_smt; goto nTkMB; G8iyS: if (!$this->input->post()) { goto sTvsG; } goto DIv0x; cIuBC: XSZWQ: goto VjSTb; Tx6Ol: goto CnR0n; goto anF0Q; anF0Q: g2MCa: goto RyMUS; zcMoZ: $this->form_validation->set_rules($config); goto oXEK1; VjSTb: if (!$this->input->post()) { goto torlA; } goto YISTq; d6Gw0: $status = FALSE; goto r5rdP; DQEml: $guru_id = strip_tags($this->input->post("\x67\x75\162\165\137\151\144", TRUE)); goto p67Gr; r5rdP: goto mC8xj; goto dghky; rYnnh: $data["\163\164\141\x74\165\x73"] = $status; goto thIkD; iE_OL: x1sH2: goto goKIN; nTkMB: $config = array(array("\x66\x69\145\154\x64" => "\156\x61\155\141\x5f\153\145\154\x61\x73", "\x6c\x61\x62\x65\154" => "\x4e\141\x6d\x61\40\x4b\145\x6c\141\163", "\x72\x75\154\145\163" => "\164\x72\x69\155"), array("\146\x69\145\154\x64" => "\x6b\x6f\144\x65\137\153\x65\154\141\163", "\x6c\141\x62\145\x6c" => "\x4b\157\144\145\x20\x4b\145\154\x61\163", "\x72\165\x6c\x65\x73" => "\x74\162\151\x6d"), array("\x66\151\x65\x6c\144" => "\152\x75\x72\x75\x73\x61\156\x5f\x69\144", "\x6c\x61\x62\145\x6c" => "\x4a\165\x72\165\163\x61\156", "\x72\x75\154\145\x73" => "\x74\x72\x69\155"), array("\x66\x69\x65\x6c\144" => "\154\145\x76\x65\154\x5f\151\x64", "\x6c\x61\x62\145\x6c" => "\x4c\x65\x76\145\154", "\x72\x75\x6c\145\x73" => "\164\x72\x69\x6d"), array("\146\x69\145\154\144" => "\147\x75\x72\x75\x5f\x69\144", "\154\x61\142\x65\154" => "\107\x75\x72\x75", "\x72\x75\154\x65\163" => "\164\x72\x69\155"), array("\x66\x69\x65\x6c\x64" => "\x73\x69\163\167\x61\x5f\x69\144", "\154\141\142\145\154" => "\123\151\163\x77\x61", "\x72\x75\154\145\163" => "\164\162\x69\155")); goto XRWbm; b0CAx: $status = TRUE; goto i8Hvc; qxcbD: $this->db->set("\x69\144\x5f\153\x65\154\x61\x73", $id); goto HqsNi; kdD7k: } public function update_kelas($id) { goto BBYS0; Ea1Km: KHt3m: goto CC_VQ; H_9Bi: $this->db->replace("\x6b\x65\154\x61\163\x5f\x73\151\163\x77\141", $insert); goto Bgb5z; Bgb5z: oh31U: goto Ea1Km; hFSMp: foreach ($siswakelas as $id_siswa => $sis) { goto CQnPX; C6zg8: $this->db->replace("\153\x65\x6c\141\163\137\163\151\x73\x77\141", $insert); goto rhMH1; CQnPX: $insert = ["\x69\144\137\153\145\154\x61\163\x5f\163\x69\x73\x77\x61" => $id_tp . $id_smt . $id_siswa, "\151\144\137\164\x70" => $id_tp, "\151\x64\137\x73\x6d\x74" => $id_smt, "\x69\x64\137\153\145\x6c\141\x73" => 0, "\x69\x64\137\163\151\163\167\x61" => $id_siswa]; goto C6zg8; rhMH1: kD6ul: goto E7U6f; E7U6f: } goto hkmbM; JSDRm: return $siswakelas; goto Kc3cG; QqXRH: $rowsSelect = count($this->input->post("\x73\151\x73\167\141", true)); goto R6w9Q; kdW7O: o1eif: goto QqXRH; mE71W: hZ60T: goto DVk3Z; uVAZx: RY1Re: goto JSDRm; BBYS0: $id_tp = $this->master->getTahunActive()->id_tp; goto Tpla5; DVk3Z: if (!($i <= $rowsSelect)) { goto RY1Re; } goto VNA0W; hkmbM: GgZ9K: goto kdW7O; CC_VQ: $i++; goto bldWh; OstZc: if (!(count($siswakelas) > 0)) { goto o1eif; } goto hFSMp; aoo7B: $insert = ["\x69\144\137\153\x65\154\141\163\137\x73\x69\163\167\x61" => $id_tp . $id_smt . $id_siswa, "\151\x64\137\x74\160" => $id_tp, "\151\x64\x5f\x73\155\164" => $id_smt, "\x69\x64\137\153\x65\x6c\141\163" => $id, "\151\144\137\x73\151\x73\x77\141" => $id_siswa]; goto H_9Bi; u3vmt: if (!($id_siswa != null)) { goto oh31U; } goto aoo7B; R6w9Q: $i = 0; goto mE71W; bldWh: goto hZ60T; goto uVAZx; Ar9f1: $siswakelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto OstZc; VNA0W: $id_siswa = $this->input->post("\163\x69\163\x77\x61\133" . $i . "\135", true); goto u3vmt; Tpla5: $id_smt = $this->master->getSemesterActive()->id_smt; goto Ar9f1; Kc3cG: } public function manage() { goto fP95X; e47T3: $data["\x74\160"] = $this->dashboard->getTahun(); goto jJKkY; YkwKT: $data["\x70\x72\157\x66\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto EfgoO; EfgoO: $data["\x6b\145\154\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto yUuR7; zLmmO: $this->load->view("\155\x61\x73\x74\145\x72\x2f\x6b\145\x6c\141\163\x2f\160\x65\x72\163\x65\155\x65\163\x74\x65\162"); goto rqHxg; A3HUv: $data["\x73\155\x74\x5f\x61\x63\164\151\166\x65"] = $smt; goto YkwKT; bQsDl: $tp = $this->dashboard->getTahunActive(); goto CjceC; fYuof: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto A3HUv; FmgdK: $this->load->view("\137\164\x65\x6d\x70\154\x61\164\x65\163\x2f\x64\x61\x73\150\142\x6f\x61\162\x64\57\x5f\150\145\141\x64\x65\162", $data); goto zLmmO; fP95X: $user = $this->ion_auth->user()->row(); goto AgRth; yUuR7: $data["\x6b\145\x6c\141\163\x32"] = $this->dropdown->getAllKelas($tp->id_tp, "\62"); goto FmgdK; CjceC: $smt = $this->dashboard->getSemesterActive(); goto e47T3; AgRth: $data = ["\x75\x73\145\x72" => $user, "\x6a\165\144\165\154" => "\103\157\160\x79\x20\113\x65\x6c\x61\163", "\163\x75\142\x6a\165\x64\165\154" => "\x43\x6f\160\x79\40\x44\x61\x74\141\x20\113\145\x6c\x61\x73\40\x6b\x65\x20\123\x4d\124\40\x49\111", "\163\x65\x74\164\151\156\147" => $this->dashboard->getSetting()]; goto bQsDl; jJKkY: $data["\x74\x70\x5f\141\x63\164\151\166\x65"] = $tp; goto fYuof; rqHxg: $this->load->view("\137\x74\x65\x6d\160\x6c\x61\x74\145\x73\x2f\x64\141\x73\x68\142\157\141\x72\144\x2f\x5f\x66\157\157\164\145\x72"); goto q6Kco; q6Kco: } public function getFromSmt1($kelas) { goto x2cDZ; YIIoQ: $ids = []; goto yxsY3; y6OCQ: $data2 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\62"); goto YIIoQ; FM7uY: foreach ($data2 as $s) { $ids[] = $s->id_siswa; iCAWb: } goto Pr5AF; Pr5AF: j2rEh: goto CPKy9; x2cDZ: $tp = $this->dashboard->getTahunActive(); goto Mwb8L; igs5z: $this->output_json(["\x73\x6d\164\x31" => $data1, "\163\x6d\164\x32" => $ids]); goto nABRh; CPKy9: oJkiN: goto igs5z; yxsY3: if (!(count($data2) > 0)) { goto oJkiN; } goto FM7uY; Mwb8L: $data1 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\61"); goto y6OCQ; nABRh: } public function copyFromSmt1() { goto jMUZg; o3KPK: $res = []; goto lIqQ_; lIqQ_: $arrSiswa = unserialize($kelas->jumlah_siswa); goto zlf1k; Qg4Pp: $smt = $this->dashboard->getSemesterActive(); goto esxR3; esxR3: $kelas1 = $this->input->post("\x6b\x65\x6c\x61\x73\137\x6c\x61\x6d\x61", true); goto bHfhB; uZagk: $this->output_json($res); goto CHGVN; B9pLy: UzJvY: goto uZagk; XLoS4: $idk = $this->db->insert_id(); goto o3KPK; bHfhB: $kelas2 = $this->input->post("\x6b\x65\x6c\141\x73\x5f\x62\141\162\x75", true); goto MJqX1; SXUef: $this->db->insert("\x6d\x61\x73\164\x65\x72\137\153\145\154\141\x73", $data); goto XLoS4; jMUZg: $tp = $this->dashboard->getTahunActive(); goto Qg4Pp; MJqX1: $kelas = $this->kelas->get_one($kelas1, $tp->id_tp, "\61"); goto gJ7ut; zlf1k: foreach ($arrSiswa as $value) { goto Jb59U; dl4b7: if (!($id_siswa != null)) { goto WvOGb; } goto QEU_h; TWbcW: WvOGb: goto V2n6I; Jb59U: $id_siswa = $value["\151\x64"]; goto dl4b7; QEU_h: $insert = ["\x69\x64\x5f\153\x65\x6c\141\163\137\x73\151\x73\167\141" => $tp->id_tp . $smt->id_smt . $id_siswa, "\151\144\x5f\164\x70" => $tp->id_tp, "\x69\144\x5f\163\155\164" => $smt->id_smt, "\151\144\137\x6b\145\154\x61\163" => $idk, "\x69\144\x5f\x73\151\x73\167\x61" => $id_siswa]; goto SluWA; SluWA: $res[] = $this->db->replace("\153\145\154\141\163\x5f\163\151\x73\167\141", $insert); goto TWbcW; V2n6I: Vol1B: goto vGAwn; vGAwn: } goto B9pLy; gJ7ut: $data = array("\156\x61\155\x61\x5f\x6b\x65\154\141\163" => $kelas2, "\153\x6f\144\145\137\153\x65\154\x61\x73" => $kelas->kode_kelas, "\x6a\x75\x72\165\x73\x61\x6e\137\x69\x64" => $kelas->jurusan_id, "\x69\x64\137\x74\x70" => $tp->id_tp, "\151\x64\137\163\155\164" => $smt->id_smt, "\x6c\x65\166\145\154\x5f\x69\144" => $kelas->level_id, "\147\x75\162\x75\x5f\151\144" => $kelas->guru_id, "\163\151\163\x77\x61\137\151\144" => $kelas->siswa_id, "\x6a\165\x6d\x6c\x61\x68\x5f\163\151\163\167\141" => $kelas->jumlah_siswa); goto SXUef; CHGVN: } public function copySiswaFromSmt1() { goto oGv1q; MA_4Z: $smt = $this->dashboard->getSemesterActive(); goto K5Eoj; mTePz: HET2z: goto ZG4g0; vFq7W: $this->output_json($res); goto JfIOX; jTYt1: $idkelases = []; goto Fh3lG; vfIzy: H2N0v: goto vFq7W; oGv1q: $tp = $this->dashboard->getTahunActive(); goto MA_4Z; Fh3lG: $siswakelas = []; goto tyIGT; K5Eoj: $posts = json_decode($this->input->post("\x6b\145\154\141\x73", true)); goto jTYt1; JRtf4: $res = []; goto zbtWz; zbtWz: foreach ($idkelases as $ik) { goto ZFAd3; uLPZK: $data = array("\156\141\x6d\x61\x5f\x6b\145\154\141\x73" => $kelas->nama_kelas, "\x6b\x6f\x64\145\x5f\x6b\145\x6c\141\x73" => $kelas->kode_kelas, "\152\165\162\x75\x73\141\x6e\137\151\x64" => $kelas->jurusan_id, "\x69\x64\x5f\x74\160" => $tp->id_tp, "\x69\x64\137\163\155\x74" => $smt->id_smt, "\154\145\x76\x65\154\137\151\x64" => $kelas->level_id, "\147\x75\162\x75\x5f\x69\144" => $kelas->guru_id, "\163\151\x73\x77\x61\x5f\151\x64" => $kelas->siswa_id, "\152\x75\x6d\154\141\x68\x5f\x73\151\x73\167\x61" => $jumlah); goto rdIWC; H6E1k: wC2G1: goto M2wn5; a_AYI: $kelas = $this->kelas->get_one($ik, $tp->id_tp, "\61"); goto piE3J; piE3J: $jumlah = serialize($siswakelas[$ik]); goto uLPZK; rdIWC: $this->db->insert("\x6d\x61\x73\164\x65\162\x5f\x6b\x65\154\141\163", $data); goto NsV_d; NsV_d: $idk = $this->db->insert_id(); goto mNEsC; M2wn5: eY1KJ: goto j1Eh0; mNEsC: foreach ($siswakelas[$ik] as $s) { goto Lm5Rm; Lm5Rm: $insert = ["\x69\x64\137\x6b\x65\x6c\141\163\x5f\163\151\163\167\x61" => $tp->id_tp . $smt->id_smt . $s["\151\x64"], "\x69\144\x5f\164\160" => $tp->id_tp, "\x69\144\137\163\155\164" => $smt->id_smt, "\x69\x64\137\153\x65\x6c\141\x73" => $idk, "\x69\x64\137\x73\151\x73\x77\x61" => $s["\151\x64"]]; goto DhJEr; DhJEr: $res[] = $this->db->replace("\153\x65\154\x61\163\x5f\163\151\163\167\x61", $insert); goto BIYpe; BIYpe: ZQ1Zw: goto qZAQ7; qZAQ7: } goto AUDb3; AUDb3: bSEFo: goto H6E1k; ZFAd3: if (!($ik != '')) { goto wC2G1; } goto a_AYI; j1Eh0: } goto vfIzy; ZG4g0: $idkelases = array_unique($idkelases); goto JRtf4; tyIGT: foreach ($posts as $d) { goto TWBke; olfWE: $siswakelas[$d->id_kelas][] = ["\x69\144" => $d->id_siswa]; goto KH2cE; KH2cE: acMY2: goto CIzQ5; TWBke: $idkelases[] = $d->id_kelas; goto olfWE; CIzQ5: } goto mTePz; JfIOX: } public function kenaikan() { goto XHpCH; G6n1z: $this->load->view("\137\x74\x65\x6d\x70\x6c\141\164\145\163\57\144\x61\163\150\142\x6f\141\x72\x64\57\137\x66\157\157\164\x65\x72"); goto KdtT0; SswDF: $data["\153\x65\154\x61\x73\x65\x73"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\75" . ($lvlKls->level_id + 1)); goto qlgHx; dG774: $setting = $this->dashboard->getSetting(); goto CIIC9; NusRe: $data["\153\145\x6c\x61\163\137\163\x65\x6c\145\x63\164\x65\144"] = $kelas; goto O7IQn; Qr7hu: $data["\x74\x70"] = $this->dashboard->getTahun(); goto TLBBZ; nqNTK: $data["\163\151\x73\167\141\x5f\x6b\145\x6c\141\163\137\x62\x61\162\x75"] = $this->master->getSiswaKelasBaru($tp->id_tp, $smt->id_smt); goto N6Idn; D6IjZ: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto SKyEV; O7IQn: $lvlKls = $this->kelas->get_one($kelas, $tp->id_tp - 1, "\x32"); goto SswDF; bQ1_O: $smt = $this->dashboard->getSemesterActive(); goto Qr7hu; cA5yY: $this->load->view("\137\x74\145\155\x70\154\x61\x74\x65\163\x2f\x64\141\163\x68\x62\x6f\141\x72\x64\x2f\x5f\x68\145\x61\x64\145\x72", $data); goto f9oVx; N6Idn: $data["\163\151\163\167\141\163"] = $this->rapor->getKenaikanSiswa($kelas, $tp->id_tp - 1, "\62"); goto NusRe; xkL31: $tp = $this->dashboard->getTahunActive(); goto bQ1_O; TLBBZ: $data["\x74\x70\137\x61\x63\164\151\x76\145"] = $tp; goto D6IjZ; BaaUz: $data["\x6b\145\154\x61\163\137\x6c\x61\155\141"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\x21\x3d" . $level); goto PPClm; CIIC9: $data = ["\165\163\145\x72" => $user, "\x6a\x75\x64\165\154" => "\113\x65\156\x61\151\153\153\x61\x6e\x20\113\x65\154\141\x73", "\x73\x75\142\x6a\165\144\x75\154" => "\x4e\x61\151\x6b\x20\x4b\145\154\141\x73\40\x53\x69\163\x77\x61", "\163\x65\x74\164\x69\x6e\x67" => $setting]; goto xkL31; sXylo: $data["\160\x72\157\x66\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto mM1tC; PPClm: $data["\x6b\145\154\141\163\137\142\x61\162\x75"] = $this->dropdown->getAllKelas($tp->id_tp, "\61"); goto iaDSW; wGFu9: $user = $this->ion_auth->user()->row(); goto dG774; SKyEV: $data["\163\155\x74\x5f\x61\143\164\x69\166\x65"] = $smt; goto sXylo; XHpCH: $kelas = $this->input->get("\153\145\x6c\141\163", true); goto wGFu9; qlgHx: UjqBF: goto cA5yY; mM1tC: $level = $setting->jenjang == "\x31" ? "\x36" : ($setting->jenjang == "\x32" ? "\x39" : ($setting->jenjang == "\61" ? "\x33" : "\61\62")); goto BaaUz; f9oVx: $this->load->view("\x6d\141\163\164\145\162\x2f\153\x65\x6c\x61\163\57\x6e\x61\x69\153\153\x65\154\141\x73"); goto G6n1z; iaDSW: if (!($kelas != null)) { goto UjqBF; } goto nqNTK; KdtT0: } public function naikKelas() { goto U1bzb; djq_v: $this->output_json($data); goto V1dHZ; wDXAo: foreach ($posts as $d) { goto bJdCv; LSaAd: $siswakelas[$d->kelas_baru][] = ["\151\144" => $d->id_siswa]; goto JA2zx; JA2zx: JSxru: goto aTU94; bJdCv: $idkelases[] = $d->kelas_baru; goto LSaAd; aTU94: } goto f3d2s; Z9LNE: pySuq: goto MY82O; KSoPD: $idkelases = array_unique($idkelases); goto EzfGa; TLmC1: $idks = []; goto rrslD; gZ0aF: $smt = $this->dashboard->getSemesterActive(); goto X8BYZ; X8BYZ: $posts = json_decode($this->input->post("\x6b\145\x6c\x61\163", true)); goto NOyBq; NOyBq: $mode = $this->input->post("\x6d\x6f\x64\x65", true); goto i30mJ; EzfGa: $res = []; goto TLmC1; f3d2s: wCBej: goto KSoPD; U1bzb: $tp = $this->dashboard->getTahunActive(); goto gZ0aF; rrslD: foreach ($idkelases as $ik) { goto niQa9; UOpvs: NW5CB: goto k79VS; auZBS: goto NW5CB; goto qe_4z; xjbEk: U8bYN: goto cv7Y2; k79VS: foreach ($idks as $idk) { goto bs_So; BmJGr: HqPcU: goto KZwAx; EPio_: YfdLk: goto BmJGr; bs_So: foreach ($siswakelas[$ik] as $s) { goto UTtmb; IcYvx: cNrdG: goto GaFro; UTtmb: $insert = ["\x69\x64\x5f\x6b\145\x6c\x61\163\137\163\x69\163\167\x61" => $tp->id_tp . $smt->id_smt . $s["\151\144"], "\x69\144\137\164\160" => $tp->id_tp, "\151\x64\x5f\x73\x6d\x74" => $smt->id_smt, "\x69\144\x5f\x6b\145\154\141\x73" => $idk, "\x69\144\137\x73\151\x73\x77\141" => $s["\x69\x64"]]; goto Cknw8; Cknw8: $res[] = $this->db->replace("\x6b\x65\x6c\141\x73\x5f\163\151\x73\x77\x61", $insert); goto IcYvx; GaFro: } goto EPio_; KZwAx: } goto Ee6Jo; kJvAr: $this->db->update("\155\141\163\x74\145\x72\137\153\x65\x6c\141\163", $data); goto auZBS; gwv8L: $kelas_baru = $this->kelas->getKelasByNama($kelas->nama_kelas, $tp->id_tp, $smt->id_smt); goto ehJqY; qe_4z: V8qp0: goto uUCmI; N2Dyt: $jmlLama = unserialize($kelas_baru->jumlah_siswa); goto wMEgB; RAbQs: if ($mode == "\x70\x65\x72\x73\x69\x73\x77\141") { goto xZZSr; } goto MhTIt; GXEir: $jumlah = serialize($jmlLama); goto d8ikb; MhTIt: $jumlah = serialize($siswakelas[$ik]); goto GvD0M; uUCmI: $jumlah = serialize($siswakelas[$ik]); goto F3MUx; SzMEV: $this->db->insert("\155\x61\x73\x74\145\162\137\x6b\145\154\x61\163", $data); goto iyK4F; PHZQl: k0Pn4: goto GXEir; F3MUx: $data = array("\156\141\155\x61\x5f\153\x65\154\141\163" => $kelas->nama_kelas, "\153\x6f\144\x65\137\x6b\145\x6c\x61\163" => $kelas->kode_kelas, "\x6a\x75\162\165\163\x61\x6e\137\151\144" => $kelas->jurusan_id, "\151\x64\x5f\164\x70" => $tp->id_tp, "\151\x64\x5f\163\x6d\164" => $smt->id_smt, "\154\145\166\x65\x6c\x5f\151\144" => $kelas->level_id, "\147\x75\162\165\137\151\x64" => $kelas->guru_id, "\163\x69\x73\167\x61\137\151\x64" => $kelas->siswa_id, "\152\165\x6d\x6c\x61\x68\x5f\x73\x69\163\167\x61" => $jumlah); goto SzMEV; iyK4F: array_push($idks, $this->db->insert_id()); goto UOpvs; RpATM: goto FYVvz; goto YzpMZ; niQa9: $kelas = $this->kelas->get_one($ik, $tp->id_tp - 1, "\62"); goto gwv8L; GvD0M: array_push($idks, $kelas_baru->id_kelas); goto RpATM; YzpMZ: xZZSr: goto N2Dyt; d8ikb: FYVvz: goto FPXef; R5rMS: $this->db->where("\151\144\x5f\x6b\x65\x6c\x61\163", $kelas_baru->id_kelas); goto kJvAr; FPXef: $data = array("\x6e\141\155\x61\137\x6b\x65\154\141\163" => $kelas->nama_kelas, "\x6b\x6f\144\145\137\x6b\145\154\x61\163" => $kelas->kode_kelas, "\152\x75\x72\x75\163\141\x6e\137\x69\144" => $kelas->jurusan_id, "\x69\x64\x5f\164\160" => $tp->id_tp, "\151\x64\x5f\x73\x6d\x74" => $smt->id_smt, "\x6c\x65\166\x65\154\137\151\144" => $kelas->level_id, "\147\165\162\165\x5f\x69\144" => $kelas->guru_id, "\x73\151\163\167\x61\137\x69\144" => $kelas->siswa_id, "\x6a\165\155\x6c\x61\x68\x5f\x73\151\x73\x77\x61" => $jumlah); goto R5rMS; Ee6Jo: cumer: goto xjbEk; wMEgB: foreach ($siswakelas[$ik] as $s) { goto YmFCK; L_jBT: R4R8A: goto feC1C; feC1C: B0L3c: goto xyTzX; YmFCK: foreach ($jmlLama as $lama) { goto swnWe; ed5m_: gzWIy: goto ZHgog; ptRgs: array_push($idks, $kelas_baru->id_kelas); goto ATNp0; ATNp0: OEt7p: goto ed5m_; swnWe: if (!($lama["\x69\x64"] != $s["\151\144"])) { goto OEt7p; } goto ye_FF; ye_FF: array_push($jmlLama, ["\151\x64" => $s["\x69\144"]]); goto ptRgs; ZHgog: } goto L_jBT; xyTzX: } goto PHZQl; ehJqY: if ($kelas_baru == null) { goto V8qp0; } goto RAbQs; cv7Y2: } goto Z9LNE; i30mJ: $idkelases = []; goto kW_eG; kW_eG: $siswakelas = []; goto wDXAo; MY82O: $data["\x72\145\163"] = $siswakelas; goto djq_v; V1dHZ: } public function hapus($id_kelas) { goto nRQ6s; gd45y: $this->output_json($delete); goto RA5vl; GkFIx: $delete["\x6b\145\154\141\163"] = $this->master->delete("\x6d\x61\x73\x74\145\x72\x5f\x6b\x65\154\x61\163", $id_kelas, "\151\144\137\x6b\x65\154\x61\x73"); goto gd45y; nRQ6s: $delete["\x73\151\x73\167\141"] = $this->master->delete("\153\x65\154\141\163\x5f\163\151\163\x77\141", $id_kelas, "\x69\x64\x5f\x6b\145\154\141\163"); goto GkFIx; RA5vl: } }
