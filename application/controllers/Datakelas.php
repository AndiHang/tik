<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\x41\x53\105\x50\x41\x54\x48") or exit("\x4e\x6f\40\144\x69\162\x65\x63\164\x20\x73\143\x72\x69\x70\x74\40\141\143\x63\145\163\163\40\x61\154\154\x6f\x77\x65\144"); class Datakelas extends CI_Controller { public function __construct() { goto uc2I2; mP_Wq: redirect("\141\165\164\x68"); goto BvOnx; fStzX: $this->load->model("\x44\x61\163\150\142\x6f\x61\162\144\137\155\157\x64\145\x6c", "\x64\x61\163\150\x62\157\x61\162\x64"); goto SHfC0; AxlPK: $this->load->library(["\144\x61\x74\141\164\x61\142\x6c\x65\x73", "\x66\157\x72\155\137\x76\141\x6c\151\x64\x61\x74\151\x6f\x6e"]); goto SPV_j; L5xxT: if ($this->ion_auth->is_admin()) { goto vNgWp; } goto XqA7x; SPV_j: $this->load->model("\x4b\145\154\141\163\137\x6d\157\144\145\154", "\x6b\145\x6c\141\163"); goto fStzX; SHfC0: $this->load->model("\115\x61\x73\164\145\x72\137\155\x6f\144\145\154", "\x6d\141\x73\x74\145\162"); goto v3CDi; G2W4s: $this->load->model("\122\x61\160\x6f\162\x5f\155\x6f\144\x65\x6c", "\162\141\160\x6f\162"); goto jTj9_; uc2I2: parent::__construct(); goto fo8UA; izY6X: FOUFb: goto mP_Wq; Xmudw: vNgWp: goto clHre; XqA7x: show_error("\x48\141\156\171\141\x20\x41\144\x6d\x69\156\151\163\x74\x72\141\x74\157\x72\x20\171\141\156\147\x20\x64\151\x62\145\x72\x69\x20\x68\141\x6b\40\x75\156\x74\165\153\40\155\145\x6e\147\x61\x6b\163\x65\163\x20\150\x61\x6c\x61\155\x61\156\40\x69\x6e\151\54\40\x3c\141\40\x68\x72\145\146\75\x22" . base_url("\x64\141\x73\x68\142\x6f\x61\x72\144") . "\x22\76\113\145\155\x62\x61\154\151\40\153\145\x20\x6d\x65\x6e\x75\x20\x61\167\x61\x6c\x3c\x2f\141\76", 403, "\x41\x6b\x73\x65\x73\40\x54\x65\x72\x6c\141\x72\141\x6e\x67"); goto Xmudw; fo8UA: if (!$this->ion_auth->logged_in()) { goto FOUFb; } goto L5xxT; clHre: goto cNpmm; goto izY6X; v3CDi: $this->load->model("\x44\x72\157\x70\144\x6f\167\x6e\x5f\155\157\x64\145\154", "\144\x72\157\160\144\x6f\167\x6e"); goto G2W4s; BvOnx: cNpmm: goto AxlPK; jTj9_: $this->form_validation->set_error_delimiters('', ''); goto x927w; x927w: } public function output_json($data, $encode = true) { goto aQlvm; gxzTQ: $this->output->set_content_type("\x61\x70\160\x6c\151\143\x61\x74\151\x6f\156\x2f\x6a\163\x6f\156")->set_output($data); goto Zz9TB; aQlvm: if (!$encode) { goto aSJz8; } goto Q9pcS; M8lWD: aSJz8: goto gxzTQ; Q9pcS: $data = json_encode($data); goto M8lWD; Zz9TB: } public function index() { goto fF5L1; jmbW_: $kelas = $this->kelas->getKelasList($tp->id_tp, $smt->id_smt); goto z2M4G; UFf5M: $data["\x73\155\x74\x5f\141\x63\164\151\x76\x65"] = $smt; goto NIOCH; yJolx: $this->load->view("\x5f\164\145\155\x70\x6c\x61\x74\145\163\57\144\x61\163\150\142\x6f\141\162\x64\x2f\137\150\x65\141\144\x65\x72", $data); goto pgki5; fRMHL: $chek = $this->kelas->count_all(); goto PDCPs; wy7PJ: $tp = $this->dashboard->getTahunActive(); goto o43ar; nP9Q3: $data["\152\x75\162\x75\x73\141\156"] = $this->kelas->get_jurusan(); goto WbD1M; Ayetb: $data["\147\165\162\x75"] = $this->kelas->get_guru(); goto kkcJZ; kr5wC: $data = ["\165\163\x65\x72" => $user, "\x6a\165\x64\165\154" => "\x4b\145\154\x61\x73", "\x73\x75\x62\x6a\x75\x64\x75\x6c" => "\x44\x61\164\x61\x20\113\145\154\x61\x73", "\x73\x65\x74\x74\x69\156\147" => $setting]; goto wy7PJ; nypJb: if (!($chek > 0)) { goto b_6Bk; } goto jmbW_; o43ar: $smt = $this->dashboard->getSemesterActive(); goto helV2; KNXpF: $data["\x6b\x65\x6c\x61\163"] = $kelas; goto y09Ic; helV2: $data["\x74\160"] = $this->dashboard->getTahun(); goto nbGKM; z2M4G: $kelas_lama = $this->kelas->getKelasList($tp->id_tp - 1, "\62"); goto vmjGk; uEoyE: $kelas_lama = []; goto nypJb; fF5L1: $user = $this->ion_auth->user()->row(); goto LIB1E; nbGKM: $data["\x74\x70\x5f\x61\x63\164\151\166\145"] = $tp; goto es8uP; y09Ic: $data["\x6b\x65\154\x61\x73\x5f\x6c\x61\155\141"] = $kelas_lama; goto nP9Q3; WbD1M: $data["\154\145\166\145\154"] = $this->kelas->getLevel($setting->jenjang); goto Ayetb; es8uP: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto UFf5M; NIOCH: $data["\160\162\157\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto fRMHL; LIB1E: $setting = $this->dashboard->getSetting(); goto kr5wC; PDCPs: $kelas = []; goto uEoyE; vmjGk: b_6Bk: goto KNXpF; t29yT: $this->load->view("\x5f\164\x65\155\x70\154\x61\164\145\x73\x2f\144\x61\x73\x68\x62\x6f\x61\162\144\57\x5f\x66\157\157\164\145\x72"); goto Z45fU; pgki5: $this->load->view("\x6d\x61\x73\x74\x65\162\57\x6b\x65\154\x61\x73\57\x64\141\x74\x61"); goto t29yT; kkcJZ: $data["\x73\x69\163\x77\141"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto yJolx; Z45fU: } public function detail($id) { goto qVc7t; gJxdC: $data["\x70\162\157\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto OHcym; SGhKr: $data["\x73\151\163\167\141\x73"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto Y7ou9; KRCn2: $data["\164\160\137\x61\143\164\151\x76\x65"] = $tp; goto SbycR; PRfDG: $data["\154\145\x76\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto xjxXb; xjxXb: $data["\x67\165\x72\x75"] = $this->kelas->get_guru(); goto SGhKr; vLQy3: $tp = $this->dashboard->getTahunActive(); goto jDWl6; HH6pP: if ($struktur == null) { goto eFMla; } goto ibP_T; OHcym: $data["\153\145\154\x61\x73"] = $this->kelas->get_one($id); goto QPNwZ; rcq3R: $data["\x74\160"] = $this->dashboard->getTahun(); goto KRCn2; gOr17: $this->load->view("\x6d\141\x73\x74\145\x72\x2f\153\x65\154\x61\x73\x2f\144\x65\x74\141\151\154"); goto qFH8l; I2fXb: bd5MW: goto BDyvj; qFH8l: $this->load->view("\137\x74\145\x6d\x70\154\x61\164\145\163\x2f\144\x61\x73\150\142\157\x61\162\144\57\x5f\146\x6f\157\164\145\x72"); goto dMlYF; Iv015: eFMla: goto M8TeA; BDyvj: $this->load->view("\x5f\x74\x65\x6d\x70\x6c\x61\x74\x65\x73\57\144\x61\x73\x68\x62\157\x61\x72\x64\x2f\137\150\x65\141\144\x65\x72", $data); goto gOr17; fkUCY: goto bd5MW; goto Iv015; W8VSX: $setting = $this->dashboard->getSetting(); goto FwoRP; Y7ou9: $struktur = $this->kelas->getStrukturKelas($id); goto HH6pP; QPNwZ: $data["\152\165\x72\165\163\141\156"] = $this->kelas->get_jurusan(); goto PRfDG; jDWl6: $smt = $this->dashboard->getSemesterActive(); goto rcq3R; SbycR: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto ozdZ9; ozdZ9: $data["\x73\x6d\164\x5f\141\143\164\151\166\x65"] = $smt; goto gJxdC; qVc7t: $user = $this->ion_auth->user()->row(); goto W8VSX; M8TeA: $data["\163\x74\162\x75\x6b\x74\165\162"] = json_decode(json_encode($this->kelas->dummyStruktur())); goto I2fXb; ibP_T: $data["\x73\164\162\165\153\164\165\162"] = $struktur; goto fkUCY; FwoRP: $data = ["\165\x73\x65\x72" => $user, "\152\165\144\165\x6c" => "\104\145\164\x61\151\154\40\113\145\154\141\163", "\163\165\x62\152\x75\x64\165\154" => "\x44\x65\x74\x61\x69\154\40\113\145\154\x61\x73", "\163\x65\164\x74\x69\x6e\147" => $setting]; goto vLQy3; dMlYF: } public function add() { goto bQJwH; h8KIn: $data["\163\x69\x73\167\141"] = $siswa; goto M1m5i; jCgxu: $tp = $this->dashboard->getTahunActive(); goto EjPzS; NncW2: $this->load->view("\155\x61\x73\164\x65\x72\x2f\153\x65\x6c\x61\163\x2f\x61\144\144"); goto VFgIs; s5aMZ: $data["\164\160"] = $this->dashboard->getTahun(); goto OvHVx; RZnOp: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto W_dvY; W_dvY: $data["\x73\x6d\x74\x5f\141\x63\164\151\166\x65"] = $smt; goto pwk9L; j_XfK: $data["\147\165\x72\x75"] = $this->kelas->get_guru(); goto uiRLG; G17_3: $data = ["\x75\163\x65\x72" => $user, "\152\x75\144\x75\154" => "\113\x65\x6c\141\x73", "\163\165\142\152\x75\144\x75\154" => "\124\x61\155\x62\141\150\x20\113\x65\154\x61\x73", "\x73\x65\x74\164\x69\156\x67" => $setting]; goto jCgxu; uiRLG: $siswa = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto h8KIn; OvHVx: $data["\164\x70\137\141\143\x74\x69\x76\145"] = $tp; goto RZnOp; raxtQ: $this->load->view("\x5f\x74\x65\155\160\154\141\x74\x65\x73\x2f\144\x61\163\150\142\x6f\x61\x72\x64\57\137\x68\x65\x61\x64\x65\162", $data); goto NncW2; M1m5i: $data["\x73\x69\163\167\141\153\145\154\141\163"] = array(); goto raxtQ; VFgIs: $this->load->view("\x5f\x74\x65\155\160\x6c\x61\x74\145\x73\57\144\141\163\150\x62\x6f\x61\162\144\57\x5f\146\157\157\x74\145\x72"); goto z2OzE; EjPzS: $smt = $this->dashboard->getSemesterActive(); goto s5aMZ; pwk9L: $data["\x70\x72\x6f\146\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto oHqBU; oHqBU: $data["\x6b\145\x6c\141\x73"] = json_decode(json_encode($this->kelas->dummy())); goto NIlFU; W_PtV: $data["\x6c\145\166\x65\154"] = $this->kelas->getLevel($setting->jenjang); goto j_XfK; NIlFU: $data["\152\165\162\x75\x73\x61\156"] = $this->kelas->get_jurusan(); goto W_PtV; bQJwH: $user = $this->ion_auth->user()->row(); goto nGvC4; nGvC4: $setting = $this->dashboard->getSetting(); goto G17_3; z2OzE: } public function edit($id = '') { goto w08mj; GsQGk: $smt = $this->dashboard->getSemesterActive(); goto DCbfa; VGui0: $this->load->view("\155\x61\x73\x74\145\162\57\x6b\x65\x6c\x61\163\57\x61\144\x64"); goto GtJOL; y7hm4: $data["\x74\160\x5f\141\x63\x74\x69\x76\x65"] = $tp; goto bs69N; bdT93: $data["\x70\x72\157\x66\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto LD6ig; XwA2h: $data["\153\145\x6c\x61\163"] = $this->kelas->get_one($id); goto yepBB; DCbfa: $data["\164\x70"] = $this->dashboard->getTahun(); goto y7hm4; QpE1L: $data["\x73\x69\x73\x77\141"] = $this->kelas->getAllSiswa($tp->id_tp, $smt->id_smt); goto Nfnak; L47jw: $data["\147\x75\x72\x75"] = $this->kelas->getWaliKelas($tp->id_tp, $smt->id_smt); goto QpE1L; wCDPK: $tp = $this->dashboard->getTahunActive(); goto GsQGk; yepBB: $data["\152\x75\x72\165\163\141\x6e"] = $this->kelas->get_jurusan(); goto kA2El; Nfnak: $data["\x73\151\163\167\x61\x6b\x65\154\x61\163"] = $this->kelas->get_siswa_kelas($id, $tp->id_tp, $smt->id_smt); goto qgDuD; GtJOL: $this->load->view("\x5f\x74\x65\x6d\x70\154\x61\164\x65\x73\57\x64\x61\x73\x68\142\157\141\x72\144\x2f\x5f\146\x6f\157\x74\x65\162"); goto kC5v6; LD6ig: $data["\x69\144\137\153\145\x6c\x61\x73"] = $id; goto XwA2h; kA2El: $data["\x6c\x65\x76\145\154"] = $this->kelas->getLevel($setting->jenjang); goto L47jw; OcPAf: $setting = $this->dashboard->getSetting(); goto tJLdz; x1Sfs: $data["\x73\155\164\x5f\x61\x63\x74\x69\x76\145"] = $smt; goto bdT93; w08mj: $user = $this->ion_auth->user()->row(); goto OcPAf; tJLdz: $data = ["\x75\163\145\162" => $user, "\152\165\144\165\x6c" => "\x4b\145\154\141\x73", "\163\165\142\152\x75\x64\165\x6c" => "\105\x64\151\164\40\x4b\145\154\x61\163", "\x73\145\x74\x74\x69\156\x67" => $setting]; goto wCDPK; qgDuD: $this->load->view("\137\164\145\155\160\154\x61\x74\x65\x73\x2f\144\141\x73\x68\142\x6f\x61\162\x64\x2f\137\x68\145\141\144\145\x72", $data); goto VGui0; bs69N: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto x1Sfs; kC5v6: } public function save() { goto ZvhYa; POYOh: LKSS8: goto V6LpR; v71rC: $data["\x73\x74\141\164\x75\163"] = $status; goto lvOqc; rx9vc: $i = 0; goto Tk7EV; ZmvvJ: WL1FI: goto gr346; Tk7EV: wK9kz: goto u3hZP; QjvXz: $id_smt = $this->master->getSemesterActive()->id_smt; goto n4CmQ; Lo0U3: $data["\163\x69\x73\x77\141"] = $siswa_inserted; goto bBL0S; bROt_: $guru_id = strip_tags($this->input->post("\x67\x75\x72\165\x5f\x69\144", TRUE)); goto JVTEb; LaUtw: foreach ($insert as $ins) { goto gBBLz; h_rlc: $siswa_inserted++; goto Zjf0u; gBBLz: if (!$this->db->replace("\x6b\x65\x6c\141\163\137\x73\151\163\x77\x61", $ins)) { goto Dm31q; } goto h_rlc; uW2yu: qg9Ss: goto uP8I0; Zjf0u: Dm31q: goto uW2yu; uP8I0: } goto AX8lI; VhwKk: foreach ($siswa_kelas as $id_siswa => $sis) { $insert[$id_tp . $id_smt . $id_siswa] = ["\x69\144\x5f\x6b\145\x6c\x61\163\x5f\163\151\x73\x77\141" => $id_tp . $id_smt . $id_siswa, "\151\x64\x5f\164\160" => $id_tp, "\x69\144\137\163\x6d\164" => $id_smt, "\x69\x64\x5f\x6b\145\x6c\x61\x73" => 0, "\x69\x64\x5f\x73\x69\x73\x77\x61" => $id_siswa]; ZloYc: } goto OWINp; i1ce0: dE4GU: goto nX6Uo; PW8hq: goto dY8B7; goto i1ce0; DSo9n: uhN1p: goto PW8hq; lvOqc: $this->output_json($data); goto XgrCe; A0tbx: if (!($id_siswa != null)) { goto PwWYf; } goto egR14; FLaJ3: $status = FALSE; goto SaQg0; AUhJP: $this->db->where("\151\x64\x5f\152\x61\x62\141\164\x61\156\x5f\147\x75\x72\165", $guru_id . $id_tp . $id_smt); goto FfozR; dGKmP: $siswakelas = []; goto FK5AV; zepFI: X7Pu0: goto DHD9x; egR14: array_push($siswakelas, ["\151\144" => $id_siswa]); goto MXJNd; JlMJD: $data["\x69\x6e\163\145\x72\164"] = $insert; goto T3Phe; X3QSn: OP2YW: goto ACjTP; WDQLI: goto OP2YW; goto U6Hkh; brJUz: if ($id != null && $id != '') { goto dE4GU; } goto Zrjp5; yVQqw: $status = $this->db->update("\155\141\x73\164\145\162\137\x6b\145\154\x61\x73", $insert); goto GDtr2; fF7yl: goto wK9kz; goto ZrUQY; WLlKD: if (!(count($siswa_kelas) > 0)) { goto ycKbf; } goto VhwKk; b4Pb1: UDCE3: goto Lo0U3; MXJNd: PwWYf: goto zepFI; N58SE: $siswa_inserted = 0; goto pPXWC; iiEwo: $i++; goto fF7yl; b5Gnm: pZY3P: goto rx9vc; T3Phe: g9XWW: goto b4Pb1; mUlGD: if ($this->form_validation->run() == TRUE) { goto Fyrrr; } goto P5ovY; bBL0S: $data["\x75\x70\144\141\x74\x65"] = $updated; goto v71rC; JVTEb: $id_tp = $this->master->getTahunActive()->id_tp; goto QjvXz; W0ivV: KR0aX: goto iiEwo; fSqUk: $this->db->where("\x69\x64\x5f\153\x65\154\x61\163", $id); goto yVQqw; V6LpR: if (!($i <= count($siswas))) { goto WL1FI; } goto UzUYN; hSGX5: $id_new = null; goto brJUz; NNVmb: $insert[$id_tp . $id_smt . $idsiswa]["\151\144\x5f\x6b\145\x6c\141\x73"] = $new_id_kelas; goto X3QSn; P5ovY: $status = FALSE; goto L62z3; gr346: $jumlah = serialize($siswakelas); goto tz2dl; n4CmQ: $siswas = $this->input->post("\x73\151\163\167\x61", true); goto JHo1W; Njk9o: $updated = false; goto N58SE; HfZBU: if ($this->form_validation->run() == TRUE) { goto DNCqT; } goto FLaJ3; SaQg0: goto uhN1p; goto Jw1st; GvsT0: $new_id_kelas = $id != null && $id != '' ? $id : $id_new; goto qj_1w; HkCRp: $siswa_kelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto WLlKD; nMLTR: if (!$updated) { goto g9XWW; } goto mb2Y1; DHD9x: $i++; goto BqMO9; eOea3: $this->db->set("\151\x64\137\x6b\x65\x6c\141\163", $id); goto AUhJP; AX8lI: eGCBz: goto JlMJD; GDtr2: TkmFA: goto XxoQG; OsAsX: $insert[$id_tp . $id_smt . $idsiswa] = ["\151\144\x5f\153\x65\154\x61\163\x5f\x73\151\x73\167\x61" => $id_tp . $id_smt . $idsiswa, "\151\x64\137\x74\160" => $id_tp, "\x69\x64\x5f\x73\x6d\164" => $id_smt, "\151\x64\137\x6b\x65\x6c\x61\x73" => $new_id_kelas, "\151\144\137\163\151\x73\x77\141" => $idsiswa]; goto WDQLI; tz2dl: $insert = array("\156\x61\155\141\x5f\x6b\145\x6c\141\163" => strip_tags($this->input->post("\x6e\141\155\141\137\153\x65\x6c\141\x73", TRUE)), "\153\x6f\144\x65\137\153\x65\x6c\141\163" => strip_tags($this->input->post("\153\x6f\x64\145\x5f\x6b\145\154\141\163", TRUE)), "\152\165\162\165\163\141\156\137\x69\144" => strip_tags($this->input->post("\x6a\165\162\165\163\x61\156\137\151\x64", TRUE)), "\151\144\x5f\164\x70" => $id_tp, "\151\144\x5f\x73\155\164" => $id_smt, "\x6c\145\x76\x65\154\x5f\151\144" => strip_tags($this->input->post("\x6c\145\x76\145\154\x5f\x69\144", TRUE)), "\147\165\x72\x75\x5f\151\x64" => strip_tags($this->input->post("\x67\165\162\x75\x5f\151\x64", TRUE)), "\163\x69\x73\167\x61\137\x69\144" => strip_tags($this->input->post("\x73\x69\163\x77\x61\x5f\151\x64", TRUE)), "\x6a\165\155\x6c\141\150\137\163\151\163\x77\141" => $jumlah); goto hSGX5; mb2Y1: $insert = []; goto GyUOJ; Jw1st: DNCqT: goto GsKKF; MY24Z: ycKbf: goto b5Gnm; ACjTP: R3iLt: goto W0ivV; toTYO: if (isset($insert[$id_tp . $id_smt . $idsiswa])) { goto IBGc1; } goto OsAsX; MsnkA: Fyrrr: goto fSqUk; FfozR: $updated = $this->db->update("\x6a\141\x62\141\164\x61\156\x5f\147\x75\162\165"); goto nMLTR; UzUYN: $id_siswa = isset($siswas[$i]) ? $siswas[$i] : null; goto A0tbx; ZrUQY: AFL9Y: goto LaUtw; nX6Uo: $this->form_validation->set_rules($config); goto mUlGD; U6Hkh: IBGc1: goto NNVmb; JrT_g: $id_new = $this->db->insert_id(); goto DSo9n; L62z3: goto TkmFA; goto MsnkA; JHo1W: $config = array(array("\x66\151\145\154\144" => "\156\141\x6d\141\x5f\153\x65\154\141\x73", "\154\141\142\x65\154" => "\116\x61\x6d\141\40\113\x65\x6c\x61\x73", "\162\x75\154\x65\163" => "\x74\162\x69\x6d"), array("\146\x69\145\x6c\144" => "\153\157\x64\x65\137\153\145\154\141\163", "\x6c\141\x62\145\x6c" => "\x4b\157\x64\x65\x20\x4b\x65\154\x61\x73", "\162\x75\x6c\145\163" => "\x74\162\151\x6d"), array("\146\151\145\154\144" => "\152\165\x72\165\163\x61\156\x5f\151\144", "\154\141\x62\145\x6c" => "\x4a\165\162\x75\163\x61\156", "\x72\165\x6c\x65\x73" => "\x74\x72\151\x6d"), array("\x66\x69\x65\x6c\x64" => "\x6c\x65\166\x65\x6c\137\x69\144", "\154\x61\142\145\x6c" => "\114\x65\x76\x65\154", "\162\x75\x6c\x65\163" => "\164\x72\151\x6d"), array("\146\151\145\154\x64" => "\x67\165\x72\165\137\x69\144", "\x6c\x61\x62\x65\154" => "\x47\165\x72\165", "\162\x75\154\145\163" => "\x74\x72\x69\x6d"), array("\146\151\145\154\144" => "\163\151\x73\167\141\137\151\144", "\154\141\142\145\x6c" => "\x53\151\163\x77\x61", "\162\165\154\145\163" => "\164\162\151\155")); goto dGKmP; ZvhYa: $id = $this->input->post("\151\x64\137\153\145\154\x61\x73", true); goto bROt_; FK5AV: $i = 0; goto POYOh; GyUOJ: if (!($id != null && $id != '')) { goto pZY3P; } goto HkCRp; hTPiJ: $idsiswa = isset($siswas[$i]) ? $siswas[$i] : null; goto GvsT0; OWINp: TT96s: goto MY24Z; XxoQG: dY8B7: goto Njk9o; qj_1w: if (!($idsiswa != null)) { goto R3iLt; } goto toTYO; GsKKF: $status = $this->db->insert("\x6d\141\x73\164\145\162\137\153\x65\154\x61\163", $insert); goto JrT_g; BqMO9: goto LKSS8; goto ZmvvJ; Zrjp5: $this->form_validation->set_rules($config); goto HfZBU; u3hZP: if (!($i <= count($siswas))) { goto AFL9Y; } goto hTPiJ; pPXWC: if (!$status) { goto UDCE3; } goto eOea3; XgrCe: } public function update_kelas($id) { goto KyfMB; noiXS: SBCCk: goto VFPVx; KyfMB: $id_tp = $this->master->getTahunActive()->id_tp; goto Pg09m; VFPVx: $i++; goto JFwn1; YhftK: $rowsSelect = count($this->input->post("\x73\151\163\x77\141", true)); goto N4B1J; LDD5U: if (!($id_siswa != null)) { goto vHdFZ; } goto lO1Is; cchwu: foreach ($siswakelas as $id_siswa => $sis) { goto k0b71; k0b71: $insert = ["\151\x64\x5f\153\x65\154\141\x73\137\163\x69\x73\x77\141" => $id_tp . $id_smt . $id_siswa, "\x69\144\137\x74\x70" => $id_tp, "\x69\x64\x5f\x73\x6d\164" => $id_smt, "\151\x64\x5f\153\145\154\x61\x73" => 0, "\151\x64\x5f\x73\151\x73\167\x61" => $id_siswa]; goto gbI1R; gbI1R: $this->db->replace("\x6b\x65\154\x61\163\137\163\x69\163\167\141", $insert); goto OF8Go; OF8Go: iQgcE: goto W2fST; W2fST: } goto ByBcn; Pg09m: $id_smt = $this->master->getSemesterActive()->id_smt; goto faz0N; MRGCk: auwY_: goto YhftK; t3xmf: $this->db->replace("\x6b\145\154\141\163\x5f\163\151\163\x77\141", $insert); goto EEx_b; S_Ulh: return $siswakelas; goto GkNPT; faz0N: $siswakelas = $this->kelas->get_status_siswa_kelas($id, $id_tp, $id_smt); goto DkoMA; YrAt9: $id_siswa = $this->input->post("\x73\x69\163\x77\141\x5b" . $i . "\135", true); goto LDD5U; DkoMA: if (!(count($siswakelas) > 0)) { goto auwY_; } goto cchwu; xx6nJ: yuiUK: goto S_Ulh; EEx_b: vHdFZ: goto noiXS; ByBcn: brvkd: goto MRGCk; lO1Is: $insert = ["\x69\x64\x5f\x6b\x65\154\141\163\x5f\163\151\163\x77\x61" => $id_tp . $id_smt . $id_siswa, "\151\x64\137\x74\x70" => $id_tp, "\x69\144\x5f\163\x6d\164" => $id_smt, "\x69\x64\x5f\x6b\x65\x6c\x61\x73" => $id, "\151\144\x5f\x73\x69\163\167\141" => $id_siswa]; goto t3xmf; JFwn1: goto CBE1e; goto xx6nJ; N4B1J: $i = 0; goto xSWPt; xSWPt: CBE1e: goto Okw2J; Okw2J: if (!($i <= $rowsSelect)) { goto yuiUK; } goto YrAt9; GkNPT: } public function manage() { goto OeP_F; XJVew: $data["\153\x65\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, "\61"); goto VfDPg; UEse5: $data = ["\x75\163\x65\x72" => $user, "\152\165\x64\165\x6c" => "\x43\x6f\x70\x79\40\x4b\x65\154\x61\x73", "\163\165\x62\x6a\165\144\x75\154" => "\x43\157\x70\171\x20\104\x61\164\x61\x20\x4b\x65\x6c\x61\163\40\153\145\x20\x53\115\x54\40\111\111", "\x73\x65\164\x74\151\x6e\147" => $this->dashboard->getSetting()]; goto fm9X6; Jdf_4: $this->load->view("\155\x61\163\164\145\x72\x2f\153\145\x6c\141\163\x2f\160\x65\x72\163\x65\155\145\163\164\x65\x72"); goto isznj; c9qMp: $data["\160\162\157\146\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto XJVew; PvZhn: $smt = $this->dashboard->getSemesterActive(); goto BrnR9; oqS9j: $data["\163\155\x74\137\x61\143\x74\151\166\x65"] = $smt; goto c9qMp; uz8Zi: $this->load->view("\137\x74\x65\x6d\x70\154\141\164\x65\x73\x2f\144\141\x73\x68\142\157\x61\x72\144\57\137\x68\145\x61\144\x65\162", $data); goto Jdf_4; VfDPg: $data["\153\x65\154\x61\163\62"] = $this->dropdown->getAllKelas($tp->id_tp, "\62"); goto uz8Zi; fm9X6: $tp = $this->dashboard->getTahunActive(); goto PvZhn; WvPUa: $data["\164\160\137\x61\x63\x74\151\x76\x65"] = $tp; goto mVhDq; BrnR9: $data["\x74\160"] = $this->dashboard->getTahun(); goto WvPUa; mVhDq: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto oqS9j; isznj: $this->load->view("\137\164\145\x6d\x70\x6c\141\x74\145\x73\57\x64\x61\163\x68\142\157\141\x72\144\57\137\146\157\x6f\164\145\162"); goto X9LsH; OeP_F: $user = $this->ion_auth->user()->row(); goto UEse5; X9LsH: } public function getFromSmt1($kelas) { goto RmZDV; ygD8H: $data2 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\62"); goto V1bdi; CVfvo: EOB6u: goto A7Bkj; Kh9ri: if (!(count($data2) > 0)) { goto EOB6u; } goto wGVKD; RmZDV: $tp = $this->dashboard->getTahunActive(); goto qQGoX; A7Bkj: $this->output_json(["\x73\x6d\164\61" => $data1, "\163\x6d\x74\62" => $ids]); goto cfsAT; tmytr: rOubh: goto CVfvo; wGVKD: foreach ($data2 as $s) { $ids[] = $s->id_siswa; apTNt: } goto tmytr; qQGoX: $data1 = $this->kelas->getKelasSiswa($kelas, $tp->id_tp, "\61"); goto ygD8H; V1bdi: $ids = []; goto Kh9ri; cfsAT: } public function copyFromSmt1() { goto V9xox; Dy5gJ: $kelas1 = $this->input->post("\x6b\145\x6c\141\163\137\154\141\155\141", true); goto Smbf_; kkTde: $data = array("\x6e\141\155\x61\x5f\x6b\x65\x6c\141\x73" => $kelas2, "\153\x6f\144\x65\x5f\x6b\x65\x6c\141\163" => $kelas->kode_kelas, "\152\x75\162\165\163\141\156\137\151\144" => $kelas->jurusan_id, "\151\x64\137\x74\160" => $tp->id_tp, "\x69\x64\137\163\x6d\164" => $smt->id_smt, "\x6c\x65\x76\145\x6c\137\151\144" => $kelas->level_id, "\x67\x75\162\165\137\151\x64" => $kelas->guru_id, "\x73\x69\x73\x77\141\137\x69\144" => $kelas->siswa_id, "\152\x75\155\154\x61\x68\x5f\163\x69\163\167\141" => $kelas->jumlah_siswa); goto p152v; rppP3: foreach ($arrSiswa as $value) { goto ZP6U0; c2nc6: $res[] = $this->db->replace("\x6b\x65\x6c\x61\x73\137\163\x69\163\167\141", $insert); goto xL3Bl; vTAIJ: if (!($id_siswa != null)) { goto UB9PU; } goto mn7xy; xL3Bl: UB9PU: goto goD_3; ZP6U0: $id_siswa = $value["\151\144"]; goto vTAIJ; mn7xy: $insert = ["\x69\144\x5f\153\x65\x6c\x61\163\137\163\151\163\167\141" => $tp->id_tp . $smt->id_smt . $id_siswa, "\x69\x64\137\164\x70" => $tp->id_tp, "\x69\144\137\163\x6d\164" => $smt->id_smt, "\151\x64\137\x6b\145\154\x61\163" => $idk, "\151\144\x5f\163\x69\163\x77\141" => $id_siswa]; goto c2nc6; goD_3: E7BHg: goto nZs8a; nZs8a: } goto v3Frq; q3Kw7: $res = []; goto fJl84; V9xox: $tp = $this->dashboard->getTahunActive(); goto DRjwD; Z3iqK: $kelas = $this->kelas->get_one($kelas1, $tp->id_tp, "\61"); goto kkTde; v3Frq: rGiXW: goto t2GtV; p152v: $this->db->insert("\155\141\x73\164\145\162\137\153\145\154\x61\163", $data); goto ntzGf; t2GtV: $this->output_json($res); goto bySgN; ntzGf: $idk = $this->db->insert_id(); goto q3Kw7; DRjwD: $smt = $this->dashboard->getSemesterActive(); goto Dy5gJ; Smbf_: $kelas2 = $this->input->post("\x6b\145\x6c\x61\163\x5f\x62\x61\162\x75", true); goto Z3iqK; fJl84: $arrSiswa = unserialize($kelas->jumlah_siswa); goto rppP3; bySgN: } public function copySiswaFromSmt1() { goto S8Nh_; JHUtQ: $siswakelas = []; goto pA_iT; pA_iT: foreach ($posts as $d) { goto P8ooM; P8ooM: $idkelases[] = $d->id_kelas; goto xryDo; xryDo: $siswakelas[$d->id_kelas][] = ["\151\x64" => $d->id_siswa]; goto W3sZI; W3sZI: II9O7: goto WePkS; WePkS: } goto DCuwT; tlAxV: vy8sz: goto HNEoB; S8Nh_: $tp = $this->dashboard->getTahunActive(); goto hKDQW; jNQVK: foreach ($idkelases as $ik) { goto bNbqF; b_wNm: $data = array("\156\x61\x6d\x61\137\x6b\x65\x6c\141\x73" => $kelas->nama_kelas, "\153\x6f\144\145\137\153\x65\154\x61\163" => $kelas->kode_kelas, "\152\165\x72\165\163\x61\156\137\x69\144" => $kelas->jurusan_id, "\151\144\x5f\x74\160" => $tp->id_tp, "\151\144\137\163\x6d\x74" => $smt->id_smt, "\154\x65\166\x65\154\137\x69\144" => $kelas->level_id, "\x67\165\162\x75\137\151\x64" => $kelas->guru_id, "\163\151\x73\167\x61\137\x69\144" => $kelas->siswa_id, "\152\x75\x6d\x6c\141\x68\137\x73\151\163\x77\x61" => $jumlah); goto ZL9uc; nLhY_: $kelas = $this->kelas->get_one($ik, $tp->id_tp, "\61"); goto Uxpje; Uxpje: $jumlah = serialize($siswakelas[$ik]); goto b_wNm; bNbqF: if (!($ik != '')) { goto lS6at; } goto nLhY_; ZL9uc: $this->db->insert("\155\141\x73\x74\x65\x72\137\153\145\x6c\x61\x73", $data); goto bQmyM; VI_yv: d9lm_: goto PER99; JjgCL: nHexJ: goto aUXEs; ZF8Om: foreach ($siswakelas[$ik] as $s) { goto ie76K; NjDhV: cWms8: goto PoK5A; DXOTz: $res[] = $this->db->replace("\153\145\x6c\x61\x73\137\x73\x69\x73\167\x61", $insert); goto NjDhV; ie76K: $insert = ["\x69\x64\x5f\x6b\145\x6c\141\x73\x5f\163\x69\x73\167\x61" => $tp->id_tp . $smt->id_smt . $s["\151\144"], "\151\x64\x5f\164\x70" => $tp->id_tp, "\151\x64\x5f\163\155\164" => $smt->id_smt, "\x69\144\137\x6b\145\x6c\141\163" => $idk, "\151\x64\137\163\151\163\167\141" => $s["\151\144"]]; goto DXOTz; PoK5A: } goto JjgCL; bQmyM: $idk = $this->db->insert_id(); goto ZF8Om; aUXEs: lS6at: goto VI_yv; PER99: } goto tlAxV; hKDQW: $smt = $this->dashboard->getSemesterActive(); goto XApuN; XApuN: $posts = json_decode($this->input->post("\153\x65\154\x61\x73", true)); goto tOT7_; Gxljn: $res = []; goto jNQVK; HNEoB: $this->output_json($res); goto KtDEK; pDfTR: $idkelases = array_unique($idkelases); goto Gxljn; tOT7_: $idkelases = []; goto JHUtQ; DCuwT: YMgP0: goto pDfTR; KtDEK: } public function kenaikan() { goto BYrO1; PhICd: $this->load->view("\x5f\x74\x65\x6d\160\154\x61\164\145\x73\x2f\x64\x61\163\150\142\x6f\141\162\x64\x2f\137\x66\x6f\x6f\164\145\162"); goto eW2Qh; wyUku: qVX3D: goto B1Nuv; XCPhZ: $data = ["\165\163\x65\x72" => $user, "\152\x75\x64\x75\154" => "\x4b\x65\x6e\x61\x69\x6b\153\x61\156\40\x4b\x65\x6c\x61\163", "\x73\x75\x62\152\x75\144\165\x6c" => "\116\x61\x69\x6b\40\113\145\x6c\x61\163\40\123\x69\x73\x77\141", "\x73\x65\x74\x74\151\x6e\x67" => $setting]; goto G40kD; UhEUr: $data["\153\145\154\x61\163\x5f\x6c\141\155\141"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\41\75" . $level); goto XuYHt; pxhXj: $data["\x74\160\137\x61\x63\164\151\x76\145"] = $tp; goto otysa; XuYHt: $data["\153\145\x6c\141\x73\x5f\x62\141\x72\x75"] = $this->dropdown->getAllKelas($tp->id_tp, "\x31"); goto V8Klj; BYrO1: $kelas = $this->input->get("\153\x65\154\x61\x73", true); goto b1aCQ; V8Klj: if (!($kelas != null)) { goto qVX3D; } goto iT7RC; HXm7m: $data["\x6b\x65\154\141\x73\137\x73\x65\x6c\x65\x63\x74\x65\x64"] = $kelas; goto GKetm; VPRqE: $setting = $this->dashboard->getSetting(); goto XCPhZ; GKetm: $lvlKls = $this->kelas->get_one($kelas, $tp->id_tp - 1, "\62"); goto mEL5H; y7l4o: $this->load->view("\155\141\163\164\145\x72\57\153\145\x6c\x61\163\x2f\156\141\x69\x6b\153\145\x6c\141\x73"); goto PhICd; B1Nuv: $this->load->view("\137\x74\145\x6d\160\154\141\x74\145\163\57\x64\141\163\x68\142\157\141\162\x64\57\x5f\x68\145\141\x64\145\162", $data); goto y7l4o; y9IZC: $smt = $this->dashboard->getSemesterActive(); goto oOudH; oOudH: $data["\x74\x70"] = $this->dashboard->getTahun(); goto pxhXj; ykZYF: $level = $setting->jenjang == "\x31" ? "\66" : ($setting->jenjang == "\62" ? "\x39" : ($setting->jenjang == "\61" ? "\63" : "\x31\62")); goto UhEUr; cCOk_: $data["\163\151\163\x77\x61\163"] = $this->rapor->getKenaikanSiswa($kelas, $tp->id_tp - 1, "\62"); goto HXm7m; mEL5H: $data["\x6b\145\x6c\141\163\x65\163"] = $this->dropdown->getAllKelas($tp->id_tp - 1, "\x32", "\x3d" . ($lvlKls->level_id + 1)); goto wyUku; otysa: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto TbKvI; b1aCQ: $user = $this->ion_auth->user()->row(); goto VPRqE; G40kD: $tp = $this->dashboard->getTahunActive(); goto y9IZC; buDbk: $data["\160\x72\157\146\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto ykZYF; iT7RC: $data["\163\151\163\167\141\137\153\145\x6c\x61\163\x5f\x62\x61\162\x75"] = $this->master->getSiswaKelasBaru($tp->id_tp, $smt->id_smt); goto cCOk_; TbKvI: $data["\x73\155\164\137\141\143\x74\151\166\145"] = $smt; goto buDbk; eW2Qh: } public function naikKelas() { goto D3GIV; LnF8P: $siswakelas = []; goto sX_8U; sX_8U: foreach ($posts as $d) { goto kBXxo; Hp00B: FQvLe: goto mgUZD; vP3NQ: $siswakelas[$d->kelas_baru][] = ["\x69\x64" => $d->id_siswa]; goto Hp00B; kBXxo: $idkelases[] = $d->kelas_baru; goto vP3NQ; mgUZD: } goto YgYlU; F_lFk: $idks = []; goto o4vwi; ELkrO: $this->output_json($data); goto e5KNs; YgYlU: fxQpK: goto W7T4q; ifwJW: $res = []; goto F_lFk; b8Ymo: $data["\162\x65\x73"] = $siswakelas; goto ELkrO; W7T4q: $idkelases = array_unique($idkelases); goto ifwJW; vp3Fm: $posts = json_decode($this->input->post("\x6b\145\x6c\x61\x73", true)); goto IQzBo; o4vwi: foreach ($idkelases as $ik) { goto eUWFT; maQh9: $data = array("\156\141\x6d\x61\137\x6b\145\x6c\141\163" => $kelas->nama_kelas, "\x6b\157\x64\x65\137\x6b\x65\x6c\141\x73" => $kelas->kode_kelas, "\x6a\x75\x72\x75\163\x61\156\x5f\151\x64" => $kelas->jurusan_id, "\x69\x64\137\x74\160" => $tp->id_tp, "\151\x64\137\x73\x6d\164" => $smt->id_smt, "\x6c\145\166\145\x6c\x5f\151\x64" => $kelas->level_id, "\x67\165\162\165\x5f\151\x64" => $kelas->guru_id, "\x73\151\x73\167\141\137\x69\144" => $kelas->siswa_id, "\x6a\165\x6d\154\x61\x68\x5f\x73\x69\163\x77\141" => $jumlah); goto stNJD; e_qD9: array_push($idks, $this->db->insert_id()); goto KBKFy; hkSRl: goto sv4Mn; goto NN7nz; jYPQR: goto dBU0W; goto IFzjQ; cgUgO: $data = array("\x6e\x61\x6d\x61\137\153\145\x6c\141\x73" => $kelas->nama_kelas, "\x6b\x6f\144\x65\x5f\x6b\145\x6c\141\163" => $kelas->kode_kelas, "\152\165\162\165\x73\x61\x6e\x5f\151\x64" => $kelas->jurusan_id, "\x69\144\x5f\x74\160" => $tp->id_tp, "\151\144\137\x73\x6d\164" => $smt->id_smt, "\x6c\145\x76\145\154\137\x69\144" => $kelas->level_id, "\x67\x75\162\165\137\151\x64" => $kelas->guru_id, "\163\151\163\167\141\x5f\x69\144" => $kelas->siswa_id, "\152\x75\x6d\154\x61\150\137\163\151\163\x77\x61" => $jumlah); goto CvCQ6; eUWFT: $kelas = $this->kelas->get_one($ik, $tp->id_tp - 1, "\62"); goto Z6uEX; NN7nz: Se2JY: goto VFAzS; IFzjQ: DWgw8: goto b9ITb; KBKFy: sv4Mn: goto Dxujk; ICt3w: Ka_NV: goto JTggY; VFAzS: $jumlah = serialize($siswakelas[$ik]); goto cgUgO; stNJD: $this->db->where("\x69\x64\137\x6b\x65\154\x61\x73", $kelas_baru->id_kelas); goto y1AVs; CvCQ6: $this->db->insert("\x6d\x61\x73\x74\145\162\137\x6b\x65\x6c\141\163", $data); goto e_qD9; jxMEB: A9L8S: goto eewEq; hMTLC: dBU0W: goto maQh9; JTggY: $jumlah = serialize($jmlLama); goto hMTLC; yV217: if ($kelas_baru == null) { goto Se2JY; } goto ac1EY; I0Ywm: array_push($idks, $kelas_baru->id_kelas); goto jYPQR; l9On9: foreach ($siswakelas[$ik] as $s) { goto FGiTX; iYGvc: SewA5: goto fpbdt; FGiTX: foreach ($jmlLama as $lama) { goto kMJuR; rAR8Q: fEJlP: goto jvE0n; zlQSA: array_push($jmlLama, ["\x69\x64" => $s["\x69\144"]]); goto mseVa; jvE0n: quZne: goto zwR7i; kMJuR: if (!($lama["\151\144"] != $s["\151\144"])) { goto fEJlP; } goto zlQSA; mseVa: array_push($idks, $kelas_baru->id_kelas); goto rAR8Q; zwR7i: } goto l0uxm; l0uxm: s13us: goto iYGvc; fpbdt: } goto ICt3w; Dxujk: foreach ($idks as $idk) { goto JEFnB; kY5Py: hDftS: goto LJKNt; yZdex: enNT0: goto kY5Py; JEFnB: foreach ($siswakelas[$ik] as $s) { goto OAemy; Ydmap: $res[] = $this->db->replace("\153\x65\x6c\x61\x73\137\x73\151\163\x77\141", $insert); goto amB0A; OAemy: $insert = ["\x69\144\137\153\x65\154\x61\163\x5f\x73\151\x73\167\x61" => $tp->id_tp . $smt->id_smt . $s["\x69\144"], "\151\x64\x5f\x74\x70" => $tp->id_tp, "\151\x64\137\163\155\x74" => $smt->id_smt, "\151\144\137\153\145\154\x61\x73" => $idk, "\x69\144\137\163\151\163\x77\141" => $s["\x69\144"]]; goto Ydmap; amB0A: DaURf: goto L5wzq; L5wzq: } goto yZdex; LJKNt: } goto jxMEB; IsRaR: $jumlah = serialize($siswakelas[$ik]); goto I0Ywm; eewEq: E4sf2: goto ETfpl; y1AVs: $this->db->update("\155\x61\x73\164\145\x72\x5f\x6b\145\x6c\141\163", $data); goto hkSRl; b9ITb: $jmlLama = unserialize($kelas_baru->jumlah_siswa); goto l9On9; Z6uEX: $kelas_baru = $this->kelas->getKelasByNama($kelas->nama_kelas, $tp->id_tp, $smt->id_smt); goto yV217; ac1EY: if ($mode == "\160\x65\x72\x73\x69\x73\167\141") { goto DWgw8; } goto IsRaR; ETfpl: } goto SwENT; D3GIV: $tp = $this->dashboard->getTahunActive(); goto XBc_n; SwENT: txhLh: goto b8Ymo; IQzBo: $mode = $this->input->post("\155\x6f\x64\x65", true); goto kUxoq; XBc_n: $smt = $this->dashboard->getSemesterActive(); goto vp3Fm; kUxoq: $idkelases = []; goto LnF8P; e5KNs: } public function hapus($id_kelas) { goto LmbqX; WbgaE: $this->output_json($delete); goto hUhU3; LmbqX: $delete["\163\151\x73\167\141"] = $this->master->delete("\153\x65\x6c\x61\x73\137\x73\x69\x73\x77\141", $id_kelas, "\x69\144\x5f\153\145\x6c\x61\x73"); goto l5iea; l5iea: $delete["\x6b\x65\x6c\x61\163"] = $this->master->delete("\x6d\141\x73\164\x65\162\x5f\x6b\x65\x6c\x61\x73", $id_kelas, "\x69\144\137\x6b\145\x6c\x61\x73"); goto WbgaE; hUhU3: } }
