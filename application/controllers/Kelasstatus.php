<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasstatus extends CI_Controller { public function __construct() { goto HepA9; HepA9: parent::__construct(); goto sLRlj; tupkW: $this->load->model("\104\x61\163\x68\x62\x6f\141\x72\144\137\x6d\x6f\x64\x65\154", "\144\141\x73\x68\x62\157\141\x72\144"); goto DeKOv; QqSk2: $this->load->model("\x4d\x61\x73\164\145\x72\x5f\155\x6f\x64\145\x6c", "\x6d\141\163\164\x65\x72"); goto tupkW; LaFJp: FA7yj: goto f1M1K; N71CG: hC8xu: goto o9eyS; sLRlj: if (!$this->ion_auth->logged_in()) { goto FA7yj; } goto g6xW4; K3sqg: eXfge: goto Xl8he; o9eyS: goto eXfge; goto LaFJp; g6xW4: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\x67\165\x72\165"))) { goto hC8xu; } goto yCLPg; Xl8he: $this->load->library(["\144\x61\x74\141\164\141\x62\x6c\145\163", "\x66\x6f\x72\155\137\166\141\154\151\144\x61\x74\151\157\x6e"]); goto QqSk2; bfVWD: $this->form_validation->set_error_delimiters('', ''); goto QnbM3; DeKOv: $this->load->model("\x44\x72\x6f\x70\144\157\167\x6e\x5f\x6d\x6f\144\x65\154", "\x64\162\x6f\x70\x64\x6f\167\x6e"); goto BvjMv; f1M1K: redirect("\x61\165\164\150"); goto K3sqg; yCLPg: show_error("\x48\141\156\171\141\x20\x41\x64\155\151\156\151\163\164\x72\141\164\157\162\x20\171\x61\x6e\147\40\144\151\x62\145\162\x69\x20\150\x61\x6b\40\165\x6e\x74\x75\153\40\155\145\x6e\x67\141\x6b\163\x65\163\40\x68\141\154\141\155\x61\x6e\x20\151\x6e\x69\x2c\x20\74\141\x20\x68\x72\145\x66\x3d\x22" . base_url("\144\x61\163\x68\x62\x6f\141\162\x64") . "\42\x3e\113\145\x6d\x62\x61\x6c\x69\40\153\145\x20\x6d\145\156\x75\40\x61\x77\x61\154\x3c\57\x61\76", 403, "\101\153\163\x65\163\x20\x54\145\162\x6c\x61\x72\141\x6e\x67"); goto N71CG; BvjMv: $this->load->model("\113\145\x6c\141\163\137\x6d\157\144\145\154", "\x6b\145\x6c\x61\163"); goto bfVWD; QnbM3: } public function output_json($data, $encode = true) { goto PyaVL; svTzN: $this->output->set_content_type("\x61\x70\160\x6c\x69\143\x61\x74\151\x6f\x6e\57\x6a\x73\157\156")->set_output($data); goto JwQbY; t5QkV: SdZcS: goto svTzN; hC0JN: $data = json_encode($data); goto t5QkV; PyaVL: if (!$encode) { goto SdZcS; } goto hC0JN; JwQbY: } public function index() { goto yuO_B; Oqe4J: $this->load->view("\x6b\x65\154\141\x73\57\163\x74\141\x74\165\x73\57\144\x61\x74\141"); goto Qwj3m; IUNem: $nguru[$guru->id_guru] = $guru->nama_guru; goto KznVE; STI0d: $data["\x67\165\x72\165\x73"] = $nguru; goto EKNE5; bUP1I: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto Me1GP; x8SZH: goto zhd3w; goto awoqj; v432t: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto WEi6W; Okxgx: $tp = $this->dashboard->getTahunActive(); goto Qyw5N; dUhLU: $arrKelas = []; goto MKgEV; gI7SR: $guru = $this->dropdown->getAllGuru(); goto dW6X4; Ny5OV: $this->load->view("\x5f\x74\x65\155\160\x6c\x61\x74\x65\163\x2f\144\141\x73\x68\142\x6f\141\x72\144\57\137\x66\157\157\164\145\162"); goto YU1K7; dfrse: $data["\160\162\x6f\146\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto gI7SR; D7sMD: if (!($mapel != null)) { goto GKafo; } goto gduVm; SL_rF: $this->load->view("\x6b\145\154\x61\x73\57\x73\x74\x61\164\x75\163\x2f\x64\141\164\141"); goto Ny5OV; WEi6W: $data["\163\155\164\137\x61\x63\164\x69\166\x65"] = $smt; goto OdW1z; yuO_B: $user = $this->ion_auth->user()->row(); goto svh0z; N5BIi: $data["\164\x70\137\141\143\164\151\166\x65"] = $tp; goto v432t; G2pl_: $this->load->view("\137\x74\x65\155\x70\154\141\x74\145\163\x2f\x64\141\163\150\142\x6f\141\162\x64\57\137\x68\145\x61\x64\145\x72", $data); goto SL_rF; Me1GP: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto xKk7i; YY85Y: z1H43: goto mFeUn; DATBB: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto IUNem; awoqj: PNAbc: goto dfrse; Qwj3m: $this->load->view("\155\x65\x6d\142\x65\162\x73\57\147\x75\162\165\x2f\164\x65\x6d\160\154\x61\164\145\163\x2f\146\x6f\x6f\164\x65\x72"); goto x8SZH; t2zO9: $data["\x6d\141\x70\145\x6c\x73"] = $arrMapel; goto IUial; OdW1z: if ($this->ion_auth->is_admin()) { goto PNAbc; } goto DATBB; dW6X4: $data["\147\x75\162\x75\163"] = $guru; goto y6ZRE; ja4an: EtSGc: goto fekn2; ZWnqJ: $this->load->view("\155\x65\x6d\x62\145\x72\x73\x2f\x67\x75\162\x75\57\164\145\155\x70\154\141\x74\x65\163\x2f\150\145\x61\x64\x65\x72", $data); goto Oqe4J; hlSia: $data["\x74\160"] = $this->dashboard->getTahun(); goto N5BIi; KznVE: $data["\147\x75\162\165"] = $guru; goto STI0d; gduVm: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); axqxS: } goto ja4an; EKNE5: $data["\151\144\137\x67\165\x72\x75"] = $guru->id_guru; goto bUP1I; fekn2: GKafo: goto t2zO9; Fd4FO: foreach ($mapel as $m) { goto KLXSc; KLXSc: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto BVisJ; O5c1v: R7a_H: goto UdPPR; BVisJ: foreach ($m->kelas_mapel as $kls) { $arrKelas[$kls->kelas] = $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas); bF7ej: } goto VwR1m; VwR1m: XY15q: goto O5c1v; UdPPR: } goto YY85Y; Qyw5N: $smt = $this->dashboard->getSemesterActive(); goto hlSia; YU1K7: zhd3w: goto e9mlS; SXox3: $data["\155\x61\x70\x65\154\x73"] = $this->dropdown->getAllMapel(); goto G2pl_; MKgEV: if (!($mapel != null)) { goto qaRvj; } goto Fd4FO; mFeUn: qaRvj: goto tSbpe; y6ZRE: $data["\x6b\145\x6c\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto SXox3; xKk7i: $arrMapel = []; goto dUhLU; IUial: $data["\x6b\145\154\x61\x73"] = $arrKelas; goto ZWnqJ; tSbpe: $arrId = []; goto D7sMD; svh0z: $data = ["\165\x73\145\x72" => $user, "\152\165\144\165\154" => "\110\141\x73\x69\x6c\40\123\151\x73\x77\x61", "\163\165\x62\x6a\x75\x64\165\154" => "\104\x61\164\141\40\x48\x61\163\x69\154\40\x53\x69\163\x77\141", "\163\145\x74\x74\151\156\x67" => $this->dashboard->getSetting()]; goto Okxgx; e9mlS: } public function getMateriGuru() { goto PrNMS; PrNMS: $id_guru = $this->input->get("\x69\144", true); goto w8v6X; FGXOX: $arrKelasMateri = []; goto Sd7jl; w8v6X: $tp = $this->dashboard->getTahunActive(); goto HtxB9; xz7iH: wE7ik: goto k5CDI; BjHB1: $materi = $this->kelas->getAllKodeMateri($tp->id_tp, $smt->id_smt, $id_guru); goto FGXOX; Sd7jl: $arrKelasTugas = []; goto sl2s2; k5CDI: $this->output_json(array("\155\141\164\145\162\x69" => $arrKelasMateri, "\164\165\147\141\163" => $arrKelasTugas)); goto Zctlh; sl2s2: foreach ($materi as $m) { goto U3AEb; o5SSS: xHBoB: goto Skd9N; jUQ5G: iUtgv: goto o5SSS; SMdL2: goto iUtgv; goto NQQMf; HCwh4: if ($m->jenis == "\x31") { goto XLGSf; } goto KE5bT; NQQMf: XLGSf: goto mP3Zb; mP3Zb: $arrKelasMateri[] = ["\151\x64\137\x6d\x61\164\x65\x72\x69" => $m->id_materi, "\151\144\x5f\x6b\152\x6d" => $m->id_kjm, "\x6a\x61\144\x77\141\x6c" => $m->jadwal_materi, "\x6b\157\144\145" => $m->kode_materi, "\155\x61\x70\145\x6c" => $kode_mapel, "\x6b\145\154\141\163" => unserialize($m->materi_kelas)]; goto jUQ5G; KE5bT: $arrKelasTugas[] = ["\151\144\137\155\x61\x74\145\162\x69" => $m->id_materi, "\151\x64\137\x6b\x6a\x6d" => $m->id_kjm, "\152\x61\x64\167\141\x6c" => $m->jadwal_materi, "\153\157\x64\x65" => $m->kode_materi, "\x6d\x61\x70\145\x6c" => $kode_mapel, "\x6b\145\x6c\x61\163" => unserialize($m->materi_kelas)]; goto SMdL2; U3AEb: $kode_mapel = $m->kode_mapel == null ? "\55\x2d" : $m->kode_mapel; goto HCwh4; Skd9N: } goto xz7iH; HtxB9: $smt = $this->dashboard->getSemesterActive(); goto BjHB1; Zctlh: } public function getMateriMapel() { goto dj8WT; gslqa: foreach ($materi as $m) { goto BLDEf; cWYE2: yeynK: goto zQLV9; lcgnj: v9j_S: goto xSgAZ; l48Lv: g22ef: goto cWYE2; eKFlJ: array_push($arrKelasTugas[$m->id_kelas], $arrTugas); goto K077z; z5zef: $arrKelas[$m->jenis] = []; goto VXVEG; K077z: goto nX1PN; goto tVjqu; VXVEG: array_push($arrKelas[$m->jenis], $m->id_kelas); goto ni1zg; yOue1: iC_RO: goto Hr3Pa; FQVZT: if (in_array($m->id_kelas, $arrKelas[$m->jenis])) { goto WvNMD; } goto fiyCJ; BLDEf: $kode_mapel = $m->kode_mapel == null ? "\55\x2d" : $m->kode_mapel; goto k3PIp; Hr3Pa: $arrMateri = ["\x69\x64\137\155\141\164\x65\162\x69" => $m->id_materi, "\x69\144\x5f\x6b\152\155" => $m->id_kjm, "\x6a\x61\144\167\141\154" => $m->jadwal_materi, "\x6b\157\x64\145" => $m->kode_materi, "\155\141\160\145\154" => $kode_mapel, "\x67\165\162\x75" => $m->nama_guru]; goto fp38l; fp38l: if (isset($arrKelasMateri[$m->id_kelas])) { goto v9j_S; } goto kYIc0; hoV2w: goto VR5or; goto lcgnj; fiyCJ: array_push($arrKelas[$m->jenis], $m->id_kelas); goto QNMG6; QF3Jj: goto AhMzS; goto yOue1; xSgAZ: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto myhjO; rgF2e: array_push($arrKelasMateri[$m->id_kelas], $arrTugas); goto GPKvi; lAKWF: w7JZY: goto FQVZT; QNMG6: WvNMD: goto l48Lv; ni1zg: goto g22ef; goto lAKWF; k3PIp: if ($m->jenis == "\x31") { goto iC_RO; } goto nCqWw; tVjqu: U_KIn: goto rgF2e; kYIc0: $arrKelasMateri[$m->id_kelas] = []; goto uqwrQ; uqwrQ: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto hoV2w; ee5St: if (isset($arrKelasTugas[$m->id_kelas])) { goto U_KIn; } goto t1O4r; nCqWw: $arrTugas = ["\x69\144\x5f\155\x61\164\145\162\x69" => $m->id_materi, "\x69\144\137\153\x6a\x6d" => $m->id_kjm, "\x6a\141\x64\167\x61\x6c" => $m->jadwal_materi, "\153\157\x64\x65" => $m->kode_materi, "\155\x61\x70\x65\x6c" => $kode_mapel, "\147\165\162\165" => $m->nama_guru]; goto ee5St; myhjO: VR5or: goto EHAzZ; t1O4r: $arrKelasTugas[$m->id_kelas] = []; goto eKFlJ; GPKvi: nX1PN: goto QF3Jj; sX0af: if (isset($arrKelas[$m->jenis])) { goto w7JZY; } goto z5zef; EHAzZ: AhMzS: goto sX0af; zQLV9: } goto PrZLU; XVyio: $smt = $this->dashboard->getSemesterActive(); goto JA_66; EXRiU: $arrKelasMateri = []; goto z3zpS; dj8WT: $id_mapel = $this->input->get("\x69\144", true); goto BMzz1; JA_66: $materi = $this->kelas->getKodeMateriMapel($tp->id_tp, $smt->id_smt, $id_mapel); goto EXRiU; OfNZr: $arrKelas = []; goto gslqa; BMzz1: $tp = $this->dashboard->getTahunActive(); goto XVyio; z3zpS: $arrKelasTugas = []; goto OfNZr; PrZLU: AP6n0: goto oRoV3; oRoV3: $this->output_json(array("\x6d\x61\164\145\162\x69" => $arrKelasMateri, "\x74\165\147\141\163" => $arrKelasTugas, "\153\x65\154\141\163" => $arrKelas)); goto IYyVN; IYyVN: } public function loadStatus() { goto tjugp; mVKyl: $id_tp = $this->master->getTahunActive()->id_tp; goto RJart; hxaza: $id_kelas = $this->input->post("\x69\144\x5f\x6b\145\154\141\x73", true); goto FtkPE; RJart: $id_smt = $this->master->getSemesterActive()->id_smt; goto cKhkO; nOSbJ: $logs = $this->kelas->getStatusMateriSiswa($id_kjm); goto NFrms; tjugp: $label = $this->input->post("\x6c\x61\x62\145\x6c", true); goto hxaza; HY5UT: $info->istirahat = unserialize($info->istirahat); goto c2r_n; FtkPE: $id_kjm = $this->input->post("\151\x64\137\x6b\x6a\x6d", true); goto mVKyl; cKhkO: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto nOSbJ; pxUgH: $info = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto nF7I2; ipmXy: foreach ($siswa as $s) { goto h1V6g; h1V6g: $mulai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->log_time : null; goto IITxH; xYD32: o74EQ: goto iRMMj; zILbL: $log[$s->id_siswa] = ["\x6e\141\155\141" => $s->nama, "\x6e\151\163" => $s->nis, "\x6b\x65\x6c\141\163" => $s->nama_kelas, "\154\157\x67\x69\156" => $this->kelas->getLoginSiswa($s->username), "\155\x75\x6c\141\151" => $mulai, "\163\x65\x6c\x65\x73\141\151" => $selesai, "\x74\145\x78\x74" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->text : '', "\156\x69\x6c\141\151" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->nilai : '', "\143\x61\164\141\164\x61\x6e" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->catatan : '', "\x6a\141\155\137\x6b\145" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jam_ke : null, "\x6a\141\x64\167\x61\154\x5f\x6d\x61\164\145\x72\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jadwal_materi : null, "\x66\151\x6c\x65" => isset($logs[$s->id_siswa]) && $logs[$s->id_siswa]->file != null ? unserialize($logs[$s->id_siswa]->file) : []]; goto xYD32; IITxH: $selesai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->finish_time : null; goto zILbL; iRMMj: } goto FAkjE; FAkjE: rmaGO: goto pxUgH; VlRCt: $this->output_json(["\154\157\147" => $log, "\x6a\x61\144\x77\x61\154" => $info]); goto B0Vby; NFrms: $log = []; goto ipmXy; nF7I2: if (!($info != null)) { goto snXyV; } goto HY5UT; c2r_n: snXyV: goto VlRCt; B0Vby: } public function saveNilai() { goto abqXj; iN29L: $this->db->set("\151\x64\137\154\157\x67", $id_log); goto TToTW; rX60b: M7p1D: goto gDlw8; oCYt1: if ($q->num_rows() > 0) { goto M7p1D; } goto iN29L; gDlw8: $this->db->where("\x69\x64\x5f\154\157\x67", $id_log); goto gjZiR; Jhyu2: $catatan = $this->input->post("\x63\x61\164\x61\164\x61\x6e", true); goto kioCK; BUWRa: $this->db->where("\x69\x64\137\x6c\157\147", $id_log); goto YG5ur; TX0my: $nilai = $this->input->post("\x6e\151\154\x61\151", true); goto Jhyu2; kioCK: $insert = ["\x6e\151\x6c\x61\x69" => $nilai, "\x63\x61\x74\x61\x74\x61\x6e" => $catatan]; goto BUWRa; YG5ur: $q = $this->db->get("\154\x6f\147\137\155\x61\164\145\162\151"); goto oCYt1; mdgKJ: goto gB45Z; goto rX60b; lGKbe: $this->output_json($update); goto rfIUV; WOkq_: $id_log = $this->input->post("\151\144\x5f\154\157\147", true); goto TX0my; TToTW: $update = $this->db->insert("\x6c\x6f\147\137\155\141\x74\145\x72\151", $insert); goto mdgKJ; wuQzR: $label = $this->input->post("\x6c\x61\142\145\x6c", true); goto WOkq_; gjZiR: $update = $this->db->update("\x6c\x6f\x67\x5f\x6d\141\x74\145\162\x69", $insert); goto KHOrS; abqXj: $method = $this->input->post("\x6d\x65\x74\150\157\144", true); goto wuQzR; KHOrS: gB45Z: goto lGKbe; rfIUV: } }
