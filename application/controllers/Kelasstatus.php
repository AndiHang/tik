<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasstatus extends CI_Controller { public function __construct() { goto H3LM7; G9XlO: y4zHf: goto p9WLW; H3LM7: parent::__construct(); goto H6TVl; p9WLW: $this->load->library(["\144\141\164\141\x74\141\142\x6c\x65\163", "\146\x6f\162\x6d\x5f\166\141\x6c\151\x64\x61\164\x69\157\156"]); goto PzrFz; pDUZO: $this->load->model("\x44\141\x73\150\142\x6f\141\162\x64\x5f\x6d\x6f\144\x65\x6c", "\x64\x61\x73\x68\x62\x6f\141\162\144"); goto RmE1Y; rE0PJ: qDKBo: goto sYTj9; sYTj9: goto y4zHf; goto VIhpw; H6TVl: if (!$this->ion_auth->logged_in()) { goto iWHQt; } goto jbmR1; PkQ8k: $this->form_validation->set_error_delimiters('', ''); goto LnTfO; RmE1Y: $this->load->model("\x44\162\x6f\x70\x64\157\167\x6e\137\155\157\x64\x65\x6c", "\x64\x72\x6f\x70\x64\157\167\x6e"); goto I4jB4; I4jB4: $this->load->model("\x4b\145\x6c\x61\x73\137\155\x6f\144\x65\x6c", "\x6b\145\154\x61\163"); goto PkQ8k; PzrFz: $this->load->model("\115\x61\x73\x74\x65\x72\137\155\157\x64\x65\x6c", "\155\x61\x73\164\145\162"); goto pDUZO; VIhpw: iWHQt: goto MtgDk; jbmR1: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\x75\162\165"))) { goto qDKBo; } goto qDRHR; qDRHR: show_error("\110\x61\156\x79\141\x20\101\x64\155\x69\156\x69\163\164\162\141\164\157\162\x20\x79\141\156\x67\40\144\151\142\x65\x72\151\x20\x68\x61\153\40\165\156\164\x75\153\40\x6d\x65\156\147\141\153\163\x65\x73\40\x68\x61\154\141\x6d\141\x6e\x20\151\156\x69\x2c\x20\x3c\141\x20\x68\x72\x65\x66\75\x22" . base_url("\x64\141\163\x68\x62\157\x61\162\144") . "\x22\x3e\x4b\145\155\x62\x61\154\151\x20\x6b\x65\40\x6d\145\156\165\40\141\167\141\x6c\x3c\57\x61\x3e", 403, "\101\153\x73\x65\163\x20\x54\x65\162\x6c\x61\x72\x61\x6e\x67"); goto rE0PJ; MtgDk: redirect("\141\x75\x74\150"); goto G9XlO; LnTfO: } public function output_json($data, $encode = true) { goto GX2OO; GX2OO: if (!$encode) { goto XzjG_; } goto Fm32e; fP6Cd: XzjG_: goto DyDcP; DyDcP: $this->output->set_content_type("\x61\160\160\154\151\143\141\x74\151\157\156\57\x6a\163\x6f\x6e")->set_output($data); goto nKIk4; Fm32e: $data = json_encode($data); goto fP6Cd; nKIk4: } public function index() { goto shGSm; cGuKJ: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto ZfNsB; px_LM: $data["\147\x75\x72\x75\163"] = $guru; goto o6blM; anC2X: $this->load->view("\137\164\145\x6d\160\154\x61\164\145\163\57\144\141\x73\150\x62\157\x61\x72\144\x2f\137\x66\157\157\164\x65\x72"); goto WGocr; dX9tS: $arrMapel = []; goto pyoMa; k6fRp: $guru = $this->dropdown->getAllGuru(); goto px_LM; ZgW1g: if ($this->ion_auth->is_admin()) { goto WeU3n; } goto VUBKK; HuwY7: goto jISsN; goto ybBO1; u417v: $data["\x67\x75\162\x75"] = $guru; goto uBteO; uBteO: $data["\x67\165\162\x75\163"] = $nguru; goto K9ZTf; mlHsu: $data["\x6d\141\x70\x65\x6c\x73"] = $this->dropdown->getAllMapel(); goto y6XNl; D1ks9: foreach ($mapel as $m) { goto K2jAr; Ybtn_: Kq93z: goto u0nKE; u0nKE: ZJ1mZ: goto sdpWx; K2jAr: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto c3P3n; c3P3n: foreach ($m->kelas_mapel as $kls) { $arrKelas[$kls->kelas] = $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas); AqLl4: } goto Ybtn_; sdpWx: } goto gO8wk; ZfNsB: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto dX9tS; boYQZ: $this->load->view("\x6d\145\155\x62\x65\162\163\57\x67\x75\162\x75\x2f\164\145\155\160\154\141\x74\x65\163\x2f\x66\x6f\x6f\x74\145\162"); goto HuwY7; s90Bg: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); kVpx4: } goto pXLbE; VUBKK: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto cABy4; Xvr5d: if (!($mapel != null)) { goto feHyT; } goto D1ks9; FxizD: $data["\x73\x6d\164\137\x61\x63\x74\151\x76\145"] = $smt; goto ZgW1g; TtjtU: $data["\160\x72\x6f\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto k6fRp; DO9Rz: $data = ["\x75\x73\145\162" => $user, "\x6a\165\x64\165\x6c" => "\116\151\x6c\141\151\40\x48\x61\162\x69\141\x6e\x20\x53\x69\163\167\x61", "\x73\x75\142\x6a\165\x64\x75\154" => "\x4e\151\154\141\151", "\163\x65\164\x74\151\156\147" => $this->dashboard->getSetting()]; goto XdGXD; UrNbw: feHyT: goto HEEUl; dsHP6: kWqCJ: goto puD5d; EN21a: $smt = $this->dashboard->getSemesterActive(); goto TnRDy; KUgTo: if (!($mapel != null)) { goto kWqCJ; } goto s90Bg; gO8wk: tJdLe: goto UrNbw; gAG6q: $this->load->view("\x6d\x65\x6d\142\145\162\163\x2f\x67\x75\x72\165\57\164\x65\155\x70\x6c\141\164\145\x73\x2f\150\x65\141\144\145\162", $data); goto gMCY7; o6blM: $data["\153\x65\x6c\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto mlHsu; cOkK9: $data["\164\x70\137\141\143\x74\x69\166\145"] = $tp; goto LS9ge; WGocr: jISsN: goto zH2nP; HEEUl: $arrId = []; goto KUgTo; ybBO1: WeU3n: goto TtjtU; pyoMa: $arrKelas = []; goto Xvr5d; cABy4: $nguru[$guru->id_guru] = $guru->nama_guru; goto u417v; SLx3G: $data["\x6b\x65\x6c\141\x73"] = $arrKelas; goto gAG6q; shGSm: $user = $this->ion_auth->user()->row(); goto DO9Rz; y6XNl: $this->load->view("\137\x74\145\x6d\x70\x6c\x61\x74\x65\x73\x2f\x64\x61\163\x68\142\157\141\162\144\57\137\x68\x65\x61\144\145\x72", $data); goto TQoHJ; LS9ge: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto FxizD; puD5d: $data["\x6d\x61\160\x65\154\163"] = $arrMapel; goto SLx3G; pXLbE: aSG1Y: goto dsHP6; TQoHJ: $this->load->view("\x6b\145\154\141\163\x2f\x73\164\x61\164\x75\163\x2f\x64\x61\x74\141"); goto anC2X; gMCY7: $this->load->view("\x6b\145\154\x61\163\x2f\163\164\141\164\x75\163\x2f\144\x61\x74\141"); goto boYQZ; K9ZTf: $data["\x69\144\137\147\165\x72\165"] = $guru->id_guru; goto cGuKJ; TnRDy: $data["\164\x70"] = $this->dashboard->getTahun(); goto cOkK9; XdGXD: $tp = $this->dashboard->getTahunActive(); goto EN21a; zH2nP: } public function getMateriGuru() { goto aX_HA; bhk37: $arrKelasMateri = []; goto GmR8U; GmR8U: $arrKelasTugas = []; goto PI8ex; ziMwU: $materi = $this->kelas->getAllKodeMateri($tp->id_tp, $smt->id_smt, $id_guru); goto bhk37; UGtt8: Hp2m6: goto aT7Gv; ghrRy: $tp = $this->dashboard->getTahunActive(); goto wJP_r; wJP_r: $smt = $this->dashboard->getSemesterActive(); goto ziMwU; PI8ex: foreach ($materi as $m) { goto MlINL; hrds5: rny6y: goto CsG4P; ntIDn: $arrKelasTugas[] = ["\151\144\137\155\x61\x74\145\x72\151" => $m->id_materi, "\x69\144\137\x6b\152\x6d" => $m->id_kjm, "\x6a\x61\x64\167\x61\x6c" => $m->jadwal_materi, "\x6b\157\144\x65" => $m->kode_materi, "\x6d\x61\x70\x65\x6c" => $kode_mapel, "\153\x65\x6c\141\163" => unserialize($m->materi_kelas)]; goto blcuL; blcuL: goto cxa33; goto EFgze; EFgze: fhSiR: goto CMUdv; MlINL: $kode_mapel = $m->kode_mapel == null ? "\x2d\x2d" : $m->kode_mapel; goto zPOZe; CMUdv: $arrKelasMateri[] = ["\x69\144\x5f\x6d\141\x74\x65\x72\x69" => $m->id_materi, "\151\x64\137\x6b\x6a\x6d" => $m->id_kjm, "\x6a\141\144\167\x61\154" => $m->jadwal_materi, "\x6b\x6f\144\x65" => $m->kode_materi, "\x6d\x61\x70\145\154" => $kode_mapel, "\153\145\154\x61\x73" => unserialize($m->materi_kelas)]; goto bvrk1; zPOZe: if ($m->jenis == "\x31") { goto fhSiR; } goto ntIDn; bvrk1: cxa33: goto hrds5; CsG4P: } goto UGtt8; aX_HA: $id_guru = $this->input->get("\x69\x64", true); goto ghrRy; aT7Gv: $this->output_json(array("\155\141\164\x65\162\x69" => $arrKelasMateri, "\x74\x75\147\x61\163" => $arrKelasTugas)); goto Dskk9; Dskk9: } public function getMateriMapel() { goto cXCRU; K77Qa: $tp = $this->dashboard->getTahunActive(); goto s8EPZ; yJN6L: $arrKelasMateri = []; goto iPFj7; s8EPZ: $smt = $this->dashboard->getSemesterActive(); goto abUwE; d3U95: foreach ($materi as $m) { goto WTKlb; nYmba: FUSpo: goto dNyCR; HectB: array_push($arrKelasMateri[$m->id_kelas], $arrTugas); goto bNdHM; Ac1aa: if (isset($arrKelasMateri[$m->id_kelas])) { goto nST2i; } goto HBsYO; v9Dt1: KMK2c: goto GsFko; zyyUT: if ($m->jenis == "\x31") { goto hmdz_; } goto ePrxp; d9Tzg: array_push($arrKelasTugas[$m->id_kelas], $arrTugas); goto x71jy; ZDK7s: hmdz_: goto b8xaY; SJUiX: rYvzN: goto v9Dt1; JM7V0: if (isset($arrKelasTugas[$m->id_kelas])) { goto IdIsP; } goto GG61n; IvpMQ: goto FUSpo; goto ZDK7s; PBZaj: goto KMK2c; goto oLaDe; Cq9A5: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto uPafM; QGUTs: array_push($arrKelas[$m->jenis], $m->id_kelas); goto PBZaj; t31re: nST2i: goto UnEPk; f3e6o: CaHWd: goto nYmba; HBsYO: $arrKelasMateri[$m->id_kelas] = []; goto Cq9A5; uvtg6: array_push($arrKelas[$m->jenis], $m->id_kelas); goto SJUiX; L8ZaC: if (in_array($m->id_kelas, $arrKelas[$m->jenis])) { goto rYvzN; } goto uvtg6; dNyCR: if (isset($arrKelas[$m->jenis])) { goto vZubA; } goto MRmxd; b8xaY: $arrMateri = ["\151\x64\x5f\155\x61\164\145\x72\x69" => $m->id_materi, "\x69\144\137\x6b\x6a\x6d" => $m->id_kjm, "\152\x61\x64\x77\x61\154" => $m->jadwal_materi, "\x6b\157\144\145" => $m->kode_materi, "\x6d\141\160\145\x6c" => $kode_mapel, "\147\x75\x72\x75" => $m->nama_guru]; goto Ac1aa; UnEPk: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto f3e6o; MRmxd: $arrKelas[$m->jenis] = []; goto QGUTs; ePrxp: $arrTugas = ["\151\144\137\x6d\141\164\145\162\x69" => $m->id_materi, "\x69\x64\x5f\x6b\x6a\x6d" => $m->id_kjm, "\152\x61\x64\x77\141\x6c" => $m->jadwal_materi, "\153\157\x64\145" => $m->kode_materi, "\x6d\141\x70\145\154" => $kode_mapel, "\147\x75\x72\165" => $m->nama_guru]; goto JM7V0; x71jy: goto ZUM5V; goto FLiKe; WTKlb: $kode_mapel = $m->kode_mapel == null ? "\55\55" : $m->kode_mapel; goto zyyUT; uPafM: goto CaHWd; goto t31re; oLaDe: vZubA: goto L8ZaC; GsFko: mrARd: goto fBuqb; GG61n: $arrKelasTugas[$m->id_kelas] = []; goto d9Tzg; FLiKe: IdIsP: goto HectB; bNdHM: ZUM5V: goto IvpMQ; fBuqb: } goto Ah8_L; cXCRU: $id_mapel = $this->input->get("\151\x64", true); goto K77Qa; abUwE: $materi = $this->kelas->getKodeMateriMapel($tp->id_tp, $smt->id_smt, $id_mapel); goto yJN6L; LIw76: $this->output_json(array("\x6d\141\164\145\x72\151" => $arrKelasMateri, "\x74\165\147\x61\x73" => $arrKelasTugas, "\153\x65\x6c\x61\163" => $arrKelas)); goto nnhpe; ndmuM: $arrKelas = []; goto d3U95; iPFj7: $arrKelasTugas = []; goto ndmuM; Ah8_L: BCShu: goto LIw76; nnhpe: } public function loadStatus() { goto FgqK3; mzLr8: if (!($info != null)) { goto dVGY2; } goto yXnkW; LVws4: $info = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto mzLr8; SfAw3: $id_tp = $this->master->getTahunActive()->id_tp; goto PUKy0; wJf1D: SP9cI: goto LVws4; GdClD: $this->output_json(["\x6c\157\x67" => $log, "\x6a\141\144\x77\141\154" => $info]); goto vSQaS; htuBu: $log = []; goto bJ3QO; LLYVc: $logs = $this->kelas->getStatusMateriSiswa($id_kjm); goto htuBu; yXnkW: $info->istirahat = unserialize($info->istirahat); goto DXoco; KZImA: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto LLYVc; FgqK3: $label = $this->input->post("\x6c\x61\142\145\x6c", true); goto SufZ0; DXoco: dVGY2: goto GdClD; bBqEI: $id_kjm = $this->input->post("\x69\144\137\153\152\x6d", true); goto SfAw3; SufZ0: $id_kelas = $this->input->post("\x69\x64\x5f\153\x65\x6c\x61\163", true); goto bBqEI; PUKy0: $id_smt = $this->master->getSemesterActive()->id_smt; goto KZImA; bJ3QO: foreach ($siswa as $s) { goto vWn7c; XCEvp: $log[$s->id_siswa] = ["\156\x61\x6d\141" => $s->nama, "\x6e\151\x73" => $s->nis, "\153\x65\x6c\141\x73" => $s->nama_kelas, "\x6c\x6f\147\x69\x6e" => $this->kelas->getLoginSiswa($s->username), "\155\165\154\x61\151" => $mulai, "\x73\x65\154\145\163\141\151" => $selesai, "\164\145\x78\x74" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->text : '', "\156\x69\154\x61\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->nilai : '', "\x63\141\164\x61\164\x61\156" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->catatan : '', "\x6a\141\155\x5f\x6b\x65" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jam_ke : null, "\x6a\x61\x64\x77\x61\x6c\x5f\155\x61\164\145\x72\151" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jadwal_materi : null, "\x66\x69\154\145" => isset($logs[$s->id_siswa]) && $logs[$s->id_siswa]->file != null ? unserialize($logs[$s->id_siswa]->file) : []]; goto o9NOs; o9NOs: Riy0V: goto P1sYV; SRmKA: $selesai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->finish_time : null; goto XCEvp; vWn7c: $mulai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->log_time : null; goto SRmKA; P1sYV: } goto wJf1D; vSQaS: } public function saveNilai() { goto O_9Md; UdjhW: FscbE: goto SRSu1; O_9Md: $method = $this->input->post("\155\145\164\150\157\x64", true); goto q7PKp; eghc3: $id_log = $this->input->post("\151\x64\137\154\157\x67", true); goto rDh19; SRSu1: $this->output_json($update); goto YZoXe; SbyaF: $this->db->set("\151\x64\137\154\157\x67", $id_log); goto DpXpL; Dx5n1: APJdB: goto Gr2Fd; rDh19: $nilai = $this->input->post("\156\151\x6c\141\151", true); goto q_ud2; Dt05W: $update = $this->db->update("\154\157\x67\137\155\x61\164\x65\162\151", $insert); goto UdjhW; FEXic: $q = $this->db->get("\154\157\147\x5f\155\x61\x74\x65\162\x69"); goto sxQNv; Gr2Fd: $this->db->where("\151\x64\x5f\x6c\x6f\147", $id_log); goto Dt05W; AoWPN: $insert = ["\x6e\x69\x6c\141\x69" => $nilai, "\x63\x61\x74\141\164\141\156" => $catatan]; goto DogWv; DogWv: $this->db->where("\x69\x64\137\154\x6f\147", $id_log); goto FEXic; Oa8ui: goto FscbE; goto Dx5n1; DpXpL: $update = $this->db->insert("\154\157\x67\137\155\x61\164\x65\x72\x69", $insert); goto Oa8ui; sxQNv: if ($q->num_rows() > 0) { goto APJdB; } goto SbyaF; q_ud2: $catatan = $this->input->post("\x63\141\x74\x61\x74\141\156", true); goto AoWPN; q7PKp: $label = $this->input->post("\154\x61\142\x65\154", true); goto eghc3; YZoXe: } }
