<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasstatus extends CI_Controller { public function __construct() { goto E_LKN; E_LKN: parent::__construct(); goto kHz8w; bTI9e: whtH7: goto q7oVT; iZuq7: redirect("\141\165\x74\x68"); goto bTI9e; h7AQt: $this->form_validation->set_error_delimiters('', ''); goto paALP; wdjLL: Z3dFL: goto Ss20o; cW5mc: $this->load->model("\x44\x61\x73\x68\x62\x6f\141\162\144\x5f\155\x6f\144\x65\x6c", "\x64\x61\163\x68\x62\x6f\141\x72\x64"); goto ghybq; Ss20o: goto whtH7; goto Hj7h3; kHz8w: if (!$this->ion_auth->logged_in()) { goto kPFjR; } goto j4vc9; ghybq: $this->load->model("\104\162\x6f\x70\x64\x6f\x77\156\x5f\x6d\157\144\x65\154", "\x64\162\x6f\160\144\157\x77\156"); goto x7XwW; PFFRt: show_error("\110\141\156\x79\x61\40\x41\x64\x6d\x69\156\151\x73\x74\162\x61\164\157\162\x20\171\141\156\x67\40\144\x69\x62\x65\x72\x69\x20\150\x61\153\40\x75\156\x74\165\x6b\x20\x6d\145\156\x67\141\x6b\163\145\163\40\x68\141\154\141\x6d\141\156\x20\151\x6e\151\x2c\x20\74\x61\40\x68\x72\x65\146\x3d\42" . base_url("\x64\x61\163\x68\x62\157\141\162\144") . "\42\76\x4b\x65\x6d\142\141\154\x69\40\x6b\x65\x20\155\145\x6e\x75\40\141\x77\141\154\74\57\x61\x3e", 403, "\101\153\x73\145\163\40\124\x65\x72\x6c\x61\x72\141\156\147"); goto wdjLL; q7oVT: $this->load->library(["\144\x61\x74\x61\164\141\142\x6c\x65\163", "\x66\x6f\162\x6d\x5f\166\x61\x6c\151\144\141\164\x69\x6f\156"]); goto oGcOQ; j4vc9: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\x67\x75\x72\x75"))) { goto Z3dFL; } goto PFFRt; x7XwW: $this->load->model("\113\x65\x6c\x61\163\137\155\x6f\x64\x65\154", "\x6b\x65\154\141\163"); goto h7AQt; Hj7h3: kPFjR: goto iZuq7; oGcOQ: $this->load->model("\115\141\x73\164\x65\162\x5f\x6d\x6f\x64\x65\x6c", "\x6d\x61\163\164\145\x72"); goto cW5mc; paALP: } public function output_json($data, $encode = true) { goto BdNWQ; UiWM6: $data = json_encode($data); goto tgKsE; BdNWQ: if (!$encode) { goto PfLrx; } goto UiWM6; RaV9D: $this->output->set_content_type("\141\x70\x70\x6c\x69\x63\x61\x74\x69\157\x6e\57\x6a\x73\157\156")->set_output($data); goto kR8vw; tgKsE: PfLrx: goto RaV9D; kR8vw: } public function index() { goto uAod0; uc_oQ: if (!($mapel != null)) { goto JBGxN; } goto EYtgS; tk2tg: JBGxN: goto szAsX; SizIb: $data["\x6b\x65\154\x61\x73"] = $arrKelas; goto lI_4J; dvgCr: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto FzKjG; ADpPT: $data["\x70\162\x6f\x66\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto Y0CXd; uAod0: $user = $this->ion_auth->user()->row(); goto D3lZv; QvPfs: $this->load->view("\x6b\145\154\x61\x73\x2f\x73\164\x61\x74\x75\x73\x2f\x64\x61\164\x61"); goto pwDCR; lI_4J: $this->load->view("\x6d\x65\x6d\142\145\162\163\x2f\147\165\x72\165\x2f\164\x65\155\x70\x6c\141\x74\145\x73\57\150\x65\x61\x64\x65\x72", $data); goto QvPfs; bdcZR: $arrKelas = []; goto uc_oQ; urwRN: if ($this->ion_auth->is_admin()) { goto AMjlB; } goto dk_I6; u61FR: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); n3qC_: } goto GNwnN; vJK1r: $this->load->view("\x5f\x74\145\155\x70\x6c\x61\164\x65\x73\57\x64\141\163\150\x62\157\x61\x72\x64\x2f\x5f\x66\157\157\x74\145\x72"); goto j0qZj; QOxbF: if (!($mapel != null)) { goto npcHf; } goto u61FR; EYtgS: foreach ($mapel as $m) { goto CgkCG; K0Soc: foreach ($m->kelas_mapel as $kls) { $arrKelas[$kls->kelas] = $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas); ELodH: } goto mw3hT; J7ba7: UM_FJ: goto FFng1; CgkCG: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto K0Soc; mw3hT: A4BgU: goto J7ba7; FFng1: } goto EbgMI; FzKjG: $data["\163\155\x74\x5f\x61\x63\164\151\166\145"] = $smt; goto urwRN; qKwt5: $smt = $this->dashboard->getSemesterActive(); goto mgHGJ; wArNq: $nguru[$guru->id_guru] = $guru->nama_guru; goto FcbkG; RgVoe: npcHf: goto fzBxe; GNwnN: ny0BM: goto RgVoe; dk_I6: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto wArNq; e7b1U: $this->load->view("\137\164\x65\155\160\x6c\141\x74\x65\x73\x2f\144\141\x73\150\x62\x6f\141\162\x64\57\137\x68\x65\x61\144\145\162", $data); goto dFj25; qEhkX: AMjlB: goto ADpPT; Y0CXd: $guru = $this->dropdown->getAllGuru(); goto DLUwT; mgHGJ: $data["\164\160"] = $this->dashboard->getTahun(); goto iGGmJ; Wn8Dm: $data["\147\x75\x72\x75\x73"] = $nguru; goto GhoQh; GhoQh: $data["\151\144\137\147\x75\162\x75"] = $guru->id_guru; goto hT7ZE; o95PL: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto B0zDM; fzBxe: $data["\x6d\x61\x70\x65\154\163"] = $arrMapel; goto SizIb; iGGmJ: $data["\x74\x70\x5f\141\x63\x74\151\x76\145"] = $tp; goto dvgCr; c3eoY: goto yK14E; goto qEhkX; B0zDM: $arrMapel = []; goto bdcZR; N5gTm: $tp = $this->dashboard->getTahunActive(); goto qKwt5; FcbkG: $data["\147\x75\x72\x75"] = $guru; goto Wn8Dm; dFj25: $this->load->view("\153\145\x6c\x61\x73\x2f\163\164\141\164\x75\163\x2f\144\141\164\141"); goto vJK1r; DLUwT: $data["\147\x75\162\x75\163"] = $guru; goto vN5ws; vN5ws: $data["\x6b\145\154\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto d4J5H; szAsX: $arrId = []; goto QOxbF; pwDCR: $this->load->view("\x6d\145\155\142\x65\x72\x73\57\x67\x75\162\x75\x2f\164\x65\155\x70\154\141\x74\145\x73\x2f\x66\157\x6f\164\145\162"); goto c3eoY; D3lZv: $data = ["\x75\163\x65\162" => $user, "\152\165\144\x75\154" => "\110\x61\x73\x69\x6c\40\x53\x69\x73\167\x61", "\x73\165\x62\x6a\x75\x64\x75\x6c" => "\104\x61\164\x61\x20\110\x61\163\x69\x6c\x20\123\x69\x73\167\141", "\163\x65\164\164\151\156\147" => $this->dashboard->getSetting()]; goto N5gTm; d4J5H: $data["\x6d\141\160\145\154\x73"] = $this->dropdown->getAllMapel(); goto e7b1U; j0qZj: yK14E: goto qKGuF; EbgMI: cS1ki: goto tk2tg; hT7ZE: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto o95PL; qKGuF: } public function getMateriGuru() { goto NCgMD; DabJ0: $this->output_json(array("\155\x61\x74\145\x72\151" => $arrKelasMateri, "\x74\165\147\141\x73" => $arrKelasTugas)); goto er0oM; MrsLD: foreach ($materi as $m) { goto AyBfK; Wku2Z: $arrKelasTugas[] = ["\x69\144\x5f\155\x61\x74\x65\162\x69" => $m->id_materi, "\151\x64\x5f\x6b\x6a\155" => $m->id_kjm, "\152\x61\144\167\x61\154" => $m->jadwal_materi, "\153\x6f\144\145" => $m->kode_materi, "\x6d\x61\160\x65\x6c" => $kode_mapel, "\x6b\x65\154\141\x73" => unserialize($m->materi_kelas)]; goto iaQXR; tanXY: if ($m->jenis == "\x31") { goto a40Z7; } goto Wku2Z; wQrvZ: fhXzX: goto bDkJb; GcAyN: $arrKelasMateri[] = ["\x69\144\x5f\155\141\164\145\x72\x69" => $m->id_materi, "\x69\x64\137\153\152\155" => $m->id_kjm, "\x6a\x61\144\x77\141\154" => $m->jadwal_materi, "\x6b\x6f\144\x65" => $m->kode_materi, "\155\141\160\145\x6c" => $kode_mapel, "\153\x65\x6c\x61\163" => unserialize($m->materi_kelas)]; goto wQrvZ; AyBfK: $kode_mapel = $m->kode_mapel == null ? "\55\x2d" : $m->kode_mapel; goto tanXY; bDkJb: H6fcU: goto abQaO; iaQXR: goto fhXzX; goto w_eFP; w_eFP: a40Z7: goto GcAyN; abQaO: } goto fDXb7; I5Vu_: $arrKelasMateri = []; goto LEkl1; LEkl1: $arrKelasTugas = []; goto MrsLD; D8xGO: $smt = $this->dashboard->getSemesterActive(); goto Z3UEj; NCgMD: $id_guru = $this->input->get("\151\x64", true); goto fnRXd; fDXb7: zYIkQ: goto DabJ0; Z3UEj: $materi = $this->kelas->getAllKodeMateri($tp->id_tp, $smt->id_smt, $id_guru); goto I5Vu_; fnRXd: $tp = $this->dashboard->getTahunActive(); goto D8xGO; er0oM: } public function getMateriMapel() { goto UDHhf; eti7q: $arrKelas = []; goto oHJ_r; GV7rX: $this->output_json(array("\x6d\x61\x74\145\162\151" => $arrKelasMateri, "\164\x75\x67\x61\x73" => $arrKelasTugas, "\x6b\x65\154\141\x73" => $arrKelas)); goto a5SpQ; oHJ_r: foreach ($materi as $m) { goto LnnuN; TLwmR: if ($m->jenis == "\61") { goto OMQLe; } goto I6iG0; SfLDg: array_push($arrKelas[$m->jenis], $m->id_kelas); goto PU09L; yO4U2: array_push($arrKelasTugas[$m->id_kelas], $arrTugas); goto IF6SW; u7RS9: array_push($arrKelas[$m->jenis], $m->id_kelas); goto M299m; kMMsR: goto BatvM; goto HW8Yi; I6iG0: $arrTugas = ["\151\x64\x5f\155\x61\x74\145\162\x69" => $m->id_materi, "\x69\x64\137\x6b\x6a\x6d" => $m->id_kjm, "\152\141\x64\x77\x61\154" => $m->jadwal_materi, "\153\x6f\144\145" => $m->kode_materi, "\x6d\141\160\145\x6c" => $kode_mapel, "\x67\165\162\165" => $m->nama_guru]; goto rKcdg; UXdOl: $arrMateri = ["\151\144\137\x6d\141\x74\x65\162\x69" => $m->id_materi, "\x69\x64\x5f\x6b\x6a\x6d" => $m->id_kjm, "\x6a\x61\144\167\x61\154" => $m->jadwal_materi, "\153\157\x64\x65" => $m->kode_materi, "\155\141\160\x65\154" => $kode_mapel, "\x67\x75\162\165" => $m->nama_guru]; goto OS_2V; MGPU5: O6CIp: goto j4o5C; ykF4W: $arrKelas[$m->jenis] = []; goto u7RS9; j4o5C: MbJCO: goto OBwDh; JKwc7: UgLIE: goto re05G; IF6SW: goto Td3XF; goto JKwc7; MxXqh: $arrKelasTugas[$m->id_kelas] = []; goto yO4U2; Ew2Ab: Td3XF: goto eKP_8; EmgQm: $arrKelasMateri[$m->id_kelas] = []; goto J3FtA; OS_2V: if (isset($arrKelasMateri[$m->id_kelas])) { goto Pw6fP; } goto EmgQm; gaMuR: eiJAX: goto kkN5n; d8Csz: BatvM: goto A6uX4; re05G: array_push($arrKelasMateri[$m->id_kelas], $arrTugas); goto Ew2Ab; J3FtA: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto kMMsR; rKcdg: if (isset($arrKelasTugas[$m->id_kelas])) { goto UgLIE; } goto MxXqh; kkN5n: if (in_array($m->id_kelas, $arrKelas[$m->jenis])) { goto BbaYR; } goto SfLDg; HW8Yi: Pw6fP: goto Joi7c; A6uX4: uvtA9: goto xxvT5; M299m: goto O6CIp; goto gaMuR; eKP_8: goto uvtA9; goto LJ896; LnnuN: $kode_mapel = $m->kode_mapel == null ? "\55\x2d" : $m->kode_mapel; goto TLwmR; Joi7c: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto d8Csz; LJ896: OMQLe: goto UXdOl; xxvT5: if (isset($arrKelas[$m->jenis])) { goto eiJAX; } goto ykF4W; PU09L: BbaYR: goto MGPU5; OBwDh: } goto Ww7KB; S4DVj: $materi = $this->kelas->getKodeMateriMapel($tp->id_tp, $smt->id_smt, $id_mapel); goto BAnVh; UDHhf: $id_mapel = $this->input->get("\x69\144", true); goto c8sqj; c8sqj: $tp = $this->dashboard->getTahunActive(); goto OGbJC; OGbJC: $smt = $this->dashboard->getSemesterActive(); goto S4DVj; Ww7KB: EsoZY: goto GV7rX; hPdzn: $arrKelasTugas = []; goto eti7q; BAnVh: $arrKelasMateri = []; goto hPdzn; a5SpQ: } public function loadStatus() { goto zeq_R; uTm1m: $this->output_json(["\154\x6f\147" => $log, "\x6a\141\144\167\141\154" => $info]); goto tyrFZ; UHD7s: $id_tp = $this->master->getTahunActive()->id_tp; goto TfJzT; zgtaK: $logs = $this->kelas->getStatusMateriSiswa($id_kjm); goto GJTMz; EfiIC: IVAMx: goto ey94e; ey94e: $info = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto vHZCu; X1Z8l: Sj0q3: goto uTm1m; GJTMz: $log = []; goto Reewi; dY2az: $id_kelas = $this->input->post("\151\x64\x5f\153\x65\x6c\141\x73", true); goto Gn_pC; TfJzT: $id_smt = $this->master->getSemesterActive()->id_smt; goto bxdd7; vHZCu: if (!($info != null)) { goto Sj0q3; } goto uKf17; bxdd7: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto zgtaK; uKf17: $info->istirahat = unserialize($info->istirahat); goto X1Z8l; Reewi: foreach ($siswa as $s) { goto kj0WA; Ceb_Y: $log[$s->id_siswa] = ["\156\141\155\141" => $s->nama, "\156\151\x73" => $s->nis, "\153\145\154\141\x73" => $s->nama_kelas, "\x6c\157\147\151\x6e" => $this->kelas->getLoginSiswa($s->username), "\155\165\154\x61\151" => $mulai, "\x73\145\154\145\163\141\151" => $selesai, "\164\145\x78\x74" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->text : '', "\x6e\151\154\141\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->nilai : '', "\x63\141\x74\141\x74\141\x6e" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->catatan : '', "\x6a\141\x6d\137\x6b\145" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jam_ke : null, "\152\x61\x64\x77\x61\154\137\x6d\x61\x74\x65\x72\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jadwal_materi : null, "\146\151\x6c\x65" => isset($logs[$s->id_siswa]) && $logs[$s->id_siswa]->file != null ? unserialize($logs[$s->id_siswa]->file) : []]; goto Bnd6D; Bnd6D: NzfTm: goto RNP_h; kj0WA: $mulai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->log_time : null; goto EDCYv; EDCYv: $selesai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->finish_time : null; goto Ceb_Y; RNP_h: } goto EfiIC; zeq_R: $label = $this->input->post("\x6c\141\x62\x65\x6c", true); goto dY2az; Gn_pC: $id_kjm = $this->input->post("\x69\144\137\x6b\x6a\x6d", true); goto UHD7s; tyrFZ: } public function saveNilai() { goto TyocD; xfksi: $this->db->where("\151\144\x5f\154\157\147", $id_log); goto cnusv; ZJnzE: $insert = ["\x6e\x69\x6c\141\151" => $nilai, "\143\x61\x74\141\x74\141\156" => $catatan]; goto xfksi; XxXus: $catatan = $this->input->post("\x63\x61\x74\x61\x74\x61\156", true); goto ZJnzE; VPhwj: if ($q->num_rows() > 0) { goto HDCcX; } goto guXKI; QU6u2: $update = $this->db->update("\x6c\157\147\x5f\x6d\x61\x74\145\x72\151", $insert); goto aTKpG; DWGAm: $this->db->where("\x69\x64\137\x6c\157\147", $id_log); goto QU6u2; ESvUd: $id_log = $this->input->post("\x69\x64\137\154\157\x67", true); goto Qo5Fj; MjmrG: $this->output_json($update); goto bnu2Y; guXKI: $this->db->set("\151\144\x5f\x6c\x6f\x67", $id_log); goto rdZwb; rdZwb: $update = $this->db->insert("\154\157\x67\x5f\155\x61\x74\145\162\151", $insert); goto ws2gz; cnusv: $q = $this->db->get("\154\157\147\137\x6d\141\164\145\x72\x69"); goto VPhwj; QGnHC: HDCcX: goto DWGAm; ws2gz: goto q1yF0; goto QGnHC; aTKpG: q1yF0: goto MjmrG; pSafs: $label = $this->input->post("\x6c\141\142\145\154", true); goto ESvUd; TyocD: $method = $this->input->post("\155\145\x74\x68\x6f\144", true); goto pSafs; Qo5Fj: $nilai = $this->input->post("\x6e\x69\x6c\x61\x69", true); goto XxXus; bnu2Y: } }
