<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasstatus extends CI_Controller { public function __construct() { goto oV5Zv; oGN0f: goto J9wXt; goto mU1dv; Wwlaq: $this->load->model("\104\x72\157\x70\x64\157\x77\x6e\137\155\157\x64\x65\x6c", "\144\x72\157\x70\144\x6f\167\x6e"); goto sXY3K; oV5Zv: parent::__construct(); goto ehyL0; Qhusx: $this->form_validation->set_error_delimiters('', ''); goto EnUwp; kh3oC: $this->load->model("\x44\141\163\150\142\157\141\162\x64\137\x6d\157\x64\x65\x6c", "\x64\141\x73\150\142\x6f\x61\162\x64"); goto Wwlaq; Kx9fn: show_error("\110\141\156\x79\141\40\x41\144\x6d\x69\x6e\151\x73\x74\162\141\164\x6f\162\x20\x79\141\156\147\x20\x64\x69\142\x65\162\151\40\x68\141\x6b\x20\165\156\164\x75\x6b\40\155\145\156\147\141\x6b\x73\x65\163\x20\150\x61\154\141\155\141\x6e\x20\x69\x6e\x69\54\x20\74\x61\40\x68\x72\145\x66\75\x22" . base_url("\x64\141\x73\150\142\x6f\141\162\144") . "\42\x3e\x4b\x65\155\x62\141\x6c\151\40\153\x65\x20\155\145\x6e\x75\40\x61\x77\x61\154\74\57\141\x3e", 403, "\101\153\x73\x65\x73\40\124\145\x72\154\x61\162\141\x6e\147"); goto uU3iH; sXY3K: $this->load->model("\x4b\x65\x6c\141\163\x5f\155\157\144\145\x6c", "\x6b\145\x6c\141\x73"); goto Qhusx; YG3Og: J9wXt: goto VkpRU; zMY07: $this->load->model("\115\x61\163\x74\x65\162\137\155\x6f\x64\145\154", "\x6d\x61\x73\x74\145\x72"); goto kh3oC; qNUwm: redirect("\141\165\164\150"); goto YG3Og; Bex8B: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\165\x72\165"))) { goto wk7bg; } goto Kx9fn; uU3iH: wk7bg: goto oGN0f; mU1dv: tI2aa: goto qNUwm; VkpRU: $this->load->library(["\x64\141\164\x61\164\x61\x62\x6c\x65\163", "\146\x6f\162\x6d\137\166\x61\x6c\x69\144\x61\x74\x69\157\156"]); goto zMY07; ehyL0: if (!$this->ion_auth->logged_in()) { goto tI2aa; } goto Bex8B; EnUwp: } public function output_json($data, $encode = true) { goto TuXDr; TuXDr: if (!$encode) { goto gThFS; } goto XrbLX; sYDRi: $this->output->set_content_type("\141\160\160\154\x69\143\141\164\151\x6f\156\57\152\163\157\x6e")->set_output($data); goto VMg69; XrbLX: $data = json_encode($data); goto ODb9v; ODb9v: gThFS: goto sYDRi; VMg69: } public function index() { goto g6lQW; NqVcr: $data["\x67\x75\x72\x75\x73"] = $nguru; goto btDPr; jd4la: $this->load->view("\153\x65\x6c\141\x73\x2f\x73\x74\x61\164\x75\163\57\144\141\164\x61"); goto tP3Bf; MvxJV: mHQwm: goto juBZk; tP3Bf: $this->load->view("\137\164\x65\155\x70\154\141\x74\145\x73\57\x64\x61\x73\x68\x62\157\141\162\x64\x2f\x5f\x66\x6f\x6f\164\x65\162"); goto qOnTn; ctMid: X1SmC: goto nbZ2L; cWngc: $data = ["\165\163\145\162" => $user, "\152\165\144\x75\x6c" => "\x48\x61\x73\x69\x6c\40\x53\x69\x73\x77\x61", "\163\165\142\x6a\165\144\165\154" => "\104\141\164\141\x20\110\141\163\151\x6c\40\x53\x69\163\167\x61", "\x73\145\x74\x74\151\x6e\x67" => $this->dashboard->getSetting()]; goto rb383; bHURB: $arrKelas = []; goto j8Rnq; juBZk: $arrId = []; goto S4TjZ; iULKq: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto KyrK5; TZsO_: $data["\x6d\x61\160\145\x6c\163"] = $arrMapel; goto hPDkY; oFRKu: p1BDh: goto MvxJV; Wu8fJ: $guru = $this->dropdown->getAllGuru(); goto UoUlE; a5R5T: $this->load->view("\x5f\164\x65\x6d\160\154\x61\164\145\x73\57\144\x61\163\x68\x62\157\x61\162\144\57\137\x68\145\x61\x64\145\x72", $data); goto jd4la; xuLGB: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto CRrFC; SUpP6: $data["\x73\x6d\164\137\x61\143\x74\x69\x76\145"] = $smt; goto ZHrpN; rb383: $tp = $this->dashboard->getTahunActive(); goto v4Y96; qOnTn: N7XoE: goto jeq2h; JelBK: foreach ($mapel as $m) { goto nJwiH; qfkf4: JH3vA: goto Eii7l; TRM26: foreach ($m->kelas_mapel as $kls) { $arrKelas[$kls->kelas] = $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas); LuwbB: } goto GNs5p; GNs5p: U0Wmc: goto qfkf4; nJwiH: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto TRM26; Eii7l: } goto oFRKu; dFN3Y: goto N7XoE; goto IDYlw; UybO5: $data["\x67\165\162\x75"] = $guru; goto NqVcr; IDYlw: mbBmI: goto h23YE; nbZ2L: kyD11: goto TZsO_; j8Rnq: if (!($mapel != null)) { goto mHQwm; } goto JelBK; YN4Fr: $data["\x6d\x61\160\145\x6c\x73"] = $this->dropdown->getAllMapel(); goto a5R5T; g6lQW: $user = $this->ion_auth->user()->row(); goto cWngc; KyrK5: $nguru[$guru->id_guru] = $guru->nama_guru; goto UybO5; x9gtA: $this->load->view("\x6d\145\155\x62\145\162\163\57\147\165\x72\165\57\164\145\155\x70\154\x61\164\x65\x73\57\x66\157\x6f\164\x65\x72"); goto dFN3Y; P2N0u: $data["\x6b\145\154\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto YN4Fr; sCHIg: $this->load->view("\x6d\x65\155\142\145\162\163\57\147\x75\162\x75\x2f\164\145\155\x70\154\x61\164\145\x73\57\x68\145\141\144\x65\x72", $data); goto i2uK4; v4Y96: $smt = $this->dashboard->getSemesterActive(); goto sCwPQ; CRrFC: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto BFJxk; sCwPQ: $data["\164\160"] = $this->dashboard->getTahun(); goto B8Ltv; h23YE: $data["\x70\162\157\x66\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto Wu8fJ; ZHrpN: if ($this->ion_auth->is_admin()) { goto mbBmI; } goto iULKq; dR18e: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto SUpP6; B8Ltv: $data["\164\x70\137\x61\143\164\151\166\145"] = $tp; goto dR18e; i2uK4: $this->load->view("\x6b\145\154\x61\163\x2f\163\x74\x61\x74\165\163\x2f\x64\141\x74\141"); goto x9gtA; BFJxk: $arrMapel = []; goto bHURB; S4TjZ: if (!($mapel != null)) { goto kyD11; } goto zqYLC; UoUlE: $data["\x67\165\x72\x75\x73"] = $guru; goto P2N0u; btDPr: $data["\151\x64\137\147\165\x72\x75"] = $guru->id_guru; goto xuLGB; zqYLC: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); RWtvt: } goto ctMid; hPDkY: $data["\153\145\x6c\x61\163"] = $arrKelas; goto sCHIg; jeq2h: } public function getMateriGuru() { goto p2HtC; vz8r2: $materi = $this->kelas->getAllKodeMateri($tp->id_tp, $smt->id_smt, $id_guru); goto wrnVU; h7QzK: $arrKelasTugas = []; goto s_hyY; P6nEH: $tp = $this->dashboard->getTahunActive(); goto Rlg1d; qgo6h: B9eQR: goto NMrEx; wrnVU: $arrKelasMateri = []; goto h7QzK; NMrEx: $this->output_json(array("\155\141\x74\x65\162\151" => $arrKelasMateri, "\164\165\x67\141\163" => $arrKelasTugas)); goto gy86K; s_hyY: foreach ($materi as $m) { goto Jmps9; Kq3H5: OxG5E: goto IumDm; tOaEm: if ($m->jenis == "\61") { goto wTQ_J; } goto xlwHV; lhzin: n5W9a: goto Kq3H5; Jmps9: $kode_mapel = $m->kode_mapel == null ? "\x2d\x2d" : $m->kode_mapel; goto tOaEm; ZPFmZ: goto n5W9a; goto FE5Uc; g1QWh: $arrKelasMateri[] = ["\151\144\x5f\x6d\141\x74\145\162\151" => $m->id_materi, "\x69\144\137\153\152\x6d" => $m->id_kjm, "\152\141\x64\x77\x61\x6c" => $m->jadwal_materi, "\x6b\157\144\145" => $m->kode_materi, "\x6d\x61\160\145\x6c" => $kode_mapel, "\153\145\x6c\141\163" => unserialize($m->materi_kelas)]; goto lhzin; xlwHV: $arrKelasTugas[] = ["\151\x64\137\155\141\164\145\x72\151" => $m->id_materi, "\151\x64\137\x6b\152\155" => $m->id_kjm, "\152\141\x64\x77\141\154" => $m->jadwal_materi, "\153\x6f\144\x65" => $m->kode_materi, "\155\141\x70\x65\x6c" => $kode_mapel, "\153\x65\154\141\163" => unserialize($m->materi_kelas)]; goto ZPFmZ; FE5Uc: wTQ_J: goto g1QWh; IumDm: } goto qgo6h; p2HtC: $id_guru = $this->input->get("\x69\x64", true); goto P6nEH; Rlg1d: $smt = $this->dashboard->getSemesterActive(); goto vz8r2; gy86K: } public function getMateriMapel() { goto N_N_X; jo03H: IDG_j: goto SAvUt; N_N_X: $id_mapel = $this->input->get("\x69\x64", true); goto xtt_T; dHs0b: $arrKelasTugas = []; goto Lyb1M; w8uus: $arrKelasMateri = []; goto dHs0b; N39vw: $materi = $this->kelas->getKodeMateriMapel($tp->id_tp, $smt->id_smt, $id_mapel); goto w8uus; xtt_T: $tp = $this->dashboard->getTahunActive(); goto uVcKa; Lyb1M: $arrKelas = []; goto dOOag; dOOag: foreach ($materi as $m) { goto EWjNU; eI1lo: $arrKelas[$m->jenis] = []; goto p8iWt; FEgWc: LrA8W: goto mDDPB; eHe0g: iRLv0: goto cs4xl; sxrsh: if ($m->jenis == "\x31") { goto UqKYV; } goto chheT; EWjNU: $kode_mapel = $m->kode_mapel == null ? "\55\55" : $m->kode_mapel; goto sxrsh; UJKb7: $arrKelasTugas[$m->id_kelas] = []; goto kE7Ts; pk71d: if (isset($arrKelasMateri[$m->id_kelas])) { goto eU2nt; } goto Dzwwq; pX8rg: f1Ywf: goto Y4wjw; iZvO2: UqKYV: goto z7fWy; cs4xl: bkile: goto cEdcf; kE7Ts: array_push($arrKelasTugas[$m->id_kelas], $arrTugas); goto rJgKx; mDDPB: goto pWQsf; goto iZvO2; pdRIQ: goto dev8a; goto tBSof; Dzwwq: $arrKelasMateri[$m->id_kelas] = []; goto VauSJ; WBwSB: if (in_array($m->id_kelas, $arrKelas[$m->jenis])) { goto hsj03; } goto wfACW; rJgKx: goto LrA8W; goto pX8rg; p8iWt: array_push($arrKelas[$m->jenis], $m->id_kelas); goto Cbt8H; chheT: $arrTugas = ["\151\x64\137\x6d\141\x74\x65\x72\151" => $m->id_materi, "\x69\x64\x5f\x6b\x6a\155" => $m->id_kjm, "\x6a\141\144\x77\141\x6c" => $m->jadwal_materi, "\x6b\x6f\144\x65" => $m->kode_materi, "\x6d\x61\x70\x65\x6c" => $kode_mapel, "\x67\x75\162\165" => $m->nama_guru]; goto pfW0N; I8Ubn: if (isset($arrKelas[$m->jenis])) { goto xAtN7; } goto eI1lo; XBIGO: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto HUOqq; wfACW: array_push($arrKelas[$m->jenis], $m->id_kelas); goto Hh2Ss; Cbt8H: goto iRLv0; goto FDoPE; VauSJ: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto pdRIQ; Y4wjw: array_push($arrKelasMateri[$m->id_kelas], $arrTugas); goto FEgWc; QASF1: pWQsf: goto I8Ubn; tBSof: eU2nt: goto XBIGO; z7fWy: $arrMateri = ["\151\144\137\x6d\141\x74\145\x72\151" => $m->id_materi, "\x69\x64\x5f\153\152\155" => $m->id_kjm, "\x6a\x61\144\167\x61\154" => $m->jadwal_materi, "\x6b\157\x64\x65" => $m->kode_materi, "\x6d\141\160\145\154" => $kode_mapel, "\147\x75\x72\x75" => $m->nama_guru]; goto pk71d; Hh2Ss: hsj03: goto eHe0g; pfW0N: if (isset($arrKelasTugas[$m->id_kelas])) { goto f1Ywf; } goto UJKb7; FDoPE: xAtN7: goto WBwSB; HUOqq: dev8a: goto QASF1; cEdcf: } goto jo03H; uVcKa: $smt = $this->dashboard->getSemesterActive(); goto N39vw; SAvUt: $this->output_json(array("\155\x61\x74\145\x72\151" => $arrKelasMateri, "\164\165\147\141\x73" => $arrKelasTugas, "\153\x65\154\x61\x73" => $arrKelas)); goto oWJRH; oWJRH: } public function loadStatus() { goto BUXpP; sI6vD: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto keJwM; dyTZS: $id_kjm = $this->input->post("\x69\x64\x5f\x6b\152\x6d", true); goto oUeZx; eXnj4: $info = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto XtZys; iAwAL: $id_smt = $this->master->getSemesterActive()->id_smt; goto sI6vD; BUXpP: $label = $this->input->post("\x6c\x61\142\145\x6c", true); goto U_EoE; U_EoE: $id_kelas = $this->input->post("\x69\x64\x5f\153\x65\x6c\141\163", true); goto dyTZS; XtZys: if (!($info != null)) { goto aQUIS; } goto JHzjz; B9Boy: foreach ($siswa as $s) { goto D_bJG; ebqgg: $log[$s->id_siswa] = ["\x6e\141\155\141" => $s->nama, "\x6e\151\x73" => $s->nis, "\153\x65\x6c\x61\x73" => $s->nama_kelas, "\154\157\x67\x69\156" => $this->kelas->getLoginSiswa($s->username), "\x6d\x75\x6c\x61\x69" => $mulai, "\x73\x65\154\145\x73\x61\x69" => $selesai, "\164\x65\170\164" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->text : '', "\x6e\x69\x6c\x61\151" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->nilai : '', "\x63\x61\164\141\164\141\156" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->catatan : '', "\152\x61\155\137\x6b\x65" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jam_ke : null, "\x6a\141\144\x77\141\154\137\155\141\x74\145\162\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jadwal_materi : null, "\146\151\x6c\x65" => isset($logs[$s->id_siswa]) && $logs[$s->id_siswa]->file != null ? unserialize($logs[$s->id_siswa]->file) : []]; goto u1vAV; sNRuN: $selesai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->finish_time : null; goto ebqgg; D_bJG: $mulai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->log_time : null; goto sNRuN; u1vAV: N3fgh: goto z9mAl; z9mAl: } goto gLR_0; gLR_0: O2Qed: goto eXnj4; UT0N_: $this->output_json(["\x6c\157\147" => $log, "\152\x61\144\167\x61\x6c" => $info]); goto HBMNL; DeJEe: aQUIS: goto UT0N_; JHzjz: $info->istirahat = unserialize($info->istirahat); goto DeJEe; UcQxw: $log = []; goto B9Boy; keJwM: $logs = $this->kelas->getStatusMateriSiswa($id_kjm); goto UcQxw; oUeZx: $id_tp = $this->master->getTahunActive()->id_tp; goto iAwAL; HBMNL: } public function saveNilai() { goto RH5_r; QhahJ: $update = $this->db->update("\x6c\157\147\137\x6d\141\x74\x65\162\x69", $insert); goto Klx63; RH5_r: $method = $this->input->post("\155\145\x74\x68\x6f\144", true); goto QJ7vX; Z20Nn: $this->output_json($update); goto DSYuz; NPVq1: $update = $this->db->insert("\x6c\x6f\x67\137\x6d\141\164\145\162\151", $insert); goto hspZ6; hspZ6: goto xkbt3; goto mWO_J; mWO_J: D6od7: goto kd7pr; nm0UL: $this->db->where("\151\x64\x5f\x6c\157\x67", $id_log); goto pH7DM; kd7pr: $this->db->where("\151\x64\137\154\157\147", $id_log); goto QhahJ; sPk4_: $insert = ["\156\151\154\x61\151" => $nilai, "\x63\x61\164\141\x74\141\x6e" => $catatan]; goto nm0UL; QJ7vX: $label = $this->input->post("\x6c\x61\x62\145\154", true); goto qBJqv; GyyMT: $this->db->set("\151\x64\x5f\x6c\157\x67", $id_log); goto NPVq1; KLsyA: if ($q->num_rows() > 0) { goto D6od7; } goto GyyMT; pH7DM: $q = $this->db->get("\x6c\157\x67\x5f\155\141\164\145\x72\x69"); goto KLsyA; Klx63: xkbt3: goto Z20Nn; qBJqv: $id_log = $this->input->post("\x69\x64\x5f\154\x6f\x67", true); goto AlYPI; AlYPI: $nilai = $this->input->post("\156\151\154\141\x69", true); goto e0zQK; e0zQK: $catatan = $this->input->post("\x63\x61\x74\141\x74\x61\x6e", true); goto sPk4_; DSYuz: } }
