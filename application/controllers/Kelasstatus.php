<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasstatus extends CI_Controller { public function __construct() { goto wFNF_; hxgfT: redirect("\141\x75\164\x68"); goto laaES; ZnpY6: $this->form_validation->set_error_delimiters('', ''); goto cckWI; KM4VL: $this->load->model("\x4d\x61\x73\x74\x65\162\137\x6d\x6f\x64\x65\x6c", "\x6d\141\163\x74\145\x72"); goto tWcBZ; wFNF_: parent::__construct(); goto BWite; eVT_p: HBPYT: goto hxgfT; Xf3Kp: $this->load->library(["\x64\141\164\x61\164\141\142\154\x65\x73", "\146\157\x72\x6d\137\x76\x61\154\x69\144\141\164\x69\157\156"]); goto KM4VL; tWcBZ: $this->load->model("\x44\x61\x73\x68\x62\157\x61\x72\144\137\x6d\x6f\x64\145\x6c", "\144\x61\x73\150\x62\157\141\162\144"); goto SmLPM; laaES: ZGgD0: goto Xf3Kp; pmGQT: $this->load->model("\113\145\x6c\141\x73\x5f\155\157\144\145\x6c", "\153\x65\x6c\x61\x73"); goto ZnpY6; rvOtJ: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\x75\x72\x75"))) { goto LwMhB; } goto axG5i; SmLPM: $this->load->model("\104\162\x6f\x70\144\157\x77\156\x5f\x6d\157\x64\x65\154", "\x64\x72\x6f\x70\x64\157\167\156"); goto pmGQT; Qg2dI: goto ZGgD0; goto eVT_p; BWite: if (!$this->ion_auth->logged_in()) { goto HBPYT; } goto rvOtJ; axG5i: show_error("\x48\141\156\x79\141\x20\x41\x64\155\x69\x6e\151\x73\x74\x72\x61\x74\157\162\40\x79\141\x6e\x67\x20\x64\151\x62\x65\x72\x69\x20\x68\141\153\40\165\156\164\165\x6b\40\155\x65\156\x67\x61\153\163\145\x73\40\x68\x61\x6c\x61\x6d\141\156\40\151\156\151\x2c\40\74\x61\40\150\162\145\146\x3d\x22" . base_url("\144\141\x73\150\142\x6f\141\162\x64") . "\42\76\113\145\x6d\142\x61\154\151\40\x6b\x65\x20\x6d\x65\156\165\x20\x61\167\x61\154\x3c\x2f\x61\76", 403, "\x41\x6b\163\x65\x73\40\124\x65\x72\154\141\162\x61\156\x67"); goto vRq3y; vRq3y: LwMhB: goto Qg2dI; cckWI: } public function output_json($data, $encode = true) { goto xwEbJ; bagDJ: $this->output->set_content_type("\x61\160\160\154\x69\143\x61\164\151\x6f\156\57\152\x73\157\x6e")->set_output($data); goto gDgzm; Hvf2u: $data = json_encode($data); goto Tzujv; xwEbJ: if (!$encode) { goto VaIpR; } goto Hvf2u; Tzujv: VaIpR: goto bagDJ; gDgzm: } public function index() { goto DmAcD; GjaPZ: $data["\147\165\x72\x75"] = $guru; goto q1Sqt; WyNpu: if (!($mapel != null)) { goto LXUcI; } goto uv11T; K3sI9: $data = ["\165\163\145\x72" => $user, "\152\x75\144\165\154" => "\x48\x61\x73\x69\x6c\x20\x53\x69\163\167\x61", "\x73\x75\x62\152\165\x64\165\154" => "\x44\141\x74\141\40\110\141\x73\x69\x6c\x20\x53\x69\x73\x77\141", "\163\x65\x74\x74\x69\x6e\x67" => $this->dashboard->getSetting()]; goto L8efj; WI3wh: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto FMZBu; YGUic: $data["\x74\x70"] = $this->dashboard->getTahun(); goto tJUjR; uGEHl: $data["\x6d\141\x70\145\x6c\x73"] = $this->dropdown->getAllMapel(); goto B7dGb; B7dGb: $this->load->view("\137\x74\145\x6d\160\x6c\141\x74\x65\163\57\144\x61\163\x68\142\157\x61\x72\x64\x2f\137\150\145\141\x64\145\162", $data); goto mdUQc; FMZBu: $arrMapel = []; goto BhfCw; pGs_2: $data["\153\x65\154\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto uGEHl; eu4A9: $this->load->view("\x5f\x74\145\x6d\x70\x6c\x61\164\145\163\x2f\x64\141\x73\x68\x62\x6f\x61\162\x64\x2f\137\x66\157\x6f\164\145\162"); goto Xgcsv; lD8E2: $data["\x69\144\x5f\x67\x75\162\x75"] = $guru->id_guru; goto zaNCV; evUbR: if (!($mapel != null)) { goto ZxEQ0; } goto IuNEF; Ut71u: $guru = $this->dropdown->getAllGuru(); goto GQKPT; HOXNu: $data["\153\x65\x6c\141\x73"] = $arrKelas; goto RJPbn; Y5JDB: $arrId = []; goto WyNpu; cCScP: LXUcI: goto z5y2E; YiyLC: m33eQ: goto cCScP; Ohu0o: $data["\x73\x6d\164\137\141\x63\x74\x69\x76\x65"] = $smt; goto z4AMJ; uv11T: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); JGqDU: } goto YiyLC; pjkVE: $nguru[$guru->id_guru] = $guru->nama_guru; goto GjaPZ; TdiPT: goto vUtOH; goto Fqd0x; tJUjR: $data["\164\160\137\141\x63\164\x69\x76\145"] = $tp; goto osF3C; Xgcsv: vUtOH: goto VFDaP; z060e: $this->load->view("\x6b\x65\x6c\141\163\57\x73\x74\x61\x74\x75\x73\57\144\x61\x74\x61"); goto Ul9ta; crbyE: $data["\x70\x72\157\146\x69\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto Ut71u; BhfCw: $arrKelas = []; goto evUbR; HbigN: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto pjkVE; n2R7h: ZxEQ0: goto Y5JDB; RJPbn: $this->load->view("\155\145\155\142\145\x72\163\57\147\x75\x72\165\57\x74\x65\x6d\x70\x6c\x61\x74\145\x73\57\x68\x65\x61\144\x65\x72", $data); goto z060e; q1Sqt: $data["\147\x75\x72\x75\x73"] = $nguru; goto lD8E2; Fqd0x: xufGb: goto crbyE; osF3C: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto Ohu0o; wxwO1: $smt = $this->dashboard->getSemesterActive(); goto YGUic; DmAcD: $user = $this->ion_auth->user()->row(); goto K3sI9; IuNEF: foreach ($mapel as $m) { goto fasI8; NXRUz: MvFgg: goto y9rFV; pPAvr: zW9n1: goto NXRUz; fasI8: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto oJ4_G; oJ4_G: foreach ($m->kelas_mapel as $kls) { $arrKelas[$kls->kelas] = $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas); Bgs06: } goto pPAvr; y9rFV: } goto fVsYI; fVsYI: cqgjB: goto n2R7h; zaNCV: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto WI3wh; mdUQc: $this->load->view("\153\145\x6c\x61\x73\57\163\164\141\164\165\x73\57\144\141\164\141"); goto eu4A9; z5y2E: $data["\155\x61\x70\x65\x6c\163"] = $arrMapel; goto HOXNu; z4AMJ: if ($this->ion_auth->is_admin()) { goto xufGb; } goto HbigN; L8efj: $tp = $this->dashboard->getTahunActive(); goto wxwO1; GQKPT: $data["\147\165\x72\x75\x73"] = $guru; goto pGs_2; Ul9ta: $this->load->view("\x6d\x65\x6d\x62\145\162\x73\x2f\x67\165\162\165\57\x74\x65\155\x70\x6c\x61\x74\145\163\x2f\146\x6f\x6f\164\x65\x72"); goto TdiPT; VFDaP: } public function getMateriGuru() { goto eV4NJ; mz_Jl: $this->output_json(array("\155\141\x74\x65\162\151" => $arrKelasMateri, "\164\165\x67\x61\163" => $arrKelasTugas)); goto u1i_u; j9Qwj: $tp = $this->dashboard->getTahunActive(); goto fVH4C; fVH4C: $smt = $this->dashboard->getSemesterActive(); goto YXSVZ; eV4NJ: $id_guru = $this->input->get("\x69\144", true); goto j9Qwj; YXSVZ: $materi = $this->kelas->getAllKodeMateri($tp->id_tp, $smt->id_smt, $id_guru); goto uOPC7; uOPC7: $arrKelasMateri = []; goto uee3b; uee3b: $arrKelasTugas = []; goto iBByj; iBByj: foreach ($materi as $m) { goto A0DO2; W_LPB: Hu3gH: goto hEBsk; Qor29: if ($m->jenis == "\61") { goto ie6Cq; } goto sxTO4; wG_v2: ie6Cq: goto QZ8L7; QZ8L7: $arrKelasMateri[] = ["\151\x64\x5f\x6d\x61\164\x65\162\151" => $m->id_materi, "\x69\x64\137\x6b\x6a\x6d" => $m->id_kjm, "\x6a\x61\144\167\141\154" => $m->jadwal_materi, "\x6b\157\144\x65" => $m->kode_materi, "\x6d\x61\160\145\x6c" => $kode_mapel, "\x6b\x65\154\141\163" => unserialize($m->materi_kelas)]; goto W_LPB; hEBsk: nyeqG: goto av94O; kL31H: goto Hu3gH; goto wG_v2; sxTO4: $arrKelasTugas[] = ["\151\x64\x5f\155\141\164\145\162\x69" => $m->id_materi, "\151\144\137\153\152\x6d" => $m->id_kjm, "\x6a\x61\x64\167\x61\154" => $m->jadwal_materi, "\153\157\144\x65" => $m->kode_materi, "\155\x61\160\145\154" => $kode_mapel, "\153\145\x6c\x61\x73" => unserialize($m->materi_kelas)]; goto kL31H; A0DO2: $kode_mapel = $m->kode_mapel == null ? "\x2d\55" : $m->kode_mapel; goto Qor29; av94O: } goto ShglS; ShglS: CSsGX: goto mz_Jl; u1i_u: } public function getMateriMapel() { goto KZtca; eaEuD: $smt = $this->dashboard->getSemesterActive(); goto Tpz1I; Tpz1I: $materi = $this->kelas->getKodeMateriMapel($tp->id_tp, $smt->id_smt, $id_mapel); goto e_0Ji; lKA56: A2oK6: goto Kp3QU; H_BjU: $arrKelas = []; goto TAQjt; e_0Ji: $arrKelasMateri = []; goto ozfei; Kp3QU: $this->output_json(array("\155\141\x74\x65\x72\x69" => $arrKelasMateri, "\164\x75\147\x61\x73" => $arrKelasTugas, "\x6b\x65\x6c\x61\x73" => $arrKelas)); goto S2Wyz; KZtca: $id_mapel = $this->input->get("\151\144", true); goto A4hmQ; ozfei: $arrKelasTugas = []; goto H_BjU; A4hmQ: $tp = $this->dashboard->getTahunActive(); goto eaEuD; TAQjt: foreach ($materi as $m) { goto nOtn0; ZXZCs: $arrTugas = ["\151\x64\x5f\155\141\x74\x65\x72\151" => $m->id_materi, "\x69\144\137\153\x6a\x6d" => $m->id_kjm, "\x6a\141\x64\167\x61\x6c" => $m->jadwal_materi, "\153\x6f\144\x65" => $m->kode_materi, "\155\141\160\145\x6c" => $kode_mapel, "\147\165\x72\x75" => $m->nama_guru]; goto IbfB8; jpznz: daatk: goto ZSAb0; X6nZH: goto a5T7m; goto nADzy; yI02a: zjuNo: goto Z829p; XElSJ: $arrKelasMateri[$m->id_kelas] = []; goto mTTJj; tmaat: array_push($arrKelasMateri[$m->id_kelas], $arrTugas); goto rijHY; ekyIB: if (isset($arrKelas[$m->jenis])) { goto daatk; } goto lPgRX; rYkpm: ApkrM: goto UfOc0; HQQyT: $arrKelasTugas[$m->id_kelas] = []; goto tuT87; nMwjs: if ($m->jenis == "\x31") { goto hC5oK; } goto ZXZCs; S7WId: $arrMateri = ["\151\144\137\x6d\141\164\x65\x72\151" => $m->id_materi, "\151\x64\137\x6b\x6a\155" => $m->id_kjm, "\x6a\x61\144\x77\141\154" => $m->jadwal_materi, "\153\x6f\144\145" => $m->kode_materi, "\x6d\141\160\145\154" => $kode_mapel, "\x67\x75\x72\x75" => $m->nama_guru]; goto RhRlF; nADzy: h5MIR: goto tmaat; tuT87: array_push($arrKelasTugas[$m->id_kelas], $arrTugas); goto X6nZH; MRskh: fec1y: goto MPKwI; aNNlA: goto Twxrf; goto kGSxe; mTTJj: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto Mvav1; nOtn0: $kode_mapel = $m->kode_mapel == null ? "\55\55" : $m->kode_mapel; goto nMwjs; RhRlF: if (isset($arrKelasMateri[$m->id_kelas])) { goto c09be; } goto XElSJ; Z829p: tuRTN: goto rYkpm; OOI7k: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto MRskh; lPgRX: $arrKelas[$m->jenis] = []; goto bf6Sy; Mvav1: goto fec1y; goto iImOW; IbfB8: if (isset($arrKelasTugas[$m->id_kelas])) { goto h5MIR; } goto HQQyT; iImOW: c09be: goto OOI7k; Oh6i5: goto tuRTN; goto jpznz; bf6Sy: array_push($arrKelas[$m->jenis], $m->id_kelas); goto Oh6i5; ZSAb0: if (in_array($m->id_kelas, $arrKelas[$m->jenis])) { goto zjuNo; } goto g6RYr; g6RYr: array_push($arrKelas[$m->jenis], $m->id_kelas); goto yI02a; kGSxe: hC5oK: goto S7WId; MPKwI: Twxrf: goto ekyIB; rijHY: a5T7m: goto aNNlA; UfOc0: } goto lKA56; S2Wyz: } public function loadStatus() { goto EmkxP; hUsKc: $id_kelas = $this->input->post("\151\x64\x5f\153\145\x6c\x61\x73", true); goto iWv01; oPeZ_: $log = []; goto pZ8mX; rUFg4: $id_tp = $this->master->getTahunActive()->id_tp; goto gMEot; iWv01: $id_kjm = $this->input->post("\x69\x64\x5f\153\x6a\155", true); goto rUFg4; huumu: DbH_s: goto NlcAh; NlcAh: $this->output_json(["\154\x6f\147" => $log, "\x6a\x61\144\x77\141\x6c" => $info]); goto jp8Y7; eENyr: $info->istirahat = unserialize($info->istirahat); goto huumu; pZ8mX: foreach ($siswa as $s) { goto XRaYj; atrB8: $log[$s->id_siswa] = ["\156\141\x6d\141" => $s->nama, "\x6e\151\x73" => $s->nis, "\153\145\154\x61\x73" => $s->nama_kelas, "\x6c\x6f\x67\x69\156" => $this->kelas->getLoginSiswa($s->username), "\x6d\165\154\x61\151" => $mulai, "\x73\x65\154\x65\x73\141\x69" => $selesai, "\164\145\170\164" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->text : '', "\156\x69\154\x61\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->nilai : '', "\x63\141\164\x61\164\141\156" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->catatan : '', "\152\x61\x6d\137\x6b\145" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jam_ke : null, "\152\x61\x64\167\x61\x6c\137\x6d\x61\164\x65\162\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jadwal_materi : null, "\x66\x69\154\x65" => isset($logs[$s->id_siswa]) && $logs[$s->id_siswa]->file != null ? unserialize($logs[$s->id_siswa]->file) : []]; goto rccOE; rccOE: s9b7m: goto O6VFR; XRaYj: $mulai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->log_time : null; goto AJ1xi; AJ1xi: $selesai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->finish_time : null; goto atrB8; O6VFR: } goto po9m8; gMEot: $id_smt = $this->master->getSemesterActive()->id_smt; goto sFgO4; NUKjx: $info = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto l4PMt; PmRvq: $logs = $this->kelas->getStatusMateriSiswa($id_kjm); goto oPeZ_; EmkxP: $label = $this->input->post("\x6c\x61\x62\145\154", true); goto hUsKc; po9m8: wdVkc: goto NUKjx; l4PMt: if (!($info != null)) { goto DbH_s; } goto eENyr; sFgO4: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto PmRvq; jp8Y7: } public function saveNilai() { goto I4N18; I4N18: $method = $this->input->post("\155\x65\164\150\x6f\x64", true); goto gebEp; hjlET: $q = $this->db->get("\x6c\x6f\x67\x5f\x6d\x61\x74\x65\x72\x69"); goto yVQ3E; MCC1c: OAK7S: goto QEl52; MM_nV: $insert = ["\156\x69\154\x61\x69" => $nilai, "\143\141\x74\x61\x74\x61\x6e" => $catatan]; goto GH2hv; dOLpY: $this->db->set("\x69\144\x5f\x6c\157\147", $id_log); goto ilHlc; gebEp: $label = $this->input->post("\x6c\x61\142\x65\x6c", true); goto DqjWs; ilHlc: $update = $this->db->insert("\x6c\157\147\137\155\141\x74\145\x72\151", $insert); goto awDie; nbLi1: $nilai = $this->input->post("\156\151\154\x61\151", true); goto vQlS3; GH2hv: $this->db->where("\151\144\137\x6c\x6f\147", $id_log); goto hjlET; saYx0: $this->db->where("\x69\144\x5f\154\x6f\147", $id_log); goto tJwnE; awDie: goto OAK7S; goto SdLky; DqjWs: $id_log = $this->input->post("\151\144\x5f\x6c\157\147", true); goto nbLi1; yVQ3E: if ($q->num_rows() > 0) { goto QZvWF; } goto dOLpY; tJwnE: $update = $this->db->update("\x6c\157\147\x5f\155\x61\x74\145\162\151", $insert); goto MCC1c; SdLky: QZvWF: goto saYx0; QEl52: $this->output_json($update); goto Lt3pL; vQlS3: $catatan = $this->input->post("\x63\x61\164\x61\164\x61\x6e", true); goto MM_nV; Lt3pL: } }
