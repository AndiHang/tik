<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasstatus extends CI_Controller { public function __construct() { goto AFl0o; V0EbX: $this->load->model("\104\x72\x6f\160\144\x6f\x77\x6e\x5f\x6d\157\x64\145\154", "\x64\x72\157\160\x64\157\167\x6e"); goto phhLI; KeZrh: rqpbl: goto mO3uC; phhLI: $this->load->model("\x4b\145\154\x61\163\x5f\155\157\x64\x65\x6c", "\x6b\x65\154\x61\x73"); goto IPx0S; gvoMZ: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\x67\x75\x72\x75"))) { goto mqLhW; } goto pk6vF; pk6vF: show_error("\x48\x61\156\171\x61\40\101\x64\x6d\151\x6e\151\163\164\162\141\164\x6f\x72\x20\171\x61\x6e\x67\40\144\x69\142\x65\162\151\x20\150\x61\153\x20\x75\156\164\x75\x6b\40\x6d\145\x6e\x67\x61\153\163\x65\163\x20\x68\141\x6c\141\x6d\x61\156\40\151\156\x69\x2c\x20\x3c\141\x20\x68\x72\x65\x66\x3d\42" . base_url("\x64\x61\x73\x68\142\157\141\162\x64") . "\x22\x3e\113\x65\x6d\x62\141\154\151\x20\153\145\40\155\x65\156\165\x20\141\167\141\154\x3c\57\x61\76", 403, "\101\x6b\x73\145\x73\x20\x54\x65\x72\x6c\x61\162\x61\x6e\x67"); goto dGOPB; xGDAQ: goto Agmuo; goto KeZrh; mO3uC: redirect("\x61\165\x74\x68"); goto YgDie; XTTdL: if (!$this->ion_auth->logged_in()) { goto rqpbl; } goto gvoMZ; Ur3x6: $this->load->model("\x4d\x61\163\x74\145\x72\137\155\x6f\x64\145\154", "\155\141\163\164\145\x72"); goto uAbFG; uAbFG: $this->load->model("\x44\x61\163\x68\x62\157\141\x72\x64\x5f\155\x6f\x64\145\154", "\144\141\x73\x68\142\x6f\x61\x72\144"); goto V0EbX; dGOPB: mqLhW: goto xGDAQ; YgDie: Agmuo: goto VQ6II; VQ6II: $this->load->library(["\144\141\x74\x61\164\141\142\x6c\x65\x73", "\146\157\162\155\137\166\141\x6c\x69\x64\x61\164\x69\157\156"]); goto Ur3x6; AFl0o: parent::__construct(); goto XTTdL; IPx0S: $this->form_validation->set_error_delimiters('', ''); goto tjxLK; tjxLK: } public function output_json($data, $encode = true) { goto XCIMa; el0Ox: $this->output->set_content_type("\141\160\160\x6c\x69\x63\x61\x74\151\157\x6e\x2f\152\x73\x6f\x6e")->set_output($data); goto fXsjl; z6yuD: zhjXT: goto el0Ox; uSjYb: $data = json_encode($data); goto z6yuD; XCIMa: if (!$encode) { goto zhjXT; } goto uSjYb; fXsjl: } public function index() { goto Y4n8v; bONT1: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto Z_UEz; ZDu8F: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto M7YUS; lk8ok: $data["\x67\165\x72\165\163"] = $guru; goto xtiMR; u9UKo: $arrId = []; goto d2797; tNCQ5: GYJZV: goto klC5_; VKAua: y1hLt: goto sseM0; UWV2S: $data["\x69\144\137\147\165\x72\165"] = $guru->id_guru; goto bONT1; IvVBv: $data["\x6b\x65\154\141\x73"] = $arrKelas; goto imBQH; d2797: if (!($mapel != null)) { goto y1hLt; } goto oy2eg; xtiMR: $data["\x6b\x65\x6c\141\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto CgDlB; G8lYc: $data["\x67\165\x72\x75\x73"] = $nguru; goto UWV2S; ovBsw: qs3yP: goto u9UKo; EXYWO: goto VZmsi; goto tNCQ5; Y4n8v: $user = $this->ion_auth->user()->row(); goto Mv5wh; AP4mY: $data["\x67\x75\162\165"] = $guru; goto G8lYc; BLH3M: $guru = $this->dropdown->getAllGuru(); goto lk8ok; AAk7N: DBQ0c: goto ovBsw; JRpcL: $arrKelas = []; goto tjEr9; pF0s8: $this->load->view("\153\x65\154\141\163\x2f\163\x74\141\164\x75\163\57\x64\141\x74\x61"); goto H6PHE; tjEr9: if (!($mapel != null)) { goto qs3yP; } goto ApjB9; FZ_6Z: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto wXMeo; zWLDo: VZmsi: goto y_XIh; wXMeo: $data["\x73\155\x74\x5f\141\x63\x74\151\x76\x65"] = $smt; goto Sjp_S; t7a7x: $tp = $this->dashboard->getTahunActive(); goto FG4Of; imBQH: $this->load->view("\x6d\x65\155\x62\x65\162\x73\x2f\147\x75\x72\165\x2f\x74\x65\155\160\x6c\x61\164\x65\163\57\150\x65\141\144\145\x72", $data); goto pF0s8; Sjp_S: if ($this->ion_auth->is_admin()) { goto GYJZV; } goto ZDu8F; wCgBx: $this->load->view("\x5f\x74\145\155\160\x6c\141\x74\145\163\57\x64\141\x73\x68\x62\x6f\141\162\144\57\x5f\150\x65\141\x64\145\x72", $data); goto wt50x; J38XK: $data["\x74\160\x5f\141\143\164\x69\166\x65"] = $tp; goto FZ_6Z; Mv5wh: $data = ["\165\163\x65\x72" => $user, "\152\165\144\x75\154" => "\116\x69\154\141\x69\x20\x48\141\x72\x69\x61\x6e\40\x53\151\163\x77\x61", "\163\x75\142\x6a\x75\x64\x75\154" => "\116\x69\x6c\141\151", "\163\x65\164\164\151\156\147" => $this->dashboard->getSetting()]; goto t7a7x; M7YUS: $nguru[$guru->id_guru] = $guru->nama_guru; goto AP4mY; wt50x: $this->load->view("\x6b\x65\x6c\141\163\x2f\x73\164\141\164\x75\163\x2f\x64\141\x74\141"); goto aL1lo; klC5_: $data["\x70\162\157\x66\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto BLH3M; oy2eg: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); Ens6h: } goto PZSsI; Z_UEz: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto kSJWt; H6PHE: $this->load->view("\155\145\x6d\x62\x65\x72\x73\x2f\147\165\162\165\x2f\x74\x65\x6d\160\x6c\x61\x74\x65\163\x2f\146\157\x6f\164\x65\162"); goto EXYWO; aL1lo: $this->load->view("\137\x74\x65\155\160\x6c\141\x74\x65\163\57\144\x61\163\x68\x62\157\x61\x72\x64\57\x5f\x66\157\x6f\164\145\x72"); goto zWLDo; kSJWt: $arrMapel = []; goto JRpcL; CgDlB: $data["\155\141\x70\145\x6c\x73"] = $this->dropdown->getAllMapel(); goto wCgBx; sseM0: $data["\x6d\141\160\x65\x6c\x73"] = $arrMapel; goto IvVBv; oiyFM: $data["\164\160"] = $this->dashboard->getTahun(); goto J38XK; ApjB9: foreach ($mapel as $m) { goto xqxfZ; nN_l9: NoLKx: goto cqh19; xqxfZ: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto U3_ij; XSAsh: nZJDQ: goto nN_l9; U3_ij: foreach ($m->kelas_mapel as $kls) { $arrKelas[$kls->kelas] = $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas); NgLlj: } goto XSAsh; cqh19: } goto AAk7N; FG4Of: $smt = $this->dashboard->getSemesterActive(); goto oiyFM; PZSsI: avcqx: goto VKAua; y_XIh: } public function getMateriGuru() { goto ExDWl; Bwv9D: $arrKelasTugas = []; goto acoG3; Gm3bf: $this->output_json(array("\x6d\x61\164\145\162\151" => $arrKelasMateri, "\x74\x75\147\141\163" => $arrKelasTugas)); goto VHKjt; ExDWl: $id_guru = $this->input->get("\x69\x64", true); goto Tjbmm; BFOBQ: $smt = $this->dashboard->getSemesterActive(); goto A6mRX; acoG3: foreach ($materi as $m) { goto a0Oow; F3m1Q: goto lghR6; goto J_zEW; GNpuR: lghR6: goto jwk_i; J_zEW: CLFcH: goto dIw2X; dIw2X: $arrKelasMateri[] = ["\x69\x64\x5f\155\141\164\x65\162\x69" => $m->id_materi, "\151\x64\x5f\153\152\x6d" => $m->id_kjm, "\152\141\144\167\141\154" => $m->jadwal_materi, "\153\x6f\x64\145" => $m->kode_materi, "\155\x61\160\x65\x6c" => $kode_mapel, "\153\145\x6c\x61\163" => unserialize($m->materi_kelas)]; goto GNpuR; FIq9I: if ($m->jenis == "\x31") { goto CLFcH; } goto ZobJq; a0Oow: $kode_mapel = $m->kode_mapel == null ? "\55\55" : $m->kode_mapel; goto FIq9I; jwk_i: BE8p_: goto P4_Mi; ZobJq: $arrKelasTugas[] = ["\151\144\x5f\155\141\164\x65\162\x69" => $m->id_materi, "\x69\x64\137\x6b\x6a\155" => $m->id_kjm, "\152\x61\144\x77\x61\154" => $m->jadwal_materi, "\153\157\144\x65" => $m->kode_materi, "\155\x61\x70\145\x6c" => $kode_mapel, "\x6b\145\x6c\141\163" => unserialize($m->materi_kelas)]; goto F3m1Q; P4_Mi: } goto cFTuC; cFTuC: nFRca: goto Gm3bf; A6mRX: $materi = $this->kelas->getAllKodeMateri($tp->id_tp, $smt->id_smt, $id_guru); goto Jj0EL; Tjbmm: $tp = $this->dashboard->getTahunActive(); goto BFOBQ; Jj0EL: $arrKelasMateri = []; goto Bwv9D; VHKjt: } public function getMateriMapel() { goto Wg_MU; Q7j4J: $arrKelas = []; goto C5UtJ; aZcl3: FzQGa: goto tddfO; Mcrej: $smt = $this->dashboard->getSemesterActive(); goto iRODO; C5UtJ: foreach ($materi as $m) { goto N0VEA; zr0tt: array_push($arrKelasMateri[$m->id_kelas], $arrTugas); goto LqIPb; VngNK: array_push($arrKelas[$m->jenis], $m->id_kelas); goto tQT29; LqIPb: mrSPl: goto FzmIT; xk_5G: ytqMm: goto TsZr0; Z6HSV: ACWzN: goto ifjmx; Htw7K: $arrKelas[$m->jenis] = []; goto VngNK; ifjmx: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto vBdZn; N0VEA: $kode_mapel = $m->kode_mapel == null ? "\x2d\x2d" : $m->kode_mapel; goto sbKXl; sbKXl: if ($m->jenis == "\61") { goto QnOMm; } goto rk9Zf; Av4T7: iFNn0: goto UkBLr; TsZr0: if (in_array($m->id_kelas, $arrKelas[$m->jenis])) { goto sV2MA; } goto iebhB; AX6B_: if (isset($arrKelasTugas[$m->id_kelas])) { goto UQzeH; } goto ccdWY; iebhB: array_push($arrKelas[$m->jenis], $m->id_kelas); goto Y6OoW; q1RIM: array_push($arrKelasTugas[$m->id_kelas], $arrTugas); goto iAUZh; rk9Zf: $arrTugas = ["\151\x64\x5f\155\141\164\x65\162\151" => $m->id_materi, "\151\144\137\153\152\x6d" => $m->id_kjm, "\x6a\x61\144\x77\x61\x6c" => $m->jadwal_materi, "\x6b\157\x64\145" => $m->kode_materi, "\155\141\x70\x65\154" => $kode_mapel, "\x67\x75\x72\165" => $m->nama_guru]; goto AX6B_; tQT29: goto ayE7_; goto xk_5G; MM4zW: $arrMateri = ["\151\x64\x5f\155\x61\x74\145\162\151" => $m->id_materi, "\151\144\137\x6b\x6a\x6d" => $m->id_kjm, "\152\141\x64\167\141\154" => $m->jadwal_materi, "\153\x6f\x64\x65" => $m->kode_materi, "\155\141\160\145\154" => $kode_mapel, "\147\x75\x72\165" => $m->nama_guru]; goto g8ShO; XdPsz: UQzeH: goto zr0tt; vBdZn: RNswH: goto Av4T7; UkBLr: if (isset($arrKelas[$m->jenis])) { goto ytqMm; } goto Htw7K; MRexk: QnOMm: goto MM4zW; hiWZW: $arrKelasMateri[$m->id_kelas] = []; goto KvXhe; iAUZh: goto mrSPl; goto XdPsz; dP5R6: goto RNswH; goto Z6HSV; Yzvle: kfy3y: goto dGD2X; mJl8e: ayE7_: goto Yzvle; g8ShO: if (isset($arrKelasMateri[$m->id_kelas])) { goto ACWzN; } goto hiWZW; KvXhe: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto dP5R6; Y6OoW: sV2MA: goto mJl8e; FzmIT: goto iFNn0; goto MRexk; ccdWY: $arrKelasTugas[$m->id_kelas] = []; goto q1RIM; dGD2X: } goto aZcl3; Wg_MU: $id_mapel = $this->input->get("\151\144", true); goto enYA2; tddfO: $this->output_json(array("\155\x61\x74\145\162\x69" => $arrKelasMateri, "\x74\x75\147\x61\x73" => $arrKelasTugas, "\153\145\154\141\163" => $arrKelas)); goto LeLcA; AH3Sf: $arrKelasMateri = []; goto hIXbI; iRODO: $materi = $this->kelas->getKodeMateriMapel($tp->id_tp, $smt->id_smt, $id_mapel); goto AH3Sf; hIXbI: $arrKelasTugas = []; goto Q7j4J; enYA2: $tp = $this->dashboard->getTahunActive(); goto Mcrej; LeLcA: } public function loadStatus() { goto oXBDz; SWW8o: $id_kjm = $this->input->post("\151\144\137\x6b\x6a\155", true); goto Hw7Td; XD2mU: if (!($info != null)) { goto K4bv5; } goto khoff; kgZNO: $id_smt = $this->master->getSemesterActive()->id_smt; goto fK4XO; fK4XO: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto ereCZ; TfKTn: K4bv5: goto xzGVs; xzGVs: $this->output_json(["\x6c\157\147" => $log, "\x6a\x61\x64\167\141\154" => $info]); goto Qf1P0; oFkL9: $info = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto XD2mU; khoff: $info->istirahat = unserialize($info->istirahat); goto TfKTn; CjM_X: P7TK3: goto oFkL9; cxa3A: $id_kelas = $this->input->post("\x69\144\137\153\x65\x6c\x61\163", true); goto SWW8o; ereCZ: $logs = $this->kelas->getStatusMateriSiswa($id_kjm); goto Tlszl; G9dq2: foreach ($siswa as $s) { goto WQNhk; G1eUX: VkTzq: goto Ix3nz; PYN_j: $selesai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->finish_time : null; goto WaxEg; WaxEg: $log[$s->id_siswa] = ["\x6e\x61\155\x61" => $s->nama, "\156\x69\163" => $s->nis, "\x6b\145\154\x61\x73" => $s->nama_kelas, "\x6c\157\147\151\x6e" => $this->kelas->getLoginSiswa($s->username), "\155\x75\x6c\141\151" => $mulai, "\163\145\154\145\163\x61\151" => $selesai, "\x74\x65\170\x74" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->text : '', "\156\151\154\x61\151" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->nilai : '', "\143\x61\164\141\164\x61\156" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->catatan : '', "\152\x61\155\x5f\x6b\x65" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jam_ke : null, "\x6a\141\144\167\141\154\x5f\155\141\x74\145\x72\151" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jadwal_materi : null, "\x66\151\x6c\145" => isset($logs[$s->id_siswa]) && $logs[$s->id_siswa]->file != null ? unserialize($logs[$s->id_siswa]->file) : []]; goto G1eUX; WQNhk: $mulai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->log_time : null; goto PYN_j; Ix3nz: } goto CjM_X; Hw7Td: $id_tp = $this->master->getTahunActive()->id_tp; goto kgZNO; oXBDz: $label = $this->input->post("\x6c\x61\x62\x65\x6c", true); goto cxa3A; Tlszl: $log = []; goto G9dq2; Qf1P0: } public function saveNilai() { goto HS4KB; yTh74: $label = $this->input->post("\x6c\141\x62\145\154", true); goto alRQx; TJ3BS: $insert = ["\156\151\x6c\141\x69" => $nilai, "\x63\141\x74\x61\x74\141\x6e" => $catatan]; goto uoTCs; tQuwR: $this->db->where("\x69\144\137\x6c\157\147", $id_log); goto v8DNS; rdbxq: f0zjQ: goto ldj9O; ldj9O: $this->output_json($update); goto P539W; uDLne: goto f0zjQ; goto YaiXa; m6lNf: $this->db->set("\x69\144\x5f\154\157\147", $id_log); goto LfhnH; LfhnH: $update = $this->db->insert("\x6c\157\147\x5f\155\x61\164\145\x72\151", $insert); goto uDLne; v8DNS: $update = $this->db->update("\154\x6f\x67\137\x6d\x61\164\x65\x72\151", $insert); goto rdbxq; ha5Io: $catatan = $this->input->post("\x63\x61\164\141\x74\141\156", true); goto TJ3BS; yTFY7: if ($q->num_rows() > 0) { goto w1Gdk; } goto m6lNf; YaiXa: w1Gdk: goto tQuwR; uoTCs: $this->db->where("\151\144\x5f\x6c\x6f\x67", $id_log); goto cKNgf; U6Kfu: $nilai = $this->input->post("\x6e\151\x6c\x61\151", true); goto ha5Io; alRQx: $id_log = $this->input->post("\151\144\137\154\x6f\147", true); goto U6Kfu; cKNgf: $q = $this->db->get("\x6c\157\x67\137\x6d\x61\164\x65\x72\x69"); goto yTFY7; HS4KB: $method = $this->input->post("\155\x65\164\150\157\144", true); goto yTh74; P539W: } }
