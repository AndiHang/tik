<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasstatus extends CI_Controller { public function __construct() { goto w7mEI; AOh7R: $this->form_validation->set_error_delimiters('', ''); goto s2YO4; zXZtt: $this->load->library(["\x64\141\x74\x61\164\141\x62\154\145\x73", "\x66\x6f\x72\x6d\137\166\141\154\x69\x64\141\x74\x69\x6f\156"]); goto dmMqu; Ojfi5: show_error("\110\141\x6e\x79\141\40\101\x64\155\151\156\x69\x73\164\162\141\x74\157\162\x20\x79\x61\156\147\40\144\x69\x62\145\x72\x69\x20\x68\x61\x6b\x20\x75\x6e\x74\165\153\x20\155\145\x6e\x67\x61\x6b\x73\145\x73\x20\150\x61\x6c\x61\x6d\141\x6e\x20\x69\x6e\151\54\x20\x3c\x61\40\x68\x72\x65\146\x3d\42" . base_url("\x64\x61\x73\150\x62\157\x61\x72\x64") . "\x22\x3e\x4b\145\x6d\x62\141\x6c\151\40\x6b\x65\40\x6d\145\x6e\165\x20\x61\167\x61\154\x3c\57\141\x3e", 403, "\x41\153\x73\145\163\x20\124\x65\162\x6c\x61\x72\x61\x6e\x67"); goto LN0Dt; jqnSZ: goto PRkhW; goto TvCaD; JXbq5: redirect("\141\165\x74\x68"); goto ruXYH; elTxz: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\165\162\x75"))) { goto ONT8B; } goto Ojfi5; w7mEI: parent::__construct(); goto x6q4p; imW6_: $this->load->model("\104\141\163\150\142\x6f\x61\x72\144\x5f\x6d\157\144\145\x6c", "\144\x61\163\x68\142\157\141\162\x64"); goto o5LnX; o5LnX: $this->load->model("\104\x72\157\x70\x64\157\x77\156\137\x6d\157\x64\145\154", "\144\162\157\x70\144\157\x77\x6e"); goto VxxIP; ruXYH: PRkhW: goto zXZtt; TvCaD: upO03: goto JXbq5; VxxIP: $this->load->model("\x4b\x65\154\141\x73\137\x6d\x6f\x64\145\154", "\153\x65\154\141\x73"); goto AOh7R; dmMqu: $this->load->model("\x4d\x61\x73\x74\x65\162\x5f\x6d\157\x64\x65\154", "\x6d\141\x73\164\x65\162"); goto imW6_; x6q4p: if (!$this->ion_auth->logged_in()) { goto upO03; } goto elTxz; LN0Dt: ONT8B: goto jqnSZ; s2YO4: } public function output_json($data, $encode = true) { goto T4ZxQ; fyg8I: $this->output->set_content_type("\141\160\x70\154\x69\143\141\164\x69\157\156\x2f\152\163\157\156")->set_output($data); goto EiLda; T4ZxQ: if (!$encode) { goto QW8Sm; } goto uAe5b; uAe5b: $data = json_encode($data); goto UNhfS; UNhfS: QW8Sm: goto fyg8I; EiLda: } public function index() { goto X4dNE; vuw98: tnBOh: goto YaBSf; k915L: $arrMapel = []; goto dPcSY; fAzoA: $data["\x74\x70\137\x61\x63\x74\x69\x76\x65"] = $tp; goto mp0cA; x7PzI: c7BdD: goto b70DT; dPcSY: $arrKelas = []; goto Z8RWR; PaoCX: qVgbJ: goto ayVnM; S9e9L: $smt = $this->dashboard->getSemesterActive(); goto y9jdr; sCbgH: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto w85i9; tdYKv: $data["\147\x75\162\165\x73"] = $nguru; goto tZKNJ; oVs_0: $data["\163\x6d\x74\137\141\143\x74\x69\x76\x65"] = $smt; goto Q1Gg4; PeyYI: goto c7BdD; goto PaoCX; Qgu7f: $this->load->view("\137\164\x65\x6d\160\154\x61\164\x65\163\x2f\144\141\163\x68\x62\157\x61\x72\x64\57\x5f\150\145\141\144\145\x72", $data); goto V4SrL; BdF2w: wAlIQ: goto uaw_r; w85i9: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto k915L; z784i: $data["\155\141\160\145\154\x73"] = $this->dropdown->getAllMapel(); goto Qgu7f; r3dLf: $tp = $this->dashboard->getTahunActive(); goto S9e9L; QNhjj: $data["\147\x75\162\165"] = $guru; goto tdYKv; PvNqY: $data["\x67\x75\x72\165\163"] = $guru; goto pN0iK; Q1Gg4: if ($this->ion_auth->is_admin()) { goto qVgbJ; } goto Iw1g5; c7pdS: $arrId = []; goto ImO8R; aNVCW: $data["\153\145\154\x61\163"] = $arrKelas; goto k0Pk4; d_o20: $this->load->view("\x6b\x65\154\x61\163\57\x73\164\x61\164\x75\163\x2f\144\x61\x74\x61"); goto GlRNY; ayVnM: $data["\x70\162\x6f\x66\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto E6R0e; YR32B: $data = ["\x75\163\145\162" => $user, "\x6a\x75\144\165\x6c" => "\x4e\x69\154\141\151\40\110\141\x72\x69\x61\156\x20\123\x69\x73\x77\x61", "\x73\165\142\x6a\x75\x64\165\154" => "\116\151\154\x61\151", "\163\145\x74\164\151\156\147" => $this->dashboard->getSetting()]; goto r3dLf; Iw1g5: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto N7wj7; tZKNJ: $data["\x69\x64\137\147\x75\162\x75"] = $guru->id_guru; goto sCbgH; pN0iK: $data["\153\x65\x6c\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto z784i; y9jdr: $data["\x74\x70"] = $this->dashboard->getTahun(); goto fAzoA; GlRNY: $this->load->view("\155\145\x6d\142\145\162\163\x2f\x67\165\x72\x75\x2f\x74\145\155\160\154\x61\x74\x65\163\x2f\146\157\157\x74\x65\x72"); goto PeyYI; uaw_r: SFs_I: goto c7pdS; ImO8R: if (!($mapel != null)) { goto yKTHj; } goto y7TYV; Z8RWR: if (!($mapel != null)) { goto SFs_I; } goto QUsP3; QUsP3: foreach ($mapel as $m) { goto wTjk_; yS_IS: foreach ($m->kelas_mapel as $kls) { $arrKelas[$kls->kelas] = $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas); kd2D5: } goto e7iBm; wTjk_: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto yS_IS; o3ORS: IgXOj: goto q3NCv; e7iBm: fFDeM: goto o3ORS; q3NCv: } goto BdF2w; YaBSf: yKTHj: goto j8nJz; j8nJz: $data["\155\141\160\145\154\163"] = $arrMapel; goto aNVCW; mp0cA: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto oVs_0; LFgLO: $this->load->view("\137\164\145\155\x70\154\x61\164\x65\x73\57\x64\141\163\x68\x62\157\x61\162\144\x2f\137\x66\157\157\x74\x65\162"); goto x7PzI; N7wj7: $nguru[$guru->id_guru] = $guru->nama_guru; goto QNhjj; E6R0e: $guru = $this->dropdown->getAllGuru(); goto PvNqY; X4dNE: $user = $this->ion_auth->user()->row(); goto YR32B; k0Pk4: $this->load->view("\x6d\x65\x6d\142\145\162\x73\x2f\147\x75\162\x75\x2f\x74\145\155\160\154\x61\164\145\x73\57\x68\x65\141\144\x65\x72", $data); goto d_o20; y7TYV: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); n95EC: } goto vuw98; V4SrL: $this->load->view("\153\145\x6c\141\x73\57\x73\x74\x61\164\x75\163\57\144\141\164\141"); goto LFgLO; b70DT: } public function getMateriGuru() { goto PEIWK; v8ujx: $arrKelasTugas = []; goto S2Pj0; XSR3I: $arrKelasMateri = []; goto v8ujx; bLdjm: $tp = $this->dashboard->getTahunActive(); goto lRgE1; nx98K: $materi = $this->kelas->getAllKodeMateri($tp->id_tp, $smt->id_smt, $id_guru); goto XSR3I; Y0ejS: $this->output_json(array("\x6d\141\x74\145\x72\x69" => $arrKelasMateri, "\164\x75\x67\x61\x73" => $arrKelasTugas)); goto wWURr; H8Ftu: UGJMn: goto Y0ejS; S2Pj0: foreach ($materi as $m) { goto zXXOa; O4pNK: $arrKelasTugas[] = ["\x69\x64\137\155\141\x74\145\x72\151" => $m->id_materi, "\x69\x64\137\x6b\x6a\155" => $m->id_kjm, "\152\x61\144\x77\x61\x6c" => $m->jadwal_materi, "\153\x6f\x64\x65" => $m->kode_materi, "\155\x61\160\x65\154" => $kode_mapel, "\x6b\145\154\141\x73" => unserialize($m->materi_kelas)]; goto eWart; YIi06: dIlCE: goto LE9_3; FYN2L: ns_IM: goto njvNO; Yz5no: da283: goto FYN2L; QhVmV: if ($m->jenis == "\x31") { goto dIlCE; } goto O4pNK; LE9_3: $arrKelasMateri[] = ["\151\x64\x5f\x6d\141\x74\x65\x72\x69" => $m->id_materi, "\151\144\x5f\x6b\x6a\x6d" => $m->id_kjm, "\152\141\x64\x77\x61\154" => $m->jadwal_materi, "\x6b\x6f\144\145" => $m->kode_materi, "\x6d\x61\x70\145\154" => $kode_mapel, "\153\x65\x6c\141\163" => unserialize($m->materi_kelas)]; goto Yz5no; eWart: goto da283; goto YIi06; zXXOa: $kode_mapel = $m->kode_mapel == null ? "\x2d\x2d" : $m->kode_mapel; goto QhVmV; njvNO: } goto H8Ftu; PEIWK: $id_guru = $this->input->get("\x69\144", true); goto bLdjm; lRgE1: $smt = $this->dashboard->getSemesterActive(); goto nx98K; wWURr: } public function getMateriMapel() { goto hqjn2; pT9KR: $tp = $this->dashboard->getTahunActive(); goto hH9p0; CopJg: $this->output_json(array("\x6d\141\x74\x65\162\151" => $arrKelasMateri, "\164\x75\147\x61\163" => $arrKelasTugas, "\x6b\145\154\x61\x73" => $arrKelas)); goto GrLL4; v0UNE: $arrKelas = []; goto EN8XO; M3aB3: dAyV5: goto CopJg; hRZyZ: $arrKelasTugas = []; goto v0UNE; hqjn2: $id_mapel = $this->input->get("\x69\144", true); goto pT9KR; o4VUh: $materi = $this->kelas->getKodeMateriMapel($tp->id_tp, $smt->id_smt, $id_mapel); goto n4Obs; hH9p0: $smt = $this->dashboard->getSemesterActive(); goto o4VUh; n4Obs: $arrKelasMateri = []; goto hRZyZ; EN8XO: foreach ($materi as $m) { goto YU5V8; YtV1C: iA0_M: goto UqekD; QWq1Z: $arrKelasMateri[$m->id_kelas] = []; goto rffrA; UqekD: goto xTPC9; goto EXMHS; rffrA: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto nK7GQ; I56Lb: array_push($arrKelasMateri[$m->id_kelas], $arrTugas); goto YtV1C; TPZGx: dzppT: goto mbS31; D8A2_: qaWkx: goto qIG7L; YU5V8: $kode_mapel = $m->kode_mapel == null ? "\55\55" : $m->kode_mapel; goto BC4_b; hvFtE: VQWQz: goto GcHJW; GcHJW: X_SFc: goto HZSd2; NjMZu: $arrKelasTugas[$m->id_kelas] = []; goto SOY_Q; CdOXg: goto iA0_M; goto uRmOk; j0S1H: goto X_SFc; goto um3wW; nK7GQ: goto dzppT; goto D8A2_; ARfjP: $arrMateri = ["\x69\x64\137\155\x61\164\145\162\151" => $m->id_materi, "\x69\x64\137\153\x6a\155" => $m->id_kjm, "\x6a\x61\x64\167\x61\x6c" => $m->jadwal_materi, "\153\x6f\144\145" => $m->kode_materi, "\155\x61\160\145\x6c" => $kode_mapel, "\x67\x75\x72\165" => $m->nama_guru]; goto mrhqn; rmqQ8: $arrTugas = ["\151\x64\137\x6d\141\x74\x65\x72\x69" => $m->id_materi, "\151\144\137\x6b\152\x6d" => $m->id_kjm, "\152\x61\144\167\141\154" => $m->jadwal_materi, "\x6b\x6f\x64\x65" => $m->kode_materi, "\155\x61\160\x65\154" => $kode_mapel, "\147\165\x72\165" => $m->nama_guru]; goto MnaUD; MnaUD: if (isset($arrKelasTugas[$m->id_kelas])) { goto A1RWN; } goto NjMZu; BC4_b: if ($m->jenis == "\x31") { goto xHVna; } goto rmqQ8; uRmOk: A1RWN: goto I56Lb; mrhqn: if (isset($arrKelasMateri[$m->id_kelas])) { goto qaWkx; } goto QWq1Z; qIG7L: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto TPZGx; OK9PB: $arrKelas[$m->jenis] = []; goto i1LJh; RQzsi: array_push($arrKelas[$m->jenis], $m->id_kelas); goto hvFtE; HZSd2: aS2by: goto yfOAV; EXMHS: xHVna: goto ARfjP; um3wW: Y1YnX: goto XXrdW; i1LJh: array_push($arrKelas[$m->jenis], $m->id_kelas); goto j0S1H; t47R5: if (isset($arrKelas[$m->jenis])) { goto Y1YnX; } goto OK9PB; XXrdW: if (in_array($m->id_kelas, $arrKelas[$m->jenis])) { goto VQWQz; } goto RQzsi; SOY_Q: array_push($arrKelasTugas[$m->id_kelas], $arrTugas); goto CdOXg; mbS31: xTPC9: goto t47R5; yfOAV: } goto M3aB3; GrLL4: } public function loadStatus() { goto uSXPd; So8Zc: $log = []; goto fyRbK; MqhPU: $id_kelas = $this->input->post("\151\144\137\153\x65\x6c\x61\163", true); goto l6x8n; vy0CN: if (!($info != null)) { goto xYtFO; } goto k3nYp; fyRbK: foreach ($siswa as $s) { goto X9vBj; MajY_: $selesai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->finish_time : null; goto e8nON; EnbCe: FzUvS: goto Nwn4W; X9vBj: $mulai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->log_time : null; goto MajY_; e8nON: $log[$s->id_siswa] = ["\156\x61\155\141" => $s->nama, "\x6e\151\x73" => $s->nis, "\153\x65\154\141\x73" => $s->nama_kelas, "\x6c\x6f\x67\151\x6e" => $this->kelas->getLoginSiswa($s->username), "\155\165\154\141\x69" => $mulai, "\x73\145\154\145\x73\x61\x69" => $selesai, "\164\145\x78\164" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->text : '', "\x6e\x69\x6c\x61\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->nilai : '', "\143\141\x74\x61\164\x61\156" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->catatan : '', "\x6a\141\155\137\x6b\x65" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jam_ke : null, "\x6a\141\144\x77\x61\154\x5f\x6d\x61\x74\x65\162\151" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jadwal_materi : null, "\146\151\154\145" => isset($logs[$s->id_siswa]) && $logs[$s->id_siswa]->file != null ? unserialize($logs[$s->id_siswa]->file) : []]; goto EnbCe; Nwn4W: } goto og5vX; dcBJM: $info = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto vy0CN; og5vX: jk13s: goto dcBJM; lxnQ_: $id_tp = $this->master->getTahunActive()->id_tp; goto RUQcS; mQPxH: xYtFO: goto DLthp; uSXPd: $label = $this->input->post("\x6c\x61\142\x65\x6c", true); goto MqhPU; l6x8n: $id_kjm = $this->input->post("\151\144\137\153\x6a\155", true); goto lxnQ_; RUQcS: $id_smt = $this->master->getSemesterActive()->id_smt; goto WX922; WX922: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto QBNVa; k3nYp: $info->istirahat = unserialize($info->istirahat); goto mQPxH; DLthp: $this->output_json(["\x6c\157\147" => $log, "\x6a\141\x64\x77\x61\x6c" => $info]); goto Nvz0a; QBNVa: $logs = $this->kelas->getStatusMateriSiswa($id_kjm); goto So8Zc; Nvz0a: } public function saveNilai() { goto CFItS; oSZfh: X3bWL: goto uulSV; uulSV: $this->output_json($update); goto S3y_h; RxOVV: $q = $this->db->get("\154\x6f\147\137\155\141\164\x65\162\x69"); goto jlweM; CFItS: $method = $this->input->post("\x6d\x65\x74\150\x6f\144", true); goto aE7j8; yJ1AI: $this->db->set("\151\144\x5f\x6c\x6f\x67", $id_log); goto tOI5U; J9xpU: $id_log = $this->input->post("\151\x64\x5f\154\157\147", true); goto vI2be; A_zJq: $insert = ["\156\x69\154\141\x69" => $nilai, "\x63\141\x74\141\164\x61\x6e" => $catatan]; goto uxO7g; uwsN_: $this->db->where("\x69\144\137\154\157\x67", $id_log); goto iNmsd; tOI5U: $update = $this->db->insert("\154\x6f\147\137\155\x61\x74\x65\162\x69", $insert); goto Ub_BJ; jlweM: if ($q->num_rows() > 0) { goto HhXL5; } goto yJ1AI; vI2be: $nilai = $this->input->post("\x6e\151\154\x61\151", true); goto HZ_VU; aE7j8: $label = $this->input->post("\x6c\141\142\145\154", true); goto J9xpU; HZ_VU: $catatan = $this->input->post("\143\x61\x74\x61\x74\141\156", true); goto A_zJq; uxO7g: $this->db->where("\151\x64\x5f\x6c\157\x67", $id_log); goto RxOVV; Ub_BJ: goto X3bWL; goto xzVVS; iNmsd: $update = $this->db->update("\x6c\157\x67\x5f\155\141\x74\x65\162\151", $insert); goto oSZfh; xzVVS: HhXL5: goto uwsN_; S3y_h: } }
