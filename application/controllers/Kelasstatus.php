<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasstatus extends CI_Controller { public function __construct() { goto Aveyd; nP_5l: $this->load->model("\x4b\145\154\x61\163\137\x6d\x6f\144\x65\x6c", "\x6b\145\154\141\x73"); goto RAswi; A8WPt: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\x67\165\162\x75"))) { goto tY4Xd; } goto kV9ty; y6Fbf: MmnQw: goto dNzw7; kV9ty: show_error("\110\141\156\x79\141\40\x41\144\x6d\151\x6e\151\x73\x74\162\x61\164\x6f\x72\40\171\x61\x6e\x67\40\144\151\x62\145\x72\x69\40\x68\141\x6b\40\165\x6e\x74\165\x6b\x20\155\x65\x6e\147\141\153\x73\145\163\x20\150\141\x6c\x61\x6d\141\x6e\x20\x69\156\151\x2c\x20\x3c\141\x20\150\162\x65\x66\x3d\42" . base_url("\x64\x61\x73\x68\x62\x6f\x61\162\144") . "\42\76\113\x65\x6d\142\141\154\x69\x20\153\x65\x20\155\x65\x6e\x75\x20\141\167\141\x6c\x3c\x2f\141\x3e", 403, "\x41\153\163\x65\163\40\124\x65\x72\x6c\x61\162\141\x6e\x67"); goto Gb1Li; bCfHq: $this->load->model("\x4d\141\163\x74\145\162\x5f\x6d\157\144\145\154", "\x6d\x61\163\164\x65\162"); goto I36tP; tQkRa: $this->load->model("\104\x72\157\x70\144\157\x77\156\x5f\155\x6f\x64\145\x6c", "\144\162\x6f\160\x64\x6f\167\x6e"); goto nP_5l; Gb1Li: tY4Xd: goto GjKfv; RAswi: $this->form_validation->set_error_delimiters('', ''); goto M3fNT; qBYZI: sq9Z5: goto IY6QI; tsr41: if (!$this->ion_auth->logged_in()) { goto MmnQw; } goto A8WPt; Aveyd: parent::__construct(); goto tsr41; GjKfv: goto sq9Z5; goto y6Fbf; IY6QI: $this->load->library(["\x64\141\164\141\x74\x61\x62\154\x65\163", "\146\157\162\x6d\x5f\x76\141\154\x69\x64\141\x74\151\157\x6e"]); goto bCfHq; dNzw7: redirect("\x61\x75\164\x68"); goto qBYZI; I36tP: $this->load->model("\x44\141\163\x68\142\x6f\141\162\144\x5f\x6d\157\144\145\154", "\144\141\x73\150\x62\x6f\x61\162\144"); goto tQkRa; M3fNT: } public function output_json($data, $encode = true) { goto BFVOh; BFVOh: if (!$encode) { goto eou2F; } goto EfmsZ; OFS6b: eou2F: goto VE7Ky; EfmsZ: $data = json_encode($data); goto OFS6b; VE7Ky: $this->output->set_content_type("\141\160\x70\x6c\151\x63\141\164\x69\157\156\57\152\x73\157\x6e")->set_output($data); goto jfmnb; jfmnb: } public function index() { goto TPsau; BfO4n: SG5XR: goto j3Jbw; A6np2: $data = ["\165\x73\145\162" => $user, "\x6a\x75\x64\x75\154" => "\x4e\151\x6c\x61\x69\40\110\141\162\x69\x61\x6e\x20\123\x69\x73\x77\141", "\163\165\142\152\165\144\165\154" => "\x4e\x69\x6c\x61\x69", "\x73\145\x74\164\x69\x6e\147" => $this->dashboard->getSetting()]; goto BeYBC; ve8CQ: foreach ($mapel as $m) { goto En0Z4; ccyQm: zHELt: goto yJW4S; i4RQL: foreach ($m->kelas_mapel as $kls) { $arrKelas[$kls->kelas] = $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas); wk2zf: } goto ccyQm; En0Z4: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto i4RQL; yJW4S: ryRYl: goto mVl3C; mVl3C: } goto BfO4n; qm2jt: $arrKelas = []; goto UjXPt; Blt2o: $data["\x6b\x65\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto y6p1E; jm709: ObNPl: goto aJz_S; MKV_n: goto ot7KY; goto jm709; BeYBC: $tp = $this->dashboard->getTahunActive(); goto nGO09; FUjuq: $this->load->view("\x6b\145\154\x61\x73\x2f\163\164\x61\x74\x75\163\x2f\x64\141\x74\141"); goto gx77z; BR8hb: $guru = $this->dropdown->getAllGuru(); goto ShQr6; j3Jbw: yRx17: goto GBCI4; J8xfl: $this->load->view("\x6d\x65\155\142\145\x72\163\57\x67\x75\162\165\57\164\x65\155\x70\154\x61\x74\145\163\57\150\x65\141\x64\x65\x72", $data); goto FUjuq; Szker: $arrMapel = []; goto qm2jt; TPsau: $user = $this->ion_auth->user()->row(); goto A6np2; y6p1E: $data["\x6d\141\x70\145\x6c\163"] = $this->dropdown->getAllMapel(); goto cFxCd; qUdyn: $data["\151\144\x5f\147\165\162\165"] = $guru->id_guru; goto IXbqH; CLTTc: if ($this->ion_auth->is_admin()) { goto ObNPl; } goto og9NR; uVZsd: $data["\x74\160"] = $this->dashboard->getTahun(); goto PyDPH; JeIMV: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); BxI11: } goto CLP4i; nGO09: $smt = $this->dashboard->getSemesterActive(); goto uVZsd; OiLi1: $nguru[$guru->id_guru] = $guru->nama_guru; goto b9RYj; UjXPt: if (!($mapel != null)) { goto yRx17; } goto ve8CQ; gOWoa: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto K7dyL; T1yNm: $this->load->view("\x5f\164\x65\155\160\x6c\x61\x74\145\x73\57\x64\141\x73\x68\x62\157\x61\x72\144\x2f\137\x66\x6f\157\164\145\162"); goto D_LoX; gQYei: $data["\x6b\x65\154\x61\x73"] = $arrKelas; goto J8xfl; IDzZr: $this->load->view("\x6b\x65\154\141\163\x2f\x73\164\x61\x74\x75\x73\x2f\x64\x61\164\x61"); goto T1yNm; GBCI4: $arrId = []; goto mDaCR; aJz_S: $data["\x70\162\x6f\146\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto BR8hb; MH2N_: $data["\155\141\x70\x65\x6c\x73"] = $arrMapel; goto gQYei; M76US: $data["\147\x75\x72\165\x73"] = $nguru; goto qUdyn; b9RYj: $data["\x67\x75\x72\165"] = $guru; goto M76US; ShQr6: $data["\x67\x75\162\x75\x73"] = $guru; goto Blt2o; Vy5W_: Yle8g: goto MH2N_; cFxCd: $this->load->view("\137\164\145\155\x70\x6c\x61\164\x65\x73\57\144\141\x73\150\x62\x6f\x61\x72\144\57\137\150\x65\x61\144\145\162", $data); goto IDzZr; og9NR: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto OiLi1; PyDPH: $data["\x74\160\x5f\x61\x63\x74\x69\166\145"] = $tp; goto gOWoa; D_LoX: ot7KY: goto nTBfa; mDaCR: if (!($mapel != null)) { goto Yle8g; } goto JeIMV; gx77z: $this->load->view("\155\x65\155\x62\145\162\163\x2f\147\165\x72\165\57\x74\x65\x6d\x70\x6c\141\164\145\x73\x2f\146\x6f\x6f\x74\x65\162"); goto MKV_n; fAoI3: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto Szker; K7dyL: $data["\163\155\164\x5f\x61\143\x74\x69\x76\145"] = $smt; goto CLTTc; CLP4i: dXjPt: goto Vy5W_; IXbqH: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto fAoI3; nTBfa: } public function getMateriGuru() { goto ZPKwc; ZPKwc: $id_guru = $this->input->get("\x69\144", true); goto ctAdK; JX9y4: $arrKelasMateri = []; goto mg3ry; nvmTc: EzGAs: goto vvdfx; PPcym: $materi = $this->kelas->getAllKodeMateri($tp->id_tp, $smt->id_smt, $id_guru); goto JX9y4; mg3ry: $arrKelasTugas = []; goto ZAvOx; vvdfx: $this->output_json(array("\x6d\x61\164\x65\162\151" => $arrKelasMateri, "\x74\165\147\141\x73" => $arrKelasTugas)); goto bKjkI; m1L3E: $smt = $this->dashboard->getSemesterActive(); goto PPcym; ZAvOx: foreach ($materi as $m) { goto AjnYW; FXOa5: $arrKelasTugas[] = ["\x69\144\x5f\155\141\164\x65\x72\151" => $m->id_materi, "\x69\144\137\x6b\x6a\x6d" => $m->id_kjm, "\x6a\x61\x64\x77\141\154" => $m->jadwal_materi, "\153\x6f\x64\x65" => $m->kode_materi, "\155\x61\160\145\154" => $kode_mapel, "\153\x65\154\x61\x73" => unserialize($m->materi_kelas)]; goto ixlhi; FhREn: gbcRY: goto mDXLM; eCZlT: fJbqI: goto FhREn; ufU21: if ($m->jenis == "\61") { goto SEE9n; } goto FXOa5; C2TYz: SEE9n: goto Pu2xT; ixlhi: goto fJbqI; goto C2TYz; Pu2xT: $arrKelasMateri[] = ["\151\x64\x5f\x6d\x61\164\145\162\x69" => $m->id_materi, "\151\x64\x5f\x6b\152\x6d" => $m->id_kjm, "\x6a\141\x64\x77\x61\x6c" => $m->jadwal_materi, "\153\157\144\x65" => $m->kode_materi, "\155\x61\x70\145\x6c" => $kode_mapel, "\x6b\x65\x6c\x61\163" => unserialize($m->materi_kelas)]; goto eCZlT; AjnYW: $kode_mapel = $m->kode_mapel == null ? "\55\55" : $m->kode_mapel; goto ufU21; mDXLM: } goto nvmTc; ctAdK: $tp = $this->dashboard->getTahunActive(); goto m1L3E; bKjkI: } public function getMateriMapel() { goto rzbAW; rzbAW: $id_mapel = $this->input->get("\151\144", true); goto ght8w; M__KG: $arrKelasTugas = []; goto edl0g; P80Ut: $this->output_json(array("\x6d\141\164\x65\x72\x69" => $arrKelasMateri, "\164\165\147\141\x73" => $arrKelasTugas, "\x6b\x65\154\141\163" => $arrKelas)); goto BGPnK; GUvaY: $smt = $this->dashboard->getSemesterActive(); goto KWoW3; edl0g: $arrKelas = []; goto DeEdr; ismHa: $arrKelasMateri = []; goto M__KG; DeEdr: foreach ($materi as $m) { goto UxY8G; FToag: Jd_zT: goto yElWo; zCQcj: yD27z: goto hTbWs; t46AR: PeP4i: goto G6AyW; UxY8G: $kode_mapel = $m->kode_mapel == null ? "\55\x2d" : $m->kode_mapel; goto cakto; fiDU6: goto usjPc; goto zCQcj; RmzvZ: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto fiDU6; lJ_hP: s09WX: goto R5k_6; Sz2Mn: goto xO2RN; goto K2n46; guVa7: xO2RN: goto DdxWC; K2n46: vW0XV: goto yAvIR; PrldP: goto inCOy; goto lJ_hP; Xtpi6: array_push($arrKelas[$m->jenis], $m->id_kelas); goto AAJXw; kO5yR: $arrKelas[$m->jenis] = []; goto Xtpi6; aXwzh: $arrKelasMateri[$m->id_kelas] = []; goto RmzvZ; ykYJl: z_TA0: goto FToag; dFOxR: inCOy: goto Sz2Mn; yAvIR: $arrMateri = ["\x69\144\137\155\x61\164\145\x72\151" => $m->id_materi, "\151\x64\x5f\153\x6a\x6d" => $m->id_kjm, "\x6a\141\x64\x77\141\x6c" => $m->jadwal_materi, "\153\157\x64\x65" => $m->kode_materi, "\x6d\x61\160\145\154" => $kode_mapel, "\147\x75\x72\165" => $m->nama_guru]; goto hebAF; cakto: if ($m->jenis == "\x31") { goto vW0XV; } goto NIn1r; R5k_6: array_push($arrKelasMateri[$m->id_kelas], $arrTugas); goto dFOxR; JdDnN: usjPc: goto guVa7; G6AyW: if (in_array($m->id_kelas, $arrKelas[$m->jenis])) { goto z_TA0; } goto nF5rW; XWQ3o: $arrKelasTugas[$m->id_kelas] = []; goto wz1st; yElWo: Q6g2p: goto XIJvF; DdxWC: if (isset($arrKelas[$m->jenis])) { goto PeP4i; } goto kO5yR; nF5rW: array_push($arrKelas[$m->jenis], $m->id_kelas); goto ykYJl; ZRXic: if (isset($arrKelasTugas[$m->id_kelas])) { goto s09WX; } goto XWQ3o; AAJXw: goto Jd_zT; goto t46AR; NIn1r: $arrTugas = ["\x69\144\x5f\155\141\x74\x65\x72\151" => $m->id_materi, "\151\144\x5f\153\152\155" => $m->id_kjm, "\x6a\x61\144\x77\x61\154" => $m->jadwal_materi, "\153\157\144\x65" => $m->kode_materi, "\155\141\160\145\x6c" => $kode_mapel, "\147\165\x72\x75" => $m->nama_guru]; goto ZRXic; wz1st: array_push($arrKelasTugas[$m->id_kelas], $arrTugas); goto PrldP; hebAF: if (isset($arrKelasMateri[$m->id_kelas])) { goto yD27z; } goto aXwzh; hTbWs: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto JdDnN; XIJvF: } goto aG_Cy; ght8w: $tp = $this->dashboard->getTahunActive(); goto GUvaY; KWoW3: $materi = $this->kelas->getKodeMateriMapel($tp->id_tp, $smt->id_smt, $id_mapel); goto ismHa; aG_Cy: Exot5: goto P80Ut; BGPnK: } public function loadStatus() { goto s86nX; hATZQ: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto c0apw; s86nX: $label = $this->input->post("\x6c\141\x62\x65\154", true); goto cloP8; ZsFhD: $info->istirahat = unserialize($info->istirahat); goto x9_8z; NqxYF: $id_kjm = $this->input->post("\151\144\x5f\x6b\x6a\155", true); goto iv8yH; x9_8z: hjdpO: goto FTnq9; FTnq9: $this->output_json(["\x6c\157\x67" => $log, "\x6a\x61\144\x77\141\x6c" => $info]); goto fcZiU; ip924: if (!($info != null)) { goto hjdpO; } goto ZsFhD; srHoC: cWFIx: goto Rw6eO; c0apw: $logs = $this->kelas->getStatusMateriSiswa($id_kjm); goto yM8XG; Rw6eO: $info = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto ip924; gH6hJ: $id_smt = $this->master->getSemesterActive()->id_smt; goto hATZQ; oW8B9: foreach ($siswa as $s) { goto QaAxB; k6E0B: YGsOQ: goto iD273; KWjbN: $selesai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->finish_time : null; goto wIoTt; QaAxB: $mulai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->log_time : null; goto KWjbN; wIoTt: $log[$s->id_siswa] = ["\x6e\141\x6d\x61" => $s->nama, "\156\x69\163" => $s->nis, "\x6b\x65\x6c\141\x73" => $s->nama_kelas, "\154\157\x67\151\x6e" => $this->kelas->getLoginSiswa($s->username), "\x6d\165\154\x61\x69" => $mulai, "\163\x65\154\145\163\x61\x69" => $selesai, "\164\x65\x78\x74" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->text : '', "\x6e\151\x6c\141\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->nilai : '', "\x63\141\164\x61\164\141\156" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->catatan : '', "\x6a\x61\x6d\137\153\x65" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jam_ke : null, "\x6a\141\144\x77\x61\x6c\137\x6d\141\x74\145\162\151" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jadwal_materi : null, "\146\x69\154\x65" => isset($logs[$s->id_siswa]) && $logs[$s->id_siswa]->file != null ? unserialize($logs[$s->id_siswa]->file) : []]; goto k6E0B; iD273: } goto srHoC; iv8yH: $id_tp = $this->master->getTahunActive()->id_tp; goto gH6hJ; cloP8: $id_kelas = $this->input->post("\151\x64\137\x6b\145\x6c\141\x73", true); goto NqxYF; yM8XG: $log = []; goto oW8B9; fcZiU: } public function saveNilai() { goto SDLU3; owlL0: if ($q->num_rows() > 0) { goto azhIK; } goto C9nlr; U_jWD: $label = $this->input->post("\x6c\141\142\x65\154", true); goto mHUde; urxop: $update = $this->db->insert("\x6c\157\x67\x5f\x6d\x61\x74\145\162\x69", $insert); goto KNoRU; KhV8l: $q = $this->db->get("\x6c\157\147\x5f\155\141\164\145\x72\151"); goto owlL0; tZRWA: $insert = ["\156\x69\154\141\x69" => $nilai, "\143\141\164\x61\x74\x61\156" => $catatan]; goto ZiZy3; KXDrB: azhIK: goto DTeCS; NzEQv: Op4Pb: goto HJZ6W; C9nlr: $this->db->set("\151\144\137\154\157\x67", $id_log); goto urxop; ZiZy3: $this->db->where("\151\x64\x5f\x6c\157\x67", $id_log); goto KhV8l; SDLU3: $method = $this->input->post("\x6d\145\164\x68\x6f\144", true); goto U_jWD; Rweg5: $nilai = $this->input->post("\x6e\x69\154\141\x69", true); goto uo_cv; Zg1Cc: $update = $this->db->update("\154\x6f\x67\137\155\x61\164\145\x72\x69", $insert); goto NzEQv; HJZ6W: $this->output_json($update); goto D9lWm; DTeCS: $this->db->where("\x69\x64\x5f\x6c\157\x67", $id_log); goto Zg1Cc; uo_cv: $catatan = $this->input->post("\143\141\164\x61\164\x61\x6e", true); goto tZRWA; KNoRU: goto Op4Pb; goto KXDrB; mHUde: $id_log = $this->input->post("\151\x64\x5f\154\x6f\147", true); goto Rweg5; D9lWm: } }
