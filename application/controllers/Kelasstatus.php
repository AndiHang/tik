<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasstatus extends CI_Controller { public function __construct() { goto TBdc8; CRuy4: $this->load->model("\104\x61\163\150\142\157\x61\162\x64\x5f\155\x6f\x64\145\x6c", "\x64\141\163\x68\142\157\141\x72\144"); goto wXpQc; Pzo5z: $this->load->model("\113\145\154\x61\163\137\x6d\157\x64\145\154", "\153\145\154\x61\x73"); goto YpD4f; St6At: $this->load->library(["\x64\x61\x74\141\164\x61\x62\x6c\145\x73", "\x66\x6f\162\x6d\137\x76\x61\x6c\151\x64\x61\164\151\157\x6e"]); goto kStZ9; TBdc8: parent::__construct(); goto FE2od; fbnxU: redirect("\x61\165\164\150"); goto YZvCk; UoMA1: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\x75\x72\x75"))) { goto IqWlS; } goto sZJbc; BVkUw: goto CeGtL; goto xX0uH; YpD4f: $this->form_validation->set_error_delimiters('', ''); goto wmSUP; wXpQc: $this->load->model("\x44\162\x6f\160\144\x6f\x77\x6e\x5f\155\x6f\x64\145\x6c", "\x64\x72\157\160\x64\x6f\167\156"); goto Pzo5z; kStZ9: $this->load->model("\x4d\x61\163\164\x65\x72\x5f\x6d\157\x64\145\154", "\x6d\141\163\x74\145\x72"); goto CRuy4; aASDg: IqWlS: goto BVkUw; sZJbc: show_error("\x48\x61\156\171\141\40\101\144\155\151\156\x69\x73\164\x72\x61\x74\x6f\x72\40\171\141\x6e\147\x20\x64\151\142\145\162\x69\40\x68\141\x6b\x20\x75\156\x74\165\x6b\40\x6d\145\156\147\x61\x6b\163\x65\x73\x20\x68\x61\154\141\x6d\x61\156\40\x69\156\151\x2c\40\74\x61\x20\x68\162\x65\146\x3d\42" . base_url("\x64\141\x73\x68\x62\x6f\x61\x72\144") . "\x22\x3e\x4b\x65\x6d\x62\141\154\x69\x20\x6b\x65\x20\x6d\145\x6e\165\x20\x61\x77\x61\x6c\x3c\57\141\x3e", 403, "\101\x6b\163\145\163\40\x54\x65\x72\154\x61\x72\x61\156\x67"); goto aASDg; FE2od: if (!$this->ion_auth->logged_in()) { goto O32Kr; } goto UoMA1; xX0uH: O32Kr: goto fbnxU; YZvCk: CeGtL: goto St6At; wmSUP: } public function output_json($data, $encode = true) { goto cVfBq; t9HWi: $data = json_encode($data); goto hx1jM; ZKU0b: $this->output->set_content_type("\141\x70\160\154\x69\x63\141\164\x69\157\x6e\x2f\152\163\157\156")->set_output($data); goto Tayx0; hx1jM: irBIo: goto ZKU0b; cVfBq: if (!$encode) { goto irBIo; } goto t9HWi; Tayx0: } public function index() { goto W7MPg; tB526: $nguru[$guru->id_guru] = $guru->nama_guru; goto NvsLT; fBlTl: OUt30: goto sbBFX; t3qrB: tL11M: goto CE_Nk; Fx0qw: $arrId = []; goto iSOhg; PJqEx: $data["\x73\155\x74\x5f\141\143\x74\x69\x76\145"] = $smt; goto O_UB2; FvbgM: $data["\x69\x64\137\147\165\x72\165"] = $guru->id_guru; goto Ta4rc; ooCtG: goto H5ZXf; goto fBlTl; qn9mo: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto PJqEx; CE_Nk: dXjcU: goto Fx0qw; PT6dG: foreach ($mapel as $m) { goto xYT7l; qJqKE: W_VXa: goto WMIof; bVIQG: foreach ($m->kelas_mapel as $kls) { $arrKelas[$kls->kelas] = $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas); A3Urr: } goto qJqKE; WMIof: uEvi0: goto ouzHP; xYT7l: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto bVIQG; ouzHP: } goto t3qrB; JHbJa: $data["\164\x70"] = $this->dashboard->getTahun(); goto ZwXME; bfHNL: $arrKelas = []; goto uVXNz; TClkT: $guru = $this->dropdown->getAllGuru(); goto PKwY5; KalEI: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); NaVKV: } goto FxMkL; qkuVd: $data["\153\145\154\141\163"] = $arrKelas; goto TuzhZ; MtwI1: $this->load->view("\137\x74\145\x6d\x70\x6c\141\x74\145\163\57\x64\x61\163\x68\x62\x6f\x61\162\144\57\x5f\146\157\x6f\x74\145\x72"); goto thGnS; BYpIT: $this->load->view("\x6d\x65\155\142\x65\x72\x73\x2f\x67\x75\162\165\57\x74\x65\x6d\x70\154\x61\164\x65\163\x2f\x66\x6f\x6f\164\145\162"); goto ooCtG; FxMkL: VJ46S: goto RJgvg; sbBFX: $data["\160\x72\157\x66\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto TClkT; aVLaf: $data["\155\x61\x70\x65\154\163"] = $this->dropdown->getAllMapel(); goto gT7gE; xVQBf: $this->load->view("\153\145\x6c\141\163\57\x73\164\141\x74\x75\163\x2f\x64\141\x74\141"); goto BYpIT; x02iT: $arrMapel = []; goto bfHNL; W7MPg: $user = $this->ion_auth->user()->row(); goto chr89; thGnS: H5ZXf: goto hW4Ro; ZqNYd: $smt = $this->dashboard->getSemesterActive(); goto JHbJa; RJgvg: Sj7p4: goto IpdT7; arkqN: $tp = $this->dashboard->getTahunActive(); goto ZqNYd; iSOhg: if (!($mapel != null)) { goto Sj7p4; } goto KalEI; Brn8p: $data["\x6b\145\x6c\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto aVLaf; ZwXME: $data["\x74\160\x5f\x61\x63\x74\151\x76\x65"] = $tp; goto qn9mo; FbkwC: $this->load->view("\x6b\145\154\141\163\x2f\x73\x74\141\164\165\163\57\x64\x61\x74\141"); goto MtwI1; IpdT7: $data["\155\x61\160\x65\x6c\163"] = $arrMapel; goto qkuVd; meIhr: $data["\147\x75\162\165\163"] = $nguru; goto FvbgM; PKwY5: $data["\147\165\162\x75\163"] = $guru; goto Brn8p; Ta4rc: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto ElHpV; NvsLT: $data["\x67\x75\x72\165"] = $guru; goto meIhr; dG0F3: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto tB526; O_UB2: if ($this->ion_auth->is_admin()) { goto OUt30; } goto dG0F3; chr89: $data = ["\x75\x73\145\162" => $user, "\152\165\144\165\154" => "\x4e\x69\154\141\x69\x20\110\141\162\151\141\156\40\x53\x69\163\x77\141", "\163\165\142\152\165\144\x75\x6c" => "\x4e\x69\154\141\151", "\x73\x65\164\x74\151\x6e\x67" => $this->dashboard->getSetting()]; goto arkqN; gT7gE: $this->load->view("\x5f\x74\145\155\160\x6c\x61\x74\145\x73\57\x64\141\x73\150\x62\157\141\162\144\x2f\x5f\x68\145\x61\144\x65\162", $data); goto FbkwC; TuzhZ: $this->load->view("\x6d\145\155\x62\145\x72\x73\x2f\x67\165\x72\x75\57\x74\x65\155\x70\154\x61\164\145\x73\57\x68\x65\141\x64\145\162", $data); goto xVQBf; ElHpV: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto x02iT; uVXNz: if (!($mapel != null)) { goto dXjcU; } goto PT6dG; hW4Ro: } public function getMateriGuru() { goto HJDRk; cqUzs: $this->output_json(array("\155\141\x74\145\162\151" => $arrKelasMateri, "\164\165\x67\141\163" => $arrKelasTugas)); goto gz3xP; J_w2O: $tp = $this->dashboard->getTahunActive(); goto sv1F1; ElVUw: nx_oL: goto cqUzs; dtbgg: $materi = $this->kelas->getAllKodeMateri($tp->id_tp, $smt->id_smt, $id_guru); goto cnvyp; cnvyp: $arrKelasMateri = []; goto ocq6V; Ykd9y: foreach ($materi as $m) { goto JHRQe; bkRl6: mFmA5: goto G22wk; edHks: if ($m->jenis == "\x31") { goto mFmA5; } goto PWAq1; TeBmv: DMkSs: goto ezPr1; Pc8Hd: goto DMkSs; goto bkRl6; ezPr1: Nq47d: goto rw6SU; JHRQe: $kode_mapel = $m->kode_mapel == null ? "\55\x2d" : $m->kode_mapel; goto edHks; PWAq1: $arrKelasTugas[] = ["\151\x64\x5f\x6d\141\x74\x65\162\x69" => $m->id_materi, "\151\x64\137\x6b\x6a\155" => $m->id_kjm, "\x6a\141\144\167\x61\x6c" => $m->jadwal_materi, "\153\157\144\x65" => $m->kode_materi, "\155\141\160\145\x6c" => $kode_mapel, "\153\x65\x6c\x61\x73" => unserialize($m->materi_kelas)]; goto Pc8Hd; G22wk: $arrKelasMateri[] = ["\x69\x64\137\155\x61\164\x65\x72\151" => $m->id_materi, "\x69\x64\x5f\153\152\155" => $m->id_kjm, "\152\141\x64\x77\141\x6c" => $m->jadwal_materi, "\153\x6f\x64\145" => $m->kode_materi, "\155\x61\x70\x65\x6c" => $kode_mapel, "\x6b\145\154\141\163" => unserialize($m->materi_kelas)]; goto TeBmv; rw6SU: } goto ElVUw; ocq6V: $arrKelasTugas = []; goto Ykd9y; HJDRk: $id_guru = $this->input->get("\x69\x64", true); goto J_w2O; sv1F1: $smt = $this->dashboard->getSemesterActive(); goto dtbgg; gz3xP: } public function getMateriMapel() { goto VTClO; QCSnI: $materi = $this->kelas->getKodeMateriMapel($tp->id_tp, $smt->id_smt, $id_mapel); goto W7b4W; T_fC0: G1d5h: goto x1fkT; xn041: $arrKelasTugas = []; goto Ie7Sd; Ie7Sd: $arrKelas = []; goto GQDH9; W7b4W: $arrKelasMateri = []; goto xn041; Nu7rd: $smt = $this->dashboard->getSemesterActive(); goto QCSnI; x1fkT: $this->output_json(array("\155\141\164\145\x72\151" => $arrKelasMateri, "\x74\165\x67\x61\163" => $arrKelasTugas, "\153\145\154\x61\163" => $arrKelas)); goto ouYrN; VTClO: $id_mapel = $this->input->get("\x69\x64", true); goto xYIdP; xYIdP: $tp = $this->dashboard->getTahunActive(); goto Nu7rd; GQDH9: foreach ($materi as $m) { goto YBZ3y; NdIo7: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto abN09; PvKnn: TPt1Y: goto yORRp; mTnc_: iVwsB: goto dM7aN; dM7aN: goto V4R2d; goto PvKnn; zhX8g: V4R2d: goto vlaQu; z6D9F: if ($m->jenis == "\61") { goto TPt1Y; } goto J4F50; J4F50: $arrTugas = ["\x69\144\x5f\155\141\x74\145\162\151" => $m->id_materi, "\x69\x64\137\153\152\155" => $m->id_kjm, "\x6a\141\144\167\x61\x6c" => $m->jadwal_materi, "\153\157\144\x65" => $m->kode_materi, "\x6d\141\160\x65\154" => $kode_mapel, "\x67\165\162\x75" => $m->nama_guru]; goto QAYwd; vBEKB: goto qtKAS; goto ZOlHQ; QAYwd: if (isset($arrKelasTugas[$m->id_kelas])) { goto znEDb; } goto r86Uh; ti7ez: if (isset($arrKelasMateri[$m->id_kelas])) { goto nb687; } goto wV0R6; WhVUM: array_push($arrKelasTugas[$m->id_kelas], $arrTugas); goto QGg20; o2iQL: VwIqh: goto RIuPh; bWA2J: array_push($arrKelasMateri[$m->id_kelas], $arrMateri); goto tjKgK; Hahnl: array_push($arrKelasMateri[$m->id_kelas], $arrTugas); goto mTnc_; wChsM: RLucC: goto yZfPk; yORRp: $arrMateri = ["\x69\x64\137\x6d\141\164\145\162\151" => $m->id_materi, "\x69\144\x5f\x6b\152\155" => $m->id_kjm, "\x6a\x61\144\167\x61\x6c" => $m->jadwal_materi, "\x6b\x6f\144\x65" => $m->kode_materi, "\155\x61\160\x65\x6c" => $kode_mapel, "\147\165\162\x75" => $m->nama_guru]; goto ti7ez; QGg20: goto iVwsB; goto SB0BA; o_dwm: nb687: goto NdIo7; wV0R6: $arrKelasMateri[$m->id_kelas] = []; goto bWA2J; SB0BA: znEDb: goto Hahnl; QhXut: $arrKelas[$m->jenis] = []; goto jCkyp; jCkyp: array_push($arrKelas[$m->jenis], $m->id_kelas); goto vBEKB; r86Uh: $arrKelasTugas[$m->id_kelas] = []; goto WhVUM; tjKgK: goto IwPJ1; goto o_dwm; yZfPk: qtKAS: goto o2iQL; vlaQu: if (isset($arrKelas[$m->jenis])) { goto TI_E_; } goto QhXut; y9H4V: array_push($arrKelas[$m->jenis], $m->id_kelas); goto wChsM; ZOlHQ: TI_E_: goto ZFXXK; abN09: IwPJ1: goto zhX8g; ZFXXK: if (in_array($m->id_kelas, $arrKelas[$m->jenis])) { goto RLucC; } goto y9H4V; YBZ3y: $kode_mapel = $m->kode_mapel == null ? "\x2d\x2d" : $m->kode_mapel; goto z6D9F; RIuPh: } goto T_fC0; ouYrN: } public function loadStatus() { goto eYky1; USoCa: $this->output_json(["\x6c\x6f\147" => $log, "\152\x61\x64\167\x61\154" => $info]); goto m3otw; eYky1: $label = $this->input->post("\x6c\x61\142\x65\154", true); goto G8C1a; QDWZx: $id_tp = $this->master->getTahunActive()->id_tp; goto sxW4l; liqQq: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto CPInW; WKXU8: $log = []; goto xg6Bb; Mx5uw: $info = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto CSgOj; CSgOj: if (!($info != null)) { goto hwIDs; } goto jieN9; CPInW: $logs = $this->kelas->getStatusMateriSiswa($id_kjm); goto WKXU8; LqnwE: $id_kjm = $this->input->post("\151\x64\137\x6b\152\x6d", true); goto QDWZx; tmxGg: hwIDs: goto USoCa; jieN9: $info->istirahat = unserialize($info->istirahat); goto tmxGg; G8C1a: $id_kelas = $this->input->post("\x69\x64\137\153\145\x6c\x61\163", true); goto LqnwE; jBtxv: uMMcK: goto Mx5uw; xg6Bb: foreach ($siswa as $s) { goto p4E_Y; ebIQV: $log[$s->id_siswa] = ["\156\x61\x6d\x61" => $s->nama, "\156\151\163" => $s->nis, "\x6b\x65\154\x61\163" => $s->nama_kelas, "\154\157\x67\151\x6e" => $this->kelas->getLoginSiswa($s->username), "\155\x75\154\x61\151" => $mulai, "\163\x65\x6c\145\163\141\x69" => $selesai, "\x74\x65\x78\164" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->text : '', "\156\151\x6c\141\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->nilai : '', "\143\141\164\x61\x74\x61\156" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->catatan : '', "\x6a\x61\155\137\153\x65" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jam_ke : null, "\152\x61\144\x77\x61\154\137\155\141\x74\x65\x72\x69" => isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->jadwal_materi : null, "\146\x69\154\x65" => isset($logs[$s->id_siswa]) && $logs[$s->id_siswa]->file != null ? unserialize($logs[$s->id_siswa]->file) : []]; goto GRoja; p4E_Y: $mulai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->log_time : null; goto qMGYV; GRoja: veIqR: goto Yk1ln; qMGYV: $selesai = isset($logs[$s->id_siswa]) ? $logs[$s->id_siswa]->finish_time : null; goto ebIQV; Yk1ln: } goto jBtxv; sxW4l: $id_smt = $this->master->getSemesterActive()->id_smt; goto liqQq; m3otw: } public function saveNilai() { goto ORPJJ; OHvzO: HWjz6: goto yKhbS; yKhbS: $this->db->where("\151\144\137\154\x6f\147", $id_log); goto o_18K; TEACB: $insert = ["\156\151\x6c\x61\x69" => $nilai, "\143\x61\x74\141\x74\141\156" => $catatan]; goto JJrG7; xfvQY: MuvZe: goto U3NNs; GZDow: $this->db->set("\151\x64\137\x6c\x6f\x67", $id_log); goto uglcE; vSOt8: $q = $this->db->get("\154\x6f\x67\137\155\141\x74\x65\x72\x69"); goto wecvF; KjTBc: $id_log = $this->input->post("\x69\x64\x5f\154\x6f\x67", true); goto KINXe; JJrG7: $this->db->where("\x69\x64\137\x6c\157\147", $id_log); goto vSOt8; KINXe: $nilai = $this->input->post("\156\x69\154\141\151", true); goto eOsre; eOsre: $catatan = $this->input->post("\x63\141\164\x61\x74\141\156", true); goto TEACB; vUP2I: goto MuvZe; goto OHvzO; uglcE: $update = $this->db->insert("\154\157\x67\137\155\141\x74\145\162\151", $insert); goto vUP2I; o_18K: $update = $this->db->update("\x6c\x6f\x67\137\x6d\x61\164\145\x72\x69", $insert); goto xfvQY; wecvF: if ($q->num_rows() > 0) { goto HWjz6; } goto GZDow; JTeX6: $label = $this->input->post("\154\141\142\145\x6c", true); goto KjTBc; U3NNs: $this->output_json($update); goto tl9us; ORPJJ: $method = $this->input->post("\155\145\x74\150\x6f\x64", true); goto JTeX6; tl9us: } }
