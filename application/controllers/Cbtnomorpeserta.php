<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtnomorpeserta extends CI_Controller { public function __construct() { goto vbiTU; m4cQ8: $this->load->library(["\x64\x61\164\141\x74\x61\142\x6c\x65\163", "\x66\x6f\x72\x6d\x5f\x76\141\154\151\x64\x61\x74\x69\x6f\x6e"]); goto kNUQX; vbiTU: parent::__construct(); goto JgAR8; Mj9q6: $this->load->model("\x44\162\157\160\x64\157\x77\x6e\x5f\x6d\x6f\x64\x65\x6c", "\144\162\157\x70\144\157\167\156"); goto HG2xm; zfWLX: show_error("\110\141\156\171\x61\40\x41\144\155\x69\156\x69\x73\x74\x72\141\164\x6f\x72\40\x79\141\156\147\40\x64\x69\x62\x65\x72\151\x20\150\x61\x6b\x20\x75\156\x74\165\153\x20\155\145\156\x67\x61\153\x73\x65\x73\x20\x68\x61\x6c\141\x6d\x61\x6e\x20\151\156\151\54\40\74\x61\40\150\x72\145\x66\75\x22" . base_url("\144\x61\163\x68\x62\x6f\141\162\x64") . "\42\x3e\x4b\145\155\142\x61\154\151\x20\153\145\x20\x6d\x65\156\x75\40\x61\167\141\154\x3c\57\x61\x3e", 403, "\x41\153\x73\x65\x73\40\124\145\162\x6c\x61\162\141\156\147"); goto Pdwlx; avwLM: if ($this->ion_auth->is_admin()) { goto z2K0z; } goto zfWLX; kNUQX: $this->load->library("\x75\x70\x6c\x6f\x61\144"); goto J1ig_; JgAR8: if (!$this->ion_auth->logged_in()) { goto a7VTa; } goto avwLM; Px0Dz: redirect("\141\165\x74\x68"); goto souCW; J1ig_: $this->load->model("\x4d\141\x73\164\145\162\137\x6d\157\144\x65\154", "\155\x61\163\164\x65\162"); goto EFuLC; uVM8E: a7VTa: goto Px0Dz; kpNQN: $this->load->model("\x43\x62\x74\137\x6d\x6f\x64\145\x6c", "\x63\142\164"); goto Mj9q6; qEJPx: goto Oojh6; goto uVM8E; Pdwlx: z2K0z: goto qEJPx; EFuLC: $this->load->model("\x44\141\163\x68\x62\x6f\x61\x72\x64\x5f\155\157\x64\145\x6c", "\144\x61\x73\x68\x62\157\141\162\144"); goto kpNQN; souCW: Oojh6: goto m4cQ8; HG2xm: $this->form_validation->set_error_delimiters('', ''); goto q6NJL; q6NJL: } public function output_json($data, $encode = true) { goto pGfIy; pGfIy: if (!$encode) { goto G9jWH; } goto hD9wY; tWRCi: $this->output->set_content_type("\x61\x70\x70\154\x69\x63\x61\164\x69\x6f\156\57\x6a\163\x6f\x6e")->set_output($data); goto kR1Gi; LrF40: G9jWH: goto tWRCi; hD9wY: $data = json_encode($data); goto LrF40; kR1Gi: } public function index() { goto SprYg; vnluW: $data["\163\x65\163\x69"] = $this->dropdown->getAllSesi(); goto bUBb3; XtIhj: $smt = $this->dashboard->getSemesterActive(); goto RDhCj; EB15z: $data["\x6a\141\144\167\141\x6c"] = $this->dropdown->getAllJadwal($tp->id_tp, $smt->id_smt); goto HMVuY; SprYg: $user = $this->ion_auth->user()->row(); goto ezWKu; HMVuY: $data["\153\145\154\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto eAREz; ezWKu: $data = ["\165\163\x65\x72" => $user, "\x6a\x75\x64\x75\154" => "\116\157\x6d\x6f\x72\x20\120\x65\163\145\162\164\141", "\163\165\142\152\165\x64\165\x6c" => "\x47\145\156\145\x72\x61\x74\x65\40\116\x6f\155\x6f\x72\x20\120\x65\163\145\x72\164\141\x20\x55\x6a\x69\141\156", "\x70\162\x6f\x66\151\x6c\x65" => $this->dashboard->getProfileAdmin($user->id), "\163\x65\x74\x74\151\x6e\x67" => $this->dashboard->getSetting()]; goto pGHYe; eAREz: $data["\x72\x75\141\156\x67"] = $this->dropdown->getAllRuang(); goto vnluW; RDhCj: $data["\x74\x70"] = $this->dashboard->getTahun(); goto exewc; pGHYe: $tp = $this->dashboard->getTahunActive(); goto XtIhj; oZt5C: $this->load->view("\x63\142\164\57\x6e\x6f\155\x6f\162\x70\145\x73\145\x72\x74\141\x2f\x64\x61\x74\x61"); goto JwCUQ; JwCUQ: $this->load->view("\137\164\x65\155\160\x6c\141\x74\145\x73\57\144\x61\x73\x68\x62\x6f\141\162\x64\x2f\x5f\x66\x6f\x6f\164\145\162"); goto Liyh6; TiDx4: $data["\x73\155\164\137\141\143\x74\x69\166\x65"] = $smt; goto EB15z; exewc: $data["\164\x70\137\141\x63\164\x69\x76\x65"] = $tp; goto W1sUt; W1sUt: $data["\163\155\164"] = $this->dashboard->getSemester(); goto TiDx4; bUBb3: $this->load->view("\137\x74\x65\x6d\160\154\x61\x74\x65\163\x2f\144\141\163\150\x62\157\141\x72\x64\57\137\x68\145\x61\144\x65\162", $data); goto oZt5C; Liyh6: } public function data() { $this->output_json($this->cbt->getJenis(), false); } public function saveNomor() { goto GXNaX; EFTr0: $arrNomor = $this->cbt->getAllNomorPeserta(); goto LBvab; LBvab: $tp = $this->dashboard->getTahunActive(); goto naDHR; uE9Jc: bBMqG: goto Mb7WG; GXNaX: $input = json_decode($this->input->post("\x73\151\x73\x77\141", true)); goto EFTr0; naDHR: $update = false; goto qb2FK; qb2FK: foreach ($input as $in) { goto LVIO0; VLJam: $update = $this->db->replace("\143\x62\x74\137\x6e\157\x6d\157\162\x5f\160\145\163\x65\162\164\141", $insert); goto etPtu; yf7bd: if ($nomorAda != null && $nomorAda->nomor_peserta == $in->nomor && $nomorAda->id_siswa != $in->id) { goto vRpOr; } goto mIYyc; o7Tlx: jiKyj: goto Ui9t8; LVIO0: $nomorAda = isset($arrNomor[$in->id]) ? $arrNomor[$in->id] : null; goto yf7bd; FwgVD: $update = false; goto q7AG2; q7AG2: VLDzt: goto o7Tlx; etPtu: goto VLDzt; goto GnFyn; mIYyc: $insert = ["\x69\x64\137\156\x6f\155\x6f\162" => $in->id . $tp->id_tp, "\151\144\137\x73\x69\x73\167\x61" => $in->id, "\x69\x64\137\x74\160" => $tp->id_tp, "\156\x6f\x6d\157\x72\x5f\160\145\x73\x65\162\164\141" => $in->nomor]; goto VLJam; GnFyn: vRpOr: goto FwgVD; Ui9t8: } goto uE9Jc; Mb7WG: $this->output_json($update); goto gvhbN; gvhbN: } public function resetNomor() { goto QlVeb; IJbgH: foreach ($siswas as $siswa) { goto Y50K2; Y50K2: $insert = ["\151\144\x5f\156\157\155\x6f\x72" => $siswa->id_siswa . $tp->id_tp, "\x69\x64\x5f\163\x69\x73\167\x61" => $siswa->id_siswa, "\x69\x64\x5f\164\x70" => $tp->id_tp, "\156\157\155\x6f\x72\x5f\160\145\163\145\x72\x74\141" => '']; goto aBEEe; SbVo7: njNHE: goto jBpbO; aBEEe: $update = $this->db->replace("\x63\x62\164\137\x6e\157\x6d\x6f\x72\137\160\x65\x73\x65\162\164\x61", $insert); goto SbVo7; jBpbO: } goto mVCVj; mVCVj: wd0s0: goto M__kW; b5e8H: $siswas = $this->cbt->getSiswaByKelasArray($tp->id_tp, $smt->id_smt, $input); goto IJbgH; M__kW: $res["\163\164\141\164\165\163"] = $update; goto YD04t; QlVeb: $input = json_decode($this->input->get("\153\145\x6c\141\163", true)); goto DHHWH; Zy_nR: $smt = $this->dashboard->getSemesterActive(); goto b5e8H; DHHWH: $tp = $this->dashboard->getTahunActive(); goto Zy_nR; YD04t: $this->output_json($res); goto RkRXV; RkRXV: } public function getSiswaKelas($arr_kelas) { goto NA4Nt; OM8vC: $this->output_json($data); goto c9bcL; hDku1: $data["\156\x6f\155\157\162"] = $arrNomor; goto OM8vC; bKmvF: $arrNomor = $this->cbt->getAllNomorPeserta(); goto cBg9G; bWXzF: $smt = $this->dashboard->getSemesterActive(); goto xQqY7; xQqY7: $kelas = json_decode(urldecode($arr_kelas)); goto ifP3S; ifP3S: $siswas = $this->cbt->getSiswaByKelasArray($tp->id_tp, $smt->id_smt, $kelas); goto bKmvF; cBg9G: $data["\163\x69\x73\167\141"] = $siswas; goto hDku1; NA4Nt: $tp = $this->dashboard->getTahunActive(); goto bWXzF; c9bcL: } }
