<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\x53\105\x50\101\x54\110") or exit("\116\x6f\40\x64\x69\162\145\143\164\x20\163\143\162\151\x70\164\x20\141\x63\143\x65\163\163\40\x61\154\x6c\157\167\145\144"); class Userguru extends CI_Controller { public function __construct() { goto A31NR; f3Z_l: x6e1L: goto k5tCM; E7Q8k: goto uCcC5; goto f3Z_l; T27Ow: $this->load->model("\115\x61\163\x74\145\162\137\x6d\157\x64\x65\x6c", "\155\x61\x73\x74\145\x72"); goto jANu9; A5Yfs: show_error("\110\x61\156\171\x61\40\x41\x64\155\151\x6e\151\163\x74\x72\x61\x74\157\x72\x20\x79\x61\156\x67\40\144\x69\x62\x65\x72\x69\40\150\141\x6b\40\x75\x6e\x74\165\x6b\x20\x6d\145\x6e\x67\x61\153\163\x65\163\40\150\141\x6c\141\x6d\141\156\40\151\156\x69\54\40\74\x61\x20\150\x72\x65\x66\x3d\42" . base_url("\x64\x61\x73\150\x62\x6f\141\x72\144") . "\42\76\x4b\x65\155\x62\141\154\151\40\153\145\x20\155\x65\156\x75\40\x61\x77\x61\154\74\x2f\x61\76", 403, "\101\x6b\163\x65\163\40\124\145\162\154\141\162\141\156\147"); goto DKHyE; jANu9: $this->load->model("\x44\141\x73\x68\x62\157\x61\162\144\x5f\x6d\x6f\144\x65\154", "\144\141\163\x68\142\157\141\x72\x64"); goto Rbr34; pVKma: if (!$this->ion_auth->logged_in()) { goto x6e1L; } goto lOwvA; DKHyE: sVicL: goto E7Q8k; s_ci2: $this->load->library(["\x64\x61\164\x61\x74\x61\x62\154\145\163", "\x66\157\x72\155\137\166\141\x6c\x69\144\x61\x74\151\157\156"]); goto u3kMX; VNCGt: uCcC5: goto s_ci2; Rbr34: $this->form_validation->set_error_delimiters('', ''); goto x2QvJ; k5tCM: redirect("\x61\x75\x74\x68"); goto VNCGt; u3kMX: $this->load->model("\125\163\145\162\163\x5f\x6d\157\x64\145\154", "\165\163\x65\162\163"); goto T27Ow; lOwvA: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\x75\162\165"))) { goto sVicL; } goto A5Yfs; A31NR: parent::__construct(); goto pVKma; x2QvJ: } public function output_json($data, $encode = true) { goto nV92f; nV92f: if (!$encode) { goto tbNHr; } goto PVsdo; SbYTK: $this->output->set_content_type("\x61\160\x70\154\x69\143\141\x74\x69\157\x6e\57\x6a\x73\x6f\156")->set_output($data); goto QI6Ki; PVsdo: $data = json_encode($data); goto gav0v; gav0v: tbNHr: goto SbYTK; QI6Ki: } public function data() { goto XFeur; jUlFn: $smt = $this->dashboard->getSemesterActive(); goto SOJpT; XFeur: $tp = $this->dashboard->getTahunActive(); goto jUlFn; SOJpT: $this->output_json($this->users->getUserGuru($tp->id_tp, $smt->id_smt), false); goto y8lZH; y8lZH: } public function index() { goto H6hMZ; PIRFj: $data["\164\x70"] = $this->dashboard->getTahun(); goto fEcUN; DzisH: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto oAck2; RNTaI: $this->load->view("\137\x74\145\155\160\154\141\164\145\163\x2f\x64\141\x73\x68\142\157\x61\x72\x64\57\x5f\x66\157\157\x74\x65\162"); goto Nj5t6; N7XK5: w0YwW: goto PIRFj; JolVq: $group = $this->ion_auth->get_users_groups($user->id)->row()->name; goto z4KU1; fEcUN: $data["\x74\x70\x5f\x61\x63\x74\151\x76\x65"] = $this->dashboard->getTahunActive(); goto DzisH; SXuOP: $this->edit($id->id_guru); goto lc_Rf; bLpI2: $this->load->view("\x75\x73\x65\162\163\x2f\x67\x75\x72\165\57\x64\x61\x74\141"); goto RNTaI; oAck2: $data["\163\x6d\x74\137\141\143\164\151\166\145"] = $this->dashboard->getSemesterActive(); goto ulhpf; BBa1b: $id = $this->users->getGuruByUsername($user->username); goto SXuOP; Nj5t6: F5rYx: goto qqG5b; ulhpf: $this->load->view("\137\x74\145\x6d\160\154\141\x74\145\163\57\x64\141\163\150\x62\157\141\162\x64\x2f\137\150\145\141\144\145\162", $data); goto bLpI2; z4KU1: $data = ["\165\163\145\x72" => $user, "\x6a\165\x64\x75\x6c" => "\125\163\145\x72\40\x4d\141\156\x61\x67\145\155\x65\156\x74", "\x73\x75\142\152\165\x64\x75\x6c" => "\104\141\164\141\x20\125\163\145\x72\x20\107\165\x72\x75", "\160\162\x6f\146\x69\154\145" => $this->dashboard->getProfileAdmin($user->id), "\x73\145\x74\x74\x69\x6e\147" => $this->dashboard->getSetting()]; goto oVMNx; H6hMZ: $user = $this->ion_auth->user()->row(); goto JolVq; oVMNx: if ($group === "\141\144\x6d\x69\x6e") { goto w0YwW; } goto BBa1b; lc_Rf: goto F5rYx; goto N7XK5; qqG5b: } public function activate($id) { goto gV01Z; QRgh0: $data = ["\163\164\141\x74\165\163" => true, "\x6d\x73\147" => "\x41\153\x75\156\40" . $guru->nama_guru . "\40\144\151\141\x6b\164\151\x66\x6b\x61\x6e\x2e"]; goto OLhBw; w22pS: $password = trim($guru->password); goto NuaAl; Xz8q6: yLur6: goto xsRus; DBZ_X: goto P1fbe; goto Xz8q6; kfA1k: $this->db->update("\x6d\x61\x73\164\x65\x72\137\x67\x75\162\x75"); goto DBZ_X; epbh1: goto C3Zl4; goto Kjd1q; vSGNI: if ($this->ion_auth->username_check($username)) { goto rviNO; } goto alhRS; VPF3_: $nama = explode("\40", $guru->nama_guru); goto oVilF; NuaAl: $email = strtolower($guru->username) . "\x40\x67\165\162\165\x2e\143\x6f\155"; goto MFTQ8; Kjd1q: rviNO: goto y3YbJ; jvzcS: $group = array("\x32"); goto vSGNI; ri2b0: C3Zl4: goto PRpS6; MFTQ8: $additional_data = ["\146\x69\162\163\x74\137\156\x61\155\145" => $first_name, "\x6c\141\x73\164\x5f\x6e\x61\155\x65" => $last_name]; goto jvzcS; dq035: $id_user = $this->ion_auth->register($username, $password, $email, $additional_data, $group); goto QRgh0; PRpS6: $data["\160\141\x73\x73"] = $password; goto foalr; gV01Z: $guru = $this->users->getDataGuru($id); goto VPF3_; oVilF: $first_name = $nama[0]; goto fdvR2; fL9NC: $this->db->where("\x69\x64\x5f\x67\165\162\x75", $id); goto kfA1k; fdvR2: $last_name = count($nama) > 2 ? $nama[1] : end($nama); goto K9I7q; gj_lP: P1fbe: goto epbh1; K9I7q: $username = trim($guru->username); goto w22pS; xsRus: $data = ["\163\x74\x61\164\165\163" => false, "\x6d\163\147" => "\x55\163\145\x72\x6e\x61\x6d\x65\x20" . $email . "\40\164\151\x64\141\x6b\40\164\145\x72\163\145\144\x69\141\x20\50\x73\x75\144\141\x68\40\144\x69\x67\165\156\x61\x6b\141\x6e\x29\x2e"]; goto gj_lP; OLhBw: $this->db->set("\x69\144\137\165\163\x65\162", $id_user); goto fL9NC; alhRS: if ($this->ion_auth->email_check($email)) { goto yLur6; } goto dq035; y3YbJ: $data = ["\163\x74\141\164\x75\163" => false, "\x6d\x73\x67" => "\125\x73\145\x72\156\141\x6d\x65\x20" . $username . "\40\164\151\x64\x61\x6b\40\x74\x65\x72\163\145\x64\x69\x61\40\x28\x73\x75\x64\x61\x68\x20\144\151\147\165\156\x61\153\141\x6e\51\56"]; goto ri2b0; foalr: $this->output_json($data); goto e9YuB; e9YuB: } public function deactivate($id = NULL) { goto kPBPY; vVHoW: if ($this->ion_auth->logged_in() && $this->ion_auth->is_admin()) { goto O6Z66; } goto G123H; SRHZl: qb59x: goto fvZJS; BqlV5: $deleted = $this->ion_auth->delete_user($id); goto hWkz0; kPBPY: if (!$this->ion_auth->logged_in() || !$this->ion_auth->is_admin()) { goto qb59x; } goto d2nR7; hWkz0: $data = ["\163\164\141\164\165\163" => $deleted, "\x6d\163\x67" => "\164\145\x6c\141\x68\x20\144\x69\156\x6f\x6e\x61\153\x74\x69\x66\x6b\141\x6e\x2e"]; goto gSbuE; fvZJS: $data = ["\x73\164\141\164\165\163" => false, "\155\163\147" => "\x59\x6f\165\x20\x6d\x75\163\164\x20\142\145\40\x61\156\x20\141\144\x6d\151\156\x69\x73\164\x72\141\164\157\x72\40\164\157\x20\x76\151\145\x77\40\x74\150\151\x73\40\x70\141\147\x65\56"]; goto k2AdV; xevnd: $this->output_json($data); goto IXJgO; G123H: $data = ["\163\x74\141\164\165\x73" => false, "\155\163\147" => "\101\x6e\144\141\x20\142\165\153\141\156\x20\141\x64\155\151\x6e\56"]; goto jB91f; k2AdV: fA_jp: goto xevnd; d2nR7: $id = (int) $id; goto vVHoW; yxfNs: O6Z66: goto BqlV5; SiuiJ: goto fA_jp; goto SRHZl; jB91f: goto cV311; goto yxfNs; gSbuE: cV311: goto SiuiJ; IXJgO: } public function aktifkanSemua() { goto kzwq8; al0Xz: $data = ["\163\x74\141\x74\x75\163" => true, "\x6a\x75\155\154\x61\x68" => $jum, "\x6d\163\x67" => $jum . "\x20\x47\165\x72\165\40\144\151\141\153\x74\151\x66\153\141\156\x2e"]; goto dCehb; vB_ob: $jum = 0; goto R2tL7; dCehb: $this->output_json($data); goto yaGjn; kzwq8: $guruAktif = $this->users->getGuruAktif(); goto vB_ob; NF7EW: ZQBVg: goto al0Xz; R2tL7: foreach ($guruAktif as $guru) { goto TxBJ0; S2EeW: jOyIv: goto udc40; udc40: goto OiZ1Y; goto E3Res; H3aiO: $this->activate($guru->id_guru); goto ZEaeH; TxBJ0: if ($guru->aktif > 0) { goto jOyIv; } goto H3aiO; EJ56i: $jum += 1; goto h2FG_; E3Res: Jo51r: goto EJ56i; ZEaeH: goto Jo51r; goto S2EeW; h2FG_: OiZ1Y: goto uJdjt; uJdjt: } goto NF7EW; yaGjn: } public function nonaktifkanSemua() { goto kczBL; kczBL: $guruAktif = $this->users->getGuruAktif(); goto vQ1re; FD8Hq: SALlg: goto evFhd; ILsl2: foreach ($guruAktif as $guru) { goto pW9sK; zWxAQ: o5OaP: goto MpbNY; pW9sK: if ($guru->aktif > 0) { goto BEigo; } goto DQw39; DQw39: goto ql0tB; goto lAmTh; R790z: $del = $this->deactivate($guru->id, ''); goto Jp8ZG; lAmTh: goto o5OaP; goto C_9iD; l3Vac: ql0tB: goto Vuo28; Jp8ZG: $this->output_json($del); goto zWxAQ; C_9iD: BEigo: goto R790z; MpbNY: $jum += 1; goto l3Vac; Vuo28: } goto FD8Hq; evFhd: $data = ["\163\x74\141\x74\165\163" => true, "\152\x75\x6d\x6c\x61\x68" => $jum, "\x6d\x73\147" => $jum . "\x20\x47\x75\x72\x75\40\144\151\156\157\x6e\x61\x6b\x74\151\146\153\x61\156\x2e"]; goto A6mNF; A6mNF: $this->output_json($data); goto XwY76; vQ1re: $jum = 0; goto ILsl2; XwY76: } public function edit($id) { goto vvL9U; AJ5vA: bNDjk: goto YhFRH; YhFRH: $data["\x70\162\157\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto h0pAn; UESL6: $data["\164\x70\137\141\143\164\x69\166\145"] = $tp; goto qipGM; eRJ4x: $this->load->view("\x75\x73\145\162\163\57\147\165\162\165\x2f\145\144\x69\x74"); goto s491U; aI8NL: $guru = $this->users->getDetailGuru($id); goto kp1V5; NYQhJ: $this->load->view("\155\145\155\x62\x65\162\163\x2f\x67\x75\162\x75\x2f\x74\x65\155\160\x6c\x61\x74\x65\163\x2f\150\x65\141\x64\145\x72", $data); goto eRJ4x; YWwya: $this->load->view("\x75\x73\145\162\163\x2f\147\x75\162\165\57\145\144\151\x74"); goto UGJrL; FWVha: $group = $this->ion_auth->get_users_groups($user->id)->row()->name; goto pU0SS; uhAfM: goto NeAao; goto AJ5vA; d4k2F: $data["\x6b\x65\x6c\141\x73\163"] = $this->users->getKelas($tp->id_tp, $smt->id_smt); goto DJHW9; pU0SS: if ($group === "\141\x64\x6d\151\x6e") { goto bNDjk; } goto NYQhJ; h0pAn: $data["\x67\x72\x6f\x75\x70\x73"] = $this->ion_auth->groups()->result(); goto d4k2F; vvL9U: $tp = $this->dashboard->getTahunActive(); goto xbf0d; qipGM: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto HiFvo; kp1V5: $users = $this->users->getUsers($guru->username); goto kem3d; xHA0Z: $data["\x74\x70"] = $this->dashboard->getTahun(); goto UESL6; xbf0d: $smt = $this->dashboard->getSemesterActive(); goto aI8NL; di_ok: $data = ["\165\x73\x65\x72" => $user, "\152\165\144\165\x6c" => "\125\163\145\162\x20\115\141\156\x61\x67\145\x6d\x65\x6e\x74", "\163\165\x62\152\x75\x64\165\154" => "\105\x64\151\164\40\x44\141\164\141\x20\x55\x73\145\162", "\163\145\x74\164\x69\x6e\x67" => $this->dashboard->getSetting()]; goto miIzY; ZH_Jp: $data["\x6c\145\x76\x65\154\x73"] = $this->users->getLevelGuru(); goto DwBN8; tpGv5: $data["\147\x75\162\165"] = $guru; goto xHA0Z; kem3d: $user = $this->ion_auth->user()->row(); goto di_ok; Q3xuC: NeAao: goto nU35Y; DJHW9: $data["\x6d\x61\x70\x65\x6c\163"] = $this->users->getMapel(); goto ZH_Jp; HiFvo: $data["\x73\155\164\137\141\143\x74\x69\x76\145"] = $smt; goto FWVha; UGJrL: $this->load->view("\x5f\x74\x65\x6d\160\x6c\141\164\145\x73\57\x64\141\163\150\x62\157\x61\x72\144\x2f\137\x66\x6f\157\x74\145\x72"); goto Q3xuC; DwBN8: $this->load->view("\x5f\x74\x65\x6d\x70\154\x61\x74\145\163\57\144\x61\x73\150\142\x6f\141\x72\x64\x2f\x5f\150\x65\x61\144\x65\162", $data); goto YWwya; s491U: $this->load->view("\155\145\155\x62\x65\x72\163\57\147\165\x72\165\x2f\164\145\155\x70\x6c\141\164\x65\x73\x2f\146\157\x6f\164\x65\162"); goto uhAfM; miIzY: $data["\x75\x73\x65\x72\x73"] = $users; goto tpGv5; nU35Y: } public function editLogin() { goto wodHg; cJLgN: $data = ["\163\x74\141\164\165\163" => false, "\x65\x72\162\x6f\x72\163" => ["\x6f\154\144" => form_error("\157\x6c\144"), "\156\145\167" => form_error("\x6e\145\x77"), "\x6e\x65\x77\137\x63\157\156\146\x69\x72\155" => form_error("\156\x65\x77\x5f\x63\157\156\146\151\162\155")]]; goto DJ5ZA; CEPOR: if ($guru && $guru->id_guru != $id_guru) { goto uJqc2; } goto aFPC6; wodHg: $id_guru = $this->input->post("\x69\x64\x5f\147\165\x72\x75", true); goto y6dlx; bwq1n: $this->form_validation->set_rules("\x6f\154\x64", $this->lang->line("\x63\x68\x61\x6e\x67\x65\x5f\x70\x61\163\x73\167\x6f\x72\x64\137\166\141\154\x69\x64\141\164\151\157\x6e\137\x6f\x6c\x64\x5f\160\x61\163\163\167\x6f\162\144\x5f\154\141\142\x65\154"), "\x72\145\161\x75\151\x72\x65\x64"); goto GsVMp; y6dlx: $username = $this->input->post("\x75\163\145\162\x6e\x61\155\x65", true); goto K3vsm; IxM7S: $this->output_json($data); goto T8ncD; tXeC4: qnq9n: goto cJLgN; DJ5ZA: AROsY: goto IxM7S; YUeOT: $status = $this->db->update("\x6d\x61\x73\164\x65\x72\137\147\165\x72\x75"); goto O6RQI; Q0h2C: uJqc2: goto en4mH; K3vsm: $pass = $this->input->post("\156\x65\167", true); goto G9dUh; eUvw2: $this->db->set("\x75\x73\x65\162\156\x61\x6d\x65", $username); goto C5xey; G9dUh: $guru = $this->master->getUserIdGuruByUsername($username); goto bwq1n; aFPC6: if ($this->form_validation->run() === FALSE) { goto qnq9n; } goto eUvw2; EiRVb: goto AROsY; goto Q0h2C; O6RQI: $data["\163\164\141\164\x75\163"] = $status; goto RFBKv; sEGmS: goto AROsY; goto tXeC4; JbtGR: $this->form_validation->set_rules("\156\145\x77\x5f\143\x6f\156\146\x69\162\x6d", $this->lang->line("\x63\x68\141\156\147\145\137\x70\x61\x73\163\x77\x6f\x72\144\x5f\x76\141\x6c\151\144\x61\164\151\x6f\x6e\x5f\156\x65\167\137\x70\141\x73\x73\167\x6f\x72\144\x5f\143\157\x6e\x66\151\162\155\137\x6c\x61\x62\x65\x6c"), "\162\x65\161\165\x69\162\x65\144"); goto CEPOR; C5xey: $this->db->set("\x70\141\x73\x73\x77\157\x72\144", $pass); goto fOK62; fOK62: $this->db->where("\151\144\137\x67\165\162\165", $id_guru); goto YUeOT; RFBKv: $data["\164\x65\170\164"] = "\x55\163\x65\162\156\x61\155\x65\40\144\141\x6e\40\120\141\163\163\167\157\162\144\40\142\145\x72\150\x61\163\x69\x6c\x20\x64\x69\165\x70\x64\x61\x74\x65\54\40\x61\x6b\164\x69\x66\141\163\x69\x20\x55\163\x65\x72\156\x61\155\145\x20\144\x61\x6e\40\x50\x61\x73\x73\x77\157\162\144\40\x62\141\x72\165\40\155\145\156\165\x6e\147\147\165\40\x70\x65\x72\163\x65\x74\165\152\165\141\156\x20\101\x64\155\151\x6e"; goto EiRVb; en4mH: $data = ["\x73\x74\x61\x74\165\x73" => false, "\145\x72\x72\157\162\163" => ["\165\x73\x65\162\156\x61\x6d\x65" => "\125\163\x65\162\156\141\x6d\145\x20\163\x75\x64\141\x68\40\x64\151\147\165\156\141\x6b\x61\x6e"]]; goto sEGmS; GsVMp: $this->form_validation->set_rules("\x6e\145\x77", $this->lang->line("\x63\150\x61\156\147\x65\x5f\160\141\163\163\167\x6f\x72\144\137\166\141\x6c\x69\144\141\164\x69\x6f\x6e\x5f\x6e\145\x77\x5f\160\141\163\163\x77\157\x72\x64\137\x6c\x61\x62\x65\x6c"), "\162\x65\x71\x75\151\162\145\144\174\x6d\x69\x6e\137\x6c\145\156\x67\164\150\133" . $this->config->item("\x6d\x69\156\x5f\x70\141\x73\x73\167\x6f\x72\144\137\154\145\156\x67\x74\150", "\151\x6f\156\x5f\141\x75\164\150") . "\x5d\174\155\x61\x74\143\150\x65\x73\x5b\156\x65\x77\137\x63\157\x6e\146\x69\162\x6d\x5d"); goto JbtGR; T8ncD: } function buangspasi($teks) { goto frqJ2; WkX45: $remove[] = "\56"; goto Wu8Ld; HsiDm: $remove[] = "\47"; goto WkX45; HuHp9: if (!strpos($teks, "\40")) { goto iY5yf; } goto HsiDm; cuyiC: $hasil = str_replace($remove, '', $teks); goto m2H3l; Wu8Ld: $remove[] = "\40"; goto cuyiC; r1vkz: VCAVG: goto HuHp9; NbOMA: iY5yf: goto SKCs7; SKCs7: return $hasil; goto eqRaE; m2H3l: goto VCAVG; goto NbOMA; jSJNo: $hasil = $teks; goto r1vkz; frqJ2: $teks = trim($teks); goto jSJNo; eqRaE: } }
