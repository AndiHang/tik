<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\102\101\123\x45\x50\x41\x54\110") or exit("\116\157\40\144\x69\x72\x65\x63\164\40\163\x63\x72\151\160\x74\x20\x61\x63\143\145\163\x73\x20\x61\154\154\157\167\145\x64"); class Userguru extends CI_Controller { public function __construct() { goto rO61b; bc6S1: ccwIN: goto D74Br; rSeS8: $this->load->model("\x55\x73\x65\x72\163\137\x6d\157\x64\145\154", "\x75\x73\145\162\163"); goto vaMI_; vaMI_: $this->load->model("\115\x61\x73\x74\145\x72\x5f\155\157\x64\145\154", "\155\141\x73\164\145\162"); goto sOPJ2; rO61b: parent::__construct(); goto Uyvmj; o6_IM: dc9yt: goto K4cfD; O1iyq: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\x75\x72\x75"))) { goto ccwIN; } goto dMNq1; ELc4U: $this->load->library(["\x64\x61\164\x61\164\141\142\x6c\145\163", "\146\157\162\155\137\166\141\154\151\x64\x61\x74\151\x6f\x6e"]); goto rSeS8; ioALK: nOs7o: goto ELc4U; GpaIF: $this->form_validation->set_error_delimiters('', ''); goto K6qhK; K4cfD: redirect("\141\x75\164\150"); goto ioALK; dMNq1: show_error("\110\x61\156\171\141\x20\101\x64\155\151\156\x69\x73\x74\162\141\x74\157\162\x20\171\141\156\147\x20\x64\151\142\x65\x72\151\40\x68\x61\153\x20\x75\x6e\164\x75\153\40\x6d\x65\156\147\x61\153\x73\145\163\x20\x68\141\x6c\x61\155\x61\156\x20\151\156\151\x2c\40\x3c\x61\x20\x68\162\145\146\x3d\x22" . base_url("\x64\141\163\150\x62\x6f\141\162\144") . "\x22\76\x4b\145\155\x62\141\154\x69\40\153\145\40\155\145\156\x75\40\141\167\141\154\74\57\141\x3e", 403, "\101\153\x73\145\x73\x20\124\x65\x72\x6c\x61\x72\141\156\x67"); goto bc6S1; sOPJ2: $this->load->model("\x44\141\163\150\142\x6f\x61\162\144\137\x6d\x6f\x64\x65\x6c", "\144\x61\163\x68\142\157\x61\162\x64"); goto GpaIF; Uyvmj: if (!$this->ion_auth->logged_in()) { goto dc9yt; } goto O1iyq; D74Br: goto nOs7o; goto o6_IM; K6qhK: } public function output_json($data, $encode = true) { goto sbG1H; sbG1H: if (!$encode) { goto S_jSk; } goto N8ed7; N8ed7: $data = json_encode($data); goto d4C4_; d4C4_: S_jSk: goto n8zRn; n8zRn: $this->output->set_content_type("\141\160\x70\154\151\x63\141\164\x69\x6f\x6e\57\152\163\x6f\156")->set_output($data); goto jEcb1; jEcb1: } public function data() { goto PYzd5; PYzd5: $tp = $this->dashboard->getTahunActive(); goto IjvKC; IjvKC: $smt = $this->dashboard->getSemesterActive(); goto zFE5C; zFE5C: $this->output_json($this->users->getUserGuru($tp->id_tp, $smt->id_smt), false); goto jG3SP; jG3SP: } public function index() { goto yNvI5; udijO: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto xyq9p; leadZ: $id = $this->users->getGuruByUsername($user->username); goto VF6jq; S8Sv1: goto BkVU7; goto SoRui; SoRui: zRxoC: goto OAA9A; OAA9A: $data["\164\x70"] = $this->dashboard->getTahun(); goto WgS2M; H1wyt: $group = $this->ion_auth->get_users_groups($user->id)->row()->name; goto SJS0o; UAmEs: $this->load->view("\137\x74\x65\x6d\160\x6c\x61\164\x65\x73\57\144\x61\x73\x68\x62\x6f\141\162\x64\x2f\x5f\x68\x65\x61\x64\145\x72", $data); goto fwXlI; fwXlI: $this->load->view("\x75\163\145\162\163\57\x67\x75\x72\165\x2f\144\141\x74\x61"); goto dQdsM; VF6jq: $this->edit($id->id_guru); goto S8Sv1; Z7q57: if ($group === "\x61\x64\x6d\151\156") { goto zRxoC; } goto leadZ; yNvI5: $user = $this->ion_auth->user()->row(); goto H1wyt; WgS2M: $data["\x74\x70\x5f\141\143\x74\151\166\145"] = $this->dashboard->getTahunActive(); goto udijO; dQdsM: $this->load->view("\x5f\164\145\155\x70\x6c\141\x74\x65\x73\x2f\144\x61\x73\150\x62\x6f\x61\x72\x64\57\x5f\146\157\x6f\x74\x65\x72"); goto c1Iou; xyq9p: $data["\x73\155\164\x5f\x61\x63\164\151\x76\x65"] = $this->dashboard->getSemesterActive(); goto UAmEs; SJS0o: $data = ["\x75\x73\145\162" => $user, "\x6a\x75\x64\x75\x6c" => "\125\x73\145\x72\x20\115\x61\156\x61\x67\145\155\x65\x6e\x74", "\163\165\x62\x6a\x75\x64\x75\x6c" => "\x44\141\x74\141\40\x55\x73\145\x72\40\107\x75\x72\x75", "\x70\162\x6f\x66\x69\x6c\145" => $this->dashboard->getProfileAdmin($user->id), "\x73\145\164\x74\x69\156\147" => $this->dashboard->getSetting()]; goto Z7q57; c1Iou: BkVU7: goto dkJRP; dkJRP: } public function activate($id) { goto D3vJm; OvCy5: $this->db->update("\x6d\x61\163\x74\x65\162\x5f\x67\x75\162\165"); goto umeV6; j8GlW: $additional_data = ["\x66\x69\x72\163\164\137\156\141\155\x65" => $first_name, "\154\141\163\164\x5f\156\141\x6d\145" => $last_name]; goto GOPmC; tfHuz: $nama = explode("\40", $guru->nama_guru); goto mF8hR; D3vJm: $guru = $this->users->getDataGuru($id); goto tfHuz; qgBvM: goto J3Ijq; goto Nbta7; jO3I0: $password = trim($guru->password); goto T_qSF; UTr7A: $id_user = $this->ion_auth->register($username, $password, $email, $additional_data, $group); goto KTaYv; aaDND: $data["\x70\x61\163\x73"] = $password; goto yFKXY; YAxLr: c_hNO: goto qgBvM; RfcuL: $data = ["\x73\164\141\164\x75\x73" => false, "\155\x73\147" => "\125\163\x65\x72\x6e\x61\155\145\x20" . $username . "\x20\164\151\144\141\153\x20\164\145\x72\x73\x65\x64\x69\141\40\x28\x73\165\x64\141\x68\40\x64\151\147\165\156\141\153\x61\156\x29\x2e"]; goto l3YHT; rrWiA: $username = trim($guru->username); goto jO3I0; yFKXY: $this->output_json($data); goto W1l8F; T_qSF: $email = strtolower($guru->username) . "\100\x67\165\x72\x75\56\x63\157\155"; goto j8GlW; Nbta7: w8Kcr: goto RfcuL; mF8hR: $first_name = $nama[0]; goto knrI4; uwPF8: $data = ["\163\164\141\164\x75\x73" => false, "\x6d\x73\147" => "\125\x73\145\162\156\x61\x6d\x65\x20" . $email . "\x20\164\151\x64\141\x6b\x20\x74\x65\x72\x73\145\144\x69\141\40\50\163\165\x64\x61\150\x20\144\151\x67\x75\156\x61\153\141\156\51\56"]; goto YAxLr; KTaYv: $data = ["\x73\164\141\x74\165\163" => true, "\x6d\x73\147" => "\101\153\165\156\40" . $guru->nama_guru . "\40\x64\151\141\x6b\x74\151\x66\x6b\141\x6e\56"]; goto L9F7K; l3YHT: J3Ijq: goto aaDND; GOPmC: $group = array("\62"); goto U063V; knrI4: $last_name = count($nama) > 2 ? $nama[1] : end($nama); goto rrWiA; TqtUw: if ($this->ion_auth->email_check($email)) { goto kU5mX; } goto UTr7A; L9F7K: $this->db->set("\151\x64\x5f\x75\163\x65\162", $id_user); goto ZN3NC; o4vvE: kU5mX: goto uwPF8; ZN3NC: $this->db->where("\x69\x64\137\x67\x75\162\165", $id); goto OvCy5; umeV6: goto c_hNO; goto o4vvE; U063V: if ($this->ion_auth->username_check($username)) { goto w8Kcr; } goto TqtUw; W1l8F: } public function deactivate($id = NULL) { goto INEYf; OC44e: $data = ["\163\x74\141\164\165\163" => false, "\x6d\x73\147" => "\101\x6e\x64\141\x20\x62\165\153\x61\156\x20\141\x64\x6d\151\156\x2e"]; goto yPHx9; cWQyo: WG7CA: goto KnCrd; ZVhxj: $data = ["\163\x74\141\x74\165\x73" => false, "\155\163\x67" => "\131\x6f\x75\40\x6d\x75\163\164\x20\142\x65\x20\x61\x6e\40\x61\x64\x6d\151\156\151\163\164\x72\141\164\x6f\162\x20\164\157\x20\166\x69\145\x77\40\x74\x68\x69\x73\x20\160\141\147\x65\x2e"]; goto pmVTW; kJ8LS: goto blVKg; goto Kyk1t; ElO_K: $data = ["\163\164\141\x74\165\163" => $deleted, "\155\x73\147" => "\x74\x65\154\141\150\40\144\151\x6e\157\x6e\141\153\x74\151\x66\153\141\156\x2e"]; goto STWTs; INEYf: if (!$this->ion_auth->logged_in() || !$this->ion_auth->is_admin()) { goto u6Yx0; } goto BVr42; IK1fd: if ($this->ion_auth->logged_in() && $this->ion_auth->is_admin()) { goto WG7CA; } goto OC44e; KnCrd: $deleted = $this->ion_auth->delete_user($id); goto ElO_K; eDfBh: $this->output_json($data); goto m7FNA; BVr42: $id = (int) $id; goto IK1fd; STWTs: zH2UL: goto kJ8LS; yPHx9: goto zH2UL; goto cWQyo; Kyk1t: u6Yx0: goto ZVhxj; pmVTW: blVKg: goto eDfBh; m7FNA: } public function aktifkanSemua() { goto oIsKD; FOhJK: $data = ["\x73\164\141\x74\165\163" => true, "\152\x75\x6d\154\141\x68" => $jum, "\x6d\x73\x67" => $jum . "\40\107\x75\x72\165\x20\x64\151\x61\153\164\x69\146\153\141\x6e\x2e"]; goto ikZpa; z_gEj: foreach ($guruAktif as $guru) { goto rkJFa; WP8hE: Uhm9Z: goto Rayjx; eWO4y: $this->activate($guru->id_guru); goto xdxfa; fVnyV: JJRvT: goto XP6NY; gtK5V: iavle: goto qEakv; xdxfa: goto JJRvT; goto WP8hE; Rayjx: goto iavle; goto fVnyV; XP6NY: $jum += 1; goto gtK5V; rkJFa: if ($guru->aktif > 0) { goto Uhm9Z; } goto eWO4y; qEakv: } goto XWEPN; oIsKD: $guruAktif = $this->users->getGuruAktif(); goto cqW6C; cqW6C: $jum = 0; goto z_gEj; XWEPN: oL2kt: goto FOhJK; ikZpa: $this->output_json($data); goto Fp3hK; Fp3hK: } public function nonaktifkanSemua() { goto cHsqb; DEN67: $this->output_json($data); goto JzjwX; cTLSY: $jum = 0; goto oFjNB; XQLm8: $data = ["\163\164\x61\x74\165\163" => true, "\x6a\x75\x6d\154\x61\150" => $jum, "\x6d\x73\147" => $jum . "\x20\107\x75\162\165\40\144\151\156\x6f\x6e\141\153\x74\151\x66\153\141\x6e\x2e"]; goto DEN67; oFjNB: foreach ($guruAktif as $guru) { goto LQodK; t3w52: $this->output_json($del); goto n6hqT; n6hqT: dBDam: goto g8VTb; JINIy: goto dBDam; goto AQ5t0; g8VTb: $jum += 1; goto wtyt1; ir3rM: $del = $this->deactivate($guru->id, ''); goto t3w52; LQodK: if ($guru->aktif > 0) { goto nwmzf; } goto To7hU; AQ5t0: nwmzf: goto ir3rM; wtyt1: poj8D: goto W_F9Y; To7hU: goto poj8D; goto JINIy; W_F9Y: } goto sI1v8; sI1v8: ezFwK: goto XQLm8; cHsqb: $guruAktif = $this->users->getGuruAktif(); goto cTLSY; JzjwX: } public function edit($id) { goto DyTzW; dbUDP: $data["\x6c\x65\x76\x65\154\163"] = $this->users->getLevelGuru(); goto LKm73; dbmLa: $users = $this->users->getUsers($guru->username); goto vhiyR; TM97C: $data["\x70\162\157\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto ZvdHg; Y5fw4: $data["\153\145\x6c\x61\x73\163"] = $this->users->getKelas($tp->id_tp, $smt->id_smt); goto MV3Nq; GL9UD: $data["\x75\163\x65\x72\163"] = $users; goto zncD1; t3155: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto D0GCR; FC8NH: $data["\x74\x70\137\x61\143\x74\x69\166\x65"] = $tp; goto t3155; MoKJA: UEiHy: goto TM97C; AjAv7: goto djaPW; goto MoKJA; D0GCR: $data["\x73\x6d\164\x5f\x61\x63\x74\x69\166\145"] = $smt; goto lSxJ3; vhiyR: $user = $this->ion_auth->user()->row(); goto jc91M; gY2SS: $data["\164\x70"] = $this->dashboard->getTahun(); goto FC8NH; DyTzW: $tp = $this->dashboard->getTahunActive(); goto tmKG0; tmKG0: $smt = $this->dashboard->getSemesterActive(); goto ix4Kz; lSxJ3: $group = $this->ion_auth->get_users_groups($user->id)->row()->name; goto LUNbr; xNjdE: $this->load->view("\x6d\x65\x6d\x62\x65\x72\x73\57\x67\x75\x72\x75\x2f\x74\x65\155\160\154\x61\x74\x65\163\x2f\x68\x65\x61\x64\145\162", $data); goto XGolB; ajjaO: $this->load->view("\137\x74\145\x6d\x70\154\x61\x74\x65\163\57\x64\x61\x73\x68\142\157\141\x72\x64\57\x5f\146\157\x6f\x74\145\162"); goto ks8Gn; ZvdHg: $data["\147\162\x6f\165\x70\163"] = $this->ion_auth->groups()->result(); goto Y5fw4; ks8Gn: djaPW: goto B8SZp; MV3Nq: $data["\155\141\160\145\x6c\163"] = $this->users->getMapel(); goto dbUDP; XGolB: $this->load->view("\x75\x73\x65\x72\163\57\147\165\162\x75\x2f\x65\144\x69\164"); goto KkA6g; LUNbr: if ($group === "\x61\144\155\151\156") { goto UEiHy; } goto xNjdE; KkA6g: $this->load->view("\155\145\x6d\142\x65\x72\x73\57\147\x75\x72\x75\x2f\x74\x65\x6d\160\x6c\141\x74\145\x73\x2f\x66\x6f\157\164\x65\162"); goto AjAv7; jc91M: $data = ["\165\163\x65\162" => $user, "\152\x75\144\165\x6c" => "\x55\163\145\162\40\x4d\x61\156\141\x67\x65\x6d\x65\x6e\x74", "\163\165\142\152\165\144\x75\x6c" => "\105\x64\x69\x74\x20\104\x61\164\141\x20\125\163\x65\162", "\x73\145\x74\x74\151\156\x67" => $this->dashboard->getSetting()]; goto GL9UD; ix4Kz: $guru = $this->users->getDetailGuru($id); goto dbmLa; oHDXc: $this->load->view("\x75\x73\x65\x72\163\57\147\x75\x72\x75\x2f\145\x64\151\164"); goto ajjaO; zncD1: $data["\147\x75\162\x75"] = $guru; goto gY2SS; LKm73: $this->load->view("\137\164\145\155\x70\x6c\141\x74\145\x73\57\x64\x61\163\x68\x62\157\141\x72\x64\57\x5f\150\145\141\x64\145\162", $data); goto oHDXc; B8SZp: } public function editLogin() { goto Ox08t; xL2YZ: i_AHZ: goto pUJiX; JJKtN: goto ojx_f; goto xL2YZ; PHAL3: $this->db->set("\x75\x73\145\162\156\x61\x6d\145", $username); goto pFXaJ; q7yKT: $guru = $this->master->getUserIdGuruByUsername($username); goto NyIHF; nwGvv: evsqz: goto UEhDj; ZVmOO: $this->output_json($data); goto JarAD; NyIHF: $this->form_validation->set_rules("\x6f\x6c\144", $this->lang->line("\143\x68\141\x6e\x67\145\x5f\x70\x61\163\163\x77\x6f\162\144\137\x76\x61\x6c\151\x64\x61\x74\x69\x6f\156\137\157\x6c\144\137\160\x61\x73\163\167\157\162\144\137\154\x61\x62\145\x6c"), "\162\x65\161\165\x69\162\145\x64"); goto oxGWz; rWlwb: $data["\x74\x65\x78\164"] = "\125\x73\x65\162\156\x61\x6d\x65\x20\144\141\x6e\40\x50\x61\x73\x73\167\157\162\x64\40\142\x65\162\150\141\163\151\x6c\x20\144\x69\165\160\x64\x61\164\145\54\40\x61\x6b\x74\151\146\x61\163\151\40\x55\x73\145\x72\x6e\141\x6d\x65\x20\144\141\x6e\x20\x50\x61\163\163\167\x6f\162\x64\40\142\141\x72\165\40\x6d\145\x6e\x75\156\x67\147\165\x20\x70\145\x72\x73\x65\x74\165\x6a\165\141\156\x20\101\144\155\151\x6e"; goto JJKtN; ZRzY0: if ($this->form_validation->run() === FALSE) { goto evsqz; } goto PHAL3; YRRIB: if ($guru && $guru->id_guru != $id_guru) { goto i_AHZ; } goto ZRzY0; UEhDj: $data = ["\x73\x74\x61\164\165\x73" => false, "\x65\x72\162\157\162\163" => ["\157\154\x64" => form_error("\157\154\x64"), "\156\x65\x77" => form_error("\x6e\145\167"), "\x6e\145\x77\x5f\143\x6f\156\146\x69\x72\155" => form_error("\x6e\145\167\x5f\143\157\156\x66\x69\162\x6d")]]; goto pWdoJ; pRpbg: $pass = $this->input->post("\x6e\x65\x77", true); goto q7yKT; oxGWz: $this->form_validation->set_rules("\x6e\x65\x77", $this->lang->line("\x63\x68\x61\156\147\145\x5f\160\x61\x73\163\x77\x6f\x72\144\137\x76\x61\154\151\144\x61\x74\151\x6f\156\137\x6e\145\167\x5f\x70\x61\163\163\x77\x6f\x72\x64\x5f\154\141\142\145\154"), "\x72\x65\x71\165\151\162\x65\144\174\155\151\x6e\137\x6c\145\156\x67\164\x68\133" . $this->config->item("\x6d\x69\156\x5f\160\141\163\x73\x77\157\162\x64\x5f\x6c\x65\x6e\147\x74\x68", "\151\157\x6e\137\x61\x75\164\x68") . "\135\174\155\x61\164\143\x68\x65\x73\x5b\156\145\167\x5f\143\x6f\156\146\x69\x72\x6d\135"); goto mOK65; Ox08t: $id_guru = $this->input->post("\151\x64\x5f\147\165\x72\165", true); goto oBghx; EwUj4: $status = $this->db->update("\x6d\x61\163\164\145\162\x5f\147\x75\162\x75"); goto nXDTz; oBghx: $username = $this->input->post("\165\163\x65\162\156\141\x6d\145", true); goto pRpbg; nXDTz: $data["\x73\164\x61\x74\x75\x73"] = $status; goto rWlwb; pFXaJ: $this->db->set("\160\141\x73\163\x77\x6f\162\144", $pass); goto CRfTk; pUJiX: $data = ["\163\x74\x61\x74\x75\x73" => false, "\x65\x72\x72\157\162\x73" => ["\x75\x73\145\x72\156\141\155\145" => "\125\x73\145\x72\x6e\141\155\145\40\x73\x75\x64\141\150\x20\x64\x69\147\165\156\141\x6b\141\x6e"]]; goto g3ZMX; mOK65: $this->form_validation->set_rules("\156\x65\x77\137\143\157\156\146\x69\162\x6d", $this->lang->line("\143\x68\x61\x6e\x67\145\x5f\x70\141\163\163\x77\x6f\162\144\137\166\141\154\151\144\141\x74\151\x6f\156\x5f\156\145\167\137\x70\141\x73\163\x77\x6f\x72\x64\137\143\x6f\156\x66\x69\x72\x6d\x5f\x6c\x61\142\x65\154"), "\162\x65\161\x75\151\x72\145\144"); goto YRRIB; CRfTk: $this->db->where("\x69\x64\137\x67\x75\x72\165", $id_guru); goto EwUj4; g3ZMX: goto ojx_f; goto nwGvv; pWdoJ: ojx_f: goto ZVmOO; JarAD: } function buangspasi($teks) { goto zzPW1; nTiT3: $hasil = $teks; goto eE6tD; xtUOk: $remove[] = "\x27"; goto sIJNq; sIJNq: $remove[] = "\56"; goto YwtXE; oRjpA: if (!strpos($teks, "\x20")) { goto Eyeu0; } goto xtUOk; HvnAt: return $hasil; goto ioN2H; YwtXE: $remove[] = "\40"; goto ZYkFt; eE6tD: qsh20: goto oRjpA; zzPW1: $teks = trim($teks); goto nTiT3; Vz55i: Eyeu0: goto HvnAt; ZYkFt: $hasil = str_replace($remove, '', $teks); goto M5njP; M5njP: goto qsh20; goto Vz55i; ioN2H: } }
