<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\x41\123\x45\x50\101\x54\110") or exit("\x4e\157\x20\144\x69\x72\145\x63\164\40\163\x63\x72\x69\x70\164\40\141\143\143\145\x73\x73\40\141\154\x6c\x6f\167\x65\x64"); class Userguru extends CI_Controller { public function __construct() { goto WjBK4; DQEw_: D35x3: goto XTAXC; WjBK4: parent::__construct(); goto O2N66; XTAXC: $this->load->library(["\x64\x61\x74\141\164\141\x62\154\145\163", "\x66\x6f\x72\155\137\x76\x61\x6c\151\144\141\164\151\157\156"]); goto DR8po; DR8po: $this->load->model("\x55\163\145\x72\163\x5f\x6d\x6f\x64\x65\x6c", "\x75\x73\x65\x72\163"); goto w0Nan; jnJ0N: $this->load->model("\x44\x61\x73\150\x62\x6f\x61\x72\144\x5f\155\157\144\x65\154", "\x64\x61\163\x68\142\157\x61\162\x64"); goto dSfG2; mfe4L: goto D35x3; goto EQzY5; dSfG2: $this->form_validation->set_error_delimiters('', ''); goto Kxbh8; hK7Yp: show_error("\110\141\156\171\141\x20\x41\144\155\151\x6e\151\163\x74\x72\x61\164\157\162\x20\171\x61\156\x67\40\x64\151\142\x65\x72\151\x20\150\141\153\x20\165\156\x74\165\153\x20\x6d\x65\156\147\141\153\x73\145\x73\x20\x68\x61\154\x61\155\x61\x6e\x20\x69\x6e\151\x2c\x20\x3c\141\x20\x68\162\x65\146\75\x22" . base_url("\144\x61\163\x68\x62\x6f\141\162\144") . "\42\x3e\x4b\145\x6d\142\x61\x6c\x69\40\x6b\x65\40\155\x65\x6e\165\40\141\x77\x61\x6c\74\x2f\x61\76", 403, "\101\153\163\145\163\x20\124\145\162\154\141\162\141\x6e\147"); goto rESy3; O2N66: if (!$this->ion_auth->logged_in()) { goto OgiRA; } goto SX4pg; EQzY5: OgiRA: goto RLZZ2; SX4pg: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\x67\165\x72\x75"))) { goto M_BYA; } goto hK7Yp; w0Nan: $this->load->model("\115\141\x73\164\x65\162\x5f\x6d\157\x64\145\x6c", "\155\141\163\164\145\x72"); goto jnJ0N; RLZZ2: redirect("\141\x75\x74\150"); goto DQEw_; rESy3: M_BYA: goto mfe4L; Kxbh8: } public function output_json($data, $encode = true) { goto ZVM__; Etqkt: $this->output->set_content_type("\x61\x70\x70\154\x69\143\141\164\151\x6f\156\x2f\x6a\x73\157\156")->set_output($data); goto sjLkn; ZVM__: if (!$encode) { goto wBaC_; } goto VUNew; zAJ87: wBaC_: goto Etqkt; VUNew: $data = json_encode($data); goto zAJ87; sjLkn: } public function data() { goto r6TrY; BpaMe: $smt = $this->dashboard->getSemesterActive(); goto I1F7l; r6TrY: $tp = $this->dashboard->getTahunActive(); goto BpaMe; I1F7l: $this->output_json($this->users->getUserGuru($tp->id_tp, $smt->id_smt), false); goto L0SZG; L0SZG: } public function index() { goto xiQYK; ZI4Iz: $data["\164\x70\x5f\x61\143\164\151\166\145"] = $this->dashboard->getTahunActive(); goto TmEgY; XZA00: lHR1z: goto KEp0C; xiQYK: $user = $this->ion_auth->user()->row(); goto o_yzf; nTEAi: VkvEG: goto LSszj; SH9nW: $this->edit($id->id_guru); goto aw8zO; KEp0C: $data["\164\x70"] = $this->dashboard->getTahun(); goto ZI4Iz; qMhh_: $this->load->view("\165\x73\145\162\x73\57\x67\165\162\x75\x2f\144\141\x74\x61"); goto u9x6a; TmEgY: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto SpMiv; f3Njy: $id = $this->users->getGuruByUsername($user->username); goto SH9nW; u9x6a: $this->load->view("\137\164\x65\155\x70\154\141\x74\x65\x73\x2f\144\141\163\150\x62\157\x61\162\144\57\137\x66\x6f\x6f\164\x65\162"); goto nTEAi; YDAKt: $this->load->view("\137\164\x65\x6d\160\x6c\141\x74\x65\x73\x2f\x64\x61\163\x68\142\x6f\x61\x72\x64\57\137\150\145\141\x64\x65\x72", $data); goto qMhh_; dsWDx: $data = ["\165\163\145\162" => $user, "\152\165\144\x75\x6c" => "\125\x73\145\162\40\x4d\x61\156\x61\147\145\x6d\x65\x6e\x74", "\x73\165\142\x6a\165\x64\x75\154" => "\104\x61\x74\141\x20\x55\163\145\162\x20\x47\165\x72\x75", "\x70\162\157\x66\x69\154\x65" => $this->dashboard->getProfileAdmin($user->id), "\163\x65\x74\164\x69\x6e\x67" => $this->dashboard->getSetting()]; goto OxTBX; OxTBX: if ($group === "\141\144\x6d\151\156") { goto lHR1z; } goto f3Njy; SpMiv: $data["\x73\x6d\x74\x5f\141\143\164\x69\x76\x65"] = $this->dashboard->getSemesterActive(); goto YDAKt; o_yzf: $group = $this->ion_auth->get_users_groups($user->id)->row()->name; goto dsWDx; aw8zO: goto VkvEG; goto XZA00; LSszj: } public function activate($id) { goto TkHFp; wVIDt: $this->db->set("\151\144\x5f\x75\x73\145\162", $id_user); goto sDfeH; sDfeH: $this->db->where("\x69\x64\137\147\x75\x72\x75", $id); goto WQxsB; qD4Jn: if ($this->ion_auth->email_check($email)) { goto gD7U7; } goto RhSIf; PW0O8: $additional_data = ["\146\x69\162\x73\x74\x5f\x6e\141\x6d\x65" => $first_name, "\x6c\x61\163\x74\x5f\x6e\x61\x6d\145" => $last_name]; goto E7I9b; WQxsB: $this->db->update("\x6d\x61\x73\164\x65\x72\137\x67\165\x72\x75"); goto oX2Qf; PRJ__: $email = strtolower($guru->username) . "\x40\147\x75\x72\165\x2e\x63\157\155"; goto PW0O8; XTqrn: eiCHG: goto Ui2_j; smsPq: $username = trim($guru->username); goto BgAFQ; TkHFp: $guru = $this->users->getDataGuru($id); goto jewju; E7I9b: $group = array("\x32"); goto hozeC; RzjB8: $data = ["\163\164\141\164\165\163" => false, "\x6d\x73\x67" => "\125\163\145\x72\x6e\141\155\x65\x20" . $email . "\40\164\x69\144\x61\153\x20\164\x65\162\163\145\144\151\x61\40\50\163\x75\x64\141\x68\x20\144\x69\x67\165\156\141\x6b\x61\156\51\56"]; goto ShnsK; CnsZf: goto LTdzg; goto XTqrn; ebzOj: $last_name = count($nama) > 2 ? $nama[1] : end($nama); goto smsPq; c1t8J: LTdzg: goto nDW49; Ui2_j: $data = ["\x73\x74\x61\x74\165\163" => false, "\x6d\x73\147" => "\x55\163\145\162\x6e\141\155\x65\x20" . $username . "\x20\x74\151\x64\x61\x6b\40\164\145\162\163\145\144\x69\x61\40\50\x73\x75\144\x61\x68\40\x64\x69\147\165\156\141\x6b\x61\x6e\x29\56"]; goto c1t8J; BgAFQ: $password = trim($guru->password); goto PRJ__; RhSIf: $id_user = $this->ion_auth->register($username, $password, $email, $additional_data, $group); goto p2dpU; oX2Qf: goto g0md5; goto c2ar3; NcZqX: $first_name = $nama[0]; goto ebzOj; p2dpU: $data = ["\163\164\x61\x74\x75\163" => true, "\x6d\x73\x67" => "\x41\153\x75\x6e\40" . $guru->nama_guru . "\x20\x64\x69\141\153\164\151\146\x6b\x61\x6e\x2e"]; goto wVIDt; ShnsK: g0md5: goto CnsZf; iR5GA: $this->output_json($data); goto Cgk2A; jewju: $nama = explode("\40", $guru->nama_guru); goto NcZqX; c2ar3: gD7U7: goto RzjB8; hozeC: if ($this->ion_auth->username_check($username)) { goto eiCHG; } goto qD4Jn; nDW49: $data["\x70\x61\163\163"] = $password; goto iR5GA; Cgk2A: } public function deactivate($id = NULL) { goto VU3HJ; FP1JS: EPJhN: goto I5cyy; DEjYT: $data = ["\163\x74\141\164\165\x73" => $deleted, "\x6d\x73\x67" => "\164\x65\x6c\x61\x68\x20\144\151\x6e\157\156\x61\x6b\164\x69\x66\x6b\x61\156\x2e"]; goto SJZbv; JXYQe: $id = (int) $id; goto SUDS_; f43Ei: $data = ["\x73\164\141\164\x75\x73" => false, "\155\x73\147" => "\x41\x6e\144\141\40\142\165\x6b\x61\x6e\x20\x61\144\x6d\151\156\x2e"]; goto MI6Y5; NWeGq: abi0B: goto HRaTY; HRaTY: $deleted = $this->ion_auth->delete_user($id); goto DEjYT; MI6Y5: goto Vfasn; goto NWeGq; SUDS_: if ($this->ion_auth->logged_in() && $this->ion_auth->is_admin()) { goto abi0B; } goto f43Ei; SJZbv: Vfasn: goto aQMjY; I5cyy: $this->output_json($data); goto c_CoV; VU3HJ: if (!$this->ion_auth->logged_in() || !$this->ion_auth->is_admin()) { goto U3jHT; } goto JXYQe; tt6sd: U3jHT: goto oi9rz; aQMjY: goto EPJhN; goto tt6sd; oi9rz: $data = ["\163\164\x61\x74\x75\x73" => false, "\155\x73\x67" => "\131\x6f\165\40\x6d\x75\163\x74\x20\142\x65\x20\x61\156\x20\141\144\x6d\x69\x6e\x69\163\x74\162\141\164\x6f\x72\40\x74\157\x20\x76\x69\x65\x77\40\x74\150\x69\163\40\x70\141\147\145\x2e"]; goto FP1JS; c_CoV: } public function aktifkanSemua() { goto KYEIm; nQG4L: Q5BSU: goto cO6vo; wxe0W: $jum = 0; goto zBmzw; cO6vo: $data = ["\163\x74\141\164\165\163" => true, "\152\165\155\154\x61\x68" => $jum, "\x6d\x73\147" => $jum . "\x20\x47\165\x72\165\x20\144\151\x61\x6b\164\151\x66\x6b\141\156\56"]; goto JXTyc; JXTyc: $this->output_json($data); goto zOOff; KYEIm: $guruAktif = $this->users->getGuruAktif(); goto wxe0W; zBmzw: foreach ($guruAktif as $guru) { goto RGwg4; dt86q: V26hj: goto AkGW7; RGwg4: if ($guru->aktif > 0) { goto KQQFD; } goto wgYtf; JMPLr: $jum += 1; goto dt86q; wgYtf: $this->activate($guru->id_guru); goto SkVg8; Qbm2M: bx_2x: goto JMPLr; itLKG: KQQFD: goto R7b7h; SkVg8: goto bx_2x; goto itLKG; R7b7h: goto V26hj; goto Qbm2M; AkGW7: } goto nQG4L; zOOff: } public function nonaktifkanSemua() { goto A6iEP; g3Ljo: ksYfv: goto n0kRz; rk91K: foreach ($guruAktif as $guru) { goto Z5zWL; sXKdH: $jum += 1; goto gBkkX; Z5zWL: if ($guru->aktif > 0) { goto cq9Y1; } goto j4MxQ; TI_t3: $this->output_json($del); goto mMFWa; j4MxQ: goto XeMuw; goto eyQiv; gBkkX: XeMuw: goto P2lOE; mMFWa: SMFsd: goto sXKdH; hVo86: cq9Y1: goto TdWhq; eyQiv: goto SMFsd; goto hVo86; TdWhq: $del = $this->deactivate($guru->id, ''); goto TI_t3; P2lOE: } goto g3Ljo; pUszD: $jum = 0; goto rk91K; A6iEP: $guruAktif = $this->users->getGuruAktif(); goto pUszD; n0kRz: $data = ["\x73\x74\x61\x74\x75\x73" => true, "\x6a\x75\155\x6c\x61\150" => $jum, "\155\163\147" => $jum . "\40\x47\165\162\x75\40\x64\151\x6e\x6f\156\x61\x6b\x74\x69\146\x6b\141\156\56"]; goto p0r2B; p0r2B: $this->output_json($data); goto zZt_g; zZt_g: } public function edit($id) { goto N4Sg6; mJdxR: $data["\x74\160\x5f\141\143\164\151\166\145"] = $tp; goto UGL4P; caaqJ: $data["\x6d\141\x70\145\x6c\163"] = $this->users->getMapel(); goto FvGQk; bVJHJ: $smt = $this->dashboard->getSemesterActive(); goto Rsgh6; Cyob1: Bbqa6: goto wczKM; W8WL9: $data["\x6b\145\154\x61\163\x73"] = $this->users->getKelas($tp->id_tp, $smt->id_smt); goto caaqJ; vmBBv: $data = ["\x75\163\145\162" => $user, "\152\x75\144\165\x6c" => "\x55\163\x65\162\x20\115\x61\x6e\x61\x67\x65\155\x65\x6e\x74", "\x73\165\x62\x6a\165\x64\165\x6c" => "\x45\x64\x69\x74\40\104\141\x74\141\40\125\163\145\x72", "\163\x65\164\164\x69\156\x67" => $this->dashboard->getSetting()]; goto jT5yz; n_YyB: if ($group === "\141\144\155\151\156") { goto uNeED; } goto M98jI; cvqqe: $group = $this->ion_auth->get_users_groups($user->id)->row()->name; goto n_YyB; D8ZTU: goto Bbqa6; goto ahHWu; PhG7P: $data["\x73\155\164\137\x61\x63\164\151\x76\145"] = $smt; goto cvqqe; RoKJm: $this->load->view("\137\164\x65\155\x70\x6c\141\x74\145\163\57\x64\x61\x73\x68\142\157\141\x72\144\57\137\150\x65\x61\144\145\x72", $data); goto iQ_jJ; N4Sg6: $tp = $this->dashboard->getTahunActive(); goto bVJHJ; DLRJh: $user = $this->ion_auth->user()->row(); goto vmBBv; UGL4P: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto PhG7P; EMeLn: $this->load->view("\x6d\x65\155\142\x65\x72\163\57\147\165\162\165\57\164\x65\155\160\x6c\x61\164\x65\x73\57\x66\157\x6f\164\x65\162"); goto D8ZTU; ahHWu: uNeED: goto S4HQ9; FvGQk: $data["\x6c\145\x76\x65\154\163"] = $this->users->getLevelGuru(); goto RoKJm; S4HQ9: $data["\160\x72\x6f\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto JrGLs; jT5yz: $data["\165\x73\145\x72\163"] = $users; goto vgL_R; P4GvQ: $this->load->view("\x5f\x74\x65\x6d\160\x6c\x61\164\145\163\x2f\144\x61\163\150\x62\157\x61\x72\144\x2f\x5f\146\157\157\164\145\x72"); goto Cyob1; qSb2W: $users = $this->users->getUsers($guru->username); goto DLRJh; vgL_R: $data["\147\165\x72\165"] = $guru; goto Duj9w; JrGLs: $data["\147\x72\157\165\160\163"] = $this->ion_auth->groups()->result(); goto W8WL9; iQ_jJ: $this->load->view("\x75\x73\x65\x72\x73\x2f\147\x75\162\x75\x2f\x65\144\151\164"); goto P4GvQ; k64_D: $this->load->view("\165\163\x65\x72\x73\57\x67\165\x72\x75\57\145\144\x69\164"); goto EMeLn; Rsgh6: $guru = $this->users->getDetailGuru($id); goto qSb2W; M98jI: $this->load->view("\155\x65\155\142\x65\162\163\x2f\x67\165\x72\165\57\x74\x65\x6d\160\x6c\141\x74\x65\x73\x2f\150\145\141\x64\x65\x72", $data); goto k64_D; Duj9w: $data["\164\160"] = $this->dashboard->getTahun(); goto mJdxR; wczKM: } public function editLogin() { goto Ga0iY; gbUnF: $data["\x74\145\x78\164"] = "\125\x73\145\x72\156\x61\155\145\40\144\141\156\x20\x50\x61\x73\x73\167\x6f\x72\144\x20\142\x65\x72\x68\x61\163\x69\154\x20\144\151\x75\160\x64\141\x74\145\54\x20\141\153\164\x69\x66\141\163\151\40\x55\x73\x65\x72\x6e\x61\155\x65\40\x64\141\156\40\x50\141\163\x73\167\x6f\x72\144\x20\142\x61\x72\165\x20\x6d\x65\156\x75\x6e\x67\x67\165\40\160\x65\162\163\x65\x74\x75\152\165\141\x6e\40\x41\x64\x6d\x69\x6e"; goto jVn0p; kDB_G: $this->db->set("\x70\x61\x73\x73\167\157\162\144", $pass); goto L8PHw; Ga0iY: $id_guru = $this->input->post("\x69\144\x5f\x67\165\x72\x75", true); goto y24Qv; r0XQ4: $data = ["\163\x74\x61\x74\165\163" => false, "\145\x72\162\157\162\163" => ["\x75\x73\x65\x72\x6e\141\155\145" => "\x55\x73\145\162\156\x61\155\x65\40\163\165\x64\x61\150\40\x64\151\147\165\x6e\141\153\x61\x6e"]]; goto njIU1; L8PHw: $this->db->where("\x69\144\x5f\147\165\162\x75", $id_guru); goto gb0_6; HLSRp: N3SsC: goto qvnMq; IPk1B: $guru = $this->master->getUserIdGuruByUsername($username); goto Pq2CE; utvsK: $this->output_json($data); goto XuYJc; gb0_6: $status = $this->db->update("\x6d\x61\163\164\145\x72\x5f\147\165\162\x75"); goto M9czM; y24Qv: $username = $this->input->post("\x75\x73\145\x72\156\141\155\145", true); goto z28NB; qvnMq: $data = ["\x73\x74\141\x74\x75\x73" => false, "\x65\x72\x72\157\162\x73" => ["\x6f\x6c\x64" => form_error("\x6f\154\144"), "\156\x65\x77" => form_error("\x6e\x65\x77"), "\x6e\x65\x77\137\x63\157\156\x66\151\162\x6d" => form_error("\156\x65\x77\137\x63\x6f\x6e\146\x69\x72\x6d")]]; goto z8XMN; iJkNG: if ($this->form_validation->run() === FALSE) { goto N3SsC; } goto Tkx0L; GD8Dj: bRzw7: goto r0XQ4; z28NB: $pass = $this->input->post("\156\145\167", true); goto IPk1B; Tkx0L: $this->db->set("\x75\x73\145\x72\156\141\x6d\x65", $username); goto kDB_G; hnUy2: $this->form_validation->set_rules("\x6e\145\167\137\143\157\x6e\x66\x69\162\x6d", $this->lang->line("\143\150\141\156\x67\145\137\160\141\163\163\x77\157\162\144\137\166\141\154\x69\x64\141\164\151\157\156\x5f\156\x65\167\x5f\x70\141\163\163\167\157\x72\x64\137\x63\x6f\156\146\151\162\x6d\137\154\x61\142\x65\154"), "\162\145\x71\x75\151\162\145\144"); goto NaYSi; njIU1: goto j2YOl; goto HLSRp; NaYSi: if ($guru && $guru->id_guru != $id_guru) { goto bRzw7; } goto iJkNG; Pq2CE: $this->form_validation->set_rules("\157\154\x64", $this->lang->line("\143\150\x61\156\x67\x65\137\160\x61\163\163\167\x6f\162\144\x5f\166\141\x6c\151\144\141\164\151\x6f\x6e\x5f\157\154\x64\137\160\141\x73\x73\x77\157\162\144\x5f\x6c\141\x62\145\x6c"), "\162\x65\161\165\151\x72\145\x64"); goto EzJJS; M9czM: $data["\163\x74\141\x74\165\163"] = $status; goto gbUnF; EzJJS: $this->form_validation->set_rules("\x6e\145\x77", $this->lang->line("\143\150\x61\x6e\147\x65\137\x70\x61\x73\163\167\157\162\144\137\x76\x61\x6c\x69\x64\x61\x74\151\x6f\156\x5f\156\x65\167\137\160\141\163\163\167\x6f\162\144\137\154\x61\x62\x65\x6c"), "\162\145\161\165\151\162\145\x64\174\x6d\x69\x6e\x5f\154\145\156\x67\x74\150\133" . $this->config->item("\x6d\151\x6e\x5f\160\141\163\x73\x77\x6f\x72\144\x5f\154\x65\x6e\x67\x74\150", "\151\x6f\156\x5f\141\x75\164\150") . "\x5d\174\155\141\164\x63\150\145\x73\133\156\x65\167\x5f\143\x6f\x6e\x66\x69\162\155\x5d"); goto hnUy2; z8XMN: j2YOl: goto utvsK; jVn0p: goto j2YOl; goto GD8Dj; XuYJc: } function buangspasi($teks) { goto WLvYl; aF52k: NAkFJ: goto y2ABx; G4yB_: $remove[] = "\56"; goto zFbns; ewYld: $hasil = str_replace($remove, '', $teks); goto EsLUS; JSJn1: $remove[] = "\x27"; goto G4yB_; WLvYl: $teks = trim($teks); goto au2A7; au2A7: $hasil = $teks; goto xC3pi; zFbns: $remove[] = "\40"; goto ewYld; y2ABx: return $hasil; goto YhmLZ; xC3pi: cv0E8: goto Uj75V; Uj75V: if (!strpos($teks, "\40")) { goto NAkFJ; } goto JSJn1; EsLUS: goto cv0E8; goto aF52k; YhmLZ: } }
