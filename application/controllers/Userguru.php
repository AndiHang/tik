<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\x53\105\120\101\124\110") or exit("\116\157\x20\144\151\162\145\x63\164\40\163\x63\x72\x69\160\x74\40\141\x63\x63\145\x73\163\40\x61\154\x6c\x6f\167\x65\144"); class Userguru extends CI_Controller { public function __construct() { goto gcYH_; oazY4: GO1qk: goto KuD7K; ir5VZ: goto GO1qk; goto QXe0I; sCftl: $this->load->model("\115\x61\163\164\145\162\137\x6d\157\x64\x65\x6c", "\155\141\x73\164\x65\162"); goto aTNVV; C2yrr: $this->form_validation->set_error_delimiters('', ''); goto vqpxu; Aw2yB: $this->load->model("\x55\x73\x65\x72\163\137\x6d\157\144\x65\154", "\x75\x73\145\x72\x73"); goto sCftl; mwzH9: if (!$this->ion_auth->logged_in()) { goto wIAn0; } goto bo3WL; aTNVV: $this->load->model("\104\x61\163\x68\x62\157\x61\162\144\137\x6d\157\144\145\x6c", "\144\141\x73\150\142\x6f\141\162\144"); goto C2yrr; FEpuk: show_error("\x48\141\156\171\141\40\101\144\x6d\151\x6e\151\163\164\162\141\164\157\162\40\171\x61\x6e\147\40\144\151\x62\x65\x72\x69\40\150\141\x6b\40\165\156\164\165\153\x20\155\145\156\147\x61\x6b\x73\145\x73\x20\150\x61\154\x61\x6d\x61\156\40\x69\156\x69\54\x20\74\x61\x20\150\x72\x65\146\75\x22" . base_url("\144\141\163\150\x62\157\x61\162\x64") . "\42\x3e\x4b\145\x6d\x62\x61\154\x69\40\153\x65\x20\155\x65\156\165\40\x61\x77\x61\154\x3c\57\x61\76", 403, "\101\x6b\x73\x65\163\x20\x54\145\x72\x6c\x61\162\141\x6e\x67"); goto iVK1q; QXe0I: wIAn0: goto yVNMJ; bo3WL: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\x67\x75\x72\165"))) { goto NFPKN; } goto FEpuk; iVK1q: NFPKN: goto ir5VZ; yVNMJ: redirect("\x61\x75\x74\x68"); goto oazY4; KuD7K: $this->load->library(["\144\141\x74\141\164\x61\142\154\145\163", "\146\x6f\x72\x6d\x5f\166\141\154\151\x64\141\x74\x69\x6f\156"]); goto Aw2yB; gcYH_: parent::__construct(); goto mwzH9; vqpxu: } public function output_json($data, $encode = true) { goto dFIR0; VTEYv: $data = json_encode($data); goto bfRlH; qBJmz: $this->output->set_content_type("\141\x70\160\154\x69\x63\141\164\151\157\156\x2f\x6a\x73\x6f\x6e")->set_output($data); goto CxwxR; bfRlH: Sg6cp: goto qBJmz; dFIR0: if (!$encode) { goto Sg6cp; } goto VTEYv; CxwxR: } public function data() { goto vEoTn; KAO8A: $smt = $this->dashboard->getSemesterActive(); goto QhBti; QhBti: $this->output_json($this->users->getUserGuru($tp->id_tp, $smt->id_smt), false); goto xrrPz; vEoTn: $tp = $this->dashboard->getTahunActive(); goto KAO8A; xrrPz: } public function index() { goto CwNmA; u7kHk: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto nAtcB; VgsXN: goto HOqup; goto o3rCq; nAtcB: $data["\163\x6d\x74\x5f\x61\x63\164\x69\x76\x65"] = $this->dashboard->getSemesterActive(); goto npdOV; npdOV: $this->load->view("\x5f\x74\x65\155\x70\154\x61\164\x65\x73\x2f\x64\x61\x73\150\x62\157\141\162\144\57\x5f\x68\145\x61\144\145\x72", $data); goto xcUYh; sY1CK: $data["\164\x70\x5f\141\x63\x74\151\x76\x65"] = $this->dashboard->getTahunActive(); goto u7kHk; CwNmA: $user = $this->ion_auth->user()->row(); goto VcaLm; CxF_Q: $data["\164\x70"] = $this->dashboard->getTahun(); goto sY1CK; DPlDD: $data = ["\x75\163\145\162" => $user, "\152\165\144\165\x6c" => "\125\163\145\162\40\115\141\156\x61\147\145\155\145\x6e\164", "\x73\x75\x62\x6a\x75\144\165\x6c" => "\x44\x61\x74\x61\40\125\x73\x65\x72\40\107\x75\162\165", "\x70\162\157\146\151\154\145" => $this->dashboard->getProfileAdmin($user->id), "\163\145\x74\x74\x69\x6e\x67" => $this->dashboard->getSetting()]; goto SMiOQ; hFEuc: $this->edit($id->id_guru); goto VgsXN; VcaLm: $group = $this->ion_auth->get_users_groups($user->id)->row()->name; goto DPlDD; gP_ro: HOqup: goto kXwf_; SMiOQ: if ($group === "\141\144\155\151\x6e") { goto LuZHx; } goto drZQe; xcUYh: $this->load->view("\x75\163\145\x72\x73\57\147\x75\162\x75\57\144\141\164\141"); goto CZqt4; drZQe: $id = $this->users->getGuruByUsername($user->username); goto hFEuc; o3rCq: LuZHx: goto CxF_Q; CZqt4: $this->load->view("\x5f\164\145\x6d\160\154\141\164\145\x73\x2f\144\x61\163\x68\142\x6f\x61\162\x64\x2f\137\x66\x6f\157\164\x65\162"); goto gP_ro; kXwf_: } public function activate($id) { goto enRda; Jfce6: $password = trim($guru->password); goto cJf5J; enRda: $guru = $this->users->getDataGuru($id); goto H6VBQ; SEMIO: $this->output_json($data); goto uEt9S; aGnkl: goto hHlSU; goto XnPB_; MDLlz: if ($this->ion_auth->email_check($email)) { goto gxB6x; } goto gufEO; cJf5J: $email = strtolower($guru->username) . "\x40\x67\165\x72\165\56\143\157\155"; goto LYRl2; XnPB_: BsWle: goto qyW1o; QjLVY: goto k18YN; goto Uf7yP; H6VBQ: $nama = explode("\x20", $guru->nama_guru); goto Xb4Iw; pW43B: $data = ["\163\x74\x61\x74\x75\x73" => false, "\155\x73\x67" => "\125\x73\x65\162\x6e\x61\155\x65\40" . $email . "\x20\x74\x69\x64\x61\153\x20\164\145\162\x73\145\x64\151\x61\40\x28\x73\165\x64\x61\x68\40\x64\x69\x67\165\156\x61\x6b\x61\156\x29\x2e"]; goto eY3RO; K5klx: $username = trim($guru->username); goto Jfce6; DRIK5: $this->db->update("\155\x61\163\164\x65\162\x5f\147\x75\x72\x75"); goto QjLVY; wQVAk: if ($this->ion_auth->username_check($username)) { goto BsWle; } goto MDLlz; Xb4Iw: $first_name = $nama[0]; goto GfZTH; zORxz: $data = ["\x73\164\x61\164\x75\x73" => true, "\x6d\163\x67" => "\x41\x6b\x75\156\40" . $guru->nama_guru . "\x20\x64\151\x61\153\x74\x69\146\x6b\141\156\56"]; goto YOWRj; qyW1o: $data = ["\163\164\x61\164\165\163" => false, "\155\x73\147" => "\125\163\x65\x72\x6e\x61\155\145\40" . $username . "\40\164\x69\144\x61\x6b\40\x74\x65\162\x73\x65\144\151\x61\x20\50\163\x75\x64\141\x68\x20\x64\x69\x67\x75\156\141\x6b\x61\x6e\51\56"]; goto IYVQJ; LYRl2: $additional_data = ["\146\x69\x72\163\164\x5f\x6e\x61\155\145" => $first_name, "\x6c\141\x73\x74\x5f\156\141\155\x65" => $last_name]; goto umXug; IYVQJ: hHlSU: goto TylI_; gufEO: $id_user = $this->ion_auth->register($username, $password, $email, $additional_data, $group); goto zORxz; HIqy4: $this->db->where("\151\x64\x5f\147\165\x72\x75", $id); goto DRIK5; TylI_: $data["\160\x61\x73\x73"] = $password; goto SEMIO; eY3RO: k18YN: goto aGnkl; Uf7yP: gxB6x: goto pW43B; GfZTH: $last_name = count($nama) > 2 ? $nama[1] : end($nama); goto K5klx; umXug: $group = array("\62"); goto wQVAk; YOWRj: $this->db->set("\x69\144\x5f\165\163\x65\x72", $id_user); goto HIqy4; uEt9S: } public function deactivate($id = NULL) { goto LrWbr; b1vF4: $this->output_json($data); goto LYidF; snxrs: fCIqz: goto b1vF4; TG4io: eD702: goto rxGaR; rxGaR: goto fCIqz; goto UAgnn; CDNHt: ZY8pD: goto jpqm2; h1EQt: $data = ["\163\164\x61\x74\165\163" => $deleted, "\x6d\163\x67" => "\x74\x65\x6c\141\x68\x20\x64\x69\156\157\156\141\x6b\x74\151\146\153\x61\156\56"]; goto TG4io; bWKst: $id = (int) $id; goto iLOoT; UAgnn: T_5iP: goto CZYDR; iLOoT: if ($this->ion_auth->logged_in() && $this->ion_auth->is_admin()) { goto ZY8pD; } goto KRutD; LrWbr: if (!$this->ion_auth->logged_in() || !$this->ion_auth->is_admin()) { goto T_5iP; } goto bWKst; jpqm2: $deleted = $this->ion_auth->delete_user($id); goto h1EQt; dcWU0: goto eD702; goto CDNHt; KRutD: $data = ["\163\164\141\164\165\163" => false, "\155\163\147" => "\101\156\x64\141\40\x62\x75\153\x61\156\40\x61\144\x6d\151\156\x2e"]; goto dcWU0; CZYDR: $data = ["\163\164\141\x74\x75\x73" => false, "\x6d\x73\x67" => "\x59\x6f\165\40\155\x75\163\164\40\x62\x65\x20\x61\156\40\x61\x64\x6d\x69\x6e\151\163\164\x72\141\x74\x6f\x72\40\164\157\40\166\151\145\x77\x20\164\150\151\x73\40\160\141\147\x65\x2e"]; goto snxrs; LYidF: } public function aktifkanSemua() { goto lp0Xq; owjxa: $data = ["\x73\x74\141\164\165\x73" => true, "\x6a\165\155\x6c\x61\150" => $jum, "\155\163\147" => $jum . "\40\107\x75\x72\165\x20\x64\x69\141\153\164\151\146\x6b\141\x6e\56"]; goto Bsa_F; ePEMk: pnRtd: goto owjxa; Bsa_F: $this->output_json($data); goto JMKnZ; OlDCV: $jum = 0; goto OYvqv; OYvqv: foreach ($guruAktif as $guru) { goto BiPbb; jsUOZ: goto bXvfb; goto lVI1k; Jho7u: $jum += 1; goto UdIC1; lVI1k: wyVb4: goto kIbUR; kIbUR: goto alryC; goto lHZg2; UdIC1: alryC: goto gY89j; BiPbb: if ($guru->aktif > 0) { goto wyVb4; } goto N7vfK; N7vfK: $this->activate($guru->id_guru); goto jsUOZ; lHZg2: bXvfb: goto Jho7u; gY89j: } goto ePEMk; lp0Xq: $guruAktif = $this->users->getGuruAktif(); goto OlDCV; JMKnZ: } public function nonaktifkanSemua() { goto XQb6I; j8Cw1: $data = ["\x73\x74\141\x74\x75\163" => true, "\x6a\x75\x6d\154\141\150" => $jum, "\x6d\163\147" => $jum . "\40\x47\165\x72\x75\x20\x64\x69\156\157\x6e\141\x6b\x74\x69\x66\153\x61\156\x2e"]; goto Ind64; qMI_l: $jum = 0; goto iNoKl; XQb6I: $guruAktif = $this->users->getGuruAktif(); goto qMI_l; iNoKl: foreach ($guruAktif as $guru) { goto VZUeb; VZUeb: if ($guru->aktif > 0) { goto Lcj14; } goto U1x5h; PLM9n: i1a1e: goto euVUK; bTfJe: $del = $this->deactivate($guru->id, ''); goto vTFyg; z1qym: Lcj14: goto bTfJe; vTFyg: $this->output_json($del); goto BssoI; ZDcVu: goto HiN7W; goto z1qym; BssoI: HiN7W: goto LyGOq; U1x5h: goto i1a1e; goto ZDcVu; LyGOq: $jum += 1; goto PLM9n; euVUK: } goto HooPa; HooPa: p5PZK: goto j8Cw1; Ind64: $this->output_json($data); goto sAQE9; sAQE9: } public function edit($id) { goto LMo5M; MMCp5: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto ejFzC; rNDSL: if ($group === "\x61\144\x6d\151\156") { goto NV0JV; } goto vXLUw; DfIPs: $data["\164\x70"] = $this->dashboard->getTahun(); goto IuBTq; zT9qe: $data["\x67\x75\162\x75"] = $guru; goto DfIPs; d_uiF: $data = ["\165\x73\x65\x72" => $user, "\152\165\144\x75\x6c" => "\125\163\x65\x72\40\x4d\141\x6e\x61\147\x65\x6d\x65\156\x74", "\x73\x75\x62\x6a\x75\x64\x75\x6c" => "\x45\x64\x69\164\x20\104\x61\164\141\x20\125\x73\145\162", "\163\x65\x74\164\x69\156\x67" => $this->dashboard->getSetting()]; goto vimjx; LMo5M: $tp = $this->dashboard->getTahunActive(); goto Je4Sq; GBt8X: $data["\147\x72\157\165\x70\x73"] = $this->ion_auth->groups()->result(); goto t6vMC; IuBTq: $data["\164\160\137\141\x63\164\x69\x76\145"] = $tp; goto MMCp5; vXLUw: $this->load->view("\x6d\145\x6d\142\145\162\x73\57\x67\165\162\x75\x2f\x74\145\155\x70\154\x61\164\x65\163\x2f\x68\145\x61\144\145\162", $data); goto NvNhm; Ywsal: $guru = $this->users->getDetailGuru($id); goto hP0e0; mxbdV: $data["\x6d\x61\x70\145\154\x73"] = $this->users->getMapel(); goto JThlH; JThlH: $data["\x6c\145\x76\x65\x6c\163"] = $this->users->getLevelGuru(); goto IGYlB; NvNhm: $this->load->view("\x75\163\x65\x72\163\57\x67\x75\x72\165\x2f\x65\x64\x69\164"); goto Tw5hp; sWhsP: $this->load->view("\x75\163\145\x72\x73\x2f\147\165\162\165\x2f\x65\x64\151\x74"); goto f08fE; vimjx: $data["\165\163\x65\162\x73"] = $users; goto zT9qe; f08fE: $this->load->view("\x5f\164\x65\155\160\154\141\x74\x65\163\57\x64\141\163\x68\142\157\141\162\x64\57\137\x66\157\157\x74\145\162"); goto GA9uq; dRVYB: $user = $this->ion_auth->user()->row(); goto d_uiF; IGYlB: $this->load->view("\x5f\164\145\155\x70\154\141\164\145\163\x2f\144\141\163\x68\x62\x6f\141\162\144\57\x5f\x68\145\x61\x64\x65\162", $data); goto sWhsP; lP3J8: $group = $this->ion_auth->get_users_groups($user->id)->row()->name; goto rNDSL; GA9uq: UjoDX: goto vlbOL; TJgI1: $data["\x70\162\x6f\x66\x69\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto GBt8X; wa_ss: NV0JV: goto TJgI1; WuWVk: goto UjoDX; goto wa_ss; ejFzC: $data["\163\x6d\x74\137\141\x63\x74\151\x76\145"] = $smt; goto lP3J8; t6vMC: $data["\153\145\x6c\141\163\x73"] = $this->users->getKelas($tp->id_tp, $smt->id_smt); goto mxbdV; Tw5hp: $this->load->view("\x6d\x65\155\142\x65\162\163\57\x67\x75\162\x75\57\164\145\155\x70\x6c\x61\x74\145\x73\x2f\x66\157\x6f\164\145\162"); goto WuWVk; Je4Sq: $smt = $this->dashboard->getSemesterActive(); goto Ywsal; hP0e0: $users = $this->users->getUsers($guru->username); goto dRVYB; vlbOL: } public function editLogin() { goto jXdr7; Pu3JW: if ($this->form_validation->run() === FALSE) { goto I0Pam; } goto UHhCw; Kt4qi: N2clJ: goto fskgV; D2xUO: $username = $this->input->post("\x75\x73\145\162\156\x61\155\145", true); goto pDIpJ; ERBPV: $this->db->where("\x69\x64\137\x67\x75\162\165", $id_guru); goto BS1rU; BS1rU: $status = $this->db->update("\155\x61\163\x74\145\162\137\x67\x75\x72\x75"); goto aEZvd; UHhCw: $this->db->set("\165\x73\x65\162\156\141\x6d\145", $username); goto oHRvr; t37K2: $this->form_validation->set_rules("\156\x65\167\137\x63\157\156\146\151\162\x6d", $this->lang->line("\143\150\141\156\147\x65\137\x70\141\x73\x73\167\157\162\144\137\x76\x61\x6c\x69\144\x61\x74\151\157\156\x5f\x6e\x65\x77\x5f\x70\141\163\163\167\157\x72\144\x5f\143\157\156\146\151\162\x6d\x5f\x6c\x61\142\145\154"), "\x72\145\x71\165\x69\x72\145\144"); goto P7Na8; O6fVx: $data["\x74\145\x78\164"] = "\x55\163\145\162\x6e\141\x6d\x65\x20\144\x61\x6e\x20\x50\141\163\x73\x77\157\162\144\40\x62\145\162\x68\x61\163\151\154\40\144\x69\165\160\144\x61\164\x65\x2c\x20\141\x6b\164\151\x66\x61\163\151\x20\x55\163\x65\162\x6e\x61\x6d\x65\x20\144\x61\x6e\40\x50\141\163\x73\167\157\x72\x64\x20\x62\x61\x72\x75\40\155\x65\156\165\x6e\147\x67\x75\40\x70\x65\162\x73\145\x74\x75\x6a\x75\141\x6e\40\101\144\155\151\x6e"; goto henc2; tqhJ_: goto N2clJ; goto g_g0y; xjlPW: DZkMp: goto Lh3S3; Lh3S3: $data = ["\163\x74\141\164\x75\x73" => false, "\x65\x72\x72\157\x72\163" => ["\x75\163\x65\162\156\x61\x6d\145" => "\x55\163\x65\x72\x6e\x61\155\145\40\163\165\x64\141\150\x20\144\151\147\x75\x6e\x61\153\x61\156"]]; goto tqhJ_; P7Na8: if ($guru && $guru->id_guru != $id_guru) { goto DZkMp; } goto Pu3JW; fskgV: $this->output_json($data); goto kXSfw; oHRvr: $this->db->set("\160\x61\163\x73\x77\x6f\162\144", $pass); goto ERBPV; henc2: goto N2clJ; goto xjlPW; IhlZp: $this->form_validation->set_rules("\157\154\x64", $this->lang->line("\x63\x68\141\x6e\x67\145\x5f\x70\x61\163\x73\167\x6f\162\x64\x5f\x76\141\x6c\x69\x64\141\x74\151\157\156\x5f\157\x6c\144\137\160\x61\x73\163\167\157\x72\144\x5f\154\x61\142\145\154"), "\162\145\161\x75\151\x72\x65\x64"); goto nlkN1; aEZvd: $data["\x73\164\141\164\x75\x73"] = $status; goto O6fVx; r6rHK: $data = ["\x73\164\141\x74\165\163" => false, "\145\x72\162\157\162\163" => ["\157\x6c\144" => form_error("\157\x6c\x64"), "\x6e\145\x77" => form_error("\156\145\167"), "\x6e\x65\x77\x5f\x63\x6f\x6e\x66\x69\162\155" => form_error("\x6e\x65\167\x5f\x63\157\156\x66\151\162\x6d")]]; goto Kt4qi; nlkN1: $this->form_validation->set_rules("\x6e\145\x77", $this->lang->line("\x63\150\x61\156\x67\x65\137\160\x61\163\163\167\157\162\144\137\166\x61\154\x69\144\x61\164\x69\157\156\137\156\145\167\137\160\141\163\x73\x77\x6f\x72\144\137\154\141\x62\145\154"), "\x72\x65\161\165\x69\x72\x65\144\x7c\155\x69\156\x5f\154\145\x6e\x67\164\150\x5b" . $this->config->item("\155\151\156\x5f\x70\x61\163\163\x77\x6f\162\x64\137\x6c\145\156\x67\164\150", "\151\x6f\x6e\x5f\141\165\x74\x68") . "\135\x7c\x6d\141\x74\143\x68\145\x73\x5b\x6e\x65\167\137\143\x6f\x6e\x66\x69\x72\x6d\135"); goto t37K2; pDIpJ: $pass = $this->input->post("\156\x65\167", true); goto aAdZx; aAdZx: $guru = $this->master->getUserIdGuruByUsername($username); goto IhlZp; jXdr7: $id_guru = $this->input->post("\151\x64\x5f\147\x75\x72\x75", true); goto D2xUO; g_g0y: I0Pam: goto r6rHK; kXSfw: } function buangspasi($teks) { goto Euso2; zvf7Y: tQxF4: goto hSUPn; bB6y1: $hasil = str_replace($remove, '', $teks); goto S7tEW; cHNab: $remove[] = "\56"; goto WzqaX; Euso2: $teks = trim($teks); goto xMy5d; xMy5d: $hasil = $teks; goto zvf7Y; a9qW9: return $hasil; goto LKHt4; crWfm: EJRIm: goto a9qW9; hSUPn: if (!strpos($teks, "\x20")) { goto EJRIm; } goto hjv2l; S7tEW: goto tQxF4; goto crWfm; hjv2l: $remove[] = "\x27"; goto cHNab; WzqaX: $remove[] = "\40"; goto bB6y1; LKHt4: } }
