<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\123\x45\x50\101\124\110") or exit("\x4e\x6f\40\144\x69\162\x65\143\164\40\163\143\x72\x69\160\x74\40\x61\143\143\145\x73\x73\40\141\x6c\x6c\157\167\x65\x64"); class Datatahun extends CI_Controller { public function __construct() { goto rXRSk; ehlUh: $this->load->model("\115\x61\x73\164\145\162\x5f\x6d\x6f\144\145\154", "\155\141\x73\x74\x65\x72"); goto AyDo7; FkZaV: show_error("\x48\x61\156\x79\x61\x20\x41\x64\155\151\x6e\151\x73\164\x72\x61\x74\157\162\x20\171\141\x6e\147\40\x64\151\x62\145\x72\151\40\x68\141\153\40\165\x6e\x74\165\x6b\40\155\x65\156\147\141\x6b\x73\x65\163\40\x68\141\x6c\141\x6d\141\156\40\x69\156\x69\x2c\40\x3c\x61\40\x68\x72\x65\x66\75\42" . base_url("\x64\141\x73\150\x62\x6f\141\x72\144") . "\x22\x3e\x4b\145\155\x62\141\x6c\151\40\x6b\x65\x20\155\x65\156\x75\x20\x61\x77\141\154\74\x2f\141\76", 403, "\x41\x6b\x73\145\x73\x20\x54\145\x72\x6c\141\162\141\156\x67"); goto Cmve3; AJDEy: pH3QI: goto weOxc; iVfMk: $this->load->model("\114\x6f\x67\x5f\155\157\144\145\154", "\154\x6f\147\147\x69\156\147"); goto YqPNz; iCLUt: goto pH3QI; goto UDZxa; UDZxa: nH_JJ: goto g9Zcy; zdr7C: if ($this->ion_auth->is_admin()) { goto T4Qbj; } goto FkZaV; SNx3i: if (!$this->ion_auth->logged_in()) { goto nH_JJ; } goto zdr7C; g9Zcy: redirect("\x61\165\164\150"); goto AJDEy; weOxc: $this->load->library(["\x64\x61\164\x61\x74\x61\x62\x6c\x65\163", "\146\x6f\162\x6d\x5f\166\x61\x6c\151\x64\141\x74\x69\x6f\x6e"]); goto ehlUh; YqPNz: $this->form_validation->set_error_delimiters('', ''); goto geF8X; rXRSk: parent::__construct(); goto SNx3i; AyDo7: $this->load->model("\x44\141\163\x68\142\x6f\x61\162\x64\x5f\x6d\x6f\x64\145\154", "\x64\141\x73\150\x62\x6f\x61\162\144"); goto iVfMk; Cmve3: T4Qbj: goto iCLUt; geF8X: } public function output_json($data, $encode = true) { goto vYnOd; CNSZ_: $this->output->set_content_type("\x61\x70\x70\154\x69\x63\x61\x74\151\157\x6e\57\152\163\157\156")->set_output($data); goto eEghS; vYnOd: if (!$encode) { goto O1gYh; } goto I736F; I736F: $data = json_encode($data); goto IDpvc; IDpvc: O1gYh: goto CNSZ_; eEghS: } public function index() { goto V11Jv; EVyz6: $data["\163\155\164"] = $this->dashboard->getSemester(); goto RV55t; GnyvF: $this->load->view("\x6d\x61\x73\x74\x65\x72\57\x74\141\x68\165\156\x2f\x64\x61\x74\141"); goto TQ1ap; TQ1ap: $this->load->view("\137\x74\145\155\x70\154\x61\164\145\163\57\144\x61\163\150\142\157\141\162\x64\57\x5f\146\157\x6f\164\145\x72"); goto Iw5AB; g0PiE: $this->load->view("\137\x74\145\x6d\x70\x6c\x61\x74\145\163\57\x64\x61\x73\x68\142\x6f\x61\x72\x64\57\x5f\150\145\141\x64\145\162", $data); goto GnyvF; BwP2C: $data["\152\x6d\x6c\x5f\150\141\x72\x69"] = $jml == null ? "\60" : $jml->jml_hari_efektif; goto g0PiE; aQHql: $jml = $this->master->getJmlHariEfektif($tp->id_tp . $smt->id_smt); goto BwP2C; pj3bA: $smt = $this->dashboard->getSemesterActive(); goto gTz0x; RV55t: $data["\163\155\164\x5f\x61\x63\164\x69\x76\145"] = $smt; goto aQHql; gTz0x: $data["\164\160"] = $this->dashboard->getTahun(); goto EPVG3; EPVG3: $data["\x74\x70\x5f\x61\x63\x74\x69\166\145"] = $tp; goto EVyz6; m4AXM: $tp = $this->dashboard->getTahunActive(); goto pj3bA; OGujB: $data = ["\x75\x73\145\x72" => $user, "\152\x75\x64\x75\154" => "\124\141\150\x75\156\x20\x50\145\154\141\152\x61\x72\x61\156\x20\144\x61\x6e\40\123\145\155\145\x73\x74\x65\x72", "\x73\165\x62\x6a\165\x64\x75\x6c" => "\x41\164\x75\162\40\x54\141\150\x75\156\x20\x50\145\154\141\152\x61\x72\x61\x6e\x20\144\141\156\40\123\x65\x6d\x65\x73\164\x65\x72", "\160\x72\x6f\146\x69\154\x65" => $this->dashboard->getProfileAdmin($user->id), "\x73\145\x74\164\x69\156\x67" => $this->dashboard->getSetting()]; goto m4AXM; V11Jv: $user = $this->ion_auth->user()->row(); goto OGujB; Iw5AB: } public function data() { $this->output_json($this->dashboard->getDataTahun(), false); } public function gantiTahun() { goto PkBZX; kdJhp: $data["\x75\x70\x64\x61\164\x65"] = $update; goto HCarV; Elnaj: VhXyV: goto eVXLp; VmUHP: $this->logging->saveLog(4, "\155\x65\156\x67\x67\x61\156\x74\x69\40\164\x61\x68\x75\x6e\40\141\x6a\x61\162\141\156\x20\x61\153\x74\151\x66"); goto Itzbl; Wlo8G: $data["\x6d\x73\x67"] = "\115\145\162\165\142\141\150\40\x54\141\150\x75\156\40\101\x6b\x74\151\x66"; goto kdJhp; Itzbl: $this->output_json($data); goto kdajF; r0vX7: $inputTp = json_decode($this->input->post("\164\141\x68\165\x6e", false)); goto wC_Xn; HCarV: $data["\163\x74\141\164\165\x73"] = true; goto VmUHP; wC_Xn: foreach ($inputTp as $tps) { goto mVPNJ; P4E4O: WRTTq: goto f5Gzg; f5Gzg: $active = 1; goto X3lOm; WvtIL: $tahun = $tps->tp; goto Xmwr8; oMl5f: $active = 0; goto jRq1K; X3lOm: bMsPp: goto wpF37; wpF37: $update[] = array("\151\x64\x5f\x74\x70" => $id_tp, "\164\x61\150\165\x6e" => $tahun, "\x61\143\x74\x69\166\145" => $active); goto j_yGk; Xmwr8: if ($id_tp === $aktif) { goto WRTTq; } goto oMl5f; jRq1K: goto bMsPp; goto P4E4O; j_yGk: yf0Rz: goto tPTJq; mVPNJ: $id_tp = $tps->id; goto WvtIL; tPTJq: } goto Elnaj; eVXLp: $this->dashboard->update("\x6d\141\x73\164\145\x72\x5f\x74\160", $update, "\x69\x64\x5f\164\x70", null, true); goto Wlo8G; PkBZX: $aktif = $this->input->post("\x61\x63\164\151\x76\145", true); goto r0vX7; kdajF: } public function gantiSemester() { goto YsJsm; P93Kb: O8DWt: goto hbyU7; svDfK: $data["\155\x73\147"] = "\x4d\x65\x72\x75\x62\x61\150\x20\x53\x65\x6d\145\163\x74\145\162\x20\101\153\164\151\146"; goto JQ9Y2; pllcu: $this->logging->saveLog(4, "\155\145\156\147\x67\141\x6e\164\x69\40\x73\x65\x6d\x65\x73\164\x65\x72\x20\x61\153\x74\x69\x66"); goto pegeQ; af_Je: $inputSmt = json_decode($this->input->post("\163\x65\x6d\145\163\164\145\x72", false)); goto PvTvK; hbyU7: $this->dashboard->update("\x6d\x61\x73\x74\145\162\137\x73\x6d\164", $update, "\151\x64\137\x73\x6d\164", null, true); goto svDfK; EJqTH: $data["\x73\x74\141\x74\x75\163"] = true; goto pllcu; PvTvK: foreach ($inputSmt as $tps) { goto ES2h0; uFEm1: jvghJ: goto wdEy0; QuRwR: goto jvghJ; goto pdugm; ES2h0: $id_smt = $tps->id; goto ReNke; Cmwxt: $active = 1; goto uFEm1; ReNke: $smt = $tps->Semester; goto uqnbB; WdPfu: $active = 0; goto QuRwR; pdugm: T8x_5: goto Cmwxt; uqnbB: if ($id_smt === $aktif) { goto T8x_5; } goto WdPfu; LBXCo: lq1k9: goto xABo4; wdEy0: $update[] = array("\x69\x64\137\x73\x6d\164" => $id_smt, "\x73\x6d\164" => $smt, "\x61\x63\x74\x69\x76\x65" => $active); goto LBXCo; xABo4: } goto P93Kb; pegeQ: $this->output_json($data); goto EXHTF; JQ9Y2: $data["\x75\160\x64\141\164\x65"] = $update; goto EJqTH; YsJsm: $aktif = $this->input->post("\141\x63\x74\151\166\145", true); goto af_Je; EXHTF: } public function add() { goto Uh6o5; OWycD: $update = array("\151\x64\x5f\164\160" => $id, "\x74\141\150\x75\156" => $tahun); goto E8WW1; ZWpzu: $tahun = $this->input->post("\x74\141\x68\165\x6e", true); goto JqyUb; Uh6o5: $method = $this->input->post("\155\145\164\x68\x6f\144", true); goto ZWpzu; JqyUb: if ($method === "\141\144\144") { goto yoyPY; } goto Y_mSI; LO5k7: $this->logging->saveLog(4, "\x6d\x65\156\147\x65\144\x69\x74\40\164\141\150\x75\156\x20\x70\145\x6c\141\152\141\162\141\x6e"); goto W2XxB; tARjF: $this->output->set_content_type("\x61\x70\x70\x6c\x69\x63\x61\x74\x69\x6f\x6e\x2f\152\163\157\156")->set_output($data); goto amZvZ; VTCSA: $data = $this->master->create("\155\x61\163\x74\x65\162\x5f\x74\160", $insert); goto ymyLS; yvPlb: yoyPY: goto KH23g; ymyLS: $this->logging->saveLog(3, "\155\145\x6e\x61\155\x62\x61\x68\x20\164\141\x68\165\x6e\40\160\145\x6c\141\x6a\x61\x72\141\x6e"); goto VZKZw; W2XxB: goto Wlyyr; goto yvPlb; KH23g: $insert = ["\x74\x61\x68\x75\156" => $tahun]; goto VTCSA; Y_mSI: $id = $this->input->post("\151\x64\x5f\164\141\x68\165\x6e", true); goto OWycD; VZKZw: Wlyyr: goto tARjF; E8WW1: $data = $this->master->update("\x6d\x61\x73\164\145\162\137\x74\x70", $update, "\x69\x64\137\164\x70", $id); goto LO5k7; amZvZ: } public function saveHariEfektif() { goto Jg7I0; dUug0: $this->output_json($data); goto L6vQ9; WFGJD: $data["\163\164\141\164\x75\x73"] = $update; goto dUug0; RyQqY: $input = ["\x69\144\x5f\150\x61\162\x69\x5f\x65\x66\145\153\x74\151\x66" => $tp->id_tp . $smt->id_smt, "\152\155\x6c\137\x68\x61\x72\151\137\145\146\x65\x6b\x74\x69\146" => $this->input->post("\152\155\154\137\x68\x61\162\151", true)]; goto nkMqi; z89sU: $smt = $this->dashboard->getSemesterActive(); goto RyQqY; Jg7I0: $tp = $this->dashboard->getTahunActive(); goto z89sU; nkMqi: $update = $this->db->replace("\x6d\141\163\164\145\162\x5f\x68\141\x72\151\x5f\x65\146\x65\153\x74\151\x66", $input); goto WFGJD; L6vQ9: } public function hapusTahun() { goto u2ATO; CVTT0: $this->output_json($data); goto RlFxz; bN1FS: $data["\155\163\147"] = "\115\145\156\x67\x68\141\160\x75\163\40\x54\141\x68\x75\156\40\120\145\154\x61\x6a\141\162\x61\x6e"; goto CVTT0; QIPtN: $this->logging->saveLog(5, "\x6d\x65\156\x67\x68\x61\x70\x75\x73\40\x74\141\x68\165\x6e\x20\160\x65\154\x61\x6a\141\x72\141\x6e"); goto WE5tL; WH9wF: qzJT5: goto QIPtN; kvjmv: F309U: goto bN1FS; WE5tL: $data["\163\164\141\164\165\163"] = true; goto kvjmv; OjVZj: goto F309U; goto WH9wF; E_lXv: if ($this->dashboard->hapus("\155\141\x73\164\x65\162\137\x74\x70", $id, "\151\144\x5f\164\x70")) { goto qzJT5; } goto cGVGV; cGVGV: $data["\163\x74\x61\164\x75\x73"] = false; goto OjVZj; u2ATO: $id = $this->input->post("\150\x61\x70\x75\163", true); goto E_lXv; RlFxz: } public function hapus() { goto igFHB; uBhfN: FEvaN: goto ScXoc; YqNwo: $this->output_json(["\163\164\x61\164\165\x73" => true, "\164\x6f\164\141\x6c" => count($chk)]); goto wBG7e; yJaVS: if (!$this->dashboard->hapus("\155\x61\163\x74\x65\162\x5f\164\160", $chk, "\151\144\x5f\164\x70")) { goto yIrdG; } goto dqNny; igFHB: $chk = $this->input->post("\x63\x68\x65\143\153\145\144", true); goto Rbi2N; dqNny: $this->logging->saveLog(5, "\x6d\145\156\147\150\x61\x70\x75\x73\40\x74\x61\150\x75\156\x20\160\145\154\x61\x6a\x61\162\141\156"); goto YqNwo; ZDz22: dcssK: goto lWc4N; Rbi2N: if (!$chk) { goto FEvaN; } goto yJaVS; j1_9z: goto dcssK; goto uBhfN; ScXoc: $this->output_json(["\x73\164\x61\x74\x75\163" => false]); goto ZDz22; wBG7e: yIrdG: goto j1_9z; lWc4N: } }
