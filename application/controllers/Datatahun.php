<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\x41\123\x45\x50\x41\124\110") or exit("\116\x6f\40\144\x69\162\x65\143\164\x20\x73\143\x72\x69\160\x74\x20\x61\143\143\x65\x73\x73\40\141\154\x6c\x6f\167\x65\x64"); class Datatahun extends CI_Controller { public function __construct() { goto D2q9y; GuVJr: if (!$this->ion_auth->logged_in()) { goto zYMyY; } goto ceiiV; MhBgh: ndpea: goto koLTU; f8HJU: $this->load->model("\x4c\157\147\137\155\157\x64\x65\x6c", "\154\157\147\147\151\156\x67"); goto UdjAq; a3l6O: $this->load->model("\x4d\x61\x73\164\145\162\x5f\x6d\x6f\x64\x65\x6c", "\155\x61\x73\x74\x65\x72"); goto OsFvV; OsFvV: $this->load->model("\104\141\x73\150\x62\157\x61\x72\144\x5f\155\157\x64\x65\154", "\x64\x61\x73\150\142\157\141\162\x64"); goto f8HJU; EB1xW: $this->load->library(["\144\x61\164\141\164\x61\x62\x6c\x65\x73", "\x66\157\162\x6d\x5f\166\141\154\x69\x64\141\x74\x69\x6f\156"]); goto a3l6O; Xp3J9: zYMyY: goto tZ2M4; UdjAq: $this->form_validation->set_error_delimiters('', ''); goto aGis6; D2q9y: parent::__construct(); goto GuVJr; koLTU: goto efPho; goto Xp3J9; nRONJ: efPho: goto EB1xW; aSUfD: show_error("\x48\141\x6e\x79\x61\x20\101\144\155\151\156\151\x73\x74\x72\x61\164\157\162\40\171\141\156\147\40\x64\x69\x62\145\162\151\40\150\x61\153\x20\165\x6e\164\165\x6b\x20\155\x65\156\147\141\153\163\x65\163\x20\150\x61\x6c\x61\x6d\141\x6e\x20\151\156\x69\x2c\40\74\x61\x20\150\162\145\x66\x3d\42" . base_url("\x64\141\163\150\142\157\x61\162\144") . "\x22\76\113\145\155\142\x61\x6c\151\40\x6b\145\x20\155\145\x6e\x75\x20\141\x77\x61\x6c\74\57\x61\76", 403, "\101\x6b\163\145\x73\40\124\x65\x72\x6c\x61\x72\x61\x6e\147"); goto MhBgh; ceiiV: if ($this->ion_auth->is_admin()) { goto ndpea; } goto aSUfD; tZ2M4: redirect("\x61\x75\x74\150"); goto nRONJ; aGis6: } public function output_json($data, $encode = true) { goto jSYA9; M3b6w: GuAN6: goto Kb6IW; sxNbj: $data = json_encode($data); goto M3b6w; jSYA9: if (!$encode) { goto GuAN6; } goto sxNbj; Kb6IW: $this->output->set_content_type("\141\160\x70\x6c\151\143\x61\164\x69\157\156\57\x6a\x73\x6f\156")->set_output($data); goto sh01A; sh01A: } public function index() { goto uNVhN; y0qba: $data["\164\160\x5f\x61\x63\164\x69\x76\x65"] = $tp; goto rJ_bj; rJ_bj: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto ebwCx; d2nut: $data["\152\155\154\137\x68\141\162\x69"] = $jml == null ? "\x30" : $jml->jml_hari_efektif; goto qgcmH; G4fuv: $tp = $this->dashboard->getTahunActive(); goto WzhX2; QAEYD: $jml = $this->master->getJmlHariEfektif($tp->id_tp . $smt->id_smt); goto d2nut; WzhX2: $smt = $this->dashboard->getSemesterActive(); goto rcWdt; rcWdt: $data["\164\x70"] = $this->dashboard->getTahun(); goto y0qba; isLo2: $data = ["\165\163\145\162" => $user, "\152\165\x64\165\154" => "\x45\144\151\164\x20\124\141\150\x75\x6e\40\x50\x65\154\x61\x6a\x61\162\141\x6e\x20\x64\x61\x6e\x20\123\145\x6d\x65\163\x74\145\162", "\163\165\142\152\x75\x64\165\154" => "\124\141\150\165\x6e\x20\120\145\x6c\x61\x6a\141\x72\141\156\40\144\x61\x6e\x20\x53\x65\155\x65\x73\x74\x65\162", "\160\x72\x6f\146\x69\154\x65" => $this->dashboard->getProfileAdmin($user->id), "\163\145\x74\164\151\156\x67" => $this->dashboard->getSetting()]; goto G4fuv; na5Yh: $this->load->view("\x5f\164\x65\155\x70\x6c\141\164\145\x73\57\144\x61\163\x68\142\x6f\x61\x72\x64\57\x5f\146\x6f\x6f\164\x65\x72"); goto pmfCy; sAHIv: $this->load->view("\x6d\141\163\164\145\x72\57\164\x61\x68\165\156\57\x64\x61\164\141"); goto na5Yh; qgcmH: $this->load->view("\x5f\x74\145\x6d\x70\154\141\x74\x65\x73\x2f\x64\141\163\150\x62\x6f\141\x72\x64\57\x5f\x68\x65\x61\x64\145\162", $data); goto sAHIv; ebwCx: $data["\x73\x6d\164\137\x61\x63\164\151\x76\145"] = $smt; goto QAEYD; uNVhN: $user = $this->ion_auth->user()->row(); goto isLo2; pmfCy: } public function data() { $this->output_json($this->dashboard->getDataTahun(), false); } public function gantiTahun() { goto EfDPm; EfDPm: $aktif = $this->input->post("\x61\143\x74\x69\166\145", true); goto GoaPx; XRnZv: foreach ($inputTp as $tps) { goto IT21g; sZGOa: $tahun = $tps->tp; goto ldXUf; ldXUf: if ($id_tp === $aktif) { goto cv64_; } goto NCNTv; w2hOe: $active = 1; goto aoNLy; jBHI8: xFeri: goto COeGJ; ncN3d: goto kpXj2; goto Ym1qs; Ym1qs: cv64_: goto w2hOe; NCNTv: $active = 0; goto ncN3d; IT21g: $id_tp = $tps->id; goto sZGOa; SljAN: $update[] = array("\151\x64\137\x74\x70" => $id_tp, "\164\141\150\x75\156" => $tahun, "\x61\143\x74\x69\166\x65" => $active); goto jBHI8; aoNLy: kpXj2: goto SljAN; COeGJ: } goto XR1jT; XR1jT: sSFOK: goto ET8bg; v0sqX: $this->output_json($data); goto J76IZ; ET8bg: $this->dashboard->update("\155\141\x73\164\x65\x72\x5f\164\x70", $update, "\151\144\x5f\x74\x70", null, true); goto vAP51; GoaPx: $inputTp = json_decode($this->input->post("\164\141\150\165\156", false)); goto XRnZv; XHr37: $data["\x75\x70\x64\141\164\145"] = $update; goto gfEPg; vAP51: $data["\155\x73\147"] = "\115\x65\162\x75\142\x61\x68\x20\124\141\x68\165\156\40\x41\x6b\x74\x69\x66"; goto XHr37; gfEPg: $data["\163\164\x61\164\x75\163"] = true; goto v_EKl; v_EKl: $this->logging->saveLog(4, "\155\145\x6e\147\x67\x61\x6e\164\151\40\x74\141\x68\x75\156\x20\141\x6a\141\162\x61\x6e\40\x61\x6b\164\x69\146"); goto v0sqX; J76IZ: } public function gantiSemester() { goto MOzHt; lOtym: $data["\155\x73\x67"] = "\x4d\145\162\x75\x62\141\x68\x20\x53\x65\155\145\x73\x74\145\162\x20\x41\153\x74\x69\146"; goto MjSqK; MjSqK: $data["\165\x70\x64\141\x74\x65"] = $update; goto tPOKN; wacok: foreach ($inputSmt as $tps) { goto oQ_51; l9B4a: if ($id_smt === $aktif) { goto NiqMY; } goto mAbk1; tJE6F: $active = 1; goto yImBC; CV7G9: NiqMY: goto tJE6F; pgCR_: $smt = $tps->Semester; goto l9B4a; t0sGl: goto TRpVC; goto CV7G9; yImBC: TRpVC: goto iojfL; iojfL: $update[] = array("\x69\x64\137\x73\x6d\164" => $id_smt, "\163\x6d\x74" => $smt, "\x61\143\164\x69\166\x65" => $active); goto cDSFE; oQ_51: $id_smt = $tps->id; goto pgCR_; cDSFE: vzu3G: goto WLNxq; mAbk1: $active = 0; goto t0sGl; WLNxq: } goto t1CsS; MOzHt: $aktif = $this->input->post("\141\143\164\151\x76\x65", true); goto sCReZ; Q8Kl_: $this->output_json($data); goto DLnNH; sCReZ: $inputSmt = json_decode($this->input->post("\x73\x65\155\x65\163\164\x65\x72", false)); goto wacok; tPOKN: $data["\x73\x74\141\164\165\x73"] = true; goto yakFX; FHeuX: $this->dashboard->update("\155\x61\x73\x74\x65\x72\x5f\163\155\x74", $update, "\151\144\137\x73\155\164", null, true); goto lOtym; yakFX: $this->logging->saveLog(4, "\155\145\156\x67\x67\141\156\x74\151\x20\x73\145\x6d\x65\x73\x74\x65\x72\40\141\153\164\x69\146"); goto Q8Kl_; t1CsS: f_Cgd: goto FHeuX; DLnNH: } public function add() { goto YOhqB; Ey6WI: $data = $this->master->create("\x6d\141\163\164\145\162\x5f\164\160", $insert); goto O50uw; im_3C: $insert = ["\164\141\150\165\x6e" => $tahun]; goto Ey6WI; YOhqB: $method = $this->input->post("\x6d\145\164\150\157\x64", true); goto ZtY3G; cNO2x: $update = array("\151\x64\137\164\160" => $id, "\x74\141\150\x75\156" => $tahun); goto jLQdX; jLQdX: $data = $this->master->update("\x6d\141\x73\x74\x65\162\137\164\160", $update, "\151\144\x5f\x74\x70", $id); goto qRlQZ; M2O1J: iKMWP: goto KNTg3; KNTg3: $this->output->set_content_type("\x61\160\x70\154\151\x63\x61\164\x69\157\x6e\x2f\152\x73\x6f\156")->set_output($data); goto H5Ye9; qRlQZ: $this->logging->saveLog(4, "\x6d\x65\x6e\x67\145\144\x69\x74\x20\x74\141\x68\165\x6e\x20\160\145\154\141\152\x61\162\141\x6e"); goto avD3s; XxxXs: $id = $this->input->post("\151\x64\x5f\164\x61\150\x75\156", true); goto cNO2x; FM8VL: if ($method === "\x61\x64\144") { goto E64j7; } goto XxxXs; ZtY3G: $tahun = $this->input->post("\164\141\x68\165\x6e", true); goto FM8VL; O50uw: $this->logging->saveLog(3, "\x6d\145\x6e\x61\155\x62\141\x68\x20\x74\141\150\165\156\x20\160\x65\x6c\x61\152\141\x72\x61\156"); goto M2O1J; avD3s: goto iKMWP; goto f3P1h; f3P1h: E64j7: goto im_3C; H5Ye9: } public function saveHariEfektif() { goto F2_E5; LimCs: $this->output_json($data); goto KsOEw; NBnkx: $smt = $this->dashboard->getSemesterActive(); goto Dd81I; F2_E5: $tp = $this->dashboard->getTahunActive(); goto NBnkx; Dd81I: $input = ["\151\144\x5f\150\x61\162\x69\137\145\x66\145\x6b\164\151\146" => $tp->id_tp . $smt->id_smt, "\152\x6d\154\x5f\x68\141\162\151\137\x65\x66\145\x6b\164\x69\146" => $this->input->post("\x6a\155\154\137\x68\x61\162\151", true)]; goto v_qf6; bgIU1: $data["\x73\x74\141\164\165\163"] = $update; goto LimCs; v_qf6: $update = $this->db->replace("\x6d\x61\163\x74\145\162\x5f\150\141\x72\151\137\x65\146\145\x6b\x74\x69\x66", $input); goto bgIU1; KsOEw: } public function hapusTahun() { goto uACtt; g1Bnj: if ($this->dashboard->hapus("\x6d\x61\x73\164\145\x72\x5f\164\160", $id, "\151\144\x5f\164\x70")) { goto GRLJr; } goto ZVF6g; nIjYL: $this->output_json($data); goto Op446; ZVF6g: $data["\163\x74\141\x74\x75\x73"] = false; goto Eglp3; FVgt2: pvr5O: goto uxh60; qQLpZ: $this->logging->saveLog(5, "\155\x65\x6e\x67\x68\141\160\x75\x73\40\x74\141\150\x75\156\40\160\145\x6c\141\x6a\x61\162\141\x6e"); goto u4Fw7; u4Fw7: $data["\163\x74\x61\164\165\x73"] = true; goto FVgt2; uxh60: $data["\x6d\x73\x67"] = "\x4d\x65\156\147\x68\141\160\x75\x73\x20\x54\x61\150\x75\x6e\x20\120\x65\x6c\x61\152\141\x72\141\156"; goto nIjYL; Eglp3: goto pvr5O; goto iStQo; uACtt: $id = $this->input->post("\x68\141\160\165\x73", true); goto g1Bnj; iStQo: GRLJr: goto qQLpZ; Op446: } public function hapus() { goto vK_qS; aBTSl: $this->logging->saveLog(5, "\155\145\x6e\x67\x68\141\x70\x75\x73\40\164\141\150\x75\156\x20\x70\145\x6c\141\152\x61\x72\141\156"); goto GGgTL; cmJNB: KpFxV: goto dFOaL; vK_qS: $chk = $this->input->post("\x63\x68\x65\143\x6b\145\x64", true); goto S4RgK; A41CK: goto KpFxV; goto rwqP0; rwqP0: B7AVa: goto dtG2B; dtG2B: $this->output_json(["\x73\164\x61\x74\165\163" => false]); goto cmJNB; Jm4qr: o2_9F: goto A41CK; S4RgK: if (!$chk) { goto B7AVa; } goto r7wYj; GGgTL: $this->output_json(["\163\164\141\164\x75\x73" => true, "\164\157\x74\141\154" => count($chk)]); goto Jm4qr; r7wYj: if (!$this->dashboard->hapus("\x6d\141\x73\164\145\x72\x5f\x74\x70", $chk, "\151\144\x5f\x74\160")) { goto o2_9F; } goto aBTSl; dFOaL: } }
