<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\102\101\123\x45\x50\x41\x54\110") or exit("\x4e\157\40\144\151\162\x65\x63\164\40\163\143\162\151\x70\164\40\141\x63\x63\x65\x73\x73\x20\x61\x6c\x6c\157\167\145\x64"); class Datatahun extends CI_Controller { public function __construct() { goto BusGk; k5tUR: $this->load->library(["\x64\141\x74\141\x74\141\x62\x6c\x65\163", "\146\157\162\155\137\x76\141\x6c\x69\144\x61\x74\151\157\x6e"]); goto UxytL; JRPgB: $this->form_validation->set_error_delimiters('', ''); goto LhduM; oCay3: $this->load->model("\104\141\163\x68\x62\157\141\x72\x64\137\x6d\x6f\x64\x65\154", "\x64\x61\x73\150\142\x6f\x61\162\144"); goto PtMs5; mUFbf: YqDPC: goto kFDY_; rpRZc: if (!$this->ion_auth->logged_in()) { goto YqDPC; } goto ETVhy; BusGk: parent::__construct(); goto rpRZc; a2m_k: VAx43: goto e3Pzs; UxytL: $this->load->model("\115\x61\163\x74\x65\162\137\x6d\157\144\145\x6c", "\155\141\163\x74\145\x72"); goto oCay3; ETVhy: if ($this->ion_auth->is_admin()) { goto VAx43; } goto ttiBm; e3Pzs: goto FNvVQ; goto mUFbf; PtMs5: $this->load->model("\x4c\x6f\147\137\155\x6f\x64\145\x6c", "\154\x6f\x67\147\151\x6e\147"); goto JRPgB; kFDY_: redirect("\x61\165\x74\x68"); goto HwHWe; ttiBm: show_error("\x48\141\x6e\x79\x61\x20\101\x64\x6d\x69\x6e\x69\163\x74\x72\141\164\157\x72\x20\171\x61\x6e\x67\40\x64\151\x62\145\162\151\40\x68\x61\x6b\40\165\156\x74\x75\153\x20\155\x65\x6e\147\141\x6b\163\x65\x73\x20\150\141\154\x61\155\x61\156\x20\x69\156\151\54\40\74\x61\40\150\x72\x65\146\75\42" . base_url("\144\x61\163\150\142\x6f\141\162\144") . "\42\76\x4b\145\x6d\x62\141\154\x69\40\153\x65\x20\155\x65\x6e\165\40\x61\x77\x61\x6c\x3c\57\141\x3e", 403, "\x41\153\163\145\x73\x20\x54\145\162\154\x61\162\141\156\147"); goto a2m_k; HwHWe: FNvVQ: goto k5tUR; LhduM: } public function output_json($data, $encode = true) { goto ZicJX; Ugboz: T1NKs: goto HaHqj; Dmx3p: $data = json_encode($data); goto Ugboz; HaHqj: $this->output->set_content_type("\141\x70\x70\x6c\x69\x63\x61\x74\x69\157\156\x2f\x6a\x73\x6f\156")->set_output($data); goto N1u92; ZicJX: if (!$encode) { goto T1NKs; } goto Dmx3p; N1u92: } public function index() { goto bbPG7; exUs0: $jml = $this->master->getJmlHariEfektif($tp->id_tp . $smt->id_smt); goto ln8xp; vRwD3: $tp = $this->dashboard->getTahunActive(); goto FUjkJ; FUjkJ: $smt = $this->dashboard->getSemesterActive(); goto U4502; sc0lv: $data["\163\x6d\x74\137\141\143\x74\x69\x76\145"] = $smt; goto exUs0; ln8xp: $data["\x6a\x6d\x6c\x5f\x68\141\x72\x69"] = $jml == null ? "\x30" : $jml->jml_hari_efektif; goto uztf1; U4502: $data["\164\160"] = $this->dashboard->getTahun(); goto BcxAL; bbPG7: $user = $this->ion_auth->user()->row(); goto e7bvp; hx_aj: $data["\163\155\164"] = $this->dashboard->getSemester(); goto sc0lv; DxjEL: $this->load->view("\155\141\163\164\145\162\x2f\x74\x61\x68\165\156\x2f\144\x61\x74\141"); goto ZSRiX; ZSRiX: $this->load->view("\x5f\x74\145\155\160\x6c\141\164\145\x73\x2f\x64\141\163\150\x62\x6f\141\x72\x64\x2f\x5f\x66\157\157\164\145\162"); goto BSt9a; e7bvp: $data = ["\165\163\x65\162" => $user, "\x6a\165\144\165\x6c" => "\105\x64\x69\164\40\x54\x61\150\x75\156\x20\120\145\154\141\x6a\141\162\141\156\40\x64\141\x6e\x20\123\145\x6d\145\163\x74\x65\x72", "\163\x75\142\x6a\165\x64\x75\154" => "\x54\141\x68\165\x6e\40\x50\145\x6c\141\152\x61\x72\141\x6e\40\x64\141\x6e\x20\123\145\x6d\x65\x73\164\145\x72", "\x70\x72\157\x66\x69\x6c\x65" => $this->dashboard->getProfileAdmin($user->id), "\x73\x65\164\x74\151\156\147" => $this->dashboard->getSetting()]; goto vRwD3; uztf1: $this->load->view("\x5f\x74\145\155\x70\x6c\141\164\x65\163\57\x64\141\x73\150\142\157\x61\x72\x64\x2f\137\150\x65\x61\x64\145\x72", $data); goto DxjEL; BcxAL: $data["\164\x70\x5f\141\143\164\x69\166\x65"] = $tp; goto hx_aj; BSt9a: } public function data() { $this->output_json($this->dashboard->getDataTahun(), false); } public function gantiTahun() { goto LRNYp; iNKOF: $data["\165\x70\x64\141\164\x65"] = $update; goto ypQ0B; ypQ0B: $data["\163\x74\141\x74\x75\163"] = true; goto XQx0h; IOk7Z: $this->output_json($data); goto Rd3aR; XQx0h: $this->logging->saveLog(4, "\x6d\x65\156\147\x67\141\x6e\164\x69\x20\164\x61\x68\x75\x6e\40\141\152\x61\x72\x61\156\x20\141\x6b\x74\151\146"); goto IOk7Z; LRNYp: $aktif = $this->input->post("\141\x63\x74\x69\x76\x65", true); goto CzEMs; c5lHQ: WFqnF: goto wGST7; dqK0d: $data["\x6d\163\147"] = "\x4d\x65\x72\165\142\x61\150\x20\124\141\150\x75\156\x20\101\x6b\164\x69\146"; goto iNKOF; CzEMs: $inputTp = json_decode($this->input->post("\x74\x61\x68\x75\156", false)); goto rU1S6; rU1S6: foreach ($inputTp as $tps) { goto VszC_; lteSg: S8BZN: goto d5yWY; aU5jD: $active = 0; goto uSQW7; VszC_: $id_tp = $tps->id; goto nQSF8; cNHWD: a9ElO: goto U1Q7r; BNH8s: $active = 1; goto lteSg; uSQW7: goto S8BZN; goto rujkc; UMUJE: if ($id_tp === $aktif) { goto Y1YTu; } goto aU5jD; d5yWY: $update[] = array("\x69\144\x5f\164\x70" => $id_tp, "\164\x61\x68\x75\x6e" => $tahun, "\x61\143\164\x69\166\x65" => $active); goto cNHWD; rujkc: Y1YTu: goto BNH8s; nQSF8: $tahun = $tps->tp; goto UMUJE; U1Q7r: } goto c5lHQ; wGST7: $this->dashboard->update("\x6d\x61\163\x74\145\162\137\x74\x70", $update, "\151\x64\x5f\x74\x70", null, true); goto dqK0d; Rd3aR: } public function gantiSemester() { goto fgRJX; oTCBi: $this->logging->saveLog(4, "\x6d\145\x6e\147\x67\x61\x6e\164\x69\40\163\x65\x6d\x65\x73\x74\145\162\40\x61\x6b\164\151\x66"); goto EoaHH; meV9w: $data["\x73\164\x61\164\x75\163"] = true; goto oTCBi; EoaHH: $this->output_json($data); goto C1pEJ; gxZRL: $data["\x75\x70\x64\x61\x74\x65"] = $update; goto meV9w; cdUzz: $inputSmt = json_decode($this->input->post("\x73\x65\155\145\163\164\x65\162", false)); goto iBuaz; mUFgy: $data["\x6d\x73\x67"] = "\x4d\x65\162\165\x62\141\150\40\123\x65\x6d\x65\x73\164\x65\162\x20\x41\153\164\x69\146"; goto gxZRL; osfCG: $this->dashboard->update("\155\x61\x73\x74\x65\x72\x5f\x73\x6d\x74", $update, "\151\144\137\163\x6d\164", null, true); goto mUFgy; fgRJX: $aktif = $this->input->post("\x61\143\164\x69\x76\x65", true); goto cdUzz; qZthh: GjC4S: goto osfCG; iBuaz: foreach ($inputSmt as $tps) { goto pfyQj; pfyQj: $id_smt = $tps->id; goto hPlKp; hPlKp: $smt = $tps->Semester; goto BWvkg; QZE5i: goto QqITI; goto uK7oh; YuSBh: $active = 0; goto QZE5i; xOtK0: $active = 1; goto ZUVrV; QZw2o: BmVn4: goto otBRq; k0MPm: $update[] = array("\x69\144\x5f\163\155\x74" => $id_smt, "\x73\155\164" => $smt, "\141\x63\x74\x69\166\145" => $active); goto QZw2o; BWvkg: if ($id_smt === $aktif) { goto wys0P; } goto YuSBh; ZUVrV: QqITI: goto k0MPm; uK7oh: wys0P: goto xOtK0; otBRq: } goto qZthh; C1pEJ: } public function add() { goto X1t1k; Vh8_L: mx6fS: goto nah7l; nah7l: $this->output->set_content_type("\141\160\160\154\x69\x63\x61\x74\151\x6f\156\x2f\152\163\x6f\x6e")->set_output($data); goto jCIyY; F4mHW: $id = $this->input->post("\151\144\137\x74\x61\x68\x75\x6e", true); goto KjthD; X1t1k: $method = $this->input->post("\x6d\x65\x74\150\157\x64", true); goto bNTAW; PXt6T: goto mx6fS; goto su_EF; bNTAW: $tahun = $this->input->post("\x74\x61\x68\x75\x6e", true); goto E0aRS; KjthD: $update = array("\x69\x64\x5f\x74\160" => $id, "\x74\141\x68\165\156" => $tahun); goto JO8Am; W6bmv: $insert = ["\164\x61\x68\165\156" => $tahun]; goto BlCz1; E0aRS: if ($method === "\141\144\144") { goto tj2Re; } goto F4mHW; BlCz1: $data = $this->master->create("\155\141\x73\x74\x65\162\137\x74\x70", $insert); goto UXbLB; UXbLB: $this->logging->saveLog(3, "\x6d\x65\156\141\155\x62\141\150\x20\x74\141\x68\x75\x6e\x20\x70\145\x6c\141\x6a\141\x72\x61\x6e"); goto Vh8_L; JO8Am: $data = $this->master->update("\x6d\x61\163\164\145\162\x5f\x74\160", $update, "\151\144\137\x74\160", $id); goto e6A8I; e6A8I: $this->logging->saveLog(4, "\x6d\145\x6e\x67\x65\144\x69\x74\40\164\141\150\x75\156\x20\160\145\x6c\x61\152\141\162\141\x6e"); goto PXt6T; su_EF: tj2Re: goto W6bmv; jCIyY: } public function saveHariEfektif() { goto jIhe8; JVBZo: $smt = $this->dashboard->getSemesterActive(); goto YL2bT; UXUtr: $this->output_json($data); goto DmfSO; YL2bT: $input = ["\151\144\x5f\x68\141\x72\x69\137\145\x66\145\x6b\x74\151\x66" => $tp->id_tp . $smt->id_smt, "\152\x6d\x6c\137\x68\141\162\x69\137\x65\x66\x65\x6b\164\x69\146" => $this->input->post("\x6a\155\x6c\137\x68\141\x72\151", true)]; goto eRPPi; IAyGZ: $data["\163\164\x61\x74\x75\x73"] = $update; goto UXUtr; eRPPi: $update = $this->db->replace("\155\141\163\x74\145\x72\x5f\150\141\162\x69\x5f\x65\146\x65\153\164\151\x66", $input); goto IAyGZ; jIhe8: $tp = $this->dashboard->getTahunActive(); goto JVBZo; DmfSO: } public function hapusTahun() { goto nJW9G; VaitA: if ($this->dashboard->hapus("\155\141\x73\x74\145\x72\x5f\x74\x70", $id, "\151\x64\x5f\164\160")) { goto kVN6g; } goto Nwinl; dLFP6: $data["\x6d\163\x67"] = "\x4d\145\156\x67\150\x61\160\165\163\x20\x54\141\x68\x75\156\x20\x50\145\x6c\141\152\x61\x72\x61\156"; goto t1ShA; B78LD: kVN6g: goto RW2SJ; KYV5c: goto mNbOq; goto B78LD; NByLc: $data["\x73\164\x61\x74\165\x73"] = true; goto yOxxk; nJW9G: $id = $this->input->post("\150\x61\160\x75\163", true); goto VaitA; Nwinl: $data["\x73\164\x61\x74\165\163"] = false; goto KYV5c; RW2SJ: $this->logging->saveLog(5, "\x6d\145\x6e\x67\x68\x61\x70\x75\x73\40\x74\141\150\x75\156\40\x70\145\x6c\141\x6a\x61\162\x61\x6e"); goto NByLc; t1ShA: $this->output_json($data); goto LdRhO; yOxxk: mNbOq: goto dLFP6; LdRhO: } public function hapus() { goto zEeDQ; LCPtf: $this->output_json(["\163\x74\x61\164\165\x73" => false]); goto HAkfP; nVSIH: Keny_: goto mZ6_S; YTXhq: s34Z3: goto LCPtf; ImDMq: if (!$chk) { goto s34Z3; } goto o4IXO; TYJWy: $this->output_json(["\x73\x74\141\x74\165\x73" => true, "\164\x6f\164\x61\154" => count($chk)]); goto nVSIH; LjdDx: $this->logging->saveLog(5, "\155\x65\156\147\x68\x61\160\x75\163\x20\164\x61\150\165\156\x20\160\145\154\141\152\x61\162\x61\156"); goto TYJWy; mZ6_S: goto irxfi; goto YTXhq; HAkfP: irxfi: goto DsU_l; zEeDQ: $chk = $this->input->post("\x63\x68\145\143\x6b\x65\x64", true); goto ImDMq; o4IXO: if (!$this->dashboard->hapus("\x6d\141\x73\x74\x65\x72\137\164\x70", $chk, "\151\144\137\x74\x70")) { goto Keny_; } goto LjdDx; DsU_l: } }
