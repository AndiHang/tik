<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\102\x41\123\105\x50\101\x54\x48") or exit("\116\157\40\144\x69\162\145\143\164\x20\x73\x63\x72\x69\x70\164\40\x61\x63\143\x65\x73\163\x20\141\x6c\154\x6f\167\x65\x64"); class Datatahun extends CI_Controller { public function __construct() { goto uwfo1; USqjV: redirect("\141\x75\x74\150"); goto GtvbE; LF7Ss: if (!$this->ion_auth->logged_in()) { goto gdB6I; } goto w4Beo; dwIbE: $this->load->model("\104\x61\x73\x68\142\157\141\x72\144\137\155\157\144\145\x6c", "\144\141\x73\x68\x62\x6f\x61\x72\144"); goto a75kb; pwNMI: $this->load->library(["\144\x61\164\141\164\x61\x62\x6c\x65\163", "\146\157\x72\x6d\x5f\166\141\154\x69\x64\x61\x74\151\x6f\156"]); goto LWhna; a75kb: $this->load->model("\x4c\x6f\x67\x5f\155\157\144\145\x6c", "\154\x6f\x67\147\x69\156\147"); goto Kj8qQ; GtvbE: Fh5lH: goto pwNMI; dbJTx: goto Fh5lH; goto aFUkT; aFUkT: gdB6I: goto USqjV; LWhna: $this->load->model("\x4d\141\x73\164\145\162\x5f\155\x6f\x64\x65\x6c", "\x6d\141\x73\x74\145\x72"); goto dwIbE; gwb_P: show_error("\110\141\x6e\171\141\40\101\144\x6d\x69\x6e\151\x73\x74\162\141\x74\x6f\x72\40\x79\141\x6e\x67\40\144\151\x62\x65\x72\x69\x20\150\141\x6b\x20\165\x6e\x74\x75\x6b\40\155\x65\x6e\147\141\x6b\x73\x65\x73\40\x68\x61\154\141\x6d\141\156\40\x69\x6e\x69\x2c\x20\x3c\141\x20\150\162\145\146\x3d\42" . base_url("\x64\x61\163\x68\x62\157\x61\162\x64") . "\42\x3e\113\x65\x6d\x62\x61\x6c\151\x20\153\x65\40\155\145\156\165\40\141\x77\x61\154\74\x2f\141\76", 403, "\101\153\163\x65\x73\x20\124\145\x72\154\141\x72\141\x6e\x67"); goto z8zFj; Kj8qQ: $this->form_validation->set_error_delimiters('', ''); goto gSZqU; uwfo1: parent::__construct(); goto LF7Ss; w4Beo: if ($this->ion_auth->is_admin()) { goto gX34p; } goto gwb_P; z8zFj: gX34p: goto dbJTx; gSZqU: } public function output_json($data, $encode = true) { goto y7_Hk; g3PeE: QCiZv: goto wEW9t; y7_Hk: if (!$encode) { goto QCiZv; } goto wjsZO; wjsZO: $data = json_encode($data); goto g3PeE; wEW9t: $this->output->set_content_type("\x61\x70\x70\154\151\x63\x61\164\x69\x6f\156\x2f\152\163\x6f\x6e")->set_output($data); goto Av4_n; Av4_n: } public function index() { goto QIQ3u; QfR8d: $data = ["\x75\163\x65\162" => $user, "\152\x75\x64\165\154" => "\124\x61\x68\x75\x6e\x20\120\145\154\141\152\x61\x72\x61\156\x20\x64\x61\156\40\123\x65\155\x65\x73\164\x65\x72", "\163\165\142\x6a\165\x64\x75\x6c" => "\x41\164\x75\162\40\124\x61\x68\165\x6e\40\x50\x65\154\x61\152\x61\x72\141\156\40\x64\x61\x6e\40\x53\x65\x6d\145\163\x74\x65\162", "\160\x72\x6f\x66\151\154\x65" => $this->dashboard->getProfileAdmin($user->id), "\163\145\x74\x74\151\x6e\147" => $this->dashboard->getSetting()]; goto MfbzB; QIQ3u: $user = $this->ion_auth->user()->row(); goto QfR8d; FZ3Nf: $this->load->view("\155\141\163\x74\x65\162\x2f\x74\x61\150\165\x6e\57\144\x61\164\141"); goto PgmnY; BlLje: $data["\164\x70"] = $this->dashboard->getTahun(); goto JMD_9; PgmnY: $this->load->view("\137\164\145\155\160\x6c\141\x74\x65\163\x2f\144\141\163\x68\142\157\x61\162\x64\57\137\146\157\x6f\164\x65\x72"); goto WoU8b; vQrYi: $data["\152\155\154\137\x68\x61\x72\x69"] = $jml == null ? "\60" : $jml->jml_hari_efektif; goto Wu1h4; giBiA: $data["\x73\155\x74\x5f\x61\x63\x74\151\x76\145"] = $smt; goto LtCjX; JMD_9: $data["\x74\x70\x5f\x61\143\164\x69\x76\x65"] = $tp; goto yxxHz; yxxHz: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto giBiA; o6You: $smt = $this->dashboard->getSemesterActive(); goto BlLje; LtCjX: $jml = $this->master->getJmlHariEfektif($tp->id_tp . $smt->id_smt); goto vQrYi; MfbzB: $tp = $this->dashboard->getTahunActive(); goto o6You; Wu1h4: $this->load->view("\137\x74\x65\155\x70\x6c\141\x74\145\x73\57\144\x61\163\x68\x62\x6f\x61\162\x64\57\137\150\145\x61\x64\x65\162", $data); goto FZ3Nf; WoU8b: } public function data() { $this->output_json($this->dashboard->getDataTahun(), false); } public function gantiTahun() { goto vUhKm; DP03h: $data["\x73\164\x61\164\x75\163"] = true; goto qc3IG; b_B5q: $this->output_json($data); goto I_kmy; TktAr: $data["\x75\x70\x64\141\164\x65"] = $update; goto DP03h; L23_j: foreach ($inputTp as $tps) { goto uTjl7; q7B13: $tahun = $tps->tp; goto C8VY8; EYUA7: K8q1I: goto jhwY7; iKbIj: $active = 0; goto HwMqE; TFz7t: YGdoZ: goto OmFxu; VCKv1: sxI8l: goto dd2uq; OmFxu: $active = 1; goto EYUA7; jhwY7: $update[] = array("\x69\144\137\x74\160" => $id_tp, "\x74\x61\x68\165\156" => $tahun, "\x61\x63\x74\151\166\145" => $active); goto VCKv1; uTjl7: $id_tp = $tps->id; goto q7B13; C8VY8: if ($id_tp === $aktif) { goto YGdoZ; } goto iKbIj; HwMqE: goto K8q1I; goto TFz7t; dd2uq: } goto VKKZN; qc3IG: $this->logging->saveLog(4, "\x6d\x65\x6e\x67\x67\x61\156\164\151\40\x74\141\x68\x75\x6e\40\141\x6a\x61\162\x61\x6e\40\x61\x6b\x74\x69\146"); goto b_B5q; VKKZN: UFU4M: goto UIqH4; UIqH4: $this->dashboard->update("\155\x61\x73\x74\x65\162\137\x74\160", $update, "\151\144\137\x74\x70", null, true); goto Jg2tZ; N9pIY: $inputTp = json_decode($this->input->post("\164\x61\x68\165\x6e", false)); goto L23_j; vUhKm: $aktif = $this->input->post("\141\143\x74\151\x76\x65", true); goto N9pIY; Jg2tZ: $data["\155\x73\x67"] = "\115\x65\x72\165\x62\x61\x68\40\124\141\x68\x75\x6e\40\101\153\164\151\x66"; goto TktAr; I_kmy: } public function gantiSemester() { goto LtT45; wVGOX: $data["\x75\x70\144\141\164\x65"] = $update; goto Pk3rx; LtT45: $aktif = $this->input->post("\141\143\164\x69\x76\145", true); goto ft5Td; DQqbl: $this->output_json($data); goto Vy0qm; ft5Td: $inputSmt = json_decode($this->input->post("\163\145\x6d\x65\x73\164\145\x72", false)); goto Bm5nj; Ff2Ew: $data["\x6d\x73\147"] = "\115\145\162\165\142\x61\150\x20\123\x65\x6d\145\x73\x74\x65\162\x20\x41\x6b\164\x69\146"; goto wVGOX; kNMtR: Je0H8: goto zq5th; Bm5nj: foreach ($inputSmt as $tps) { goto zXkwt; FJfrr: bGvH6: goto Brh22; zXkwt: $id_smt = $tps->id; goto gWv18; ZNMVY: if ($id_smt === $aktif) { goto bGvH6; } goto F1kvC; XdJLJ: lNmUm: goto OVezG; gWv18: $smt = $tps->Semester; goto ZNMVY; F1kvC: $active = 0; goto esNnh; esNnh: goto dHR7D; goto FJfrr; ZzqiG: $update[] = array("\151\144\x5f\163\x6d\x74" => $id_smt, "\x73\x6d\x74" => $smt, "\x61\x63\164\x69\x76\x65" => $active); goto XdJLJ; mFUwk: dHR7D: goto ZzqiG; Brh22: $active = 1; goto mFUwk; OVezG: } goto kNMtR; Pk3rx: $data["\163\164\x61\164\x75\163"] = true; goto zUY9p; zq5th: $this->dashboard->update("\155\x61\x73\164\x65\x72\137\163\x6d\164", $update, "\151\144\x5f\x73\x6d\164", null, true); goto Ff2Ew; zUY9p: $this->logging->saveLog(4, "\155\x65\156\x67\x67\x61\x6e\164\151\40\163\145\x6d\145\x73\x74\145\162\x20\141\x6b\x74\x69\x66"); goto DQqbl; Vy0qm: } public function add() { goto HCrFo; M00rb: infbe: goto GekV1; XjPZk: $data = $this->master->update("\155\141\163\x74\x65\x72\137\x74\160", $update, "\x69\144\x5f\x74\x70", $id); goto WgM40; aoaIY: $update = array("\x69\144\x5f\x74\160" => $id, "\x74\x61\x68\x75\x6e" => $tahun); goto XjPZk; F5hqg: goto infbe; goto cOcD2; GekV1: $this->output->set_content_type("\x61\x70\160\x6c\151\143\141\x74\151\157\x6e\57\x6a\163\157\x6e")->set_output($data); goto LQYt4; cOcD2: pi0Jh: goto OEAze; OEAze: $insert = ["\164\141\x68\165\x6e" => $tahun]; goto tdPM2; WgM40: $this->logging->saveLog(4, "\x6d\145\x6e\147\x65\x64\x69\164\x20\164\141\150\x75\x6e\x20\x70\x65\x6c\x61\152\141\x72\x61\156"); goto F5hqg; jEnz1: $tahun = $this->input->post("\x74\141\150\165\x6e", true); goto zyijD; zyijD: if ($method === "\x61\x64\x64") { goto pi0Jh; } goto keS3H; HCrFo: $method = $this->input->post("\x6d\x65\164\150\x6f\x64", true); goto jEnz1; keS3H: $id = $this->input->post("\151\144\137\x74\x61\150\165\x6e", true); goto aoaIY; tdPM2: $data = $this->master->create("\x6d\141\163\164\145\x72\137\164\x70", $insert); goto klYiy; klYiy: $this->logging->saveLog(3, "\155\x65\x6e\141\x6d\142\x61\150\40\x74\141\150\x75\x6e\x20\x70\x65\x6c\141\x6a\141\162\141\x6e"); goto M00rb; LQYt4: } public function saveHariEfektif() { goto Bwukf; LKonq: $input = ["\x69\x64\x5f\150\141\162\151\137\x65\x66\x65\x6b\164\151\x66" => $tp->id_tp . $smt->id_smt, "\x6a\x6d\154\x5f\150\141\162\151\137\145\x66\x65\153\x74\151\x66" => $this->input->post("\x6a\155\154\x5f\150\x61\162\x69", true)]; goto TffD0; WZg00: $data["\163\164\141\164\x75\x73"] = $update; goto yyWGB; Bwukf: $tp = $this->dashboard->getTahunActive(); goto WEW6M; TffD0: $update = $this->db->replace("\155\x61\163\x74\145\x72\137\x68\141\x72\151\x5f\145\x66\x65\153\164\x69\x66", $input); goto WZg00; yyWGB: $this->output_json($data); goto NiycF; WEW6M: $smt = $this->dashboard->getSemesterActive(); goto LKonq; NiycF: } public function hapusTahun() { goto bnmze; oXlW4: wgkjN: goto iMldt; fuDMK: MUfR7: goto KXzE8; bnmze: $id = $this->input->post("\150\141\x70\x75\163", true); goto oR3dB; gWIz8: $data["\163\164\141\164\165\x73"] = false; goto getO2; getO2: goto wgkjN; goto fuDMK; oR3dB: if ($this->dashboard->hapus("\155\141\x73\x74\145\x72\x5f\x74\x70", $id, "\x69\144\x5f\164\x70")) { goto MUfR7; } goto gWIz8; q0SoG: $data["\x73\164\141\x74\165\163"] = true; goto oXlW4; iMldt: $data["\x6d\163\x67"] = "\115\x65\x6e\x67\150\141\160\165\163\x20\x54\x61\150\165\156\40\x50\x65\154\x61\x6a\x61\x72\x61\x6e"; goto n2FjB; n2FjB: $this->output_json($data); goto xWJaU; KXzE8: $this->logging->saveLog(5, "\155\145\156\x67\x68\141\x70\x75\163\40\164\x61\150\165\x6e\40\160\145\154\141\x6a\141\162\x61\156"); goto q0SoG; xWJaU: } public function hapus() { goto KyekB; U030x: $this->output_json(["\x73\164\x61\x74\x75\163" => true, "\164\157\x74\x61\154" => count($chk)]); goto ylA76; Zsq3W: $this->output_json(["\163\x74\x61\x74\165\x73" => false]); goto O1DF0; a5utD: hrTgg: goto Zsq3W; ifzEJ: if (!$chk) { goto hrTgg; } goto AO1xf; AO1xf: if (!$this->dashboard->hapus("\x6d\141\x73\x74\x65\x72\x5f\164\160", $chk, "\151\144\137\164\x70")) { goto BYVvG; } goto A8nTl; ylA76: BYVvG: goto DLevJ; KyekB: $chk = $this->input->post("\x63\150\x65\143\153\x65\144", true); goto ifzEJ; A8nTl: $this->logging->saveLog(5, "\x6d\145\156\x67\150\141\160\x75\163\40\164\x61\150\x75\156\40\x70\145\x6c\x61\x6a\x61\162\141\156"); goto U030x; O1DF0: yzfkc: goto TnyVY; DLevJ: goto yzfkc; goto a5utD; TnyVY: } }
