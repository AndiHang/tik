<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\123\105\x50\101\x54\x48") or exit("\116\x6f\x20\144\x69\x72\x65\x63\x74\x20\163\x63\162\x69\160\x74\40\x61\143\143\x65\x73\x73\x20\141\154\x6c\x6f\x77\x65\144"); class Datatahun extends CI_Controller { public function __construct() { goto mo98Q; x06Jy: if ($this->ion_auth->is_admin()) { goto S_HTs; } goto yChaE; p96Zw: $this->load->model("\x4c\157\147\137\x6d\157\144\145\x6c", "\154\x6f\x67\147\x69\156\147"); goto XYX1U; yChaE: show_error("\x48\x61\156\171\x61\x20\101\x64\155\x69\x6e\151\x73\164\x72\x61\x74\x6f\x72\40\x79\x61\156\x67\40\144\151\142\x65\162\151\40\150\x61\x6b\40\165\x6e\164\x75\x6b\x20\155\x65\156\x67\141\x6b\x73\x65\x73\40\150\141\154\x61\x6d\x61\x6e\x20\151\156\151\54\x20\x3c\x61\x20\150\x72\x65\146\x3d\x22" . base_url("\x64\141\x73\x68\142\x6f\141\162\144") . "\x22\76\113\145\155\142\x61\154\x69\40\x6b\145\x20\155\x65\156\165\40\141\167\141\154\x3c\x2f\141\x3e", 403, "\101\x6b\x73\x65\163\40\124\x65\162\x6c\x61\x72\x61\156\147"); goto c0pGB; XYX1U: $this->form_validation->set_error_delimiters('', ''); goto yAQ19; KyvYZ: xGE_K: goto STgd6; ezWf7: $this->load->model("\x4d\x61\163\x74\145\x72\x5f\155\157\144\145\154", "\x6d\x61\163\x74\145\162"); goto v36h2; YD1UD: gIqzH: goto kT1lB; v36h2: $this->load->model("\104\x61\163\x68\x62\x6f\x61\162\144\x5f\155\157\144\145\x6c", "\144\x61\x73\x68\142\157\141\x72\144"); goto p96Zw; o3Jfm: goto xGE_K; goto YD1UD; sftah: if (!$this->ion_auth->logged_in()) { goto gIqzH; } goto x06Jy; STgd6: $this->load->library(["\144\x61\164\141\164\141\x62\154\145\163", "\x66\x6f\162\155\137\x76\x61\x6c\151\144\x61\164\151\157\x6e"]); goto ezWf7; c0pGB: S_HTs: goto o3Jfm; mo98Q: parent::__construct(); goto sftah; kT1lB: redirect("\141\165\x74\150"); goto KyvYZ; yAQ19: } public function output_json($data, $encode = true) { goto aBeAp; aBeAp: if (!$encode) { goto dqjkw; } goto iTTqG; nHQpI: $this->output->set_content_type("\141\160\x70\x6c\x69\x63\x61\164\151\157\x6e\x2f\x6a\163\157\x6e")->set_output($data); goto hR_yS; Zzf16: dqjkw: goto nHQpI; iTTqG: $data = json_encode($data); goto Zzf16; hR_yS: } public function index() { goto bgUN2; Hm4ru: $data["\x6a\155\154\x5f\x68\141\x72\151"] = $jml == null ? "\x30" : $jml->jml_hari_efektif; goto wG7kS; cytLU: $tp = $this->dashboard->getTahunActive(); goto dWzX1; H9JIw: $data = ["\165\x73\x65\162" => $user, "\152\x75\144\x75\154" => "\x54\141\150\x75\x6e\40\x50\x65\x6c\141\x6a\141\x72\141\x6e\x20\x64\141\156\40\123\x65\x6d\145\x73\164\x65\162", "\x73\165\x62\x6a\x75\144\x75\x6c" => "\101\x74\165\162\40\x54\141\x68\165\x6e\40\x50\145\x6c\x61\152\141\x72\x61\x6e\x20\x64\141\156\40\123\145\x6d\145\x73\x74\x65\x72", "\x70\x72\157\146\x69\154\x65" => $this->dashboard->getProfileAdmin($user->id), "\163\x65\x74\164\x69\x6e\x67" => $this->dashboard->getSetting()]; goto cytLU; jtrGl: $data["\164\x70\137\x61\143\164\x69\166\x65"] = $tp; goto ls018; ZKIjm: $data["\x74\160"] = $this->dashboard->getTahun(); goto jtrGl; wG7kS: $this->load->view("\137\164\145\155\160\x6c\x61\164\145\163\x2f\x64\x61\x73\x68\x62\157\x61\x72\144\57\137\150\x65\141\x64\145\x72", $data); goto sKVVi; ls018: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto hVFG1; hVFG1: $data["\163\155\x74\x5f\141\143\x74\x69\166\x65"] = $smt; goto E5cni; E5cni: $jml = $this->master->getJmlHariEfektif($tp->id_tp . $smt->id_smt); goto Hm4ru; wShep: $this->load->view("\137\164\x65\x6d\160\154\x61\x74\145\163\x2f\x64\141\x73\150\142\157\x61\162\144\x2f\x5f\146\157\x6f\164\145\162"); goto W_pB7; dWzX1: $smt = $this->dashboard->getSemesterActive(); goto ZKIjm; bgUN2: $user = $this->ion_auth->user()->row(); goto H9JIw; sKVVi: $this->load->view("\x6d\x61\x73\x74\x65\162\x2f\x74\x61\150\165\x6e\x2f\x64\141\164\141"); goto wShep; W_pB7: } public function data() { $this->output_json($this->dashboard->getDataTahun(), false); } public function gantiTahun() { goto AABQq; O4Z3J: $data["\163\x74\x61\164\165\163"] = true; goto yyMBu; Ac5xs: foreach ($inputTp as $tps) { goto XiqO2; XiqO2: $id_tp = $tps->id; goto Wl13e; Es4Bc: $active = 1; goto em2vx; Wl13e: $tahun = $tps->tp; goto H3pvt; Sb8xJ: goto p88QJ; goto Q2Uvd; H3pvt: if ($id_tp === $aktif) { goto kDmLD; } goto H9Lkf; rhFvW: bCNV3: goto YRpO0; WKoRs: $update[] = array("\151\144\x5f\x74\x70" => $id_tp, "\164\141\x68\x75\x6e" => $tahun, "\141\143\164\x69\166\x65" => $active); goto rhFvW; Q2Uvd: kDmLD: goto Es4Bc; em2vx: p88QJ: goto WKoRs; H9Lkf: $active = 0; goto Sb8xJ; YRpO0: } goto B96f3; AABQq: $aktif = $this->input->post("\141\x63\164\151\x76\x65", true); goto izgaI; HHjTY: $this->output_json($data); goto BdaDo; yyMBu: $this->logging->saveLog(4, "\155\145\156\x67\147\x61\156\164\x69\40\x74\141\150\165\156\x20\x61\x6a\x61\162\141\156\40\141\x6b\x74\151\x66"); goto HHjTY; C7GiM: $data["\155\163\x67"] = "\x4d\x65\x72\165\x62\141\x68\x20\x54\141\x68\165\x6e\40\x41\153\164\x69\146"; goto BU3pL; B96f3: CBIvh: goto vRhGs; izgaI: $inputTp = json_decode($this->input->post("\x74\x61\x68\165\156", false)); goto Ac5xs; BU3pL: $data["\x75\x70\144\141\x74\x65"] = $update; goto O4Z3J; vRhGs: $this->dashboard->update("\x6d\141\163\x74\x65\x72\137\x74\x70", $update, "\151\144\137\x74\160", null, true); goto C7GiM; BdaDo: } public function gantiSemester() { goto Xqdz0; Xqdz0: $aktif = $this->input->post("\141\x63\164\x69\166\145", true); goto U2uqW; FOIjs: $data["\x75\160\144\x61\164\145"] = $update; goto o1Z5L; ZPTCx: $this->output_json($data); goto WvGiw; uLxz7: $this->logging->saveLog(4, "\x6d\145\156\x67\x67\x61\x6e\x74\x69\40\x73\145\x6d\145\163\164\145\x72\40\x61\153\164\x69\x66"); goto ZPTCx; U2uqW: $inputSmt = json_decode($this->input->post("\x73\x65\155\145\163\x74\x65\162", false)); goto c2xcE; o1Z5L: $data["\x73\x74\141\164\165\163"] = true; goto uLxz7; pvmg6: $this->dashboard->update("\155\141\x73\164\x65\x72\137\163\x6d\164", $update, "\x69\144\x5f\163\x6d\164", null, true); goto Cy4JK; Cy4JK: $data["\x6d\163\x67"] = "\115\x65\162\x75\x62\x61\x68\40\x53\x65\155\145\163\x74\145\x72\x20\101\153\x74\151\146"; goto FOIjs; c_eLa: a1M3W: goto pvmg6; c2xcE: foreach ($inputSmt as $tps) { goto EB5TX; AVXeQ: $active = 1; goto s0Iox; eWWi9: $smt = $tps->Semester; goto tvxGr; EB5TX: $id_smt = $tps->id; goto eWWi9; tvxGr: if ($id_smt === $aktif) { goto cjldQ; } goto lAoHd; VnMcz: $update[] = array("\x69\x64\137\163\155\164" => $id_smt, "\163\155\x74" => $smt, "\x61\x63\x74\151\x76\145" => $active); goto gJtq2; gJtq2: NUUEx: goto fqtzh; s0Iox: SY009: goto VnMcz; lAoHd: $active = 0; goto ADJo4; e7xni: cjldQ: goto AVXeQ; ADJo4: goto SY009; goto e7xni; fqtzh: } goto c_eLa; WvGiw: } public function add() { goto aosLB; Hz_A3: $this->logging->saveLog(3, "\155\145\x6e\141\x6d\x62\141\x68\40\x74\x61\150\x75\156\x20\160\145\154\x61\x6a\141\162\x61\156"); goto LQ4OE; XHWxm: $this->logging->saveLog(4, "\155\145\x6e\147\145\x64\x69\x74\40\x74\141\150\165\156\x20\160\145\154\141\x6a\141\x72\x61\x6e"); goto G3Iru; exWhM: $update = array("\x69\x64\137\164\160" => $id, "\x74\x61\150\165\156" => $tahun); goto Q3ei5; aosLB: $method = $this->input->post("\x6d\x65\164\x68\x6f\144", true); goto HVfl3; G3Iru: goto iwrQz; goto oEuLy; cmmLt: $id = $this->input->post("\151\144\137\164\x61\150\x75\x6e", true); goto exWhM; oEuLy: DQeJa: goto uft9k; zNB_T: $this->output->set_content_type("\141\160\x70\x6c\151\143\141\164\x69\x6f\x6e\x2f\152\163\157\x6e")->set_output($data); goto laWsq; ziiTT: $data = $this->master->create("\x6d\141\x73\x74\145\x72\x5f\x74\x70", $insert); goto Hz_A3; vQDrQ: if ($method === "\x61\x64\x64") { goto DQeJa; } goto cmmLt; uft9k: $insert = ["\164\x61\x68\x75\156" => $tahun]; goto ziiTT; HVfl3: $tahun = $this->input->post("\164\x61\150\165\156", true); goto vQDrQ; Q3ei5: $data = $this->master->update("\155\141\x73\x74\x65\x72\137\164\160", $update, "\151\x64\137\164\x70", $id); goto XHWxm; LQ4OE: iwrQz: goto zNB_T; laWsq: } public function saveHariEfektif() { goto lnJs0; Q1Wk3: $input = ["\151\x64\x5f\x68\141\x72\x69\137\x65\x66\x65\153\x74\151\146" => $tp->id_tp . $smt->id_smt, "\152\155\154\x5f\x68\141\162\151\x5f\145\x66\145\x6b\x74\151\146" => $this->input->post("\152\155\154\x5f\150\x61\x72\151", true)]; goto IG38M; wi5jH: $this->output_json($data); goto IBBBi; fRhvA: $smt = $this->dashboard->getSemesterActive(); goto Q1Wk3; lnJs0: $tp = $this->dashboard->getTahunActive(); goto fRhvA; IG38M: $update = $this->db->replace("\x6d\141\x73\x74\145\162\x5f\150\141\x72\x69\137\x65\146\145\153\164\x69\146", $input); goto gh4Id; gh4Id: $data["\x73\x74\141\x74\x75\x73"] = $update; goto wi5jH; IBBBi: } public function hapusTahun() { goto PizFc; aGX6y: $this->output_json($data); goto EA3kF; h1u9B: goto Dg4Yu; goto wJHv3; kM8mv: if ($this->dashboard->hapus("\x6d\x61\163\164\145\x72\137\x74\x70", $id, "\151\x64\x5f\164\160")) { goto Ka5Xm; } goto NACgb; NACgb: $data["\163\x74\x61\x74\165\x73"] = false; goto h1u9B; uvJQ6: $data["\x73\164\x61\x74\x75\x73"] = true; goto G4023; QaqAD: $this->logging->saveLog(5, "\x6d\145\156\147\x68\141\x70\165\x73\40\x74\141\x68\x75\156\x20\160\145\154\x61\152\x61\x72\x61\156"); goto uvJQ6; G4023: Dg4Yu: goto NtOTf; PizFc: $id = $this->input->post("\x68\x61\160\x75\x73", true); goto kM8mv; NtOTf: $data["\155\163\147"] = "\x4d\x65\x6e\x67\x68\x61\x70\165\163\x20\x54\141\x68\x75\x6e\40\x50\x65\154\x61\x6a\141\162\141\156"; goto aGX6y; wJHv3: Ka5Xm: goto QaqAD; EA3kF: } public function hapus() { goto G8lFC; lrjMQ: goto N25vL; goto Bw1yX; osaJM: $this->output_json(["\x73\164\141\164\x75\163" => true, "\164\x6f\x74\141\154" => count($chk)]); goto IW14m; dOtGJ: if (!$chk) { goto Tuknr; } goto E5ae5; IW14m: Ky8Pa: goto lrjMQ; G8lFC: $chk = $this->input->post("\x63\x68\145\143\153\145\x64", true); goto dOtGJ; Bw1yX: Tuknr: goto jUJ7v; E5ae5: if (!$this->dashboard->hapus("\155\141\163\x74\x65\162\x5f\164\x70", $chk, "\x69\144\x5f\x74\160")) { goto Ky8Pa; } goto obnqI; obnqI: $this->logging->saveLog(5, "\155\x65\156\x67\x68\x61\160\x75\x73\40\x74\x61\150\165\x6e\40\160\145\x6c\141\x6a\x61\x72\x61\x6e"); goto osaJM; jUJ7v: $this->output_json(["\x73\164\x61\164\x75\x73" => false]); goto KDUxR; KDUxR: N25vL: goto U8ZuK; U8ZuK: } }
