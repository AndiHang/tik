<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\x53\x45\x50\x41\x54\x48") or exit("\x4e\157\40\144\151\162\x65\x63\164\40\163\143\162\151\160\164\x20\x61\x63\143\145\163\x73\x20\x61\154\154\x6f\x77\x65\x64"); class Datatahun extends CI_Controller { public function __construct() { goto SGb6d; ybwgv: show_error("\x48\x61\x6e\x79\141\40\101\144\x6d\x69\156\151\x73\x74\162\x61\x74\x6f\162\x20\x79\141\x6e\147\40\x64\x69\x62\145\x72\x69\x20\150\x61\153\x20\x75\156\x74\165\153\x20\x6d\145\x6e\147\141\x6b\x73\145\x73\x20\150\141\154\x61\x6d\x61\x6e\40\x69\156\x69\54\40\x3c\x61\x20\x68\x72\145\x66\x3d\x22" . base_url("\144\x61\x73\150\x62\x6f\x61\162\x64") . "\x22\76\x4b\145\155\142\x61\154\151\x20\x6b\x65\x20\x6d\x65\156\165\40\141\x77\x61\x6c\x3c\x2f\141\76", 403, "\x41\x6b\x73\145\163\40\124\x65\162\x6c\141\162\x61\156\147"); goto ZweNA; FRlBn: $this->load->library(["\x64\x61\164\x61\164\141\142\154\x65\163", "\146\x6f\162\x6d\137\166\141\154\x69\x64\141\x74\x69\x6f\x6e"]); goto rXbAp; rXbAp: $this->load->model("\115\x61\163\x74\145\162\x5f\155\x6f\144\145\x6c", "\155\141\163\x74\145\162"); goto BbWqK; sAcaG: redirect("\141\165\164\x68"); goto mxUw7; mxUw7: uA7i6: goto FRlBn; SGb6d: parent::__construct(); goto lwEl8; eC1nJ: $this->form_validation->set_error_delimiters('', ''); goto qAoBY; lwEl8: if (!$this->ion_auth->logged_in()) { goto r8pxv; } goto smA0e; smA0e: if ($this->ion_auth->is_admin()) { goto Kp8Gx; } goto ybwgv; iKUcG: r8pxv: goto sAcaG; YtW6Z: goto uA7i6; goto iKUcG; k9oEP: $this->load->model("\114\x6f\x67\x5f\x6d\x6f\144\x65\154", "\154\157\x67\147\x69\x6e\x67"); goto eC1nJ; BbWqK: $this->load->model("\x44\x61\x73\x68\142\x6f\x61\162\x64\x5f\x6d\157\144\145\154", "\144\x61\163\150\x62\x6f\141\162\x64"); goto k9oEP; ZweNA: Kp8Gx: goto YtW6Z; qAoBY: } public function output_json($data, $encode = true) { goto VdoFs; om4uZ: $this->output->set_content_type("\141\x70\160\154\x69\x63\x61\x74\151\x6f\x6e\x2f\x6a\x73\x6f\x6e")->set_output($data); goto N3KwY; rFkRx: $data = json_encode($data); goto LU8vt; LU8vt: MWjte: goto om4uZ; VdoFs: if (!$encode) { goto MWjte; } goto rFkRx; N3KwY: } public function index() { goto wxdrc; Fb883: $tp = $this->dashboard->getTahunActive(); goto eMn1j; awb9t: $this->load->view("\137\x74\x65\155\x70\x6c\141\164\145\163\57\144\x61\163\x68\x62\x6f\x61\162\x64\57\137\150\x65\x61\144\x65\x72", $data); goto t26PT; whH_2: $data["\x74\x70"] = $this->dashboard->getTahun(); goto ojgtw; t26PT: $this->load->view("\x6d\141\163\164\x65\x72\x2f\164\x61\x68\x75\156\x2f\144\x61\164\x61"); goto IOE4g; eMn1j: $smt = $this->dashboard->getSemesterActive(); goto whH_2; eWxi6: $data["\x73\155\x74\137\x61\x63\164\151\x76\x65"] = $smt; goto OR0Bl; dvskY: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto eWxi6; OR0Bl: $jml = $this->master->getJmlHariEfektif($tp->id_tp . $smt->id_smt); goto UU0iO; wxdrc: $user = $this->ion_auth->user()->row(); goto D0XqT; ojgtw: $data["\x74\160\x5f\141\x63\x74\x69\166\x65"] = $tp; goto dvskY; D0XqT: $data = ["\x75\x73\x65\162" => $user, "\152\x75\144\165\x6c" => "\124\141\x68\165\x6e\40\x50\x65\x6c\141\152\141\162\141\x6e\40\144\141\156\x20\123\x65\155\145\163\x74\x65\162", "\163\165\x62\x6a\165\144\165\x6c" => "\x41\164\x75\162\x20\x54\141\150\x75\x6e\x20\x50\145\154\141\152\141\162\x61\x6e\40\x64\141\156\40\x53\x65\155\145\x73\x74\145\162", "\x70\x72\x6f\146\x69\154\145" => $this->dashboard->getProfileAdmin($user->id), "\x73\145\x74\x74\151\156\x67" => $this->dashboard->getSetting()]; goto Fb883; UU0iO: $data["\152\155\154\x5f\150\141\162\x69"] = $jml == null ? "\60" : $jml->jml_hari_efektif; goto awb9t; IOE4g: $this->load->view("\x5f\x74\x65\155\160\154\141\x74\x65\x73\x2f\144\141\x73\x68\x62\157\x61\x72\x64\x2f\x5f\146\x6f\x6f\164\x65\162"); goto irSQo; irSQo: } public function data() { $this->output_json($this->dashboard->getDataTahun(), false); } public function gantiTahun() { goto RJZij; qg735: $data["\155\x73\147"] = "\115\145\x72\165\142\x61\x68\40\124\x61\x68\x75\156\x20\x41\153\x74\x69\x66"; goto gx3Qq; stTKd: HIRGJ: goto CxADa; RJZij: $aktif = $this->input->post("\141\x63\164\x69\x76\x65", true); goto rtTX1; rDXg5: $this->output_json($data); goto pfRy0; gx3Qq: $data["\165\x70\144\141\164\x65"] = $update; goto aeH95; AYXzX: $this->logging->saveLog(4, "\x6d\145\156\147\147\x61\x6e\164\151\40\x74\141\x68\165\156\x20\141\x6a\141\x72\x61\x6e\40\141\153\x74\151\x66"); goto rDXg5; CxADa: $this->dashboard->update("\x6d\141\x73\164\x65\x72\x5f\x74\160", $update, "\x69\x64\x5f\164\x70", null, true); goto qg735; vR0dd: foreach ($inputTp as $tps) { goto Zm6c0; kgww6: $update[] = array("\x69\144\137\x74\x70" => $id_tp, "\x74\x61\x68\165\156" => $tahun, "\141\x63\x74\x69\x76\x65" => $active); goto hqe9b; A1Bu4: $tahun = $tps->tp; goto US1ZK; pUzGE: goto L1LIM; goto Hv9pa; Hv9pa: pddzo: goto uXGup; hqe9b: GgMst: goto Jmi4J; US1ZK: if ($id_tp === $aktif) { goto pddzo; } goto wLDi2; uXGup: $active = 1; goto c8YPt; Zm6c0: $id_tp = $tps->id; goto A1Bu4; wLDi2: $active = 0; goto pUzGE; c8YPt: L1LIM: goto kgww6; Jmi4J: } goto stTKd; rtTX1: $inputTp = json_decode($this->input->post("\x74\141\150\x75\156", false)); goto vR0dd; aeH95: $data["\163\164\141\x74\165\163"] = true; goto AYXzX; pfRy0: } public function gantiSemester() { goto tVagr; lTTmQ: $data["\x6d\163\x67"] = "\115\x65\x72\x75\142\141\150\40\123\x65\x6d\x65\163\164\145\x72\40\x41\153\164\151\146"; goto NAb0C; Bb0cv: $data["\x73\x74\141\164\x75\163"] = true; goto OiI6l; OiI6l: $this->logging->saveLog(4, "\155\x65\x6e\x67\x67\x61\156\164\151\x20\163\145\x6d\145\163\x74\145\x72\40\x61\153\x74\x69\146"); goto jv9Lx; NAb0C: $data["\165\160\x64\141\164\145"] = $update; goto Bb0cv; aZv5x: rj89H: goto FJVkf; jv9Lx: $this->output_json($data); goto jC8bf; tVagr: $aktif = $this->input->post("\141\x63\164\151\x76\x65", true); goto WN3p7; WN3p7: $inputSmt = json_decode($this->input->post("\163\145\x6d\x65\163\164\145\162", false)); goto nknWI; nknWI: foreach ($inputSmt as $tps) { goto hfTRq; WLtLb: $active = 0; goto h8E4Y; R0rGk: $active = 1; goto f3a2E; f3a2E: kO30h: goto m6OtC; EuNZO: $smt = $tps->Semester; goto fizJ9; fizJ9: if ($id_smt === $aktif) { goto NGM0r; } goto WLtLb; h8E4Y: goto kO30h; goto V43kV; GjG8L: SSpW3: goto SYL3C; m6OtC: $update[] = array("\151\144\137\163\155\x74" => $id_smt, "\163\x6d\164" => $smt, "\141\143\164\151\166\145" => $active); goto GjG8L; V43kV: NGM0r: goto R0rGk; hfTRq: $id_smt = $tps->id; goto EuNZO; SYL3C: } goto aZv5x; FJVkf: $this->dashboard->update("\x6d\141\163\x74\x65\162\137\x73\155\164", $update, "\151\x64\137\163\155\x74", null, true); goto lTTmQ; jC8bf: } public function add() { goto pX8e_; FLRTX: $insert = ["\164\x61\150\165\156" => $tahun]; goto JfBK0; pX8e_: $method = $this->input->post("\155\x65\x74\x68\157\x64", true); goto uFRUU; bf73y: $this->output->set_content_type("\141\160\160\x6c\x69\143\x61\x74\x69\x6f\x6e\57\152\x73\x6f\156")->set_output($data); goto cwi66; rP328: XmF2K: goto FLRTX; rUfWV: $this->logging->saveLog(3, "\155\145\156\x61\x6d\x62\x61\x68\x20\x74\141\x68\x75\x6e\x20\x70\145\154\141\152\x61\162\141\x6e"); goto rRRd1; rRRd1: RSEzI: goto bf73y; Eq2lG: goto RSEzI; goto rP328; UsVzH: $this->logging->saveLog(4, "\155\x65\156\x67\x65\144\x69\164\x20\x74\x61\150\x75\156\40\160\145\154\141\x6a\141\x72\141\x6e"); goto Eq2lG; JfBK0: $data = $this->master->create("\x6d\141\x73\164\x65\x72\137\164\x70", $insert); goto rUfWV; n07FP: if ($method === "\141\144\x64") { goto XmF2K; } goto qo5tq; MCK2p: $data = $this->master->update("\155\x61\x73\164\x65\x72\137\x74\160", $update, "\151\144\x5f\164\x70", $id); goto UsVzH; qo5tq: $id = $this->input->post("\x69\x64\x5f\164\x61\150\165\156", true); goto t9UkA; uFRUU: $tahun = $this->input->post("\x74\141\150\x75\x6e", true); goto n07FP; t9UkA: $update = array("\151\144\137\x74\x70" => $id, "\164\x61\150\165\x6e" => $tahun); goto MCK2p; cwi66: } public function saveHariEfektif() { goto KlnuF; qkkoJ: $input = ["\151\x64\137\150\141\x72\151\x5f\x65\146\x65\x6b\x74\x69\x66" => $tp->id_tp . $smt->id_smt, "\x6a\155\154\x5f\150\141\x72\151\x5f\x65\x66\x65\x6b\x74\x69\x66" => $this->input->post("\152\155\x6c\x5f\150\x61\x72\x69", true)]; goto ZxlKi; UfApk: $smt = $this->dashboard->getSemesterActive(); goto qkkoJ; Z7D4j: $data["\163\x74\x61\164\165\163"] = $update; goto gCzR1; KlnuF: $tp = $this->dashboard->getTahunActive(); goto UfApk; gCzR1: $this->output_json($data); goto AFqml; ZxlKi: $update = $this->db->replace("\x6d\x61\163\164\x65\162\137\x68\141\x72\x69\137\145\x66\145\x6b\x74\x69\x66", $input); goto Z7D4j; AFqml: } public function hapusTahun() { goto nzXpS; YPBlW: $this->logging->saveLog(5, "\155\145\156\147\x68\141\x70\x75\x73\x20\x74\141\x68\165\x6e\40\160\145\x6c\x61\152\x61\x72\141\x6e"); goto ujYxX; oKzpo: EklJX: goto YPBlW; hkV9K: $this->output_json($data); goto oyoDo; ujYxX: $data["\163\164\x61\x74\165\x73"] = true; goto n_XQm; n_XQm: mRxmk: goto ONNcJ; IrTZs: $data["\x73\164\141\164\x75\163"] = false; goto rUofg; rUofg: goto mRxmk; goto oKzpo; UTocI: if ($this->dashboard->hapus("\155\x61\163\164\145\162\x5f\x74\160", $id, "\151\x64\137\x74\160")) { goto EklJX; } goto IrTZs; ONNcJ: $data["\155\x73\147"] = "\115\145\156\147\150\x61\x70\x75\163\40\124\x61\x68\x75\156\40\120\145\x6c\141\152\x61\162\141\x6e"; goto hkV9K; nzXpS: $id = $this->input->post("\150\x61\160\x75\163", true); goto UTocI; oyoDo: } public function hapus() { goto WUsah; WUsah: $chk = $this->input->post("\x63\x68\x65\x63\153\145\x64", true); goto DrYAl; RLALL: if (!$this->dashboard->hapus("\155\141\163\x74\145\162\x5f\164\x70", $chk, "\x69\144\137\164\160")) { goto QzPOy; } goto PqB3V; PqB3V: $this->logging->saveLog(5, "\155\145\156\147\x68\x61\160\x75\163\x20\x74\141\x68\x75\x6e\x20\x70\145\154\141\152\141\x72\x61\x6e"); goto jsgcA; m3X4m: swp9k: goto aU9uR; X65CB: F_AKX: goto WST5J; jsgcA: $this->output_json(["\163\x74\x61\164\x75\163" => true, "\x74\x6f\x74\x61\154" => count($chk)]); goto EB5nh; DrYAl: if (!$chk) { goto swp9k; } goto RLALL; UCe10: goto F_AKX; goto m3X4m; EB5nh: QzPOy: goto UCe10; aU9uR: $this->output_json(["\163\x74\x61\x74\165\163" => false]); goto X65CB; WST5J: } }
