<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasmaterijadwal extends CI_Controller { public function __construct() { goto Gj7Pf; hIGoq: redirect("\141\165\x74\x68"); goto VBpvC; fguW9: $this->load->model("\113\145\x6c\141\163\x5f\155\157\144\x65\x6c", "\153\x65\154\x61\163"); goto FxPnr; emXlB: $this->form_validation->set_error_delimiters('', ''); goto eZ5Ea; Gbs0p: $this->load->library(["\x64\141\164\141\x74\x61\x62\x6c\145\x73", "\146\157\162\155\x5f\166\x61\154\151\144\141\164\x69\157\156"]); goto daxfr; daxfr: $this->load->model("\115\x61\163\x74\x65\x72\x5f\155\157\x64\x65\x6c", "\155\x61\163\x74\x65\162"); goto j5827; URN2o: $this->load->model("\x43\x62\x74\137\155\157\x64\x65\154", "\143\142\164"); goto g13Ru; VBpvC: EVO0x: goto Gbs0p; g13Ru: $this->load->model("\x4c\157\x67\137\x6d\157\144\145\x6c", "\x6c\157\147\x67\151\x6e\147"); goto fguW9; Gj7Pf: parent::__construct(); goto iIonu; j5827: $this->load->model("\104\141\x73\x68\x62\x6f\x61\x72\144\x5f\x6d\157\x64\x65\x6c", "\x64\x61\163\150\x62\157\141\x72\x64"); goto URN2o; iIonu: if ($this->ion_auth->logged_in()) { goto EVO0x; } goto hIGoq; FxPnr: $this->load->model("\x44\162\x6f\x70\144\157\167\156\x5f\x6d\157\x64\x65\154", "\144\162\157\x70\x64\157\167\156"); goto emXlB; eZ5Ea: } public function output_json($data, $encode = true) { goto vUPnP; vUPnP: if (!$encode) { goto Iavk8; } goto mWOu3; tm0ho: $this->output->set_content_type("\141\x70\x70\x6c\151\x63\141\164\151\157\x6e\57\152\x73\157\x6e")->set_output($data); goto zbj4d; L3vzh: Iavk8: goto tm0ho; mWOu3: $data = json_encode($data); goto L3vzh; zbj4d: } public function index() { goto h2lf0; tRD5M: $data["\x6d\x65\164\x68\x6f\144"] = ''; goto XQCNA; apLij: $data["\x64\141\164\145\x5f\163\145\154\145\143\164\145\x64"] = $thn . "\x2d" . $bln . "\55" . date("\x64"); goto nwd36; VFjzg: $this->load->view("\155\145\x6d\x62\145\162\x73\57\x67\x75\162\x75\57\164\x65\x6d\160\x6c\141\164\x65\163\57\x68\x65\141\144\x65\x72", $data); goto L_Cki; SmrXG: $data["\x6b\145\154\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto ls1gU; pRqvU: $data["\x74\x70"] = $this->dashboard->getTahun(); goto dfpTe; enlxT: $tahun = explode("\x2f", $tp->tahun); goto KZKIT; XQCNA: $data["\152\x6d\154\111\x73\x74"] = []; goto v73wC; VAa3B: $data["\x73\155\164\x5f\141\143\x74\x69\166\x65"] = $smt; goto SmrXG; kSlCi: $this->load->view("\137\164\x65\155\x70\154\x61\164\x65\163\57\x64\x61\x73\150\142\x6f\x61\162\x64\x2f\x5f\150\145\x61\144\x65\162", $data); goto tBGtY; TXBEQ: goto uKNs6; goto mm3ua; L_Cki: $this->load->view("\x6b\145\x6c\141\163\x2f\x6d\141\164\x65\x72\151\152\x61\x64\x77\141\x6c\x2f\144\141\x74\x61"); goto ZADWk; veMsh: $tp = $this->dashboard->getTahunActive(); goto R5Epa; hLx2s: $data["\147\165\162\x75"] = $guru; goto VFjzg; dfpTe: $data["\164\160\x5f\141\143\x74\151\166\x65"] = $tp; goto cxhYw; cxhYw: $data["\163\155\164"] = $this->dashboard->getSemester(); goto VAa3B; ls1gU: $data["\x69\x64\137\x6b\x65\154\141\163"] = "\60"; goto tRD5M; nwd36: if ($this->ion_auth->is_admin()) { goto MP8Gb; } goto S50BZ; kCiph: $data["\x62\x6c\156\137\163\145\x6c\145\x63\164\145\144"] = $bln; goto apLij; pM54G: $this->load->view("\137\164\x65\155\160\154\141\x74\145\163\x2f\144\x61\163\x68\142\157\141\162\x64\x2f\137\x66\x6f\157\x74\145\162"); goto g1B_I; ZhThN: uKNs6: goto G_84O; cHj26: R3Eca: goto YEU1y; g1B_I: goto uKNs6; goto cHj26; py14a: $data["\x74\x68\x6e\x5f\x73\x65\x6c\x65\143\x74\145\144"] = $tp->tahun; goto DDVIa; h2lf0: $user = $this->ion_auth->user()->row(); goto eIHmq; DDVIa: $bln = $smt->id_smt == "\61" ? "\67" : "\61"; goto enlxT; tBGtY: $this->load->view("\153\x65\154\141\x73\57\155\141\164\145\162\x69\152\141\144\x77\141\154\x2f\x64\x61\x74\x61"); goto pM54G; R5Epa: $smt = $this->dashboard->getSemesterActive(); goto pRqvU; YEU1y: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto hLx2s; kWtGJ: $data["\160\x72\157\146\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto kSlCi; eIHmq: $data = ["\165\x73\x65\x72" => $user, "\x6a\x75\x64\165\x6c" => "\x4a\141\144\167\x61\x6c\x20\120\x65\154\141\x6a\x61\162\x61\x6e", "\163\165\x62\152\165\x64\x75\154" => "\x53\x65\x74\40\112\141\144\x77\141\154\x20\x50\x65\154\141\152\x61\x72\141\156", "\163\145\x74\x74\151\x6e\x67" => $this->dashboard->getSetting()]; goto veMsh; KZKIT: $thn = $smt->id_smt == "\x31" ? $tahun[0] : $tahun[1]; goto kCiph; mm3ua: MP8Gb: goto kWtGJ; ZADWk: $this->load->view("\x6d\145\155\142\x65\x72\163\57\147\x75\x72\x75\x2f\164\x65\x6d\160\x6c\x61\164\x65\163\57\146\x6f\157\164\x65\x72"); goto ZhThN; v73wC: $data["\152\x6d\154\x4d\x61\x70\145\x6c"] = []; goto py14a; S50BZ: if ($this->ion_auth->in_group("\147\165\162\x75")) { goto R3Eca; } goto TXBEQ; G_84O: } public function kelas() { goto wbMU4; iezzv: k9PzB: goto HOgx5; aZdWV: $semua_materi = $this->kelas->getAllJadwalMateriByKelas($tp->id_tp, $smt->id_smt); goto NHcvm; LrVOI: $this->load->view("\155\145\155\142\x65\162\163\57\x67\x75\x72\165\x2f\x74\145\x6d\160\154\x61\164\x65\x73\x2f\150\145\141\x64\145\x72", $data); goto eeou_; c1vcp: zblhM: goto TrNuk; I8rGM: goto ucQLQ; goto iezzv; HOgx5: $data["\x67\165\x72\x75"] = $this->dashboard->getDetailGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto LrVOI; cZ_CG: $tp = $this->dashboard->getTahunActive(); goto erUS2; MYWJp: sr9TC: goto kgeoQ; IvYwt: SgTgB: goto Cpb3K; pHVHT: $data["\144\x65\164\x61\151\x6c\137\152\x61\x64\167\x61\154\x5f\x74\x75\147\141\163"] = isset($semua_materi[2]) ? $semua_materi[2] : []; goto pRtlV; k0aFP: goto SgTgB; goto bjUP_; KdJmK: $data["\167\145\145\x6b"] = $week; goto wzhik; z6EIr: $data["\155\x61\x70\145\154\163"] = $this->master->getAllMapel(); goto bVrNt; tR8kD: $data["\x6b\x65\154\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto BK1C1; Z60_m: $setting = $this->dashboard->getSetting(); goto jUB6D; CHPpE: $this->load->view("\155\145\x6d\142\x65\162\163\57\147\165\x72\x75\x2f\x74\145\155\x70\154\x61\164\x65\x73\x2f\x66\x6f\157\x74\x65\162"); goto u_GYn; u_GYn: ucQLQ: goto f1X1b; Cpb3K: if (!($i < $jml_mapel)) { goto Kr4Ky; } goto LQKFq; WijB5: $user = $this->ion_auth->user()->row(); goto Z60_m; wzhik: $data["\x6f\x70\163\x69\137\155\x61\x74\145\x72\x69"] = $this->kelas->getAllMateriByKelas($tp->id_tp, $smt->id_smt); goto aZdWV; F9HG1: $bulan = $this->input->get("\142\165\154\141\156"); goto P4NmD; wbMU4: $tahun = $this->input->get("\x74\141\x68\x75\156"); goto F9HG1; NelA3: weVN4: goto PxYDk; fhFl2: if ($jadk == null) { goto RrX7l; } goto GWxQ7; XVe3C: if ($jadm == null) { goto qTSUK; } goto R6wed; mwke3: goto MzL6M; goto KAXe1; LrDZF: goto ucQLQ; goto MYWJp; R6wed: foreach ($jadm as $j) { $jadwal_mapel[] = ["\152\141\144\167\x61\x6c" => $this->kelas->getJadwalMapelByHari($tp->id_tp, $smt->id_smt, $j->jam_ke, $kelas)]; pej_p: } goto c1vcp; Cqp0V: $data["\x64\x61\164\x65\137\163\x65\x6c\145\143\x74\145\144"] = $date; goto KdJmK; eeou_: $this->load->view("\x6b\x65\x6c\141\x73\57\x6d\x61\x74\145\x72\151\152\x61\144\x77\x61\x6c\57\144\141\x74\141"); goto CHPpE; k3Qng: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto hDMS8; y4QMg: $data["\x6d\145\164\x68\157\144"] = "\x61\144\144"; goto VHf35; PxYDk: $data["\x69\144\x5f\x6b\145\x6c\141\x73"] = $kelas; goto Cnfr1; P4NmD: $kelas = $this->input->get("\x6b\145\154\x61\x73"); goto xcSDn; BK4M_: $data["\x74\160"] = $this->dashboard->getTahun(); goto RqSL8; TQcUv: $i = 0; goto IvYwt; erUS2: $smt = $this->dashboard->getSemesterActive(); goto BK4M_; KAXe1: qTSUK: goto TQcUv; NHcvm: $data["\144\145\x74\141\x69\x6c\137\152\x61\144\x77\141\x6c\x5f\155\x61\164\145\162\x69"] = isset($semua_materi[1]) ? $semua_materi[1] : []; goto pHVHT; dEyBA: if ($this->ion_auth->in_group("\x67\x75\162\165")) { goto k9PzB; } goto LrDZF; AnPnA: $data["\164\150\x6e\137\x73\145\x6c\145\143\x74\145\144"] = $tahun; goto dpgeI; ryykH: RrX7l: goto IlzK9; MR0kf: $this->load->view("\x5f\164\x65\155\x70\154\141\164\145\163\x2f\x64\141\x73\x68\x62\x6f\x61\x72\x64\57\137\x66\157\x6f\x74\145\x72"); goto I8rGM; VHf35: MzL6M: goto wb1vg; Ek2my: $this->load->view("\137\x74\145\155\x70\154\x61\x74\x65\x73\57\144\x61\x73\150\x62\157\x61\162\144\x2f\x5f\150\145\x61\144\145\x72", $data); goto cMcjp; BK1C1: $jadk = $this->kelas->getJadwalKbm($tp->id_tp, $smt->id_smt, $kelas); goto fhFl2; mOmX4: $jml_mapel = $jadk == null ? 1 : $jadk->kbm_jml_mapel_hari; goto XVe3C; Cnfr1: $jadm = $this->kelas->getJadwalMapelGroupJam($tp->id_tp, $smt->id_smt, $kelas); goto mOmX4; xcSDn: $date = $this->input->get("\x64\141\x74\145"); goto WijB5; wb1vg: $data["\152\x61\144\x77\x61\154\x5f\x6d\141\160\145\154"] = $jadwal_mapel; goto z6EIr; pRtlV: if ($this->ion_auth->is_admin()) { goto sr9TC; } goto dEyBA; RqSL8: $data["\164\160\137\141\143\164\x69\x76\145"] = $tp; goto k3Qng; jUB6D: $data = ["\165\163\145\162" => $user, "\152\x75\x64\165\x6c" => "\x4a\x61\x64\167\141\x6c\40\x4d\x61\164\145\x72\x69\40\57\40\x54\165\147\141\163", "\x73\x75\x62\152\165\144\165\x6c" => "\123\145\164\40\x4a\141\144\167\x61\154\x20\x4d\141\164\x65\x72\151\40\x2f\x20\124\x75\x67\141\163", "\x73\x65\164\x74\x69\156\x67" => $setting]; goto cZ_CG; Txr4C: goto weVN4; goto ryykH; TrNuk: $data["\x6d\x65\164\150\x6f\144"] = "\x65\144\x69\164"; goto mwke3; pDVOH: $i++; goto k0aFP; hDMS8: $data["\x73\155\164\x5f\141\143\x74\x69\166\x65"] = $smt; goto tR8kD; cMcjp: $this->load->view("\153\145\x6c\141\x73\57\155\x61\x74\145\162\151\x6a\x61\x64\x77\x61\x6c\x2f\144\x61\164\141"); goto MR0kf; bjUP_: Kr4Ky: goto y4QMg; kgeoQ: $data["\x70\x72\x6f\146\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto Ek2my; IlzK9: $data["\152\x61\144\x77\141\x6c\137\x6b\x62\155"] = json_decode(json_encode(["\151\144\137\x74\160" => $tp->tahun, "\x69\144\x5f\163\155\164" => $smt->smt, "\151\x64\x5f\153\x65\154\x61\x73" => $kelas, "\153\x62\x6d\x5f\152\141\155\x5f\160\145\x6c" => '', "\153\x62\x6d\137\x6a\141\155\137\x6d\165\154\x61\151" => '', "\x6b\x62\155\137\x6a\x6d\x6c\x5f\155\141\160\x65\154\137\150\141\162\x69" => '', "\151\x73\164\x69\x72\141\150\141\164" => serialize([]), "\x61\x64\x61" => false])); goto NelA3; GWxQ7: $data["\152\141\144\167\x61\x6c\137\x6b\142\x6d"] = $jadk; goto Txr4C; dpgeI: $data["\142\x6c\x6e\137\163\x65\x6c\145\x63\164\x65\144"] = $bulan; goto Cqp0V; LQKFq: $jadwal_mapel[] = ["\152\x61\144\x77\x61\x6c" => $this->kelas->getDummyJadwalMapel($tp->id_tp, $smt->id_smt, $i + 1, $kelas)]; goto v0jgQ; bVrNt: $week = [date("\131\x2d\155\55\144", strtotime("\155\157\156\144\141\x79\40\x74\150\151\x73\x20\167\145\145\153", strtotime($date))), date("\131\55\x6d\55\x64", strtotime("\164\x75\x65\x73\144\x61\x79\x20\164\x68\x69\163\x20\x77\145\x65\x6b", strtotime($date))), date("\131\55\155\x2d\144", strtotime("\167\145\x64\156\145\x73\x64\x61\171\x20\x74\150\x69\163\40\x77\145\145\x6b", strtotime($date))), date("\131\x2d\x6d\x2d\x64", strtotime("\164\150\165\162\x73\x64\141\x79\x20\x74\x68\x69\x73\x20\167\145\x65\153", strtotime($date))), date("\131\x2d\x6d\x2d\144", strtotime("\x66\162\x69\144\141\171\40\x74\150\x69\163\x20\167\x65\145\x6b", strtotime($date))), date("\x59\55\x6d\55\x64", strtotime("\163\x61\164\165\x72\144\x61\171\x20\x74\150\151\163\x20\167\145\145\x6b", strtotime($date)))]; goto AnPnA; v0jgQ: fjbIk: goto pDVOH; f1X1b: } public function data() { $this->output_json($this->cbt->getJenis(), false); } public function setJadwal() { goto I0K2I; HX1sM: FYDBL: goto aq8FJ; m_H7e: goto jcLx8; goto F98F0; I7rPz: $jamke = $this->input->post("\151\163\164" . $i, true); goto Guu7M; w8Okh: $update = $this->db->replace("\x6b\x65\x6c\x61\x73\x5f\152\141\x64\167\x61\x6c\137\x6b\x62\155", $insert); goto nW0X9; I8SBp: jcLx8: goto XtLMK; JVnxz: if (!$jamke) { goto WQucc; } goto Xk7Tl; Xk7Tl: $istirahat[] = ["\151\163\164" => $jamke, "\144\x75\162" => $durasi]; goto AJp8G; caQH1: $id_smt = $this->master->getSemesterActive()->id_smt; goto j9kKH; nW0X9: $this->logging->saveLog(3, "\x6d\145\x72\165\142\x61\150\40\x6a\141\144\167\x61\154\40\x70\145\x6c\x61\152\x61\162\x61\156"); goto rvT9U; lRlpt: $i = 1; goto I8SBp; I0K2I: $istirahat = []; goto lRlpt; pLVix: $id_tp = $this->master->getTahunActive()->id_tp; goto caQH1; Guu7M: $durasi = $this->input->post("\144\165\x72\137\x69\163\164" . $i, true); goto JVnxz; kwae4: $insert = ["\x69\144\137\153\x62\155" => $id_tp . $id_smt . $id_kelas, "\x69\x64\137\164\x70" => $id_tp, "\x69\144\x5f\163\155\x74" => $id_smt, "\x69\144\137\x6b\145\154\141\x73" => $id_kelas, "\153\x62\x6d\137\152\x61\x6d\x5f\160\x65\154" => $this->input->post("\152\x61\x6d\x5f\x6d\141\x70\x65\x6c", true), "\x6b\142\x6d\137\152\141\155\x5f\x6d\x75\x6c\x61\x69" => $this->input->post("\x6a\141\155\x5f\155\165\x6c\x61\x69", true), "\153\142\155\137\x6a\155\x6c\x5f\x6d\x61\160\145\154\137\150\141\162\151" => $this->input->post("\x6a\155\x6c\x5f\155\x61\160\x65\154", true), "\151\x73\164\151\x72\141\x68\141\164" => serialize($istirahat)]; goto w8Okh; j9kKH: $id_kelas = $this->input->post("\151\144\x5f\x6b\x65\x6c\x61\163", true); goto kwae4; F98F0: vTqrX: goto pLVix; MzzrD: $this->output_json($data); goto nv8oV; AJp8G: WQucc: goto HX1sM; rvT9U: $data["\163\164\141\164\165\x73"] = $update; goto MzzrD; XtLMK: if (!($i < 5)) { goto vTqrX; } goto I7rPz; aq8FJ: $i++; goto m_H7e; nv8oV: } public function setMapel() { goto A4MPl; qe5YO: $res["\x73\164\x61\x74\165\x73"] = $update; goto c1zlX; AkFWo: $id_kelas = $this->input->post("\x69\144\137\153\145\x6c\x61\x73", true); goto K3J3B; A4MPl: $input = json_decode($this->input->post("\x64\141\x74\x61", true)); goto AkFWo; c1zlX: $this->output_json($res); goto fmc_m; BtkSN: kerKu: goto qe5YO; K3J3B: foreach ($input as $d) { goto Q5h6g; MUM1Z: $update = $this->db->replace("\153\145\x6c\141\x73\x5f\152\141\144\x77\x61\x6c\x5f\155\141\160\x65\x6c", $data); goto gfH8E; gfH8E: JJkHU: goto ITqDG; Q5h6g: $data = ["\x69\144\x5f\x6a\x61\144\167\141\x6c" => $d->id_tp . $d->id_smt . $id_kelas . $d->id_hari . $d->jam_ke, "\151\x64\x5f\x74\160" => $d->id_tp, "\151\x64\x5f\x73\x6d\164" => $d->id_smt, "\x69\x64\137\153\x65\154\x61\x73" => $id_kelas, "\151\144\x5f\150\x61\x72\x69" => $d->id_hari, "\x6a\x61\x6d\x5f\x6b\x65" => $d->jam_ke, "\151\x64\x5f\155\141\x70\145\154" => $d->id_mapel]; goto MUM1Z; ITqDG: } goto BtkSN; fmc_m: } public function saveJadwal() { goto GEA2d; GEA2d: $input_materi = json_decode($this->input->post("\155\141\x74\x65\x72\151", true)); goto GQkQB; C0nfT: foreach ($input_tugas as $im) { goto PptzO; Ob7aL: $update = $this->db->replace("\x6b\x65\x6c\141\x73\137\x6a\141\x64\x77\141\x6c\137\x6d\x61\x74\x65\162\x69", $insert); goto aKNkZ; aKNkZ: fJ5hF: goto D_Ans; PptzO: $insert = ["\152\x65\x6e\x69\163" => "\x32", "\151\x64\137\153\152\x6d" => $im->id_kjm, "\x69\144\x5f\164\160" => $im->id_tp, "\x69\x64\137\163\155\164" => $im->id_smt, "\151\x64\137\x6b\x65\x6c\x61\163" => $im->id_kelas, "\151\x64\x5f\x6d\141\x74\x65\x72\x69" => $im->id_materi, "\x69\x64\137\x6d\141\x70\145\154" => $im->id_mapel, "\152\x61\x64\167\x61\154\x5f\155\141\x74\145\162\x69" => $im->jadwal_materi]; goto Ob7aL; D_Ans: } goto ZoyKv; HK_9k: WgN0g: goto C0nfT; Npv1r: foreach ($input_materi as $im) { goto JWdJD; lVqUY: HfYZY: goto dJ7fK; JWdJD: $insert = ["\x6a\145\156\x69\x73" => "\x31", "\x69\x64\x5f\153\152\x6d" => $im->id_kjm, "\x69\144\x5f\164\x70" => $im->id_tp, "\151\144\x5f\163\x6d\164" => $im->id_smt, "\x69\144\137\x6b\145\x6c\x61\x73" => $im->id_kelas, "\x69\144\137\155\x61\164\145\162\151" => $im->id_materi, "\x69\144\137\x6d\141\160\x65\x6c" => $im->id_mapel, "\152\x61\144\x77\141\154\x5f\155\141\x74\x65\x72\x69" => $im->jadwal_materi]; goto Factr; Factr: $update = $this->db->replace("\x6b\x65\x6c\x61\x73\137\x6a\x61\x64\x77\141\x6c\137\x6d\x61\x74\145\x72\x69", $insert); goto lVqUY; dJ7fK: } goto HK_9k; Aduc9: $this->logging->saveLog(3, "\x6d\145\162\165\142\141\150\x20\152\141\144\167\x61\x6c\40\x6d\x61\164\x65\162\151\40\x64\141\156\x20\x74\x75\147\141\163"); goto lgdWf; GQkQB: $input_tugas = json_decode($this->input->post("\x74\x75\x67\141\163", true)); goto Npv1r; lgdWf: $this->output_json($update); goto CefEN; ZoyKv: beW0I: goto Aduc9; CefEN: } }
