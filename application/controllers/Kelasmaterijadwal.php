<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasmaterijadwal extends CI_Controller { public function __construct() { goto p0li1; lBN9g: redirect("\x61\165\164\150"); goto oblK3; vRNs_: $this->load->model("\x43\x62\x74\137\x6d\157\x64\x65\x6c", "\x63\x62\164"); goto O47Fk; lR0lS: $this->form_validation->set_error_delimiters('', ''); goto Fg7e8; h_Jda: $this->load->model("\104\x61\163\150\x62\157\x61\162\144\137\155\157\144\145\154", "\144\x61\163\150\x62\157\x61\162\144"); goto vRNs_; vd4pw: $this->load->model("\104\162\x6f\x70\x64\157\167\156\x5f\155\x6f\144\x65\x6c", "\144\162\x6f\160\x64\157\167\x6e"); goto lR0lS; QSFqL: $this->load->library(["\x64\x61\x74\x61\164\x61\x62\154\145\x73", "\x66\157\x72\x6d\x5f\x76\x61\x6c\x69\144\x61\164\x69\157\156"]); goto HvWFQ; ZtOiT: $this->load->model("\x4b\x65\x6c\x61\163\137\x6d\x6f\144\x65\x6c", "\x6b\x65\154\141\163"); goto vd4pw; oblK3: pPR8W: goto QSFqL; HvWFQ: $this->load->model("\115\x61\163\164\x65\x72\x5f\155\157\144\x65\154", "\155\x61\x73\164\145\162"); goto h_Jda; p0li1: parent::__construct(); goto rpena; O47Fk: $this->load->model("\114\x6f\147\x5f\x6d\157\x64\145\154", "\154\157\x67\147\x69\156\x67"); goto ZtOiT; rpena: if ($this->ion_auth->logged_in()) { goto pPR8W; } goto lBN9g; Fg7e8: } public function output_json($data, $encode = true) { goto W09U7; W09U7: if (!$encode) { goto qKgyH; } goto EBgCh; U74Wu: $this->output->set_content_type("\x61\x70\x70\154\151\143\x61\x74\x69\x6f\x6e\x2f\152\x73\x6f\x6e")->set_output($data); goto vPHM7; EBgCh: $data = json_encode($data); goto xUVUc; xUVUc: qKgyH: goto U74Wu; vPHM7: } public function index() { goto RmFLb; X7cop: $this->load->view("\x5f\x74\x65\155\160\154\141\x74\145\163\57\144\x61\x73\150\x62\x6f\x61\162\144\57\137\146\x6f\157\164\x65\162"); goto GZkPk; XlETF: $data["\x6b\x65\x6c\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto twZpQ; ftppq: yeP41: goto UiZhP; aJWkC: $this->load->view("\155\x65\x6d\x62\145\162\x73\x2f\147\165\x72\x75\x2f\x74\145\x6d\x70\154\x61\164\x65\x73\x2f\150\x65\x61\x64\x65\162", $data); goto rt2fK; bsmcv: if ($this->ion_auth->is_admin()) { goto yeP41; } goto ct4zG; IvjXc: $data["\x67\165\162\165"] = $guru; goto aJWkC; gZSJs: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto omSL3; rt2fK: $this->load->view("\x6b\x65\154\141\163\x2f\x6d\141\164\x65\x72\151\152\x61\x64\167\141\x6c\57\x64\x61\x74\141"); goto YoEbO; NUO1J: $data["\x6a\155\154\115\141\x70\145\154"] = []; goto LrKbL; IdbdV: goto Tvzi_; goto ftppq; ct4zG: if ($this->ion_auth->in_group("\147\x75\162\x75")) { goto HAPCf; } goto IdbdV; UiZhP: $data["\x70\162\157\146\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto xJ60H; omSL3: $data["\163\155\x74\x5f\x61\143\x74\151\x76\x65"] = $smt; goto XlETF; nv7fc: $this->load->view("\153\x65\x6c\141\163\57\x6d\141\164\145\x72\151\152\x61\144\167\x61\x6c\x2f\x64\x61\x74\141"); goto X7cop; leOri: $tp = $this->dashboard->getTahunActive(); goto abPIs; W_6Qd: $data["\142\154\156\x5f\x73\145\x6c\145\143\x74\x65\x64"] = $bln; goto qTCk9; Ejqdb: $bln = $smt->id_smt == "\x31" ? "\67" : "\x31"; goto wUjUc; YoEbO: $this->load->view("\x6d\145\x6d\142\145\x72\x73\57\147\x75\x72\x75\x2f\x74\x65\155\160\154\x61\164\145\163\57\146\157\157\164\145\x72"); goto N5sv_; oKENS: $thn = $smt->id_smt == "\61" ? $tahun[0] : $tahun[1]; goto W_6Qd; PxGmu: $data["\x6d\x65\x74\150\x6f\x64"] = ''; goto U4JY4; RmFLb: $user = $this->ion_auth->user()->row(); goto WQi4p; WQi4p: $data = ["\x75\x73\145\x72" => $user, "\x6a\x75\144\165\x6c" => "\112\x61\144\x77\x61\x6c\x20\x50\145\154\x61\x6a\x61\x72\141\x6e", "\x73\x75\x62\152\x75\144\x75\154" => "\123\x65\x74\40\x4a\141\x64\167\141\154\x20\120\x65\x6c\x61\x6a\141\162\141\x6e", "\x73\145\164\x74\151\156\x67" => $this->dashboard->getSetting()]; goto leOri; GZkPk: goto Tvzi_; goto CLmaM; ZP_ra: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto IvjXc; N5sv_: Tvzi_: goto c2go3; qTCk9: $data["\x64\x61\164\145\137\x73\145\154\145\143\x74\145\144"] = $thn . "\x2d" . $bln . "\55" . date("\144"); goto bsmcv; wi313: $data["\164\x70\137\x61\x63\164\x69\166\145"] = $tp; goto gZSJs; U4JY4: $data["\152\x6d\x6c\x49\163\x74"] = []; goto NUO1J; abPIs: $smt = $this->dashboard->getSemesterActive(); goto W4dIF; LrKbL: $data["\164\150\x6e\137\163\145\154\145\x63\164\145\144"] = $tp->tahun; goto Ejqdb; W4dIF: $data["\164\x70"] = $this->dashboard->getTahun(); goto wi313; xJ60H: $this->load->view("\x5f\164\145\155\160\154\x61\164\x65\x73\x2f\144\x61\163\150\x62\x6f\x61\x72\x64\x2f\137\150\145\141\144\145\162", $data); goto nv7fc; CLmaM: HAPCf: goto ZP_ra; twZpQ: $data["\x69\x64\137\x6b\x65\x6c\141\163"] = "\60"; goto PxGmu; wUjUc: $tahun = explode("\x2f", $tp->tahun); goto oKENS; c2go3: } public function kelas() { goto gD5C9; J5UYi: $this->load->view("\x6b\145\154\141\x73\57\155\141\164\x65\x72\151\x6a\141\144\x77\141\x6c\x2f\x64\x61\x74\x61"); goto TWTPp; oSvbw: $user = $this->ion_auth->user()->row(); goto Am19O; tncOR: qxnyG: goto r1LVT; rqT82: $semua_materi = $this->kelas->getAllJadwalMateriByKelas($tp->id_tp, $smt->id_smt); goto DMvNB; gD5C9: $tahun = $this->input->get("\x74\141\x68\165\x6e"); goto PiLOg; akBm6: goto yAS7m; goto tncOR; V2z9d: $data["\152\141\x64\x77\141\154\x5f\x6d\141\160\145\x6c"] = $jadwal_mapel; goto ZbLZU; YKA2L: $data["\157\x70\163\151\x5f\x6d\x61\x74\145\162\x69"] = $this->kelas->getAllMateriByKelas($tp->id_tp, $smt->id_smt); goto rqT82; lMqzv: $jadk = $this->kelas->getJadwalKbm($tp->id_tp, $smt->id_smt, $kelas); goto BCdZM; Q2mLg: $week = [date("\131\x2d\x6d\55\x64", strtotime("\155\157\156\144\x61\171\x20\x74\x68\x69\163\40\167\145\x65\x6b", strtotime($date))), date("\x59\55\x6d\x2d\x64", strtotime("\x74\x75\145\163\144\141\x79\x20\x74\150\151\x73\40\x77\145\x65\x6b", strtotime($date))), date("\x59\55\x6d\x2d\144", strtotime("\x77\145\144\156\x65\163\x64\x61\x79\x20\164\150\151\163\40\x77\145\145\153", strtotime($date))), date("\x59\55\x6d\x2d\144", strtotime("\x74\x68\x75\x72\163\144\141\171\40\x74\x68\151\163\x20\167\x65\145\x6b", strtotime($date))), date("\131\x2d\155\55\144", strtotime("\x66\162\x69\x64\x61\x79\x20\164\x68\151\x73\40\x77\x65\x65\x6b", strtotime($date))), date("\131\55\x6d\x2d\144", strtotime("\x73\x61\164\165\x72\x64\141\x79\40\x74\x68\x69\163\40\167\x65\x65\153", strtotime($date)))]; goto E6uoS; PiLOg: $bulan = $this->input->get("\142\x75\x6c\141\x6e"); goto iHqZZ; iHqZZ: $kelas = $this->input->get("\x6b\145\x6c\x61\163"); goto MrM5o; rjIZf: $smt = $this->dashboard->getSemesterActive(); goto g1ONI; Am19O: $setting = $this->dashboard->getSetting(); goto F97Pf; iv1Bq: $data["\144\145\x74\x61\x69\x6c\x5f\x6a\141\144\167\141\x6c\137\x74\x75\147\141\163"] = isset($semua_materi[2]) ? $semua_materi[2] : []; goto jDfuh; F97Pf: $data = ["\x75\163\x65\x72" => $user, "\x6a\x75\x64\x75\x6c" => "\112\x61\x64\x77\141\154\x20\x4d\x61\164\145\x72\x69\40\x2f\x20\x54\x75\x67\x61\163", "\163\x75\142\x6a\165\144\165\x6c" => "\123\x65\x74\x20\x4a\x61\144\167\141\154\x20\115\141\x74\x65\162\x69\x20\x2f\40\x54\x75\147\141\x73", "\163\145\x74\164\151\x6e\147" => $setting]; goto IR85N; XMR8B: goto XCk8e; goto hac0j; ebx1C: $jml_mapel = $jadk == null ? 1 : $jadk->kbm_jml_mapel_hari; goto y8oUQ; WSyhS: $data["\153\145\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto lMqzv; y8oUQ: if ($jadm == null) { goto A56eQ; } goto ZZq_m; HnZYJ: $data["\x70\162\x6f\x66\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto GiqyF; hac0j: H_5Cg: goto HnZYJ; A4nXo: AnadB: goto v0x3Y; DMvNB: $data["\x64\145\164\141\x69\154\137\152\x61\x64\167\141\154\x5f\x6d\141\164\145\x72\151"] = isset($semua_materi[1]) ? $semua_materi[1] : []; goto iv1Bq; cJ09d: $jadm = $this->kelas->getJadwalMapelGroupJam($tp->id_tp, $smt->id_smt, $kelas); goto ebx1C; xygod: $data["\151\144\137\x6b\145\154\x61\163"] = $kelas; goto cJ09d; jgCTK: $data["\147\x75\x72\x75"] = $this->dashboard->getDetailGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto Ilhbg; YXZlM: if ($this->ion_auth->in_group("\147\x75\x72\x75")) { goto yzJ8f; } goto XMR8B; kv0mM: $i = 0; goto KnvOR; bmFLH: $data["\167\x65\145\x6b"] = $week; goto YKA2L; Et0DE: QRbRK: goto V2z9d; KnvOR: r2e7J: goto zXeGT; pjocq: goto r2e7J; goto bu4EU; ZZq_m: foreach ($jadm as $j) { $jadwal_mapel[] = ["\x6a\x61\x64\x77\x61\x6c" => $this->kelas->getJadwalMapelByHari($tp->id_tp, $smt->id_smt, $j->jam_ke, $kelas)]; ShmT_: } goto TB2tt; F5THA: goto QRbRK; goto QYb2a; Ilhbg: $this->load->view("\x6d\145\x6d\x62\x65\x72\163\57\147\165\x72\165\x2f\164\x65\155\x70\154\141\x74\x65\163\x2f\150\145\x61\144\145\x72", $data); goto jMegY; Si5ls: $data["\164\x70\x5f\141\x63\x74\x69\166\145"] = $tp; goto ehgPl; HysHE: yzJ8f: goto jgCTK; TB2tt: JLfyd: goto Qoo0d; r1LVT: $data["\152\141\144\167\x61\x6c\137\153\x62\155"] = json_decode(json_encode(["\x69\x64\137\x74\160" => $tp->tahun, "\x69\144\x5f\x73\x6d\164" => $smt->smt, "\151\x64\x5f\153\x65\x6c\x61\163" => $kelas, "\x6b\142\x6d\137\x6a\x61\155\x5f\x70\x65\x6c" => '', "\x6b\142\x6d\137\x6a\141\155\x5f\x6d\x75\154\141\x69" => '', "\153\x62\155\137\152\x6d\154\x5f\x6d\x61\x70\145\154\137\150\141\162\x69" => '', "\x69\x73\164\151\162\141\x68\141\x74" => serialize([]), "\141\x64\x61" => false])); goto ohsk1; zXeGT: if (!($i < $jml_mapel)) { goto d9gn3; } goto fhxIB; ohsk1: yAS7m: goto xygod; IR85N: $tp = $this->dashboard->getTahunActive(); goto rjIZf; fhxIB: $jadwal_mapel[] = ["\x6a\x61\144\x77\141\x6c" => $this->kelas->getDummyJadwalMapel($tp->id_tp, $smt->id_smt, $i + 1, $kelas)]; goto A4nXo; TWTPp: $this->load->view("\137\x74\x65\155\x70\154\141\164\145\x73\x2f\x64\141\163\150\x62\x6f\141\162\x64\x2f\137\146\x6f\x6f\164\145\x72"); goto MaYBB; MaYBB: goto XCk8e; goto HysHE; bu4EU: d9gn3: goto oAS1M; ehgPl: $data["\163\155\164"] = $this->dashboard->getSemester(); goto mYvCT; v0x3Y: $i++; goto pjocq; htT4r: $data["\152\x61\144\x77\x61\154\x5f\x6b\x62\155"] = $jadk; goto akBm6; MrM5o: $date = $this->input->get("\x64\141\164\145"); goto oSvbw; AgJOA: $data["\x62\154\156\137\x73\x65\x6c\x65\143\x74\x65\144"] = $bulan; goto c2hLq; mYvCT: $data["\x73\x6d\164\137\141\143\164\x69\166\145"] = $smt; goto WSyhS; QYb2a: A56eQ: goto kv0mM; c2hLq: $data["\x64\x61\x74\145\137\x73\x65\154\145\x63\x74\145\144"] = $date; goto bmFLH; jMegY: $this->load->view("\x6b\x65\154\x61\x73\57\x6d\x61\164\x65\x72\x69\152\141\144\x77\141\x6c\x2f\144\141\x74\x61"); goto WDT0u; oAS1M: $data["\x6d\145\x74\150\x6f\x64"] = "\x61\x64\144"; goto Et0DE; oYdqs: XCk8e: goto yOtXG; ZbLZU: $data["\155\141\x70\x65\154\163"] = $this->master->getAllMapel(); goto Q2mLg; BCdZM: if ($jadk == null) { goto qxnyG; } goto htT4r; g1ONI: $data["\164\x70"] = $this->dashboard->getTahun(); goto Si5ls; GiqyF: $this->load->view("\137\x74\145\155\x70\x6c\141\x74\145\x73\57\x64\141\163\150\x62\157\141\162\x64\x2f\137\150\145\141\x64\145\x72", $data); goto J5UYi; jDfuh: if ($this->ion_auth->is_admin()) { goto H_5Cg; } goto YXZlM; WDT0u: $this->load->view("\155\x65\x6d\x62\x65\x72\x73\57\147\165\162\x75\x2f\164\145\155\x70\x6c\141\x74\145\163\57\146\157\157\x74\x65\162"); goto oYdqs; E6uoS: $data["\164\150\156\137\163\145\154\145\143\164\145\144"] = $tahun; goto AgJOA; Qoo0d: $data["\155\x65\x74\150\157\x64"] = "\x65\144\x69\164"; goto F5THA; yOtXG: } public function data() { $this->output_json($this->cbt->getJenis(), false); } public function setJadwal() { goto Ial3f; fr5dn: $id_smt = $this->master->getSemesterActive()->id_smt; goto SjdZE; tssF7: if (!($i < 5)) { goto KGpUe; } goto Sw0Xb; WurYj: $update = $this->db->replace("\153\x65\x6c\x61\x73\137\x6a\x61\x64\x77\x61\x6c\137\x6b\142\x6d", $insert); goto Aql0m; Ial3f: $istirahat = []; goto fYWZo; u1erf: KGpUe: goto EHlCZ; FCA0B: goto lQqAL; goto u1erf; Aql0m: $this->logging->saveLog(3, "\155\145\x72\x75\x62\x61\150\40\x6a\141\x64\167\x61\x6c\x20\x70\x65\x6c\141\152\141\x72\x61\156"); goto TP6pm; EHlCZ: $id_tp = $this->master->getTahunActive()->id_tp; goto fr5dn; SjdZE: $id_kelas = $this->input->post("\151\144\x5f\153\145\x6c\141\163", true); goto oYvWI; B5Qoz: $durasi = $this->input->post("\x64\x75\162\137\151\163\164" . $i, true); goto CY42p; dK7bM: M63Nt: goto PNOuv; TWPLJ: lQqAL: goto tssF7; zbPxA: G8i0m: goto dK7bM; IT6DY: $istirahat[] = ["\x69\x73\x74" => $jamke, "\x64\165\x72" => $durasi]; goto zbPxA; PNOuv: $i++; goto FCA0B; TP6pm: $data["\x73\x74\x61\x74\x75\163"] = $update; goto DBqHT; DBqHT: $this->output_json($data); goto TKaCe; oYvWI: $insert = ["\x69\x64\x5f\x6b\x62\155" => $id_tp . $id_smt . $id_kelas, "\x69\x64\137\x74\x70" => $id_tp, "\151\144\137\x73\x6d\x74" => $id_smt, "\x69\x64\x5f\153\145\x6c\141\163" => $id_kelas, "\x6b\x62\155\x5f\x6a\x61\155\137\160\x65\x6c" => $this->input->post("\x6a\x61\155\137\155\x61\x70\x65\154", true), "\x6b\x62\155\x5f\x6a\x61\x6d\x5f\x6d\165\154\141\151" => $this->input->post("\152\141\155\x5f\x6d\x75\154\141\151", true), "\153\142\155\x5f\x6a\155\x6c\137\155\x61\x70\x65\154\x5f\150\141\x72\151" => $this->input->post("\152\x6d\154\x5f\155\141\160\x65\154", true), "\151\x73\164\151\162\x61\x68\141\164" => serialize($istirahat)]; goto WurYj; fYWZo: $i = 1; goto TWPLJ; Sw0Xb: $jamke = $this->input->post("\151\163\x74" . $i, true); goto B5Qoz; CY42p: if (!$jamke) { goto G8i0m; } goto IT6DY; TKaCe: } public function setMapel() { goto JcxxJ; m9pUp: $id_kelas = $this->input->post("\x69\x64\x5f\x6b\145\154\141\x73", true); goto rOsnw; rOsnw: foreach ($input as $d) { goto sQ01G; USOE9: $update = $this->db->replace("\153\x65\154\x61\163\137\152\x61\x64\x77\x61\154\x5f\x6d\141\x70\145\154", $data); goto aqkua; sQ01G: $data = ["\151\x64\x5f\x6a\141\144\x77\x61\x6c" => $d->id_tp . $d->id_smt . $id_kelas . $d->id_hari . $d->jam_ke, "\151\144\x5f\164\160" => $d->id_tp, "\x69\144\x5f\x73\x6d\164" => $d->id_smt, "\151\x64\x5f\x6b\x65\154\x61\x73" => $id_kelas, "\x69\144\137\150\x61\162\151" => $d->id_hari, "\152\x61\155\137\153\145" => $d->jam_ke, "\151\144\137\x6d\x61\160\145\x6c" => $d->id_mapel]; goto USOE9; aqkua: lrDn3: goto qAbLU; qAbLU: } goto WFTKR; WFTKR: d_kC3: goto fbnu5; fbnu5: $res["\x73\x74\x61\x74\165\x73"] = $update; goto Z7yRU; Z7yRU: $this->output_json($res); goto tHbWp; JcxxJ: $input = json_decode($this->input->post("\x64\x61\x74\141", true)); goto m9pUp; tHbWp: } public function saveJadwal() { goto sahau; f70nh: ezrbq: goto u2weu; YFH89: foreach ($input_materi as $im) { goto smLVz; smLVz: $insert = ["\152\x65\156\151\163" => "\x31", "\151\144\137\153\x6a\x6d" => $im->id_kjm, "\151\144\137\164\x70" => $im->id_tp, "\x69\x64\137\163\155\164" => $im->id_smt, "\x69\144\137\153\145\x6c\141\x73" => $im->id_kelas, "\151\144\137\155\x61\164\x65\x72\151" => $im->id_materi, "\x69\144\137\x6d\x61\160\x65\154" => $im->id_mapel, "\152\x61\144\167\141\154\137\x6d\x61\x74\145\x72\x69" => $im->jadwal_materi]; goto iL3ja; dAH_T: oe8AB: goto KkYZo; iL3ja: $update = $this->db->replace("\153\145\x6c\x61\x73\137\152\x61\x64\x77\x61\x6c\x5f\x6d\x61\164\x65\162\151", $insert); goto dAH_T; KkYZo: } goto C4kY3; u2weu: $this->logging->saveLog(3, "\x6d\x65\x72\x75\142\141\150\x20\152\141\144\167\x61\x6c\40\155\141\x74\145\162\151\x20\144\x61\156\40\x74\x75\x67\141\x73"); goto m_VXm; C4kY3: QUTrW: goto AVKZH; m_VXm: $this->output_json($update); goto LUVQ3; sahau: $input_materi = json_decode($this->input->post("\x6d\x61\164\x65\162\x69", true)); goto o1JU6; AVKZH: foreach ($input_tugas as $im) { goto S5qLZ; kB8v3: C6qiE: goto T3K5s; S5qLZ: $insert = ["\152\x65\156\151\x73" => "\62", "\151\x64\137\x6b\152\x6d" => $im->id_kjm, "\151\x64\x5f\164\160" => $im->id_tp, "\x69\144\137\163\155\164" => $im->id_smt, "\x69\x64\137\153\x65\154\141\x73" => $im->id_kelas, "\151\x64\137\x6d\141\x74\x65\x72\x69" => $im->id_materi, "\x69\144\137\155\141\160\x65\x6c" => $im->id_mapel, "\152\x61\x64\167\x61\x6c\137\x6d\x61\164\145\162\151" => $im->jadwal_materi]; goto lDrik; lDrik: $update = $this->db->replace("\x6b\145\x6c\x61\163\x5f\x6a\141\144\167\141\x6c\137\155\141\x74\x65\x72\151", $insert); goto kB8v3; T3K5s: } goto f70nh; o1JU6: $input_tugas = json_decode($this->input->post("\x74\x75\147\141\163", true)); goto YFH89; LUVQ3: } }
