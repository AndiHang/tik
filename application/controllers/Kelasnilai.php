<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasnilai extends CI_Controller { public function __construct() { goto Tp0C6; gy98p: $this->load->model("\104\162\157\x70\x64\157\x77\x6e\137\x6d\x6f\x64\x65\154", "\x64\162\157\160\144\x6f\x77\156"); goto luOLy; CKz0T: redirect("\x61\x75\x74\x68"); goto pxAlt; luOLy: $this->load->model("\113\x65\154\141\x73\x5f\155\157\144\145\154", "\x6b\145\154\x61\x73"); goto Cvtnu; Hn49I: E13ez: goto CKz0T; acaRH: if (!$this->ion_auth->logged_in()) { goto E13ez; } goto Di3Vi; pxAlt: D_jtm: goto eFXFE; eFXFE: $this->load->library(["\144\141\164\141\164\141\x62\x6c\x65\x73", "\146\x6f\x72\x6d\137\166\141\x6c\x69\144\x61\x74\x69\x6f\156"]); goto ohAHV; Cvtnu: $this->form_validation->set_error_delimiters('', ''); goto Cy_zg; ygoPV: $this->load->model("\104\141\x73\x68\142\157\x61\x72\144\x5f\x6d\x6f\x64\x65\154", "\144\141\x73\x68\142\157\141\x72\x64"); goto gy98p; Di3Vi: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\165\x72\165"))) { goto eNN2B; } goto f1fg1; Tp0C6: parent::__construct(); goto acaRH; AIMhj: goto D_jtm; goto Hn49I; NK5Q3: eNN2B: goto AIMhj; ohAHV: $this->load->model("\115\141\x73\x74\x65\x72\x5f\155\x6f\144\x65\x6c", "\155\x61\x73\164\145\x72"); goto ygoPV; f1fg1: show_error("\110\141\x6e\x79\141\40\x41\x64\155\151\x6e\151\x73\x74\x72\x61\x74\x6f\162\40\x79\x61\156\147\40\x64\151\x62\145\162\x69\x20\150\141\x6b\x20\165\156\164\x75\153\x20\x6d\x65\x6e\147\x61\x6b\x73\x65\163\40\150\141\x6c\141\x6d\x61\x6e\x20\x69\156\x69\x2c\40\74\141\40\150\x72\145\x66\x3d\42" . base_url("\144\x61\163\x68\142\157\141\162\144") . "\x22\76\113\145\x6d\x62\141\x6c\x69\40\x6b\x65\x20\155\145\156\x75\x20\x61\167\x61\x6c\x3c\57\x61\x3e", 403, "\x41\153\163\145\163\40\124\145\162\154\x61\162\x61\x6e\x67"); goto NK5Q3; Cy_zg: } public function output_json($data, $encode = true) { goto L1BrK; z611V: xN6gh: goto dn1pB; L1BrK: if (!$encode) { goto xN6gh; } goto Vf82F; dn1pB: $this->output->set_content_type("\x61\x70\x70\154\151\143\141\164\x69\157\x6e\57\x6a\163\157\x6e")->set_output($data); goto c7CAJ; Vf82F: $data = json_encode($data); goto z611V; c7CAJ: } public function index() { goto q9t7T; auavi: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); mMf3Y: } goto xEyfG; w3hUv: $this->load->view("\155\x65\155\142\x65\x72\x73\57\147\x75\162\165\57\164\145\155\160\154\141\x74\x65\163\x2f\x68\145\141\144\145\162", $data); goto C8BMj; E8126: if ($this->ion_auth->is_admin()) { goto ke1e9; } goto pkP3T; YpEsP: $data["\164\160"] = $this->dashboard->getTahun(); goto x4UEl; q9t7T: $user = $this->ion_auth->user()->row(); goto OsN8O; cAq0Q: $tp = $this->dashboard->getTahunActive(); goto NX_SE; o5__x: $data["\163\155\x74\x5f\x61\143\164\x69\166\145"] = $smt; goto E8126; uXQNr: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto kpU7o; Pub0S: $data["\x67\x75\162\x75"] = $guru; goto AEa6s; WrfbI: K8Voc: goto FiRXS; FBnLC: $data["\x6b\145\x6c\x61\163"] = count($arrId) > 0 ? $this->dropdown->getAllKelasByArrayId($tp->id_tp, $smt->id_smt, $arrId) : []; goto w3hUv; YIQL7: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto o5__x; ebDh9: foreach ($mapel as $m) { goto Uecil; Uecil: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto Oy6Dt; VUjrw: UEpCL: goto B7pb7; Oy6Dt: foreach ($m->kelas_mapel as $kls) { $arrKelas[$m->id_mapel][] = ["\x69\x64\137\153\x65\x6c\x61\x73" => $kls->kelas, "\x6e\141\155\141\137\153\145\154\x61\x73" => $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas)]; Y9CVX: } goto KD3jD; KD3jD: IQ0zV: goto VUjrw; B7pb7: } goto MWvEu; AEa6s: $data["\x69\144\x5f\147\x75\x72\x75"] = $guru->id_guru; goto GOgxj; t9W2o: $this->load->view("\137\x74\x65\x6d\x70\154\x61\x74\x65\x73\57\x64\141\163\x68\x62\x6f\141\162\144\57\137\146\x6f\x6f\164\x65\x72"); goto S6K7b; w4Tkl: $data["\x6d\141\x70\x65\154"] = $this->dropdown->getAllMapel(); goto w91CM; iBtBv: $arrKelas = []; goto oepUd; peq4p: goto d6rqV; goto rC8PH; S6K7b: d6rqV: goto uCaZU; xEyfG: DUg7x: goto wyLfJ; GOgxj: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto uXQNr; FiRXS: $arrId = []; goto sgaTj; x4UEl: $data["\x74\x70\137\x61\143\x74\x69\x76\145"] = $tp; goto YIQL7; IygvK: $data["\141\x72\162\x6b\x65\x6c\141\163"] = $arrKelas; goto FBnLC; wyLfJ: K3CJD: goto kPIdB; fCyUN: $this->load->view("\155\145\x6d\x62\x65\162\163\57\147\165\162\165\57\164\145\x6d\x70\154\x61\x74\145\x73\57\x66\157\157\164\145\162"); goto peq4p; OsN8O: $data = ["\x75\x73\145\162" => $user, "\152\165\144\x75\154" => "\x52\x61\x6b\141\x70\x69\x74\165\154\x61\x73\x69\40\116\151\x6c\141\151\x20\123\151\163\167\x61", "\163\165\142\152\165\x64\165\154" => "\116\x69\x6c\141\151\x20\x64\141\x6c\141\155\40\163\141\164\x75\40\163\x65\155\145\163\164\x65\162", "\x73\145\164\164\x69\x6e\147" => $this->dashboard->getSetting()]; goto cAq0Q; kpU7o: $arrMapel = []; goto iBtBv; C8BMj: $this->load->view("\153\145\154\141\x73\57\156\x69\x6c\x61\x69\57\x64\141\x74\141"); goto fCyUN; sgaTj: if (!($mapel != null)) { goto K3CJD; } goto auavi; NX_SE: $smt = $this->dashboard->getSemesterActive(); goto YpEsP; w91CM: $data["\153\145\154\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto AcUjv; AcUjv: $this->load->view("\x5f\x74\x65\155\160\154\x61\164\x65\x73\57\144\141\163\x68\x62\x6f\x61\x72\x64\57\137\150\145\x61\x64\145\x72", $data); goto kwQrF; pkP3T: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto AFO2T; kPIdB: $data["\x6d\x61\x70\x65\154"] = $arrMapel; goto IygvK; kwQrF: $this->load->view("\153\x65\x6c\x61\163\x2f\x6e\x69\x6c\x61\x69\57\x64\141\x74\141"); goto t9W2o; Z9iB5: $data["\x70\x72\157\146\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto w4Tkl; rC8PH: ke1e9: goto Z9iB5; MWvEu: lbE_L: goto WrfbI; AFO2T: $nguru[$guru->id_guru] = $guru->nama_guru; goto Pub0S; oepUd: if (!($mapel != null)) { goto K8Voc; } goto ebDh9; uCaZU: } public function loadNilaiMapel() { goto Egrfr; yP_KA: $cols = 0; goto wYkLB; QYzid: $smt = $this->input->get("\163\x6d\x74"); goto ulPe2; eiVy7: YpmWf: goto u0dWJ; vVprO: $log_materi = []; goto yP_KA; XlIbl: $namaBulan = ['', "\x4a\141\x6e\165\x61\162\151", "\x46\x65\x62\x72\x75\x61\162\151", "\x4d\x61\x72\x65\164", "\x41\160\x72\151\154", "\x4d\x65\151", "\x4a\165\x6e\x69", "\112\x75\154\x69", "\101\147\x75\163\164\x75\163", "\x53\x65\160\164\145\155\x62\x65\162", "\117\x6b\x74\157\142\145\162", "\116\x6f\x70\x65\x6d\142\145\162", "\104\x65\163\x65\155\x62\145\x72"]; goto wAW27; H3SZ2: if (count($siswa) > 0 && count($jadwal_per_bulan) > 0) { goto YpmWf; } goto PJaZL; JztOw: goto TGcln; goto eiVy7; ulPe2: $stahun = $this->input->get("\x73\164\141\150\165\x6e"); goto FDZPs; KB0Ex: goto qRmRc; goto rivrB; uSljJ: EJkcW: goto xNoDi; f8FVC: $infos = $this->kelas->getJadwalMapelByMapel($kelas, $mapel, $tahun, $smt); goto FDqMN; mnxpW: $data = ["\154\157\x67" => $log, "\x6d\141\x74\145\162\x69" => $jadwal_materi, "\x62\165\154\x61\x6e\163" => $arrBulan, "\x6d\x61\160\x65\x6c\163" => $jadwal_per_bulan, "\x6e\151\154\x61\x69" => $log_siswa, "\143\x6f\154\x73" => $cols]; goto p8scM; p8scM: TGcln: goto i2tg8; gjo7c: $arrBulan = ["\60\x31", "\x30\62", "\x30\63", "\x30\x34", "\x30\x35", "\60\66"]; goto KB0Ex; hw6d3: $tahun = $this->input->get("\164\x61\x68\x75\156"); goto QYzid; u0dWJ: foreach ($siswa as $s) { $log[$s->id_siswa] = ["\156\x61\x6d\141" => $s->nama, "\x6e\151\x73" => $s->nis, "\x6b\145\x6c\x61\163" => $s->nama_kelas, "\x6e\151\x6c\x61\151\137\155\x61\164\145\x72\151" => isset($log_siswa[1][$s->id_siswa]) ? $log_siswa[1][$s->id_siswa] : [], "\156\151\x6c\x61\151\x5f\x74\x75\147\141\163" => isset($log_siswa[2][$s->id_siswa]) ? $log_siswa[2][$s->id_siswa] : []]; XamGW: } goto ryPX2; FDZPs: $siswa = $this->kelas->getKelasSiswa($kelas, $tahun, $smt); goto jikKf; rivrB: brGmI: goto uoBru; FSehW: $jadwal_per_bulan = []; goto rf64v; xNoDi: $log = []; goto H3SZ2; hBGlr: qRmRc: goto XlIbl; ryPX2: ZFnqs: goto mnxpW; wYkLB: foreach ($arrBulan as $bulan) { goto rPIT2; sfTtB: uyNgP: goto rlClP; xlq_h: FTrcs: goto sfTtB; rPIT2: foreach ($infos as $info) { goto gax5R; GovNR: foreach ($dates as $date) { goto kU1uk; U2Ma7: $cols++; goto YHZeO; T6XLX: $tgs = isset($jj[$mapel]) && isset($jj[$mapel][$info->jam_ke]) && isset($jj[$mapel][$info->jam_ke][2]) ? $jj[$mapel][$info->jam_ke][2] : null; goto CTJRg; iv1_a: $t = $d[2]; goto OZ6Ve; OZ6Ve: $jj = $this->kelas->getAllMateriByTgl($kelas, $date, [$mapel]); goto fyQ09; MJKPf: $jadwal_materi[$b][$t][$info->jam_ke][2] = $tgs; goto U2Ma7; CTJRg: $jadwal_materi[$b][$t][$info->jam_ke][1] = $mtr; goto MJKPf; kU1uk: $d = explode("\55", $date); goto eVosB; eVosB: $b = $d[1]; goto iv1_a; YHZeO: Icv77: goto UUV7q; fyQ09: $mtr = isset($jj[$mapel]) && isset($jj[$mapel][$info->jam_ke]) && isset($jj[$mapel][$info->jam_ke][1]) ? $jj[$mapel][$info->jam_ke][1] : null; goto T6XLX; UUV7q: } goto IKkyL; jLhqc: GEElC: goto cLnQ5; Z6Pnc: $mtr = null; goto Josz5; IKkyL: OEg5_: goto jLhqc; Josz5: $tgs = null; goto GovNR; zKyyc: $dates = $this->total_hari($info->id_hari, $bulan, $stahun); goto Z6Pnc; gax5R: $jadwal_per_bulan[$info->id_hari][$info->jam_ke] = $info; goto zKyyc; cLnQ5: } goto xlq_h; rlClP: } goto uSljJ; PJaZL: $data["\155\x61\x70\x65\154\163"] = []; goto JztOw; wAW27: $namaHari = ["\x4d\151\156\x67\147\x75", "\123\145\156\151\x6e", "\123\x65\x6c\141\163\141", "\122\141\x62\165", "\113\141\x6d\x69\163", "\112\x75\x6d\x61\x74", "\x53\x61\142\x74\x75"]; goto f8FVC; rf64v: $jadwal_materi = []; goto vVprO; uoBru: $arrBulan = ["\x30\67", "\x30\70", "\60\71", "\61\60", "\61\61", "\61\62"]; goto hBGlr; Egrfr: $kelas = $this->input->get("\x6b\x65\154\x61\x73"); goto liEJb; jikKf: if ($smt == "\61") { goto brGmI; } goto gjo7c; FDqMN: $log_siswa = $this->kelas->getRekapMateriSemester($kelas); goto FSehW; liEJb: $mapel = $this->input->get("\155\x61\160\145\154"); goto hw6d3; i2tg8: $this->output_json($data); goto dihvo; dihvo: } function total_hari($id_day, $bulan, $taun) { goto ERhkz; ERhkz: $days = 0; goto S0jjN; a1_LX: NUDLi: goto yV4Qj; yV4Qj: return $dates; goto xiK3U; tUncI: R4bvx: goto sqSUI; OEyc5: $total_days = cal_days_in_month(CAL_GREGORIAN, $bulan, $taun); goto tOPzA; S0jjN: $dates = []; goto OEyc5; sqSUI: $i++; goto WKIuF; vNkWq: if (!(date("\x4e", strtotime($taun . "\55" . $bulan . "\55" . $i)) == $idday)) { goto ZJs7c; } goto hN4_U; hN4_U: $days++; goto cct0P; IlOc3: ZJs7c: goto tUncI; Gikj4: RJAQY: goto sKhBH; cct0P: array_push($dates, date("\131\55\155\55\x64", strtotime($taun . "\x2d" . $bulan . "\x2d" . $i))); goto IlOc3; sKhBH: if (!($i < $total_days)) { goto NUDLi; } goto vNkWq; WKIuF: goto RJAQY; goto a1_LX; R4Pfk: $i = 1; goto Gikj4; tOPzA: $idday = $id_day == "\x37" ? 0 : $id_day; goto R4Pfk; xiK3U: } }
