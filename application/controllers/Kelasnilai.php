<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasnilai extends CI_Controller { public function __construct() { goto SUEC8; n7XEP: HKhKU: goto sk1_M; CVmbA: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\165\162\165"))) { goto xPi4I; } goto hPHV_; y1DkC: redirect("\141\165\x74\x68"); goto n7XEP; Qnccc: $this->load->model("\x4b\x65\x6c\141\x73\137\x6d\157\144\x65\154", "\x6b\145\154\141\163"); goto oRCl2; B0BJe: xPi4I: goto w3yeI; oRCl2: $this->form_validation->set_error_delimiters('', ''); goto z8rpz; hPHV_: show_error("\x48\141\x6e\171\141\x20\x41\144\x6d\151\156\x69\163\x74\162\141\164\157\x72\40\x79\141\156\147\x20\x64\x69\x62\x65\x72\x69\x20\x68\141\x6b\x20\165\156\164\x75\x6b\x20\155\x65\156\x67\141\153\163\145\163\x20\x68\141\154\x61\155\141\156\x20\151\x6e\x69\x2c\x20\x3c\141\40\x68\162\x65\146\75\x22" . base_url("\144\141\163\150\142\157\141\162\x64") . "\x22\x3e\x4b\x65\x6d\142\141\154\151\x20\x6b\145\40\155\x65\156\x75\x20\x61\x77\141\x6c\74\57\x61\x3e", 403, "\x41\153\163\145\x73\40\124\145\162\x6c\141\x72\141\x6e\147"); goto B0BJe; w3yeI: goto HKhKU; goto wEFbp; eNzwA: $this->load->model("\x44\162\157\160\x64\157\167\x6e\137\x6d\x6f\x64\x65\154", "\x64\162\157\x70\x64\157\167\x6e"); goto Qnccc; SUEC8: parent::__construct(); goto p_N0w; wEFbp: hCou9: goto y1DkC; SV8hs: $this->load->model("\104\x61\163\150\x62\157\141\x72\x64\137\x6d\x6f\x64\145\154", "\x64\141\x73\x68\x62\157\x61\162\x64"); goto eNzwA; uXeqv: $this->load->model("\x4d\x61\163\x74\145\162\x5f\x6d\157\144\x65\x6c", "\x6d\141\x73\164\x65\x72"); goto SV8hs; sk1_M: $this->load->library(["\144\x61\164\141\164\141\x62\x6c\x65\x73", "\x66\157\x72\155\137\166\141\x6c\151\144\141\164\x69\x6f\x6e"]); goto uXeqv; p_N0w: if (!$this->ion_auth->logged_in()) { goto hCou9; } goto CVmbA; z8rpz: } public function output_json($data, $encode = true) { goto vKK4N; KWj2c: Ca_AA: goto aZLk_; vKK4N: if (!$encode) { goto Ca_AA; } goto nUb1j; nUb1j: $data = json_encode($data); goto KWj2c; aZLk_: $this->output->set_content_type("\x61\x70\x70\x6c\151\x63\x61\164\151\x6f\x6e\x2f\x6a\163\157\x6e")->set_output($data); goto WDxBH; WDxBH: } public function index() { goto H4cER; HTtDo: $this->load->view("\x6d\145\x6d\x62\x65\162\x73\x2f\147\165\x72\x75\57\x74\145\155\x70\154\141\x74\145\x73\x2f\146\157\157\164\145\162"); goto b6XEw; MU95E: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto hwLnt; aJNb1: $this->load->view("\153\145\154\x61\x73\x2f\156\151\154\141\x69\x2f\144\x61\164\x61"); goto HTtDo; UFUrp: $data["\160\x72\157\146\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto tnfT9; VvVHj: if (!($mapel != null)) { goto X__Vq; } goto Iy3uK; J9Csh: $this->load->view("\137\164\x65\x6d\x70\154\x61\164\145\163\x2f\144\x61\x73\150\142\x6f\141\162\x64\x2f\137\146\x6f\x6f\x74\145\162"); goto P2vIe; sQIHG: if (!($mapel != null)) { goto DrkBM; } goto ZYdxE; dEwlq: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto avG41; Iy3uK: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); Sj6q_: } goto RSmb9; nIWcY: $data["\141\x72\x72\x6b\x65\x6c\x61\163"] = $arrKelas; goto KzXOH; tnfT9: $data["\155\x61\160\145\154"] = $this->dropdown->getAllMapel(); goto Mwtg8; uPPhq: $this->load->view("\155\x65\155\x62\x65\x72\x73\57\147\x75\x72\x75\x2f\x74\x65\155\160\x6c\141\x74\145\x73\x2f\150\x65\x61\x64\x65\162", $data); goto aJNb1; rp3Fh: $data["\164\160\137\141\143\x74\151\x76\x65"] = $tp; goto csuK7; j2w1N: gnfbr: goto iLe70; P2vIe: C9y1m: goto ct7Ud; j7Nr1: $data["\x74\160"] = $this->dashboard->getTahun(); goto rp3Fh; b0SN8: $data["\155\141\160\145\x6c"] = $arrMapel; goto nIWcY; RSmb9: PjoIj: goto UaFnm; edSS8: $arrMapel = []; goto HcXJV; H4cER: $user = $this->ion_auth->user()->row(); goto sRfuF; UaFnm: X__Vq: goto b0SN8; UiRKi: $arrId = []; goto VvVHj; miOIs: $data["\x67\x75\162\x75"] = $guru; goto lM_hP; KzXOH: $data["\153\145\x6c\x61\x73"] = count($arrId) > 0 ? $this->dropdown->getAllKelasByArrayId($tp->id_tp, $smt->id_smt, $arrId) : []; goto uPPhq; b6XEw: goto C9y1m; goto VkeTn; VkeTn: x_HD3: goto UFUrp; avG41: $nguru[$guru->id_guru] = $guru->nama_guru; goto miOIs; csuK7: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto Li1S_; HcXJV: $arrKelas = []; goto sQIHG; hoYaM: if ($this->ion_auth->is_admin()) { goto x_HD3; } goto dEwlq; xKWMG: $tp = $this->dashboard->getTahunActive(); goto iXsfr; JZMCN: $this->load->view("\137\164\x65\155\160\x6c\141\x74\145\163\57\144\141\x73\150\x62\x6f\141\x72\x64\x2f\x5f\150\x65\141\144\x65\x72", $data); goto Tbevm; sRfuF: $data = ["\165\x73\145\x72" => $user, "\152\x75\x64\x75\x6c" => "\x52\x61\153\141\x70\x69\x74\165\154\x61\163\x69\40\x4e\151\154\141\x69\40\x53\x69\163\x77\141", "\163\x75\142\x6a\x75\x64\165\154" => "\x4e\x69\154\x61\x69\40\144\x61\x6c\x61\155\40\163\x61\x74\165\40\x73\x65\x6d\x65\x73\x74\145\x72", "\163\x65\164\x74\151\156\x67" => $this->dashboard->getSetting()]; goto xKWMG; hwLnt: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto edSS8; iXsfr: $smt = $this->dashboard->getSemesterActive(); goto j7Nr1; lM_hP: $data["\151\144\137\147\165\x72\165"] = $guru->id_guru; goto MU95E; ZYdxE: foreach ($mapel as $m) { goto Du2sU; Du2sU: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto itw67; eJx3p: hj_7W: goto D4H6M; D4H6M: xZ9HA: goto OYcdy; itw67: foreach ($m->kelas_mapel as $kls) { $arrKelas[$m->id_mapel][] = ["\151\x64\137\153\x65\x6c\141\x73" => $kls->kelas, "\156\x61\155\141\x5f\153\x65\154\x61\163" => $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas)]; SA1fE: } goto eJx3p; OYcdy: } goto j2w1N; iLe70: DrkBM: goto UiRKi; Li1S_: $data["\x73\155\164\137\141\x63\x74\x69\166\x65"] = $smt; goto hoYaM; Mwtg8: $data["\153\x65\x6c\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto JZMCN; Tbevm: $this->load->view("\x6b\x65\x6c\141\x73\57\156\151\x6c\141\x69\x2f\x64\141\164\x61"); goto J9Csh; ct7Ud: } public function loadNilaiMapel() { goto Pwioz; yzWtA: esPZO: goto i8NMX; Qsxsh: $log_materi = []; goto q1YFP; Fe25W: $data = ["\154\157\147" => $log, "\155\x61\164\145\x72\151" => $jadwal_materi, "\x62\x75\x6c\141\156\x73" => $arrBulan, "\155\x61\x70\145\154\163" => $jadwal_per_bulan, "\x6e\151\x6c\x61\x69" => $log_siswa, "\x63\x6f\154\x73" => $cols]; goto fe7uX; SlGAZ: $mapel = $this->input->get("\x6d\x61\160\x65\154"); goto hS7Xd; cXprw: $this->output_json($data); goto bnI8N; nrjMH: $stahun = $this->input->get("\x73\164\x61\x68\x75\x6e"); goto LTJ9i; dLMJM: $log = []; goto Mp0N2; wHBM3: foreach ($arrBulan as $bulan) { goto bj1_m; hAoKM: KTPcg: goto VF1W0; F3uYK: cBjq3: goto hAoKM; bj1_m: foreach ($infos as $info) { goto CwGpr; p0kQd: E1HkF: goto Z4iDR; Jzhec: $mtr = null; goto VjopG; VjopG: $tgs = null; goto TdLbh; TdLbh: foreach ($dates as $date) { goto T11IY; wc21a: $jj = $this->kelas->getAllMateriByTgl($kelas, $date, [$mapel]); goto SJGxw; T11IY: $d = explode("\x2d", $date); goto lxKR2; SKMoG: $t = $d[2]; goto wc21a; lxKR2: $b = $d[1]; goto SKMoG; Z21N0: $cols++; goto SqRdO; SqRdO: MUPEx: goto kLQr9; SJGxw: $mtr = isset($jj[$mapel]) && isset($jj[$mapel][$info->jam_ke]) && isset($jj[$mapel][$info->jam_ke][1]) ? $jj[$mapel][$info->jam_ke][1] : null; goto IlLpV; xZ1jL: $jadwal_materi[$b][$t][$info->jam_ke][2] = $tgs; goto Z21N0; IlLpV: $tgs = isset($jj[$mapel]) && isset($jj[$mapel][$info->jam_ke]) && isset($jj[$mapel][$info->jam_ke][2]) ? $jj[$mapel][$info->jam_ke][2] : null; goto yoN7t; yoN7t: $jadwal_materi[$b][$t][$info->jam_ke][1] = $mtr; goto xZ1jL; kLQr9: } goto p0kQd; CwGpr: $jadwal_per_bulan[$info->id_hari][$info->jam_ke] = $info; goto jgH8z; Z4iDR: Ds2HN: goto w6FZ6; jgH8z: $dates = $this->total_hari($info->id_hari, $bulan, $stahun); goto Jzhec; w6FZ6: } goto F3uYK; VF1W0: } goto eLs1J; wxweD: KP0H0: goto Fe25W; nu_09: $namaBulan = ['', "\x4a\141\x6e\165\x61\162\151", "\x46\145\142\162\x75\x61\x72\x69", "\115\141\x72\145\164", "\101\160\x72\x69\x6c", "\115\x65\151", "\112\x75\x6e\x69", "\112\165\x6c\151", "\101\x67\x75\163\x74\165\x73", "\x53\145\x70\164\145\155\142\145\162", "\x4f\x6b\164\x6f\142\x65\162", "\x4e\157\x70\x65\155\x62\x65\x72", "\104\145\x73\145\x6d\142\x65\162"]; goto ijgQ_; HpVBe: $infos = $this->kelas->getJadwalMapelByMapel($kelas, $mapel, $tahun, $smt); goto LoCWO; ulEm7: goto x3P7s; goto dvC0n; PS9kp: $arrBulan = ["\x30\61", "\x30\x32", "\60\x33", "\x30\x34", "\60\x35", "\60\66"]; goto boYsW; ijgQ_: $namaHari = ["\115\x69\156\147\147\x75", "\x53\x65\156\x69\156", "\123\145\154\x61\163\x61", "\x52\x61\142\165", "\113\x61\x6d\x69\x73", "\x4a\165\x6d\141\164", "\x53\x61\x62\164\x75"]; goto HpVBe; wBbdi: $jadwal_materi = []; goto Qsxsh; i8NMX: $arrBulan = ["\60\67", "\60\x38", "\x30\71", "\x31\x30", "\x31\x31", "\x31\62"]; goto TRhR0; LTJ9i: $siswa = $this->kelas->getKelasSiswa($kelas, $tahun, $smt); goto omx4i; fe7uX: x3P7s: goto cXprw; eLs1J: hliWk: goto dLMJM; Mp0N2: if (count($siswa) > 0 && count($jadwal_per_bulan) > 0) { goto pW_Yj; } goto Eor6f; s6s6U: foreach ($siswa as $s) { $log[$s->id_siswa] = ["\x6e\x61\155\141" => $s->nama, "\156\x69\163" => $s->nis, "\x6b\x65\154\141\x73" => $s->nama_kelas, "\156\151\154\x61\151\137\155\141\164\145\x72\x69" => isset($log_siswa[1][$s->id_siswa]) ? $log_siswa[1][$s->id_siswa] : [], "\156\151\154\x61\151\137\x74\x75\x67\x61\x73" => isset($log_siswa[2][$s->id_siswa]) ? $log_siswa[2][$s->id_siswa] : []]; yEEGP: } goto wxweD; i49N9: $jadwal_per_bulan = []; goto wBbdi; boYsW: goto oS_lf; goto yzWtA; hS7Xd: $tahun = $this->input->get("\164\141\x68\165\x6e"); goto d7Twp; q1YFP: $cols = 0; goto wHBM3; LoCWO: $log_siswa = $this->kelas->getRekapMateriSemester($kelas); goto i49N9; TRhR0: oS_lf: goto nu_09; dvC0n: pW_Yj: goto s6s6U; omx4i: if ($smt == "\61") { goto esPZO; } goto PS9kp; Pwioz: $kelas = $this->input->get("\153\145\x6c\141\163"); goto SlGAZ; Eor6f: $data["\x6d\141\160\145\x6c\x73"] = []; goto ulEm7; d7Twp: $smt = $this->input->get("\163\x6d\164"); goto nrjMH; bnI8N: } function total_hari($id_day, $bulan, $taun) { goto xMXdm; FRTmX: goto ZFS9F; goto FIrQR; IcbWj: return $dates; goto F4PVQ; sAjWo: $total_days = cal_days_in_month(CAL_GREGORIAN, $bulan, $taun); goto EHeyc; FIrQR: geVO2: goto IcbWj; fplbF: ZFS9F: goto WM7AB; EHeyc: $idday = $id_day == "\x37" ? 0 : $id_day; goto BYm4E; eNWIW: if (!(date("\x4e", strtotime($taun . "\55" . $bulan . "\x2d" . $i)) == $idday)) { goto gehzV; } goto itdf6; XJmss: rfjgN: goto Kk4bC; BYm4E: $i = 1; goto fplbF; MAjVN: $dates = []; goto sAjWo; B2j6s: gehzV: goto XJmss; xMXdm: $days = 0; goto MAjVN; WM7AB: if (!($i < $total_days)) { goto geVO2; } goto eNWIW; EtA0w: array_push($dates, date("\131\55\x6d\x2d\x64", strtotime($taun . "\x2d" . $bulan . "\55" . $i))); goto B2j6s; itdf6: $days++; goto EtA0w; Kk4bC: $i++; goto FRTmX; F4PVQ: } }
