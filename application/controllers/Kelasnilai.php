<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasnilai extends CI_Controller { public function __construct() { goto KIn1D; mKF2J: $this->load->model("\113\145\x6c\x61\x73\x5f\x6d\157\x64\145\x6c", "\153\x65\154\141\x73"); goto Xy10n; eOK3N: $this->load->library(["\144\141\164\141\x74\x61\x62\154\145\x73", "\x66\157\162\155\x5f\166\141\154\151\144\141\x74\151\157\156"]); goto a24VF; uW_T0: $this->load->model("\104\141\x73\x68\x62\157\141\x72\144\x5f\x6d\x6f\x64\145\154", "\144\x61\x73\150\142\157\141\162\x64"); goto lm1Er; xaBv3: XiY1P: goto Tfzlo; KIn1D: parent::__construct(); goto hEWis; zYLPH: show_error("\110\x61\x6e\x79\x61\40\x41\144\155\x69\x6e\x69\163\x74\x72\x61\164\157\162\40\171\x61\156\x67\40\x64\151\142\145\162\151\40\150\x61\x6b\40\x75\x6e\x74\x75\x6b\x20\x6d\145\x6e\147\x61\153\x73\x65\163\x20\x68\141\154\x61\155\x61\x6e\40\x69\156\x69\x2c\40\x3c\x61\40\150\x72\145\x66\75\x22" . base_url("\x64\141\163\x68\142\x6f\141\162\x64") . "\42\x3e\113\145\155\142\x61\x6c\151\x20\153\x65\x20\x6d\x65\x6e\x75\x20\x61\x77\141\154\x3c\x2f\141\76", 403, "\x41\x6b\x73\145\x73\40\124\x65\x72\x6c\x61\162\x61\x6e\x67"); goto ldbSH; a24VF: $this->load->model("\x4d\141\163\x74\145\162\137\155\157\144\x65\x6c", "\155\x61\163\164\145\x72"); goto uW_T0; ldbSH: Hf5l1: goto noOZk; noOZk: goto RmeTK; goto xaBv3; hEWis: if (!$this->ion_auth->logged_in()) { goto XiY1P; } goto nt2UR; nt2UR: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\x75\162\x75"))) { goto Hf5l1; } goto zYLPH; HvjNX: RmeTK: goto eOK3N; lm1Er: $this->load->model("\104\x72\x6f\160\144\x6f\x77\x6e\137\x6d\157\144\x65\154", "\144\x72\157\160\x64\x6f\x77\x6e"); goto mKF2J; Tfzlo: redirect("\x61\x75\x74\150"); goto HvjNX; Xy10n: $this->form_validation->set_error_delimiters('', ''); goto R0pYS; R0pYS: } public function output_json($data, $encode = true) { goto rUJGY; A3POs: $this->output->set_content_type("\141\160\160\154\x69\x63\x61\x74\x69\157\x6e\57\152\x73\157\x6e")->set_output($data); goto XB9qJ; sg7m6: $data = json_encode($data); goto INCUr; INCUr: NfSYK: goto A3POs; rUJGY: if (!$encode) { goto NfSYK; } goto sg7m6; XB9qJ: } public function index() { goto O0_qm; l0gEk: $data["\x6d\141\x70\x65\x6c"] = $arrMapel; goto IaE2H; r9Ly1: goto k2V3j; goto gASKt; M29oi: $this->load->view("\137\164\x65\x6d\160\x6c\141\x74\x65\163\57\144\141\x73\x68\x62\x6f\141\162\x64\x2f\137\x66\x6f\x6f\x74\x65\162"); goto bEljQ; qYE6I: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); ua9iM: } goto Jsgre; BZzfL: $smt = $this->dashboard->getSemesterActive(); goto yUDBx; YZ2wc: $this->load->view("\155\x65\155\x62\x65\162\x73\57\147\165\162\165\57\x74\145\155\x70\154\x61\164\x65\x73\57\x66\157\157\x74\x65\162"); goto r9Ly1; TV_lq: $this->load->view("\x5f\x74\x65\155\160\154\x61\x74\x65\x73\x2f\144\141\x73\x68\142\x6f\x61\162\x64\57\137\x68\x65\141\144\x65\162", $data); goto P1Qoz; gASKt: xtIh2: goto D9ryK; unE70: M9Jtq: goto l0gEk; Jsgre: eK4bH: goto unE70; Gfd5p: X3M7F: goto Jppxq; K6aLh: $data["\147\x75\x72\165"] = $guru; goto ytkOZ; TqZUW: $tp = $this->dashboard->getTahunActive(); goto BZzfL; ZxGw2: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto HV2DV; IaE2H: $data["\x61\162\162\x6b\x65\154\x61\163"] = $arrKelas; goto m3Q7V; mnIFq: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto bUtzt; D9ryK: $data["\160\162\157\146\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto O9oFp; O9oFp: $data["\x6d\x61\160\x65\154"] = $this->dropdown->getAllMapel(); goto oHPDS; wmZLa: $this->load->view("\153\x65\154\141\163\57\156\x69\x6c\x61\151\x2f\x64\141\x74\141"); goto YZ2wc; bUtzt: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto NMC2y; oHPDS: $data["\x6b\145\154\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto TV_lq; HX5A_: if (!($mapel != null)) { goto X3M7F; } goto TNDU0; KP3wL: $arrKelas = []; goto HX5A_; BP18E: $nguru[$guru->id_guru] = $guru->nama_guru; goto K6aLh; HV2DV: $data["\163\155\164\137\x61\143\164\x69\166\145"] = $smt; goto gqUtp; Jppxq: $arrId = []; goto wH334; NMC2y: $arrMapel = []; goto KP3wL; wH334: if (!($mapel != null)) { goto M9Jtq; } goto qYE6I; O0_qm: $user = $this->ion_auth->user()->row(); goto AfAFB; P1Qoz: $this->load->view("\153\x65\x6c\141\163\x2f\x6e\x69\154\141\x69\57\144\x61\x74\x61"); goto M29oi; AfAFB: $data = ["\165\x73\x65\x72" => $user, "\152\x75\x64\x75\154" => "\122\141\x6b\x61\x70\151\164\165\154\141\x73\151\40\116\151\154\x61\151\x20\x53\x69\163\x77\x61", "\163\165\142\152\x75\x64\x75\154" => "\x4e\x69\x6c\x61\151\40\144\x61\154\x61\155\x20\163\141\164\165\x20\x73\145\x6d\145\x73\164\145\x72", "\163\145\x74\164\151\x6e\147" => $this->dashboard->getSetting()]; goto TqZUW; gqUtp: if ($this->ion_auth->is_admin()) { goto xtIh2; } goto I1R7C; m3Q7V: $data["\153\x65\154\x61\x73"] = count($arrId) > 0 ? $this->dropdown->getAllKelasByArrayId($tp->id_tp, $smt->id_smt, $arrId) : []; goto oC0ot; I1R7C: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto BP18E; ytkOZ: $data["\151\x64\137\x67\165\162\165"] = $guru->id_guru; goto mnIFq; yUDBx: $data["\164\160"] = $this->dashboard->getTahun(); goto P4tNO; P4tNO: $data["\164\x70\x5f\141\143\x74\151\166\x65"] = $tp; goto ZxGw2; TNDU0: foreach ($mapel as $m) { goto GqsO0; GqsO0: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto rjYMx; rjYMx: foreach ($m->kelas_mapel as $kls) { $arrKelas[$m->id_mapel][] = ["\x69\x64\x5f\153\x65\x6c\x61\163" => $kls->kelas, "\x6e\x61\155\141\137\153\145\x6c\x61\x73" => $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas)]; RKnbJ: } goto p6Nne; KdpFq: amxkK: goto lAtq3; p6Nne: OB_Ze: goto KdpFq; lAtq3: } goto WBxvP; bEljQ: k2V3j: goto p37LD; oC0ot: $this->load->view("\155\x65\155\142\x65\162\163\x2f\x67\165\x72\x75\57\x74\x65\155\160\154\x61\164\145\163\57\150\x65\141\x64\x65\162", $data); goto wmZLa; WBxvP: WS61B: goto Gfd5p; p37LD: } public function loadNilaiMapel() { goto K5erG; pA4dX: goto JK29E; goto QOk2D; Svz1Q: $siswa = $this->kelas->getKelasSiswa($kelas, $tahun, $smt); goto uQUxF; j652m: $jadwal_materi = []; goto WvwAc; OG3_6: OMTF_: goto BW2Y8; OfTjk: $arrBulan = ["\60\67", "\x30\x38", "\60\x39", "\x31\60", "\61\61", "\x31\x32"]; goto QMaVB; aUHF2: $mapel = $this->input->get("\x6d\x61\x70\x65\x6c"); goto q8TFe; VSX44: if (count($siswa) > 0 && count($jadwal_per_bulan) > 0) { goto Ca2aw; } goto BZJi4; WvwAc: $log_materi = []; goto VOzv4; MBzhN: $jadwal_per_bulan = []; goto j652m; q8TFe: $tahun = $this->input->get("\164\141\x68\165\156"); goto aqCw1; BZJi4: $data["\155\141\x70\145\154\163"] = []; goto pA4dX; rdMb7: $this->output_json($data); goto H06R1; dKK_f: $arrBulan = ["\60\x31", "\60\x32", "\x30\x33", "\60\64", "\x30\65", "\x30\x36"]; goto S0snH; hQ6O0: n3QPB: goto b_sHi; QMaVB: m0S5g: goto tpbxj; m2eoE: foreach ($siswa as $s) { $log[$s->id_siswa] = ["\x6e\x61\x6d\x61" => $s->nama, "\156\x69\x73" => $s->nis, "\153\x65\154\x61\x73" => $s->nama_kelas, "\156\151\154\141\151\137\155\x61\164\x65\162\x69" => isset($log_siswa[1][$s->id_siswa]) ? $log_siswa[1][$s->id_siswa] : [], "\156\x69\x6c\x61\x69\x5f\164\165\x67\141\x73" => isset($log_siswa[2][$s->id_siswa]) ? $log_siswa[2][$s->id_siswa] : []]; tgRfC: } goto OG3_6; BW2Y8: $data = ["\x6c\x6f\x67" => $log, "\x6d\141\164\145\162\x69" => $jadwal_materi, "\142\165\x6c\141\x6e\x73" => $arrBulan, "\155\141\160\145\x6c\163" => $jadwal_per_bulan, "\156\x69\x6c\141\151" => $log_siswa, "\143\x6f\154\x73" => $cols]; goto QIouk; K5erG: $kelas = $this->input->get("\x6b\x65\x6c\141\163"); goto aUHF2; S0snH: goto m0S5g; goto F222L; QOk2D: Ca2aw: goto m2eoE; F222L: WK3BP: goto OfTjk; uQUxF: if ($smt == "\x31") { goto WK3BP; } goto dKK_f; tpbxj: $namaBulan = ['', "\x4a\x61\156\x75\141\162\x69", "\106\x65\142\x72\165\x61\162\151", "\x4d\x61\x72\x65\x74", "\101\160\162\x69\154", "\115\145\x69", "\112\165\156\151", "\112\x75\154\x69", "\x41\147\165\163\x74\165\x73", "\123\x65\160\x74\145\x6d\x62\x65\x72", "\x4f\x6b\164\x6f\x62\x65\162", "\116\x6f\x70\x65\155\x62\x65\x72", "\104\x65\x73\145\x6d\142\x65\x72"]; goto SV7gT; aqCw1: $smt = $this->input->get("\163\x6d\164"); goto Z09CC; QIouk: JK29E: goto rdMb7; PJzTx: $infos = $this->kelas->getJadwalMapelByMapel($kelas, $mapel, $tahun, $smt); goto urM8r; ARRQv: foreach ($arrBulan as $bulan) { goto ZOQYG; TcAn_: ctIQi: goto uvYMo; uvYMo: KoZff: goto O0soA; ZOQYG: foreach ($infos as $info) { goto yCjBU; yCjBU: $jadwal_per_bulan[$info->id_hari][$info->jam_ke] = $info; goto pR0v1; YZ02L: foreach ($dates as $date) { goto ZlYus; pyk0N: $cols++; goto hU_tx; awHzf: $tgs = isset($jj[$mapel]) && isset($jj[$mapel][$info->jam_ke]) && isset($jj[$mapel][$info->jam_ke][2]) ? $jj[$mapel][$info->jam_ke][2] : null; goto RVf6h; X09Hi: $t = $d[2]; goto H4lTM; hU_tx: l5w8j: goto qNScW; ZlYus: $d = explode("\55", $date); goto X_bT5; SZIhp: $jadwal_materi[$b][$t][$info->jam_ke][2] = $tgs; goto pyk0N; RVf6h: $jadwal_materi[$b][$t][$info->jam_ke][1] = $mtr; goto SZIhp; X_bT5: $b = $d[1]; goto X09Hi; h3_73: $mtr = isset($jj[$mapel]) && isset($jj[$mapel][$info->jam_ke]) && isset($jj[$mapel][$info->jam_ke][1]) ? $jj[$mapel][$info->jam_ke][1] : null; goto awHzf; H4lTM: $jj = $this->kelas->getAllMateriByTgl($kelas, $date, [$mapel]); goto h3_73; qNScW: } goto bJezk; pR0v1: $dates = $this->total_hari($info->id_hari, $bulan, $stahun); goto cg4O1; lzsf5: $tgs = null; goto YZ02L; cy91D: IVnaS: goto YsPFG; bJezk: cyLF0: goto cy91D; cg4O1: $mtr = null; goto lzsf5; YsPFG: } goto TcAn_; O0soA: } goto hQ6O0; SV7gT: $namaHari = ["\x4d\x69\x6e\x67\147\165", "\123\x65\x6e\151\156", "\x53\145\154\141\163\x61", "\x52\141\142\x75", "\113\x61\155\x69\x73", "\112\165\x6d\x61\164", "\123\141\142\164\165"]; goto PJzTx; b_sHi: $log = []; goto VSX44; urM8r: $log_siswa = $this->kelas->getRekapMateriSemester(); goto MBzhN; VOzv4: $cols = 0; goto ARRQv; Z09CC: $stahun = $this->input->get("\163\x74\141\150\165\156"); goto Svz1Q; H06R1: } function total_hari($id_day, $bulan, $taun) { goto KI8bi; aONAV: zD9h4: goto HJ4FL; Ay19q: sN2q7: goto eprTb; HqHby: $total_days = cal_days_in_month(CAL_GREGORIAN, $bulan, $taun); goto js8Dm; eprTb: if (!($i < $total_days)) { goto zD9h4; } goto n15R2; KI8bi: $days = 0; goto wo8m5; n15R2: if (!(date("\116", strtotime($taun . "\55" . $bulan . "\55" . $i)) == $idday)) { goto VwgIo; } goto caA8h; L4h2v: goto sN2q7; goto aONAV; HJ4FL: return $dates; goto boA7Q; leBu0: VwgIo: goto LRpFs; LRpFs: T7RfP: goto JRHoL; Hwx8u: $i = 1; goto Ay19q; JRHoL: $i++; goto L4h2v; caA8h: $days++; goto TVnk8; wo8m5: $dates = []; goto HqHby; TVnk8: array_push($dates, date("\131\55\155\x2d\144", strtotime($taun . "\55" . $bulan . "\55" . $i))); goto leBu0; js8Dm: $idday = $id_day == "\x37" ? 0 : $id_day; goto Hwx8u; boA7Q: } }
