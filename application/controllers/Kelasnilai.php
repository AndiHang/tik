<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasnilai extends CI_Controller { public function __construct() { goto B61j_; mfGqJ: $this->load->library(["\144\x61\x74\141\x74\141\142\154\145\x73", "\x66\x6f\162\155\137\166\x61\154\151\x64\141\164\151\157\x6e"]); goto iuQGR; CrlCv: $this->form_validation->set_error_delimiters('', ''); goto qzhdc; cUe_t: zSrcS: goto mfGqJ; Uq2S9: goto zSrcS; goto a7I5Y; mi4Ih: show_error("\110\x61\156\x79\x61\40\x41\x64\155\151\156\x69\163\164\x72\x61\x74\x6f\162\40\x79\141\156\x67\x20\144\151\142\x65\x72\151\40\150\141\153\x20\x75\156\x74\x75\153\40\x6d\145\x6e\147\x61\x6b\163\x65\163\40\150\x61\x6c\x61\155\141\x6e\x20\151\x6e\x69\54\x20\x3c\141\x20\150\162\x65\146\x3d\x22" . base_url("\144\141\163\x68\142\x6f\141\x72\x64") . "\42\76\x4b\145\x6d\x62\141\x6c\x69\40\x6b\145\40\x6d\x65\x6e\165\x20\x61\167\141\x6c\x3c\x2f\x61\x3e", 403, "\101\x6b\x73\x65\163\x20\124\x65\162\x6c\141\x72\x61\156\147"); goto pHjO3; pHjO3: UGaBP: goto Uq2S9; jtQ6z: $this->load->model("\113\145\x6c\x61\x73\137\155\157\144\145\x6c", "\x6b\x65\154\141\163"); goto CrlCv; NevAN: if (!$this->ion_auth->logged_in()) { goto kvUAK; } goto x90c5; a7I5Y: kvUAK: goto IObRb; L6xOK: $this->load->model("\104\141\163\150\142\x6f\141\162\x64\137\155\157\144\x65\154", "\144\141\163\150\142\157\x61\162\x64"); goto tdTXi; tdTXi: $this->load->model("\104\x72\157\160\144\157\x77\156\137\155\157\144\145\154", "\144\162\x6f\160\144\157\x77\x6e"); goto jtQ6z; x90c5: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\x75\162\x75"))) { goto UGaBP; } goto mi4Ih; B61j_: parent::__construct(); goto NevAN; iuQGR: $this->load->model("\x4d\x61\163\164\x65\x72\x5f\x6d\x6f\x64\145\x6c", "\155\x61\x73\164\145\x72"); goto L6xOK; IObRb: redirect("\141\x75\164\x68"); goto cUe_t; qzhdc: } public function output_json($data, $encode = true) { goto si5nO; SrVPk: Y4kDy: goto yzGJn; si5nO: if (!$encode) { goto Y4kDy; } goto RXJDN; yzGJn: $this->output->set_content_type("\x61\x70\x70\154\151\x63\141\164\x69\x6f\x6e\57\152\x73\157\156")->set_output($data); goto CGSI4; RXJDN: $data = json_encode($data); goto SrVPk; CGSI4: } public function index() { goto B2MQV; sN0Zx: $data = ["\x75\163\145\x72" => $user, "\152\165\x64\x75\154" => "\x52\x61\x6b\x61\160\x69\164\165\154\x61\x73\151\40\x4e\151\x6c\141\x69\x20\123\x69\163\167\141", "\x73\165\142\x6a\x75\144\x75\x6c" => "\116\151\154\141\x69\x20\144\141\x6c\x61\x6d\x20\163\141\164\165\x20\x73\145\155\x65\x73\x74\145\x72", "\x73\145\x74\164\151\156\147" => $this->dashboard->getSetting()]; goto lIKSv; P73nn: VmXb9: goto NRaI5; vLdPJ: $arrMapel = []; goto RtKTH; yUC89: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto K09Y1; YUomJ: o2029: goto x_3P4; s_IIr: $this->load->view("\153\x65\x6c\x61\163\x2f\156\x69\154\141\x69\57\144\x61\x74\141"); goto f7xFd; kS3VC: $data["\164\x70\137\x61\143\x74\151\x76\x65"] = $tp; goto cGFA2; dBzwn: $data["\164\160"] = $this->dashboard->getTahun(); goto kS3VC; cGFA2: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto Tyh3K; M55vX: $this->load->view("\155\x65\x6d\x62\145\162\x73\x2f\147\x75\162\165\x2f\164\145\x6d\160\154\x61\164\145\x73\57\x66\x6f\x6f\164\145\162"); goto mTyuZ; mTyuZ: goto o2029; goto y1rGq; cDiL7: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto vLdPJ; uVCvN: $data["\x6b\x65\x6c\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto YivFC; B2MQV: $user = $this->ion_auth->user()->row(); goto sN0Zx; mGKQW: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); WH3NO: } goto rTUBg; jsvrI: $data["\x70\162\x6f\146\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto GNW3o; rTUBg: VbX8I: goto hsK06; NRaI5: Isqah: goto vt1A6; GGzSB: if (!($mapel != null)) { goto dQ8Em; } goto mGKQW; GNW3o: $data["\155\141\160\x65\154"] = $this->dropdown->getAllMapel(); goto uVCvN; Tyh3K: $data["\x73\x6d\x74\x5f\141\x63\x74\x69\x76\x65"] = $smt; goto wNfB5; YivFC: $this->load->view("\x5f\x74\x65\155\160\x6c\141\x74\x65\163\x2f\144\141\163\150\x62\157\x61\162\144\x2f\137\150\145\141\x64\x65\162", $data); goto s_IIr; Ki_v2: $data["\153\x65\154\x61\163"] = count($arrId) > 0 ? $this->dropdown->getAllKelasByArrayId($tp->id_tp, $smt->id_smt, $arrId) : []; goto nY41x; kVSWV: $data["\x67\165\162\165"] = $guru; goto btS3J; y1rGq: ePK_y: goto jsvrI; zGfto: $smt = $this->dashboard->getSemesterActive(); goto dBzwn; lIKSv: $tp = $this->dashboard->getTahunActive(); goto zGfto; HJg2k: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto cDiL7; SPtLf: foreach ($mapel as $m) { goto vgeDM; jIDAy: d9Xdx: goto Ou0JL; Ou0JL: NwXBB: goto Ki4XO; J2XOp: foreach ($m->kelas_mapel as $kls) { $arrKelas[$m->id_mapel][] = ["\151\x64\137\153\145\154\141\163" => $kls->kelas, "\x6e\x61\x6d\141\x5f\153\x65\x6c\x61\x73" => $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas)]; icBC6: } goto jIDAy; vgeDM: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto J2XOp; Ki4XO: } goto P73nn; btS3J: $data["\x69\144\137\147\165\x72\x75"] = $guru->id_guru; goto HJg2k; LtdUJ: $data["\141\x72\x72\153\x65\154\141\x73"] = $arrKelas; goto Ki_v2; hsK06: dQ8Em: goto FVlHD; nY41x: $this->load->view("\155\x65\x6d\x62\x65\x72\x73\x2f\147\165\x72\x75\57\x74\x65\155\x70\154\141\x74\145\163\57\150\x65\x61\x64\x65\162", $data); goto vzrGn; vzrGn: $this->load->view("\153\x65\154\x61\163\57\156\151\x6c\141\x69\x2f\144\x61\x74\141"); goto M55vX; FVlHD: $data["\155\141\160\145\154"] = $arrMapel; goto LtdUJ; f7xFd: $this->load->view("\x5f\164\x65\155\x70\x6c\141\164\x65\163\57\144\141\163\x68\x62\157\141\162\144\57\x5f\146\157\157\x74\145\x72"); goto YUomJ; RtKTH: $arrKelas = []; goto AyOa8; AyOa8: if (!($mapel != null)) { goto Isqah; } goto SPtLf; vt1A6: $arrId = []; goto GGzSB; wNfB5: if ($this->ion_auth->is_admin()) { goto ePK_y; } goto yUC89; K09Y1: $nguru[$guru->id_guru] = $guru->nama_guru; goto kVSWV; x_3P4: } public function loadNilaiMapel() { goto BQPaN; OXjaF: $log = []; goto FKp6a; qeMaw: $cols = 0; goto X_kGZ; XmhID: $namaHari = ["\115\151\x6e\147\147\x75", "\123\145\156\151\156", "\x53\145\x6c\x61\x73\141", "\122\x61\142\165", "\x4b\x61\155\x69\x73", "\x4a\165\155\141\x74", "\123\141\142\x74\x75"]; goto MjObd; EdkOz: $arrBulan = ["\60\x31", "\60\x32", "\x30\63", "\x30\64", "\x30\x35", "\60\66"]; goto mhenr; ro8mx: $smt = $this->input->get("\x73\x6d\164"); goto KAXGe; X_kGZ: foreach ($arrBulan as $bulan) { goto GVDFz; GVDFz: foreach ($infos as $info) { goto hQRYW; znIZH: rvFji: goto MF9gm; WLuZ8: foreach ($dates as $date) { goto jdC7r; NGW1m: zS16j: goto Q6NAg; VFX0c: $jadwal_materi[$b][$t][$info->jam_ke][2] = $tgs; goto ADklD; jdC7r: $d = explode("\x2d", $date); goto Z9uUP; Jylzi: $tgs = isset($jj[$mapel]) && isset($jj[$mapel][$info->jam_ke]) && isset($jj[$mapel][$info->jam_ke][2]) ? $jj[$mapel][$info->jam_ke][2] : null; goto gYkPt; gYkPt: $jadwal_materi[$b][$t][$info->jam_ke][1] = $mtr; goto VFX0c; mhh7N: $mtr = isset($jj[$mapel]) && isset($jj[$mapel][$info->jam_ke]) && isset($jj[$mapel][$info->jam_ke][1]) ? $jj[$mapel][$info->jam_ke][1] : null; goto Jylzi; ADklD: $cols++; goto NGW1m; TK5LF: $jj = $this->kelas->getAllMateriByTgl($kelas, $date, [$mapel]); goto mhh7N; Z9uUP: $b = $d[1]; goto JpNYn; JpNYn: $t = $d[2]; goto TK5LF; Q6NAg: } goto Jv1Ui; hQRYW: $jadwal_per_bulan[$info->id_hari][$info->jam_ke] = $info; goto mHGwl; mHGwl: $dates = $this->total_hari($info->id_hari, $bulan, $stahun); goto ACJyd; I3Rf0: $tgs = null; goto WLuZ8; ACJyd: $mtr = null; goto I3Rf0; Jv1Ui: s8jEQ: goto znIZH; MF9gm: } goto jIHPE; zJyDt: CeRw0: goto DhM9i; jIHPE: CkYIT: goto zJyDt; DhM9i: } goto FeSyv; pytXU: $data = ["\154\157\x67" => $log, "\x6d\x61\164\x65\162\x69" => $jadwal_materi, "\142\165\154\141\x6e\163" => $arrBulan, "\x6d\141\160\145\154\163" => $jadwal_per_bulan, "\x6e\x69\x6c\141\151" => $log_siswa, "\x63\157\154\x73" => $cols]; goto y4uAy; oyjKU: $arrBulan = ["\60\67", "\60\70", "\x30\x39", "\61\60", "\61\x31", "\61\x32"]; goto aOJen; bILva: $jadwal_materi = []; goto tnYlX; XdDn_: goto Jl51j; goto tx1rb; mkGJW: WzkIZ: goto oyjKU; aOJen: DjP1N: goto B9I9u; y4uAy: Jl51j: goto VI8pg; tnYlX: $log_materi = []; goto qeMaw; zKHoo: foreach ($siswa as $s) { $log[$s->id_siswa] = ["\156\x61\155\x61" => $s->nama, "\156\x69\x73" => $s->nis, "\x6b\x65\154\x61\x73" => $s->nama_kelas, "\x6e\151\154\141\151\137\x6d\141\x74\x65\162\x69" => isset($log_siswa[1][$s->id_siswa]) ? $log_siswa[1][$s->id_siswa] : [], "\156\151\x6c\141\x69\x5f\164\165\x67\x61\x73" => isset($log_siswa[2][$s->id_siswa]) ? $log_siswa[2][$s->id_siswa] : []]; cdgwA: } goto h4p_v; BQPaN: $kelas = $this->input->get("\153\145\154\141\163"); goto MlsOJ; MlsOJ: $mapel = $this->input->get("\x6d\x61\x70\x65\x6c"); goto wDAKO; wDAKO: $tahun = $this->input->get("\164\x61\x68\x75\x6e"); goto ro8mx; MjObd: $infos = $this->kelas->getJadwalMapelByMapel($kelas, $mapel, $tahun, $smt); goto wdLzs; FeSyv: xald4: goto OXjaF; KAXGe: $stahun = $this->input->get("\x73\164\x61\150\x75\x6e"); goto hYrEr; jSSY2: $jadwal_per_bulan = []; goto bILva; VI8pg: $this->output_json($data); goto Zbnnh; mhenr: goto DjP1N; goto mkGJW; hYrEr: $siswa = $this->kelas->getKelasSiswa($kelas, $tahun, $smt); goto YS9Jp; tx1rb: DGVtH: goto zKHoo; FKp6a: if (count($siswa) > 0 && count($jadwal_per_bulan) > 0) { goto DGVtH; } goto G5CXX; G5CXX: $data["\x6d\x61\160\145\x6c\163"] = []; goto XdDn_; YS9Jp: if ($smt == "\61") { goto WzkIZ; } goto EdkOz; h4p_v: QeXyt: goto pytXU; wdLzs: $log_siswa = $this->kelas->getRekapMateriSemester(); goto jSSY2; B9I9u: $namaBulan = ['', "\x4a\141\156\x75\x61\162\x69", "\x46\x65\142\162\165\x61\162\151", "\x4d\141\162\145\x74", "\101\x70\162\x69\154", "\115\145\x69", "\112\x75\x6e\151", "\x4a\x75\154\151", "\x41\147\x75\163\x74\x75\163", "\x53\x65\x70\164\145\x6d\x62\145\x72", "\x4f\153\x74\x6f\142\x65\162", "\x4e\157\x70\145\x6d\142\x65\x72", "\x44\145\163\x65\155\142\x65\162"]; goto XmhID; Zbnnh: } function total_hari($id_day, $bulan, $taun) { goto YOtrG; g11ms: $dates = []; goto OiHSg; OiHSg: $total_days = cal_days_in_month(CAL_GREGORIAN, $bulan, $taun); goto r8ojz; dRbpF: goto buBF6; goto bzBxy; htLSq: $i = 1; goto UODQ9; E0lRR: $days++; goto zrh3b; bzBxy: FKDB6: goto V6WRe; V6WRe: return $dates; goto j5gqp; poC_F: if (!(date("\x4e", strtotime($taun . "\x2d" . $bulan . "\x2d" . $i)) == $idday)) { goto Q6Gdx; } goto E0lRR; dqdq2: Q6Gdx: goto aXLcn; aXLcn: jdfiV: goto ywVeN; YOtrG: $days = 0; goto g11ms; nC4nO: if (!($i < $total_days)) { goto FKDB6; } goto poC_F; zrh3b: array_push($dates, date("\x59\x2d\x6d\x2d\144", strtotime($taun . "\55" . $bulan . "\x2d" . $i))); goto dqdq2; r8ojz: $idday = $id_day == "\x37" ? 0 : $id_day; goto htLSq; ywVeN: $i++; goto dRbpF; UODQ9: buBF6: goto nC4nO; j5gqp: } }
