<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtsesisiswa extends CI_Controller { public function __construct() { goto hr1Ql; ubKqI: pU05q: goto q2N3a; VYGeB: $this->form_validation->set_error_delimiters('', ''); goto G_lZN; pVpqe: $this->load->model("\115\141\163\164\x65\162\137\x6d\157\x64\145\154", "\x6d\x61\163\164\x65\x72"); goto KkIc3; mx7Oa: nriMl: goto Xiw0D; Xiw0D: goto pU05q; goto k1l5P; vBt60: $this->load->model("\104\162\157\x70\144\157\x77\x6e\x5f\155\x6f\144\x65\154", "\x64\x72\x6f\160\x64\157\167\x6e"); goto PNnX6; k1l5P: zHses: goto Rcz7U; PNnX6: $this->load->model("\x4b\x65\154\x61\163\x5f\x6d\x6f\144\145\x6c", "\x6b\x65\x6c\141\x73"); goto VYGeB; KkIc3: $this->load->model("\x44\x61\163\x68\x62\157\x61\162\144\x5f\155\157\x64\145\x6c", "\144\141\163\x68\142\157\x61\x72\x64"); goto I0oZL; Rcz7U: redirect("\x61\165\164\x68"); goto ubKqI; q2N3a: $this->load->library(["\144\141\164\141\x74\141\x62\x6c\145\x73", "\146\x6f\x72\155\137\166\x61\x6c\x69\144\141\164\151\157\156"]); goto pVpqe; gX07e: if (!$this->ion_auth->logged_in()) { goto zHses; } goto nEVus; nEVus: if ($this->ion_auth->is_admin()) { goto nriMl; } goto yGX8p; yGX8p: show_error("\110\141\156\x79\x61\x20\x41\x64\155\151\156\151\163\x74\x72\141\x74\157\162\x20\171\141\156\147\x20\x64\151\x62\145\x72\x69\x20\x68\141\153\40\x75\156\x74\165\153\x20\x6d\x65\156\147\141\153\163\x65\x73\x20\x68\x61\154\141\x6d\x61\156\40\151\156\x69\x2c\x20\x3c\141\40\x68\x72\x65\x66\x3d\x22" . base_url("\144\x61\x73\x68\142\157\141\162\144") . "\x22\76\113\x65\155\142\141\154\151\x20\153\x65\40\x6d\x65\x6e\165\40\141\167\x61\x6c\x3c\x2f\x61\x3e", 403, "\101\x6b\x73\x65\x73\40\x54\x65\162\154\x61\x72\141\156\147"); goto mx7Oa; hr1Ql: parent::__construct(); goto gX07e; I0oZL: $this->load->model("\x43\x62\x74\137\x6d\157\144\x65\154", "\143\x62\164"); goto vBt60; G_lZN: } public function output_json($data, $encode = true) { goto WEd8f; WEd8f: if (!$encode) { goto hbtrc; } goto OC7ht; GIDEp: hbtrc: goto c0Z0c; OC7ht: $data = json_encode($data); goto GIDEp; c0Z0c: $this->output->set_content_type("\141\160\160\x6c\151\x63\x61\x74\x69\157\x6e\x2f\x6a\x73\x6f\156")->set_output($data); goto hT0R7; hT0R7: } public function index() { goto Dl3FY; j_ga3: $this->load->view("\x5f\x74\x65\155\x70\x6c\141\164\145\x73\x2f\144\x61\163\x68\x62\157\x61\x72\x64\57\137\146\x6f\x6f\164\x65\162"); goto iKzcB; MJjW0: $data = ["\x75\x73\x65\162" => $user, "\152\165\144\x75\x6c" => "\101\164\x75\162\x20\x53\x65\163\151\x20\x53\x69\x73\167\141", "\163\165\142\x6a\x75\x64\x75\x6c" => "\x44\141\x74\141\40\x53\145\x73\x69\40\x53\151\x73\x77\141", "\x73\145\x74\x74\151\156\x67" => $this->dashboard->getSetting(), "\x6b\145\x6c\141\x73" => $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt), "\x72\x75\x61\x6e\x67\137\153\x65\x6c\x61\163" => $this->cbt->getKelasList($tp->id_tp, $smt->id_smt), "\163\145\x73\x69" => $this->dropdown->getAllSesi(), "\162\165\x61\x6e\x67" => $this->cbt->getAllRuang(), "\x74\160" => $this->dashboard->getTahun(), "\164\x70\137\141\x63\164\x69\166\x65" => $tp, "\x73\155\x74" => $this->dashboard->getSemester(), "\163\155\164\x5f\x61\x63\x74\151\166\x65" => $smt, "\160\x72\157\x66\151\154\145" => $this->dashboard->getProfileAdmin($user->id)]; goto Pt_eJ; xuFdB: $this->load->view("\143\x62\164\57\x73\145\163\151\x73\x69\x73\x77\x61\57\x64\x61\164\x61"); goto j_ga3; Dl3FY: $tp = $this->dashboard->getTahunActive(); goto RG7hb; Pt_eJ: $this->load->view("\x5f\164\145\x6d\160\x6c\141\x74\x65\x73\x2f\144\141\x73\150\142\x6f\x61\162\x64\x2f\137\x68\145\141\144\145\162", $data); goto xuFdB; dqyhT: $user = $this->ion_auth->user()->row(); goto MJjW0; RG7hb: $smt = $this->dashboard->getSemesterActive(); goto dqyhT; iKzcB: } public function data() { $this->output_json($this->cbt->getSesi(), false); } public function getAllRuang() { $this->output_json($this->cbt->getAllRuang()); } public function getAllSesi() { $this->output_json($this->dropdown->getAllSesi()); } public function add() { goto JETFD; VDPu6: $data["\163\x74\x61\164\x75\163"] = $insert; goto Q8Ut4; AEylI: $this->master->create("\143\142\164\137\x73\x65\163\x69", $insert, false); goto VDPu6; JETFD: $insert = ["\156\141\155\x61\137\163\145\x73\151" => $this->input->post("\x6e\141\x6d\x61\137\x73\x65\x73\x69", true), "\x6b\157\144\x65\137\163\145\x73\151" => $this->input->post("\x6b\157\x64\x65\x5f\163\x65\163\x69", true), "\x77\141\153\x74\x75\137\155\165\154\141\151" => $this->input->post("\167\141\x6b\x74\x75\x5f\155\x75\x6c\x61\x69", true), "\x77\141\153\164\x75\137\141\x6b\x68\x69\162" => $this->input->post("\167\x61\x6b\164\165\x5f\x61\x6b\150\x69\x72", true)]; goto AEylI; Q8Ut4: $this->output_json($data); goto J0H08; J0H08: } public function update() { $data = $this->cbt->updateSesi(); $this->output->set_content_type("\141\x70\160\154\x69\x63\x61\x74\151\x6f\156\57\152\x73\157\156")->set_output($data); } public function delete() { goto m3dd3; y7dFi: kX9Xo: goto MdFuR; m3dd3: $chk = $this->input->post("\x63\x68\145\143\153\145\144", true); goto C72Jl; D_JCF: if (!$this->master->delete("\143\x62\x74\x5f\x73\145\x73\x69", $chk, "\x69\144\x5f\x73\145\x73\x69")) { goto W9Ba7; } goto Od8DF; RfirA: EU450: goto utxlR; EqVw4: W9Ba7: goto gMueo; gMueo: goto EU450; goto y7dFi; C72Jl: if (!$chk) { goto kX9Xo; } goto D_JCF; Od8DF: $this->output_json(["\x73\164\x61\164\x75\163" => true, "\164\157\x74\x61\154" => count($chk)]); goto EqVw4; MdFuR: $this->output_json(["\163\164\x61\x74\165\163" => false]); goto RfirA; utxlR: } public function getSiswaRuang() { goto n6K_0; n6K_0: $kelas = $this->input->get("\x6b\145\x6c\141\x73", true); goto Aycmx; Aycmx: $tp = $this->dashboard->getTahunActive(); goto v9qtF; t3JMw: $this->output_json($this->cbt->getRuangSesiSiswa($kelas, $tp->id_tp, $smt->id_smt)); goto rc9jv; v9qtF: $smt = $this->dashboard->getSemesterActive(); goto t3JMw; rc9jv: } public function editsesisiswa() { goto xrq3H; AbGre: YLPyb: goto JQBCe; xDU3e: foreach ($input as $d) { goto ZTcLL; ZTcLL: $data = ["\x73\151\163\x77\141\137\x69\144" => $d->siswa_id, "\153\x65\154\x61\163\x5f\x69\144" => $d->kelas_id, "\162\165\141\156\147\x5f\151\144" => $d->ruang_id, "\x73\145\163\151\x5f\x69\144" => $d->sesi_id, "\x74\160\137\x69\144" => $d->tp_id, "\163\155\x74\x5f\x69\x64" => $d->smt_id]; goto yAhVk; yAhVk: $update = $this->db->replace("\143\x62\x74\137\163\x65\163\151\137\163\151\x73\167\x61", $data); goto fq2lX; fq2lX: wMZGy: goto l1Y16; l1Y16: } goto AbGre; UKI5b: $this->output_json($data); goto ySIao; xrq3H: $input = json_decode($this->input->post("\x73\151\163\x77\141\137\x73\x65\x73\151", true)); goto xDU3e; JQBCe: $data["\163\164\141\164\x75\163"] = $update; goto UKI5b; ySIao: } public function editsesikelas() { goto eSPHM; Zdt4A: foreach ($input as $d) { goto dFFJ1; hh84S: eszU5: goto E0t51; NQ2Kv: foreach ($siswas as $siswa) { goto jbxaK; WByVx: $this->db->replace("\x63\x62\x74\x5f\163\145\163\x69\x5f\163\x69\x73\167\x61", $data); goto nJI76; jbxaK: $data = ["\x73\x69\163\167\141\137\151\144" => $siswa->id_siswa, "\x6b\145\154\141\163\137\151\x64" => $siswa->id_kelas, "\162\x75\x61\x6e\147\x5f\x69\x64" => $d->ruang_id, "\163\x65\x73\151\x5f\x69\x64" => $d->sesi_id, "\x74\x70\137\x69\144" => $tp->id_tp, "\163\x6d\164\x5f\151\144" => $smt->id_smt]; goto WByVx; nJI76: R8wAX: goto bmXLN; bmXLN: } goto IJpqh; kvrWI: $data = ["\151\144\137\x6b\145\x6c\x61\x73\137\x72\x75\x61\x6e\147" => $d->kelas_id . $tp->id_tp . $smt->id_smt, "\x69\144\137\x6b\145\x6c\x61\163" => $d->kelas_id, "\x69\x64\x5f\162\x75\141\156\147" => $d->ruang_id, "\x69\x64\x5f\163\x65\x73\151" => $d->sesi_id, "\x69\x64\137\x74\x70" => $tp->id_tp, "\x69\144\x5f\x73\x6d\x74" => $smt->id_smt, "\163\145\164\137\x73\x69\163\x77\x61" => $d->set_siswa]; goto UGQaH; IJpqh: dqkrx: goto kvrWI; dFFJ1: $siswas = $this->kelas->getKelasSiswa($d->kelas_id, $tp->id_tp, $smt->id_smt); goto NQ2Kv; UGQaH: $update = $this->db->replace("\x63\x62\164\x5f\x6b\145\154\141\163\x5f\162\165\141\x6e\147", $data); goto hh84S; E0t51: } goto OR8l0; GGEY8: $smt = $this->dashboard->getSemesterActive(); goto Zdt4A; R8gpN: $data["\163\x74\141\164\x75\163"] = $update; goto QfH9m; QfH9m: $this->output_json($data); goto ZedBY; HbDNT: $tp = $this->dashboard->getTahunActive(); goto GGEY8; eSPHM: $input = json_decode($this->input->post("\153\145\x6c\141\x73\x5f\x73\145\x73\x69", true)); goto HbDNT; OR8l0: K_7oD: goto R8gpN; ZedBY: } }
