<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtsesisiswa extends CI_Controller { public function __construct() { goto GpAm6; E7H1T: $this->load->library(["\x64\x61\x74\x61\x74\x61\142\154\145\x73", "\146\157\162\155\137\166\x61\154\x69\144\x61\x74\151\157\156"]); goto J3qAG; GpAm6: parent::__construct(); goto R2q28; mJGth: $this->load->model("\x4b\145\154\141\163\137\x6d\157\x64\145\154", "\x6b\x65\x6c\141\x73"); goto Y4Byf; H8Cub: show_error("\110\141\x6e\x79\x61\x20\x41\x64\155\151\x6e\x69\163\164\x72\x61\164\157\162\40\171\x61\x6e\x67\40\x64\x69\x62\145\162\151\x20\x68\x61\153\x20\165\x6e\x74\165\x6b\40\x6d\145\156\147\x61\x6b\x73\x65\163\40\150\141\154\x61\155\141\x6e\x20\x69\x6e\x69\54\40\x3c\141\x20\x68\x72\145\x66\75\x22" . base_url("\x64\x61\163\150\x62\x6f\141\x72\x64") . "\42\76\x4b\145\155\142\x61\x6c\151\40\153\x65\x20\x6d\x65\x6e\x75\x20\141\x77\x61\154\74\57\x61\76", 403, "\101\x6b\x73\145\163\x20\124\x65\x72\x6c\141\162\141\x6e\x67"); goto pp7nm; J3qAG: $this->load->model("\115\x61\163\x74\145\x72\x5f\x6d\x6f\144\x65\154", "\x6d\x61\163\x74\145\x72"); goto U_bru; JxpZV: $this->load->model("\103\x62\x74\137\155\x6f\x64\x65\154", "\143\142\164"); goto y71vC; Cy5iQ: redirect("\x61\x75\x74\x68"); goto Mz6C1; l9sLI: goto WLcgT; goto zISVt; R2q28: if (!$this->ion_auth->logged_in()) { goto dG949; } goto sQvKu; sQvKu: if ($this->ion_auth->is_admin()) { goto Ej6kj; } goto H8Cub; U_bru: $this->load->model("\104\x61\163\x68\142\157\x61\162\x64\137\x6d\157\144\145\154", "\x64\141\163\150\142\x6f\x61\162\144"); goto JxpZV; zISVt: dG949: goto Cy5iQ; pp7nm: Ej6kj: goto l9sLI; Mz6C1: WLcgT: goto E7H1T; Y4Byf: $this->form_validation->set_error_delimiters('', ''); goto f2Ekf; y71vC: $this->load->model("\104\162\x6f\x70\x64\157\167\x6e\x5f\155\x6f\144\145\x6c", "\144\162\x6f\160\x64\157\167\156"); goto mJGth; f2Ekf: } public function output_json($data, $encode = true) { goto bAAD3; uXqBx: $this->output->set_content_type("\141\160\x70\x6c\x69\143\141\x74\151\x6f\x6e\57\x6a\163\157\x6e")->set_output($data); goto N2yIN; bAAD3: if (!$encode) { goto egnac; } goto NMw89; NMw89: $data = json_encode($data); goto xsq0o; xsq0o: egnac: goto uXqBx; N2yIN: } public function index() { goto IH2hz; WeBRw: $data["\x73\x69\163\x77\x61\x73"] = $siswas; goto z8i77; pfZEy: $user = $this->ion_auth->user()->row(); goto YdKHY; rNNCq: $smt = $this->dashboard->getSemesterActive(); goto pfZEy; y_h2X: $this->load->view("\143\142\x74\x2f\163\x65\x73\151\x73\151\163\x77\141\x2f\x64\141\164\x61"); goto uI1jP; XAEo4: $siswas = []; goto gy6kN; IH2hz: $tp = $this->dashboard->getTahunActive(); goto rNNCq; LCPLE: $siswas = $this->cbt->getRuangSesiSiswa($kls, $tp->id_tp, $smt->id_smt); goto Zvzbf; VcWAz: $kelas_selected = $kls != null ? $kls : "\60"; goto XAEo4; uI1jP: $this->load->view("\137\164\145\155\x70\x6c\x61\x74\x65\x73\57\144\141\x73\150\142\157\x61\162\144\x2f\x5f\146\157\157\164\145\162"); goto Jlst1; gy6kN: if (!($kelas_selected != "\x30")) { goto Tmtju; } goto LCPLE; OFwzz: $this->load->view("\x5f\164\145\x6d\160\x6c\141\x74\x65\x73\57\144\x61\x73\x68\142\157\141\x72\144\x2f\137\x68\145\141\x64\x65\162", $data); goto y_h2X; N_6Ut: $kls = $this->input->get("\153\154\163", true); goto VcWAz; z8i77: $data["\x6b\145\x6c\141\x73\137\163\145\154\145\x63\x74\x65\144"] = $kelas_selected; goto OFwzz; YdKHY: $data = ["\165\x73\x65\162" => $user, "\152\165\144\x75\x6c" => "\x41\x74\x75\162\x20\122\x75\141\156\147\x20\x64\141\x6e\x20\123\145\x73\x69\x20\123\151\x73\x77\x61", "\x73\165\142\x6a\x75\144\165\x6c" => "\122\x75\x61\x6e\x67\40\144\x61\x6e\40\x53\145\x73\x69\40\x53\x69\x73\167\141", "\x73\x65\164\164\x69\x6e\x67" => $this->dashboard->getSetting(), "\153\145\154\141\x73" => $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt), "\x72\x75\x61\x6e\147\x5f\x6b\145\154\x61\163" => $this->cbt->getKelasList($tp->id_tp, $smt->id_smt), "\x73\145\x73\151" => $this->dropdown->getAllSesi(), "\162\165\141\x6e\x67" => $this->cbt->getAllRuang(), "\164\x70" => $this->dashboard->getTahun(), "\164\160\137\x61\x63\164\151\166\145" => $tp, "\x73\x6d\x74" => $this->dashboard->getSemester(), "\x73\x6d\164\x5f\x61\x63\x74\x69\x76\x65" => $smt, "\160\x72\x6f\x66\x69\x6c\x65" => $this->dashboard->getProfileAdmin($user->id)]; goto N_6Ut; Zvzbf: Tmtju: goto WeBRw; Jlst1: } public function getAllRuang() { $this->output_json($this->cbt->getAllRuang()); } public function getAllSesi() { $this->output_json($this->dropdown->getAllSesi()); } public function add() { goto kkmYE; ktol0: $this->master->create("\143\x62\x74\137\163\145\163\151", $insert, false); goto nUyqv; ZYuyQ: $this->output_json($data); goto Fr8bf; nUyqv: $data["\x73\164\x61\164\x75\163"] = $insert; goto ZYuyQ; kkmYE: $insert = ["\156\x61\x6d\x61\137\x73\x65\x73\151" => $this->input->post("\156\x61\x6d\x61\x5f\x73\145\x73\x69", true), "\x6b\x6f\x64\x65\137\x73\145\x73\151" => $this->input->post("\x6b\157\x64\x65\x5f\x73\145\163\151", true), "\x77\141\x6b\x74\165\x5f\155\165\x6c\x61\151" => $this->input->post("\167\x61\153\164\165\x5f\155\165\x6c\x61\x69", true), "\167\141\153\x74\x75\x5f\141\x6b\150\x69\x72" => $this->input->post("\x77\141\x6b\x74\x75\137\x61\x6b\x68\151\162", true)]; goto ktol0; Fr8bf: } public function update() { $data = $this->cbt->updateSesi(); $this->output->set_content_type("\x61\160\x70\x6c\x69\x63\x61\164\x69\x6f\156\x2f\x6a\163\x6f\x6e")->set_output($data); } public function delete() { goto Z3RfW; sg_ga: NuVKf: goto ykTq_; ykTq_: $this->output_json(["\163\x74\x61\164\165\163" => false]); goto kGcWo; jIOT_: if (!$this->master->delete("\143\x62\x74\137\x73\145\163\x69", $chk, "\x69\x64\137\x73\x65\x73\x69")) { goto SpF92; } goto cTIFv; PjLCH: if (!$chk) { goto NuVKf; } goto jIOT_; O961V: SpF92: goto oVTW2; oVTW2: goto bEIgW; goto sg_ga; Z3RfW: $chk = $this->input->post("\143\x68\x65\x63\x6b\x65\x64", true); goto PjLCH; cTIFv: $this->output_json(["\163\164\141\164\165\x73" => true, "\x74\x6f\164\141\154" => count($chk)]); goto O961V; kGcWo: bEIgW: goto mbRM9; mbRM9: } public function editsesisiswa() { goto KYrjA; DIbFS: $data["\x73\164\x61\x74\x75\163"] = $update; goto ul11M; F73GP: $tp = $this->dashboard->getTahunActive(); goto jA3Cc; KYrjA: $rs = $this->input->post("\x72\165\x61\156\x67\55\163\145\x73\x69", true); goto F73GP; gLTSm: foreach ($rs as $id => $klss) { goto qAwS7; BrilU: colnO: goto v1pyy; JeEne: Mg_Ik: goto BrilU; qAwS7: foreach ($klss as $idkls => $kls) { goto nZKIE; xpXNP: tNhma: goto eWpnR; nZKIE: $data = ["\163\151\163\x77\141\137\x69\144" => $id, "\153\x65\154\141\163\137\x69\x64" => $idkls, "\x72\165\141\x6e\147\137\151\x64" => $kls["\162\165\141\156\147"], "\x73\x65\163\151\137\x69\x64" => $kls["\163\x65\x73\x69"], "\164\160\137\x69\x64" => $tp->id_tp, "\163\x6d\x74\137\x69\144" => $smt->id_smt]; goto swp1i; swp1i: $update = $this->db->replace("\143\x62\x74\x5f\163\145\x73\151\x5f\x73\151\163\x77\141", $data); goto xpXNP; eWpnR: } goto JeEne; v1pyy: } goto n9q7y; n9q7y: tUbc5: goto DIbFS; Hf2Xp: $update = false; goto gLTSm; jA3Cc: $smt = $this->dashboard->getSemesterActive(); goto Hf2Xp; ul11M: $this->output_json($data); goto mNqVb; mNqVb: } public function editsesikelas() { goto BqCsV; UnC71: $data["\163\x74\141\x74\x75\163"] = $update; goto TucmN; XQzvF: lb5MA: goto UnC71; TucmN: $this->output_json($data); goto vS9i_; BqCsV: $input = json_decode($this->input->post("\153\x65\x6c\141\x73\137\x73\145\163\151", true)); goto afXQ9; afXQ9: $tp = $this->dashboard->getTahunActive(); goto a6Tvv; a6Tvv: $smt = $this->dashboard->getSemesterActive(); goto vBwms; vBwms: foreach ($input as $d) { goto sfCnd; sfCnd: $siswas = $this->kelas->getKelasSiswa($d->kelas_id, $tp->id_tp, $smt->id_smt); goto sW1jL; U5IjT: $data = ["\151\x64\x5f\153\145\x6c\x61\163\137\162\x75\x61\156\147" => $d->kelas_id . $tp->id_tp . $smt->id_smt, "\x69\x64\137\153\x65\154\x61\x73" => $d->kelas_id, "\151\x64\137\162\165\x61\x6e\147" => $d->ruang_id, "\151\x64\137\x73\145\163\x69" => $d->sesi_id, "\151\x64\137\164\160" => $tp->id_tp, "\x69\x64\x5f\163\155\164" => $smt->id_smt, "\x73\x65\x74\x5f\163\x69\163\167\141" => $d->set_siswa]; goto aaJrH; sW1jL: foreach ($siswas as $siswa) { goto Pn4zX; HwMKs: $this->db->replace("\143\x62\164\137\x73\x65\x73\151\137\x73\151\x73\x77\x61", $data); goto GbIOx; GbIOx: pxyGy: goto dJMeJ; Pn4zX: $data = ["\x73\x69\163\167\x61\137\x69\x64" => $siswa->id_siswa, "\x6b\x65\x6c\141\163\137\x69\x64" => $siswa->id_kelas, "\162\x75\141\156\147\137\x69\x64" => $d->ruang_id, "\x73\145\x73\151\137\151\144" => $d->sesi_id, "\x74\160\137\151\x64" => $tp->id_tp, "\163\x6d\164\137\151\x64" => $smt->id_smt]; goto HwMKs; dJMeJ: } goto Ba4T7; Ba4T7: EmcGn: goto U5IjT; pqDtQ: zQmhN: goto Q8b3m; aaJrH: $update = $this->db->replace("\143\x62\164\x5f\153\x65\154\x61\x73\x5f\x72\165\x61\156\147", $data); goto pqDtQ; Q8b3m: } goto XQzvF; vS9i_: } }
