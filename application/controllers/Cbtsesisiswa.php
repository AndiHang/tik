<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtsesisiswa extends CI_Controller { public function __construct() { goto GMG44; sRS8h: goto mjZVy; goto F3IhT; yvloT: $this->load->model("\104\x72\x6f\x70\x64\157\167\156\x5f\x6d\x6f\144\145\x6c", "\144\x72\157\x70\144\x6f\x77\156"); goto RdN8V; nrtS7: mjZVy: goto h8Ftx; z1kbh: CWfqG: goto sRS8h; q0NwH: if (!$this->ion_auth->logged_in()) { goto Zfgyq; } goto zEEL9; hAPuY: $this->load->model("\x43\x62\164\x5f\155\157\144\x65\154", "\x63\x62\x74"); goto yvloT; h8Ftx: $this->load->library(["\x64\x61\x74\141\x74\141\142\154\145\x73", "\x66\x6f\x72\x6d\137\166\141\154\x69\x64\x61\164\151\x6f\156"]); goto CE_Z_; IA_ro: redirect("\141\x75\164\x68"); goto nrtS7; GMG44: parent::__construct(); goto q0NwH; RdN8V: $this->load->model("\113\x65\x6c\x61\x73\137\155\x6f\144\x65\x6c", "\153\x65\154\141\163"); goto gEzE9; BEDz5: $this->load->model("\104\141\x73\x68\142\157\141\162\144\x5f\155\x6f\x64\x65\x6c", "\x64\141\x73\x68\142\x6f\141\162\x64"); goto hAPuY; CE_Z_: $this->load->model("\x4d\x61\163\x74\145\x72\137\x6d\157\144\145\x6c", "\x6d\141\163\x74\145\x72"); goto BEDz5; zEEL9: if ($this->ion_auth->is_admin()) { goto CWfqG; } goto QU2En; QU2En: show_error("\x48\x61\x6e\x79\x61\40\101\x64\x6d\x69\x6e\x69\163\164\162\x61\164\157\x72\40\171\x61\x6e\147\40\x64\151\x62\x65\162\151\40\150\x61\153\x20\165\x6e\x74\165\x6b\40\x6d\145\x6e\x67\141\x6b\163\145\x73\40\150\141\154\141\155\x61\x6e\40\151\x6e\x69\x2c\40\x3c\141\40\150\x72\145\x66\75\42" . base_url("\144\x61\163\x68\x62\x6f\141\x72\144") . "\x22\76\113\x65\x6d\142\x61\x6c\x69\x20\153\x65\40\155\145\156\x75\x20\141\167\141\x6c\74\x2f\141\76", 403, "\x41\x6b\163\x65\x73\40\x54\145\162\x6c\x61\162\x61\x6e\147"); goto z1kbh; F3IhT: Zfgyq: goto IA_ro; gEzE9: $this->form_validation->set_error_delimiters('', ''); goto cBkI6; cBkI6: } public function output_json($data, $encode = true) { goto iTwYn; iTwYn: if (!$encode) { goto D5WNQ; } goto sYaN3; sYaN3: $data = json_encode($data); goto M8loU; M8loU: D5WNQ: goto qZtro; qZtro: $this->output->set_content_type("\x61\160\160\x6c\x69\x63\x61\x74\151\157\156\x2f\152\163\x6f\x6e")->set_output($data); goto RIMZX; RIMZX: } public function index() { goto Znr9E; T6lfb: $this->load->view("\x5f\164\x65\155\x70\154\141\164\145\163\x2f\x64\141\x73\150\x62\157\141\162\x64\57\x5f\x68\145\x61\144\x65\162", $data); goto cq7gt; Ye3G1: $smt = $this->dashboard->getSemesterActive(); goto MaRw1; LLDwl: $data["\x73\151\x73\167\x61\163"] = $siswas; goto yMMJI; IsEhX: $data = ["\165\x73\x65\x72" => $user, "\x6a\165\x64\x75\154" => "\101\164\x75\x72\x20\122\165\141\156\147\40\144\x61\x6e\x20\x53\x65\163\x69\x20\x53\x69\x73\x77\x61", "\163\165\x62\152\165\144\x75\x6c" => "\122\165\x61\156\147\x20\x64\141\156\40\x53\x65\x73\151\x20\x53\x69\x73\167\141", "\163\x65\164\164\151\x6e\147" => $this->dashboard->getSetting(), "\x6b\145\154\141\163" => $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt), "\x72\165\141\156\x67\137\x6b\x65\x6c\x61\x73" => $this->cbt->getKelasList($tp->id_tp, $smt->id_smt), "\x73\145\163\151" => $this->dropdown->getAllSesi(), "\162\165\141\x6e\147" => $this->cbt->getAllRuang(), "\164\x70" => $this->dashboard->getTahun(), "\x74\x70\137\141\143\x74\x69\166\x65" => $tp, "\163\155\164" => $this->dashboard->getSemester(), "\163\155\164\x5f\x61\143\164\x69\166\145" => $smt, "\160\162\x6f\146\x69\154\145" => $this->dashboard->getProfileAdmin($user->id)]; goto fw_vM; Znr9E: $tp = $this->dashboard->getTahunActive(); goto Ye3G1; CDcB1: if (!($kelas_selected != "\60")) { goto FazLc; } goto hLAeB; cq7gt: $this->load->view("\143\x62\x74\57\x73\145\x73\x69\x73\151\x73\167\x61\x2f\144\141\x74\141"); goto XTSGZ; T8Vz9: $kelas_selected = $kls != null ? $kls : "\x30"; goto vTzax; M3ca_: FazLc: goto LLDwl; yMMJI: $data["\153\145\x6c\141\163\x5f\163\x65\154\145\143\164\145\144"] = $kelas_selected; goto T6lfb; hLAeB: $siswas = $this->cbt->getRuangSesiSiswa($kls, $tp->id_tp, $smt->id_smt); goto M3ca_; MaRw1: $user = $this->ion_auth->user()->row(); goto IsEhX; fw_vM: $kls = $this->input->get("\153\154\x73", true); goto T8Vz9; vTzax: $siswas = []; goto CDcB1; XTSGZ: $this->load->view("\137\164\x65\x6d\x70\x6c\141\164\x65\163\57\144\141\x73\150\x62\x6f\141\162\x64\x2f\137\146\157\x6f\x74\x65\x72"); goto X3muR; X3muR: } public function getAllRuang() { $this->output_json($this->cbt->getAllRuang()); } public function getAllSesi() { $this->output_json($this->dropdown->getAllSesi()); } public function add() { goto B7dsX; B7dsX: $insert = ["\x6e\x61\x6d\x61\x5f\163\145\x73\x69" => $this->input->post("\156\x61\x6d\x61\137\163\x65\x73\151", true), "\x6b\157\x64\145\137\163\145\163\x69" => $this->input->post("\x6b\x6f\144\145\137\x73\145\163\151", true), "\x77\141\x6b\164\165\x5f\155\x75\x6c\141\x69" => $this->input->post("\x77\141\153\x74\165\x5f\155\165\x6c\141\151", true), "\167\141\x6b\164\165\137\x61\153\x68\x69\162" => $this->input->post("\x77\x61\153\x74\x75\137\141\x6b\150\x69\162", true)]; goto hRLtu; hRLtu: $this->master->create("\x63\x62\x74\137\x73\x65\163\x69", $insert, false); goto bA4pZ; bA4pZ: $data["\163\164\x61\164\x75\x73"] = $insert; goto dnlVC; dnlVC: $this->output_json($data); goto r5aWQ; r5aWQ: } public function update() { $data = $this->cbt->updateSesi(); $this->output->set_content_type("\x61\x70\x70\154\151\143\141\x74\x69\157\x6e\x2f\x6a\163\157\x6e")->set_output($data); } public function delete() { goto yDnxQ; RM0Fv: jUj_w: goto Wd6_o; mNIsc: umNXq: goto gni03; eZuE_: PQTTn: goto Rtwmh; kbFia: if (!$this->master->delete("\x63\142\x74\137\x73\x65\163\151", $chk, "\x69\144\137\163\145\x73\x69")) { goto jUj_w; } goto dVERN; evbnY: if (!$chk) { goto umNXq; } goto kbFia; gni03: $this->output_json(["\x73\x74\x61\164\x75\x73" => false]); goto eZuE_; dVERN: $this->output_json(["\163\x74\x61\164\x75\163" => true, "\x74\157\164\141\x6c" => count($chk)]); goto RM0Fv; Wd6_o: goto PQTTn; goto mNIsc; yDnxQ: $chk = $this->input->post("\x63\150\x65\x63\x6b\x65\144", true); goto evbnY; Rtwmh: } public function editsesisiswa() { goto ruYC5; onYoe: foreach ($rs as $id => $klss) { goto K1eaj; QfMDX: BENdu: goto tNgvN; tNgvN: h0UGz: goto CQUoJ; K1eaj: foreach ($klss as $idkls => $kls) { goto tSP2_; GjCJr: $update = $this->db->replace("\143\142\x74\137\163\x65\163\x69\x5f\x73\151\x73\x77\141", $data); goto V90qc; V90qc: iE2NV: goto cOB7g; tSP2_: $data = ["\x73\x69\163\x77\141\x5f\x69\x64" => $id, "\153\x65\x6c\x61\163\x5f\x69\144" => $idkls, "\x72\x75\x61\x6e\x67\137\x69\x64" => $kls["\x72\165\141\156\147"], "\163\x65\163\151\137\x69\144" => $kls["\x73\145\x73\151"], "\164\160\x5f\x69\x64" => $tp->id_tp, "\x73\155\164\137\x69\x64" => $smt->id_smt]; goto GjCJr; cOB7g: } goto QfMDX; CQUoJ: } goto RCArR; W4VOh: $this->output_json($data); goto A1zX2; Aw6_r: $smt = $this->dashboard->getSemesterActive(); goto jT171; ruYC5: $rs = $this->input->post("\162\x75\x61\156\147\55\163\x65\x73\151", true); goto IV01v; VrrcK: $data["\163\x74\x61\x74\x75\163"] = $update; goto W4VOh; jT171: $update = false; goto onYoe; RCArR: UerzW: goto VrrcK; IV01v: $tp = $this->dashboard->getTahunActive(); goto Aw6_r; A1zX2: } public function editsesikelas() { goto OAJvl; xI3dP: $tp = $this->dashboard->getTahunActive(); goto MzhLW; qnGRo: $data["\163\x74\x61\164\165\x73"] = $update; goto n8m6X; MzhLW: $smt = $this->dashboard->getSemesterActive(); goto dd1cs; dd1cs: foreach ($input as $d) { goto jXmEi; c5Taj: $update = $this->db->replace("\143\x62\164\x5f\153\x65\x6c\141\x73\x5f\162\165\141\156\x67", $data); goto Xudtd; Xudtd: NNE1S: goto Na3oc; jXmEi: $siswas = $this->kelas->getKelasSiswa($d->kelas_id, $tp->id_tp, $smt->id_smt); goto CoWMU; CoWMU: foreach ($siswas as $siswa) { goto ep2ml; AV_OX: HTWnx: goto vIQP6; z7Q3h: $this->db->replace("\143\x62\x74\x5f\163\145\163\x69\137\x73\x69\163\167\141", $data); goto AV_OX; ep2ml: $data = ["\x73\x69\x73\x77\x61\x5f\x69\144" => $siswa->id_siswa, "\153\145\x6c\x61\x73\137\151\144" => $siswa->id_kelas, "\x72\x75\x61\x6e\x67\x5f\x69\144" => $d->ruang_id, "\163\145\x73\151\x5f\151\144" => $d->sesi_id, "\x74\160\137\151\144" => $tp->id_tp, "\163\x6d\164\137\151\144" => $smt->id_smt]; goto z7Q3h; vIQP6: } goto I7fuZ; I7fuZ: Xo9BN: goto bEvR7; bEvR7: $data = ["\151\144\137\153\145\154\141\x73\137\x72\165\141\x6e\147" => $d->kelas_id . $tp->id_tp . $smt->id_smt, "\x69\x64\x5f\x6b\145\x6c\141\x73" => $d->kelas_id, "\x69\x64\137\x72\x75\141\156\147" => $d->ruang_id, "\151\x64\x5f\x73\145\x73\x69" => $d->sesi_id, "\151\x64\x5f\164\160" => $tp->id_tp, "\151\144\x5f\x73\x6d\164" => $smt->id_smt, "\163\x65\164\x5f\x73\x69\x73\167\x61" => $d->set_siswa]; goto c5Taj; Na3oc: } goto n7c4v; OAJvl: $input = json_decode($this->input->post("\x6b\145\x6c\141\x73\137\163\x65\x73\151", true)); goto xI3dP; n8m6X: $this->output_json($data); goto cDN85; n7c4v: vdxAP: goto qnGRo; cDN85: } }
