<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtsesisiswa extends CI_Controller { public function __construct() { goto q6LpY; mVxsf: $this->load->model("\x44\162\x6f\160\x64\157\x77\156\137\155\157\x64\x65\x6c", "\144\x72\157\x70\x64\x6f\167\x6e"); goto HKFK1; eiUKH: mIHK_: goto jXYWg; odGVX: $this->form_validation->set_error_delimiters('', ''); goto pl2jb; XceM8: show_error("\110\x61\156\x79\141\40\101\x64\155\x69\x6e\x69\x73\x74\x72\x61\x74\157\x72\40\171\141\x6e\147\x20\x64\x69\x62\145\162\x69\40\x68\141\x6b\40\x75\x6e\164\x75\x6b\x20\155\x65\156\x67\x61\x6b\x73\x65\163\40\x68\x61\x6c\x61\155\141\x6e\40\x69\156\151\x2c\40\74\141\x20\x68\x72\145\146\x3d\42" . base_url("\144\x61\163\x68\x62\x6f\x61\162\144") . "\42\x3e\x4b\x65\x6d\142\141\x6c\x69\x20\x6b\x65\x20\x6d\x65\156\165\40\x61\167\x61\x6c\74\57\141\76", 403, "\101\153\x73\145\x73\x20\124\145\162\x6c\x61\x72\141\156\x67"); goto SpJUh; Q6vU4: if ($this->ion_auth->is_admin()) { goto Vs3dQ; } goto XceM8; q6LpY: parent::__construct(); goto cdb5d; SpJUh: Vs3dQ: goto DH3te; jXYWg: redirect("\141\x75\x74\x68"); goto cAvX7; OxyRd: $this->load->model("\x4d\x61\163\164\145\x72\x5f\155\157\x64\x65\154", "\x6d\x61\x73\164\145\162"); goto xSrpP; xSrpP: $this->load->model("\104\x61\163\x68\x62\x6f\141\x72\144\137\x6d\157\x64\x65\154", "\144\141\x73\150\x62\x6f\141\x72\x64"); goto nniqe; A6Xu8: $this->load->library(["\144\141\x74\x61\x74\141\142\x6c\145\163", "\x66\x6f\162\155\137\166\141\x6c\x69\144\141\x74\x69\x6f\x6e"]); goto OxyRd; cAvX7: x47B7: goto A6Xu8; DH3te: goto x47B7; goto eiUKH; nniqe: $this->load->model("\x43\142\164\x5f\x6d\x6f\144\x65\154", "\x63\142\164"); goto mVxsf; cdb5d: if (!$this->ion_auth->logged_in()) { goto mIHK_; } goto Q6vU4; HKFK1: $this->load->model("\x4b\145\154\x61\163\x5f\x6d\157\144\x65\154", "\x6b\x65\154\x61\163"); goto odGVX; pl2jb: } public function output_json($data, $encode = true) { goto unYeE; ometz: $data = json_encode($data); goto lUis6; unYeE: if (!$encode) { goto a7uqn; } goto ometz; atE7L: $this->output->set_content_type("\x61\160\x70\154\151\x63\141\164\x69\x6f\x6e\57\152\x73\x6f\156")->set_output($data); goto O_GLQ; lUis6: a7uqn: goto atE7L; O_GLQ: } public function index() { goto GcF5e; JynzE: $this->load->view("\x5f\x74\x65\x6d\x70\x6c\141\x74\x65\x73\57\144\x61\163\x68\142\157\x61\x72\x64\57\x5f\x66\157\157\x74\x65\x72"); goto ZDcgv; svU1g: $this->load->view("\x63\x62\x74\x2f\163\145\x73\151\163\151\163\x77\141\57\x64\x61\164\x61"); goto JynzE; M9HP2: $data = ["\x75\x73\145\162" => $user, "\152\165\144\165\x6c" => "\101\164\x75\162\x20\123\x65\163\x69\40\123\x69\163\x77\141", "\x73\x75\142\152\165\x64\165\154" => "\104\141\x74\141\x20\123\145\x73\151\x20\123\x69\x73\167\141", "\163\x65\x74\x74\151\x6e\x67" => $this->dashboard->getSetting(), "\x6b\x65\x6c\141\163" => $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt), "\x72\x75\x61\156\x67\x5f\x6b\x65\x6c\x61\163" => $this->cbt->getKelasList($tp->id_tp, $smt->id_smt), "\x73\x65\163\151" => $this->dropdown->getAllSesi(), "\162\x75\x61\156\147" => $this->cbt->getAllRuang(), "\x74\160" => $this->dashboard->getTahun(), "\164\160\137\x61\x63\164\x69\x76\x65" => $tp, "\163\155\x74" => $this->dashboard->getSemester(), "\x73\155\164\137\141\x63\164\151\166\x65" => $smt, "\160\x72\x6f\x66\151\154\x65" => $this->dashboard->getProfileAdmin($user->id)]; goto zmsTq; zmsTq: $this->load->view("\137\164\x65\x6d\x70\x6c\x61\164\145\x73\x2f\x64\141\x73\150\x62\x6f\141\x72\x64\57\137\150\x65\141\x64\x65\x72", $data); goto svU1g; JXZJ2: $smt = $this->dashboard->getSemesterActive(); goto m3loR; GcF5e: $tp = $this->dashboard->getTahunActive(); goto JXZJ2; m3loR: $user = $this->ion_auth->user()->row(); goto M9HP2; ZDcgv: } public function data() { $this->output_json($this->cbt->getSesi(), false); } public function getAllRuang() { $this->output_json($this->cbt->getAllRuang()); } public function getAllSesi() { $this->output_json($this->dropdown->getAllSesi()); } public function add() { goto xn3j3; R1O9p: $data["\163\164\x61\164\x75\163"] = $insert; goto Dx9u8; Dx9u8: $this->output_json($data); goto mVP9s; xn3j3: $insert = ["\156\141\155\141\x5f\x73\145\163\x69" => $this->input->post("\x6e\x61\155\141\137\163\x65\x73\x69", true), "\x6b\157\144\x65\137\x73\x65\163\151" => $this->input->post("\153\157\x64\x65\x5f\x73\145\x73\151", true), "\167\x61\x6b\x74\x75\x5f\155\165\154\x61\151" => $this->input->post("\167\x61\153\164\165\137\x6d\165\x6c\x61\151", true), "\167\x61\x6b\x74\x75\x5f\x61\x6b\x68\151\x72" => $this->input->post("\x77\141\153\x74\x75\x5f\141\x6b\150\x69\x72", true)]; goto NmTNV; NmTNV: $this->master->create("\143\142\164\x5f\163\145\x73\x69", $insert, false); goto R1O9p; mVP9s: } public function update() { $data = $this->cbt->updateSesi(); $this->output->set_content_type("\141\160\x70\x6c\x69\143\141\164\x69\x6f\x6e\57\x6a\x73\x6f\156")->set_output($data); } public function delete() { goto EN7OW; mgM7C: bZE3F: goto tiY49; m_yWA: $this->output_json(["\163\164\x61\x74\165\x73" => true, "\164\157\x74\x61\154" => count($chk)]); goto mgM7C; NOugA: if (!$chk) { goto uFpGL; } goto pTUaY; pTUaY: if (!$this->master->delete("\143\x62\164\x5f\163\x65\163\151", $chk, "\151\144\x5f\x73\x65\x73\151")) { goto bZE3F; } goto m_yWA; ljBHN: $this->output_json(["\x73\164\x61\164\x75\x73" => false]); goto CT06f; tiY49: goto r_Nc2; goto P9w7x; CT06f: r_Nc2: goto zdZbs; EN7OW: $chk = $this->input->post("\143\150\x65\x63\153\145\x64", true); goto NOugA; P9w7x: uFpGL: goto ljBHN; zdZbs: } public function getSiswaRuang() { goto PxcWl; PxcWl: $kelas = $this->input->get("\153\x65\154\141\x73", true); goto Lz2pR; NZgyh: $smt = $this->dashboard->getSemesterActive(); goto LRQ6v; Lz2pR: $tp = $this->dashboard->getTahunActive(); goto NZgyh; LRQ6v: $this->output_json($this->cbt->getRuangSesiSiswa($kelas, $tp->id_tp, $smt->id_smt)); goto RDyp3; RDyp3: } public function editsesisiswa() { goto xYawe; ZuTJ1: $this->output_json($data); goto NQY3T; xYawe: $input = json_decode($this->input->post("\x73\151\x73\x77\x61\x5f\163\x65\x73\151", true)); goto U0OH0; PqDSU: r4NX1: goto ziu48; U0OH0: foreach ($input as $d) { goto NDzM_; NDzM_: $data = ["\x73\x69\x73\x77\141\137\151\144" => $d->siswa_id, "\153\145\x6c\141\x73\137\x69\144" => $d->kelas_id, "\162\165\x61\156\x67\137\x69\x64" => $d->ruang_id, "\163\x65\x73\151\x5f\x69\144" => $d->sesi_id, "\164\x70\x5f\151\144" => $d->tp_id, "\163\x6d\164\137\x69\144" => $d->smt_id]; goto gm9I5; kM9Bk: Jv4IS: goto Ub7Lj; gm9I5: $update = $this->db->replace("\143\x62\164\x5f\x73\145\163\x69\x5f\x73\x69\163\167\141", $data); goto kM9Bk; Ub7Lj: } goto PqDSU; ziu48: $data["\163\164\141\164\165\163"] = $update; goto ZuTJ1; NQY3T: } public function editsesikelas() { goto k5wad; k5wad: $input = json_decode($this->input->post("\x6b\145\154\141\163\137\163\x65\163\151", true)); goto Zkg1Q; RdQz3: $data["\163\164\x61\x74\165\x73"] = $update; goto lVjTk; lVjTk: $this->output_json($data); goto Otasb; Zkg1Q: $tp = $this->dashboard->getTahunActive(); goto aU8aZ; DXiZ4: foreach ($input as $d) { goto CjKJE; yPAeo: $update = $this->db->replace("\143\x62\x74\137\153\145\x6c\x61\x73\137\x72\x75\x61\156\x67", $data); goto KznOl; KznOl: J9ZY4: goto atCF3; fewRJ: foreach ($siswas as $siswa) { goto ij_uC; ij_uC: $data = ["\x73\151\163\x77\141\137\151\x64" => $siswa->id_siswa, "\153\145\154\x61\163\x5f\151\x64" => $siswa->id_kelas, "\162\165\141\x6e\147\x5f\151\144" => $d->ruang_id, "\163\x65\x73\151\x5f\151\144" => $d->sesi_id, "\x74\x70\137\x69\x64" => $tp->id_tp, "\x73\155\x74\137\x69\144" => $smt->id_smt]; goto XSoU6; XSoU6: $this->db->replace("\143\142\164\x5f\163\x65\x73\x69\137\x73\151\x73\x77\141", $data); goto Q6nlt; Q6nlt: DRVWt: goto H0w6R; H0w6R: } goto Lv00n; CjKJE: $siswas = $this->kelas->getKelasSiswa($d->kelas_id, $tp->id_tp, $smt->id_smt); goto fewRJ; Lv00n: MMnM8: goto YqcQi; YqcQi: $data = ["\151\x64\137\x6b\x65\x6c\141\x73\x5f\x72\x75\x61\156\x67" => $d->kelas_id . $tp->id_tp . $smt->id_smt, "\151\x64\137\153\145\154\141\163" => $d->kelas_id, "\x69\x64\137\x72\165\141\x6e\x67" => $d->ruang_id, "\151\x64\x5f\163\x65\163\x69" => $d->sesi_id, "\x69\x64\x5f\x74\160" => $tp->id_tp, "\x69\144\x5f\163\x6d\x74" => $smt->id_smt, "\x73\x65\x74\137\x73\x69\163\x77\141" => $d->set_siswa]; goto yPAeo; atCF3: } goto OQq0w; OQq0w: s_Vfd: goto RdQz3; aU8aZ: $smt = $this->dashboard->getSemesterActive(); goto DXiZ4; Otasb: } }
