<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\123\x45\120\101\124\x48") or exit("\116\x6f\40\x64\x69\x72\145\143\164\40\163\x63\x72\151\x70\164\x20\x61\x63\143\145\x73\x73\40\x61\154\154\157\167\x65\x64"); use PhpOffice\PhpSpreadsheet\Spreadsheet; use PhpOffice\PhpSpreadsheet\Writer\Xlsx; use PhpOffice\PhpSpreadsheet\Writer\Xls; use PhpOffice\PhpSpreadsheet\Writer\Csv; class Dataekstra extends CI_Controller { public function __construct() { goto wYGxc; VylZa: redirect("\141\165\164\150"); goto TGG99; LK0Da: $this->load->model("\115\141\x73\x74\x65\162\x5f\155\x6f\144\x65\x6c", "\x6d\141\163\164\x65\162"); goto BoqWQ; ttNvc: $this->form_validation->set_error_delimiters('', ''); goto LaFz2; DK6rB: n_vUL: goto Q0Hk4; w5HuM: $this->load->model("\x4b\145\154\x61\x73\137\x6d\x6f\144\x65\154", "\153\x65\154\141\x73"); goto ttNvc; BoqWQ: $this->load->model("\104\x61\x73\x68\x62\157\x61\162\x64\137\x6d\x6f\x64\145\x6c", "\x64\141\163\150\142\157\x61\x72\x64"); goto jJOxM; y81yV: if ($this->ion_auth->is_admin()) { goto n_vUL; } goto nLFbp; Q0Hk4: goto RT3aA; goto vxoPP; vxoPP: nmXf2: goto VylZa; MJ52z: if (!$this->ion_auth->logged_in()) { goto nmXf2; } goto y81yV; ZcT1l: $this->load->library(["\x64\141\164\141\x74\141\x62\154\145\x73", "\x66\157\x72\x6d\x5f\166\141\154\x69\x64\x61\x74\151\x6f\x6e"]); goto LK0Da; jJOxM: $this->load->model("\x44\162\x6f\160\x64\157\167\156\137\155\157\x64\x65\154", "\144\162\x6f\x70\x64\157\x77\x6e"); goto w5HuM; wYGxc: parent::__construct(); goto MJ52z; TGG99: RT3aA: goto ZcT1l; nLFbp: show_error("\x48\x61\156\171\x61\40\x41\144\155\151\156\x69\x73\x74\162\141\x74\x6f\x72\x20\171\x61\156\x67\40\144\151\142\145\162\x69\x20\x68\141\x6b\40\165\x6e\164\165\153\40\155\x65\156\x67\x61\153\163\x65\163\x20\150\141\x6c\141\x6d\141\156\x20\x69\x6e\x69\54\40\74\141\40\150\162\x65\146\x3d\x22" . base_url("\144\141\x73\x68\142\x6f\141\162\x64") . "\x22\x3e\x4b\x65\x6d\x62\x61\x6c\151\40\x6b\x65\x20\155\145\156\x75\x20\x61\167\141\x6c\74\57\141\x3e", 403, "\x41\x6b\163\x65\x73\40\124\145\x72\x6c\x61\162\x61\156\147"); goto DK6rB; LaFz2: } public function output_json($data, $encode = true) { goto WBwyp; WBwyp: if (!$encode) { goto uBkIB; } goto EsxcX; K8A85: $this->output->set_content_type("\141\x70\160\154\151\143\x61\x74\x69\157\156\x2f\x6a\x73\x6f\x6e")->set_output($data); goto vfROt; EsxcX: $data = json_encode($data); goto fzVCT; fzVCT: uBkIB: goto K8A85; vfROt: } public function index() { goto thcK1; thcK1: $user = $this->ion_auth->user()->row(); goto ar_06; ApajS: foreach ($kelas as $key => $kls) { $kelasEks[$key] = $this->kelas->getKelasEkskul($key, $tp->id_tp, $smt->id_smt); NHtT1: } goto IOKsN; IOKsN: a2T9I: goto T9yhJ; n2t5c: $kelas = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto Cl2Fn; l3l3_: $data["\x74\160"] = $this->dashboard->getTahun(); goto mqfhB; ar_06: $data = ["\165\163\145\x72" => $user, "\x6a\165\144\165\x6c" => "\105\x6b\x73\164\162\x61\x6b\x75\x72\x69\x6b\165\154\x65\x72", "\x73\165\x62\152\x75\144\x75\154" => "\x44\x61\x74\141\x20\x4d\141\x74\141\40\x50\x65\154\x61\x6a\141\162\x61\x6e", "\x70\x72\157\146\151\x6c\x65" => $this->dashboard->getProfileAdmin($user->id), "\163\x65\164\x74\151\156\147" => $this->dashboard->getSetting()]; goto B3pIZ; z3oFs: $smt = $this->dashboard->getSemesterActive(); goto l3l3_; T9yhJ: $data["\x65\x6b\163\x6b\x75\154\137\x6b\145\154\x61\163"] = $kelasEks; goto m1a19; Cl2Fn: $kelasEks = []; goto ApajS; vOdhr: $this->load->view("\x5f\164\x65\x6d\x70\154\x61\164\145\x73\x2f\144\x61\163\150\x62\157\141\x72\x64\x2f\137\x68\145\x61\144\x65\162", $data); goto oygoM; Nsyp1: $data["\x70\145\x6d\142\151\155\142\x69\156\x67"] = $this->dropdown->getAllGuru(); goto vOdhr; lcAXY: $data["\163\x6d\x74\137\x61\x63\164\x69\x76\145"] = $smt; goto O8OlG; m1a19: $data["\153\145\x6c\x61\x73"] = $kelas; goto Nsyp1; wFlNf: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto lcAXY; mqfhB: $data["\164\x70\137\141\143\x74\151\x76\x65"] = $tp; goto wFlNf; O8OlG: $data["\145\153\163\x6b\165\154"] = $this->dropdown->getAllEkskul(); goto n2t5c; B3pIZ: $tp = $this->dashboard->getTahunActive(); goto z3oFs; Q1L9B: $this->load->view("\x5f\x74\x65\155\160\154\141\164\x65\163\57\144\x61\x73\x68\x62\x6f\141\162\x64\x2f\x5f\x66\x6f\x6f\164\x65\162"); goto Oqxpo; oygoM: $this->load->view("\x6d\141\x73\164\x65\162\57\145\153\163\x74\x72\x61\x2f\x64\141\x74\x61"); goto Q1L9B; Oqxpo: } public function create() { goto Z602O; x8Ju3: $this->output->set_content_type("\141\x70\160\x6c\x69\143\141\x74\151\157\x6e\57\x6a\163\157\156")->set_output($data); goto CsUmR; RPUCs: $data = $this->master->create("\155\x61\163\164\x65\x72\x5f\145\x6b\163\164\162\141", $insert); goto x8Ju3; Z602O: $insert = ["\x6e\141\x6d\x61\x5f\145\x6b\x73\164\x72\141" => $this->input->post("\x6e\141\155\141\x5f\145\153\163\164\162\141", true), "\153\x6f\x64\x65\x5f\x65\153\x73\x74\x72\141" => $this->input->post("\x6b\x6f\144\145\x5f\x65\x6b\x73\x74\x72\141", true)]; goto RPUCs; CsUmR: } public function read() { goto jrXIb; jrXIb: $this->datatables->select("\x2a"); goto k815O; taDu1: echo $this->datatables->generate(); goto mZHAV; k815O: $this->datatables->from("\155\x61\163\164\145\x72\x5f\x65\153\x73\x74\x72\141"); goto taDu1; mZHAV: } public function update() { $data = $this->master->updateEkstra(); $this->output->set_content_type("\x61\160\160\x6c\x69\x63\141\164\151\x6f\x6e\57\x6a\x73\x6f\x6e")->set_output($data); } public function delete($id) { goto T9BWt; arJhF: imAE2: goto uKBYm; dIO9_: $tables = []; goto a5vKQ; VHU2E: $this->output_json($tables); goto DZMPE; fp0y9: foreach ($tabless as $table) { goto yk8jI; yk8jI: $fields = $this->db->field_data($table); goto Fz6BZ; nrw7c: gHgSx: goto jGBRY; Fz6BZ: foreach ($fields as $field) { goto flo6f; flo6f: if (!($field->name == "\x69\x64\x5f\x65\153\x73\164\x72\x61" || $field->name == "\x65\x6b\163\164\162\141\137\151\144")) { goto YbHPX; } goto vHHSt; vHHSt: array_push($tables, $table); goto zjal2; zjal2: YbHPX: goto WqN0a; WqN0a: WdW07: goto VOntY; VOntY: } goto QukQM; QukQM: QFYkJ: goto nrw7c; jGBRY: } goto XfGEP; EvrGr: $this->output_json(["\163\x74\x61\164\165\x73" => true, "\155\145\x73\163\141\x67\145" => "\x45\x6b\163\x6b\x75\154\40\x62\x65\162\150\x61\x73\151\154\x20\144\x69\150\141\160\165\163"]); goto AIV28; hvlS0: $this->output_json(["\x73\164\141\164\165\x73" => false, "\155\145\x73\163\141\x67\145" => "\x45\153\163\153\165\x6c\40\x67\x61\147\x61\x6c\x20\x64\x69\x68\141\x70\165\x73"]); goto f5E2s; uKBYm: $this->output_json(["\x73\x74\x61\164\165\163" => false, "\164\x6f\x74\141\x6c" => "\x4d\x61\160\145\x6c\x20\144\x69\x67\165\156\x61\153\141\x6e\x20\144\151\40" . count($messages) . "\x20\x74\141\142\x65\x6c\x3a\74\142\x72\76" . implode("\74\x62\162\76", $messages)]); goto akyo6; a5vKQ: $tabless = $this->db->list_tables(); goto fp0y9; uIm4G: if ($this->master->delete("\155\x61\x73\x74\145\162\137\145\x6b\x73\x74\162\141", [$id], "\151\144\x5f\145\153\163\x74\162\x61")) { goto JV2DD; } goto hvlS0; Vp5Nj: if (count($messages) > 0) { goto imAE2; } goto uIm4G; rJ37y: goto bLU2_; goto arJhF; pXuzB: qRKEP: goto Vp5Nj; DZMPE: foreach ($tables as $table) { goto FWECN; Uuvv5: if (!($num > 0)) { goto fAeob; } goto hQnA5; QtTLi: fAeob: goto lrNAm; lrNAm: dKK74: goto PY1C_; FWECN: if (!($table != "\155\141\163\164\x65\x72\137\x65\153\x73\x74\162\141")) { goto dKK74; } goto teo3J; teo3J: $this->db->where("\151\x64\x5f\145\x6b\x73\164\162\141", $id); goto mtrsW; PY1C_: KPbqu: goto SBxJ6; hQnA5: array_push($messages, $table); goto QtTLi; mtrsW: $num = $this->db->count_all_results($table); goto Uuvv5; SBxJ6: } goto pXuzB; XfGEP: JHBm6: goto VHU2E; T9BWt: $messages = []; goto dIO9_; akyo6: bLU2_: goto gzxap; AIV28: a5UvZ: goto rJ37y; UiDGt: JV2DD: goto EvrGr; f5E2s: goto a5UvZ; goto UiDGt; gzxap: } public function save() { goto FGSNt; o1_Pg: $this->output_json($res); goto BLy19; OHZuO: $smt = $this->master->getSemesterActive()->id_smt; goto k4SeD; gS2kH: $tp = $this->master->getTahunActive()->id_tp; goto OHZuO; Nf_Wq: $update = []; goto Do0Wa; hBaI1: NOCB1: goto HT7ss; r0L4H: $res["\165\160\144\x61\164\x65"] = $update; goto o1_Pg; Do0Wa: foreach ($check_kelas as $key => $kls) { goto pMxqH; LJjG8: $ekstra[] = ["\x65\153\x73\164\162\141" => $kelaseks]; goto ZsF4a; kOpTI: $j = 0; goto tdvPE; SCTxF: $j++; goto xW5Wb; Xq54m: $update[] = $this->db->replace("\x6b\x65\x6c\141\x73\x5f\x65\153\x73\x74\162\141", $ekstras); goto hVH1H; bFWZa: $kelaseks = $this->input->post("\x65\153\x73\153\x75\x6c" . $kls->kls_id . "\x5b" . $j . "\x5d", true); goto LJjG8; xW5Wb: goto SGm6m; goto BCNGV; pMxqH: $check_ekskul = $this->input->post("\145\153\163\x6b\x75\x6c" . $kls->kls_id, true); goto o7mwC; kwkG0: $ekstra = []; goto kOpTI; bhU66: if (!($j <= $row_ekskul)) { goto anCUi; } goto bFWZa; BCNGV: anCUi: goto EF8jt; ZsF4a: E3g9c: goto SCTxF; EF8jt: $ekstras = ["\x69\144\x5f\153\x65\154\x61\x73\x5f\145\153\x73\164\162\x61" => $kls->kls_id . $tp . $smt, "\x69\x64\x5f\153\145\x6c\x61\x73" => $kls->kls_id, "\x69\x64\137\164\160" => $tp, "\151\144\137\x73\x6d\x74" => $smt, "\145\153\163\164\162\141" => serialize($ekstra)]; goto Xq54m; sGD7M: $row_ekskul = count($this->input->post("\x65\x6b\163\x6b\165\x6c" . $kls->kls_id, true)); goto kwkG0; o7mwC: if (!$check_ekskul) { goto u7p4N; } goto sGD7M; JoAnX: Xcb4J: goto G5U2k; hVH1H: u7p4N: goto JoAnX; tdvPE: SGm6m: goto bhU66; G5U2k: } goto hBaI1; HT7ss: $res["\163\164\141\x74\165\x73"] = true; goto r0L4H; k4SeD: $row_insert = 0; goto Nf_Wq; FGSNt: $check_kelas = json_decode(json_encode(json_decode($this->input->post("\153\x65\x6c\141\x73", true)))); goto gS2kH; BLy19: } public function import($import_data = null) { goto My1BE; KCZi9: $data["\164\160"] = $this->dashboard->getTahun(); goto vE7sZ; vE7sZ: $data["\x74\160\x5f\141\x63\164\x69\x76\145"] = $this->dashboard->getTahunActive(); goto a5mqc; ypS8S: yhM_a: goto KCZi9; a5mqc: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto cPWX0; iXWUb: $this->load->view("\137\x74\x65\155\x70\154\x61\x74\x65\x73\57\144\141\x73\x68\x62\157\141\x72\x64\x2f\x5f\x68\145\x61\144\145\162", $data); goto vLSfe; UucRa: $this->load->view("\x5f\164\x65\155\160\154\141\x74\145\x73\x2f\x64\141\x73\150\142\157\141\x72\x64\57\137\146\157\157\x74\145\162"); goto S9z3W; vLSfe: $this->load->view("\x6d\x61\163\164\145\x72\x2f\x65\x6b\163\x74\x72\141\57\151\x6d\160\x6f\x72\164"); goto UucRa; t111i: $data["\151\x6d\x70\157\162\164"] = $import_data; goto ypS8S; avrD1: if (!($import_data != null)) { goto yhM_a; } goto t111i; My1BE: $user = $this->ion_auth->user()->row(); goto JsS1E; cPWX0: $data["\x73\x6d\164\x5f\x61\x63\x74\151\166\x65"] = $this->dashboard->getSemesterActive(); goto iXWUb; JsS1E: $data = ["\165\x73\145\162" => $user, "\x6a\165\144\165\x6c" => "\x4d\x61\x74\141\40\120\145\154\x61\152\x61\x72\141\x6e", "\163\x75\142\x6a\x75\x64\165\154" => "\111\x6d\x70\x6f\162\x74\40\115\141\x74\x61\40\x50\x65\154\x61\152\x61\x72\141\156", "\x70\162\x6f\146\x69\154\145" => $this->dashboard->getProfileAdmin($user->id), "\163\x65\x74\164\x69\156\147" => $this->dashboard->getSetting()]; goto avrD1; S9z3W: } }
