<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\102\x41\123\105\120\x41\124\x48") or exit("\116\x6f\40\144\151\162\x65\143\164\x20\163\143\162\x69\160\x74\40\141\x63\143\x65\x73\x73\40\x61\154\154\157\x77\145\x64"); use PhpOffice\PhpSpreadsheet\Spreadsheet; use PhpOffice\PhpSpreadsheet\Writer\Xlsx; use PhpOffice\PhpSpreadsheet\Writer\Xls; use PhpOffice\PhpSpreadsheet\Writer\Csv; class Dataekstra extends CI_Controller { public function __construct() { goto FyhhV; EeG1u: if ($this->ion_auth->is_admin()) { goto NWcRp; } goto VoCjv; lNW5F: R3UEr: goto rNDfW; FyhhV: parent::__construct(); goto fvtyr; uyE0l: NWcRp: goto FPIl0; FPIl0: goto hEVfh; goto lNW5F; da7q3: $this->load->model("\x4b\x65\x6c\x61\163\137\x6d\157\x64\x65\x6c", "\153\145\x6c\141\x73"); goto YnMLl; YnMLl: $this->form_validation->set_error_delimiters('', ''); goto nat1V; fvtyr: if (!$this->ion_auth->logged_in()) { goto R3UEr; } goto EeG1u; TArxf: $this->load->library(["\144\x61\x74\x61\164\x61\x62\154\145\163", "\146\157\x72\x6d\x5f\x76\x61\x6c\151\144\141\x74\x69\157\x6e"]); goto SSh4K; iF_Rf: hEVfh: goto TArxf; VoCjv: show_error("\x48\141\x6e\x79\141\40\x41\144\x6d\x69\x6e\x69\163\164\162\x61\x74\157\162\x20\x79\x61\x6e\x67\x20\x64\x69\x62\x65\162\x69\40\x68\141\153\x20\x75\156\x74\165\x6b\x20\155\x65\156\x67\141\x6b\x73\145\163\40\150\x61\x6c\141\x6d\141\x6e\x20\x69\156\x69\54\x20\x3c\x61\40\x68\162\145\146\75\x22" . base_url("\x64\x61\163\150\x62\157\141\162\x64") . "\42\x3e\113\145\155\x62\141\154\x69\40\x6b\x65\40\155\x65\156\x75\x20\x61\167\x61\154\74\x2f\x61\76", 403, "\x41\x6b\163\145\163\x20\x54\x65\x72\154\141\x72\141\156\x67"); goto uyE0l; Mqdpc: $this->load->model("\x44\162\157\160\x64\x6f\x77\x6e\137\155\157\144\x65\x6c", "\x64\162\x6f\160\x64\157\x77\156"); goto da7q3; v0wGp: $this->load->model("\x44\141\x73\x68\x62\157\141\x72\144\x5f\155\157\x64\x65\154", "\x64\x61\163\150\142\x6f\x61\x72\144"); goto Mqdpc; SSh4K: $this->load->model("\115\141\163\164\145\162\x5f\155\157\144\145\x6c", "\x6d\x61\x73\x74\x65\x72"); goto v0wGp; rNDfW: redirect("\141\x75\164\150"); goto iF_Rf; nat1V: } public function output_json($data, $encode = true) { goto RyIOc; d1i6f: V_2lu: goto MfIal; RyIOc: if (!$encode) { goto V_2lu; } goto YxD0C; MfIal: $this->output->set_content_type("\141\x70\x70\154\x69\143\141\x74\151\157\x6e\57\x6a\x73\157\156")->set_output($data); goto gs9OR; YxD0C: $data = json_encode($data); goto d1i6f; gs9OR: } public function index() { goto Hz8xt; Iw51R: $this->load->view("\137\x74\145\x6d\160\x6c\x61\x74\145\x73\57\x64\x61\x73\x68\142\x6f\141\162\144\57\137\150\145\x61\144\145\162", $data); goto sR3gz; Mnabb: $smt = $this->dashboard->getSemesterActive(); goto Sn1I9; nw895: bXn01: goto CB2Bp; CB2Bp: $data["\x65\153\163\x6b\165\154\x5f\153\145\x6c\x61\x73"] = $kelasEks; goto qTLP0; XQyHt: foreach ($kelas as $key => $kls) { $kelasEks[$key] = $this->kelas->getKelasEkskul($key, $tp->id_tp, $smt->id_smt); AT6XV: } goto nw895; n2sUE: $data["\x65\x6b\163\x6b\x75\x6c"] = $this->dropdown->getAllEkskul(); goto kH0gM; CFRTG: $this->load->view("\x5f\164\145\x6d\160\x6c\141\x74\145\x73\57\x64\141\163\x68\142\x6f\141\x72\x64\x2f\137\x66\157\x6f\x74\x65\x72"); goto UHiVf; HnfSe: $data["\160\x65\x6d\142\x69\155\x62\151\156\147"] = $this->dropdown->getAllGuru(); goto Iw51R; Hz8xt: $user = $this->ion_auth->user()->row(); goto sFP8q; kH0gM: $kelas = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto tYjGE; tYjGE: $kelasEks = []; goto XQyHt; H0s32: $data["\x73\155\164\137\x61\x63\x74\x69\166\145"] = $smt; goto n2sUE; sFP8q: $data = ["\165\163\145\x72" => $user, "\x6a\x75\144\165\x6c" => "\x45\153\163\x74\162\x61\x6b\165\x72\151\x6b\x75\x6c\x65\x72", "\x73\165\142\152\x75\144\165\154" => "\x44\x61\164\x61\x20\x4d\x61\x74\141\40\x50\x65\154\141\152\141\x72\141\x6e", "\x70\162\157\146\x69\x6c\145" => $this->dashboard->getProfileAdmin($user->id), "\163\145\x74\164\x69\x6e\147" => $this->dashboard->getSetting()]; goto U5g_j; U5g_j: $tp = $this->dashboard->getTahunActive(); goto Mnabb; qTLP0: $data["\153\x65\154\x61\163"] = $kelas; goto HnfSe; bKa4g: $data["\164\160\x5f\x61\143\x74\x69\x76\145"] = $tp; goto izXzN; Sn1I9: $data["\164\160"] = $this->dashboard->getTahun(); goto bKa4g; izXzN: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto H0s32; sR3gz: $this->load->view("\155\x61\163\x74\145\162\x2f\145\153\x73\164\x72\141\x2f\144\x61\164\141"); goto CFRTG; UHiVf: } public function create() { goto N5tS5; CRd2S: $this->output->set_content_type("\x61\x70\160\x6c\x69\x63\x61\164\151\x6f\x6e\57\x6a\x73\157\156")->set_output($data); goto fqwnV; A39RQ: $data = $this->master->create("\155\141\x73\164\145\162\x5f\145\153\163\x74\162\141", $insert); goto CRd2S; N5tS5: $insert = ["\x6e\x61\x6d\x61\x5f\x65\x6b\x73\164\x72\141" => $this->input->post("\x6e\141\155\141\x5f\x65\x6b\x73\x74\x72\x61", true), "\153\157\x64\x65\x5f\x65\x6b\x73\x74\x72\141" => $this->input->post("\x6b\157\144\x65\137\x65\x6b\x73\164\162\141", true)]; goto A39RQ; fqwnV: } public function read() { goto HpY7n; Emnt7: echo $this->datatables->generate(); goto nZLfn; HpY7n: $this->datatables->select("\x2a"); goto zGIP2; zGIP2: $this->datatables->from("\155\141\163\164\x65\x72\x5f\145\x6b\x73\164\x72\141"); goto Emnt7; nZLfn: } public function update() { $data = $this->master->updateEkstra(); $this->output->set_content_type("\141\160\x70\x6c\151\143\x61\x74\x69\x6f\x6e\x2f\152\x73\157\156")->set_output($data); } public function delete($id) { goto xs5i7; MobJz: $this->output_json(["\163\x74\141\x74\165\x73" => true, "\x6d\x65\x73\163\141\x67\145" => "\105\153\163\x6b\x75\x6c\40\x62\145\x72\x68\x61\163\x69\154\40\144\151\x68\141\x70\x75\163"]); goto yI14a; Fs9KX: n5uCR: goto xNTyn; Gdc2G: UBpRG: goto Oc5H7; yI14a: ahW3z: goto v2WA2; nxSak: $this->output_json(["\163\x74\141\164\165\x73" => false, "\155\x65\163\163\x61\147\x65" => "\x45\x6b\x73\153\x75\154\40\147\x61\147\141\154\40\x64\x69\150\x61\x70\165\163"]); goto EVgwg; VLStI: $this->output_json(["\163\x74\141\164\165\163" => false, "\x74\157\x74\141\x6c" => "\115\x61\160\x65\x6c\x20\144\x69\x67\165\x6e\141\153\x61\x6e\x20\144\x69\x20" . count($messages) . "\40\164\141\x62\145\154\x3a\x3c\142\162\x3e" . implode("\x3c\142\162\x3e", $messages)]); goto Gdc2G; hvsaY: W7PP0: goto DGqCr; wq_y6: $tabless = $this->db->list_tables(); goto BcCQt; NNTTb: iPmcE: goto MobJz; xNTyn: $this->output_json($tables); goto e8Jpt; v2WA2: goto UBpRG; goto JiA4X; bbKCk: if ($this->master->delete("\x6d\141\163\x74\x65\162\x5f\x65\x6b\x73\x74\162\x61", [$id], "\x69\x64\x5f\145\153\163\164\x72\141")) { goto iPmcE; } goto nxSak; EVgwg: goto ahW3z; goto NNTTb; BcCQt: foreach ($tabless as $table) { goto LMU_G; Ahj0Z: Sv9u5: goto tCNlJ; LMU_G: $fields = $this->db->field_data($table); goto nPjVJ; nPjVJ: foreach ($fields as $field) { goto SJ9h2; ZoKtu: OTDhU: goto eF1RX; DQwS7: Fh9Pr: goto ZoKtu; SJ9h2: if (!($field->name == "\151\144\x5f\x65\x6b\163\164\x72\x61" || $field->name == "\145\x6b\163\164\162\141\x5f\x69\x64")) { goto Fh9Pr; } goto Ts2IY; Ts2IY: array_push($tables, $table); goto DQwS7; eF1RX: } goto hHhpI; hHhpI: rERUs: goto Ahj0Z; tCNlJ: } goto Fs9KX; aAuoR: $tables = []; goto wq_y6; DGqCr: if (count($messages) > 0) { goto AQalD; } goto bbKCk; xs5i7: $messages = []; goto aAuoR; JiA4X: AQalD: goto VLStI; e8Jpt: foreach ($tables as $table) { goto OiWyQ; CTlA1: OiNge: goto M9Bt8; ikbI8: if (!($num > 0)) { goto qk3r4; } goto Q1anX; XsUvL: $this->db->where("\151\144\137\x65\x6b\x73\164\x72\x61", $id); goto puSo2; xbfQx: qk3r4: goto CTlA1; puSo2: $num = $this->db->count_all_results($table); goto ikbI8; Q1anX: array_push($messages, $table); goto xbfQx; OiWyQ: if (!($table != "\155\x61\x73\x74\145\x72\x5f\x65\x6b\163\x74\162\141")) { goto OiNge; } goto XsUvL; M9Bt8: c71fp: goto EjR1k; EjR1k: } goto hvsaY; Oc5H7: } public function save() { goto He1Vu; fR5Od: $update = []; goto qd3ij; p3Xtx: $res["\165\x70\x64\141\164\x65"] = $update; goto Qk3Ca; qd3ij: foreach ($check_kelas as $key => $kls) { goto ZGuLY; FjoK1: $j++; goto TLKul; QkBWH: PLGA_: goto Zg0AW; TLKul: goto PLGA_; goto kPfr8; XpY8q: $ekstra = []; goto j97gT; jCjf7: if (!$check_ekskul) { goto xRciT; } goto bWgiB; bWgiB: $row_ekskul = count($this->input->post("\x65\x6b\163\153\x75\154" . $kls->kls_id, true)); goto XpY8q; H_Cwg: $ekstra[] = ["\x65\153\163\164\x72\141" => $kelaseks]; goto dRiN4; ZGuLY: $check_ekskul = $this->input->post("\x65\153\163\x6b\x75\154" . $kls->kls_id, true); goto jCjf7; CxwDs: $ekstras = ["\151\x64\x5f\153\145\154\141\x73\137\145\153\163\164\162\141" => $kls->kls_id . $tp . $smt, "\x69\144\137\x6b\x65\x6c\x61\163" => $kls->kls_id, "\151\144\137\x74\x70" => $tp, "\x69\x64\x5f\x73\x6d\164" => $smt, "\145\x6b\x73\x74\162\141" => serialize($ekstra)]; goto lQT11; iFN9g: xRciT: goto y3vDZ; dRiN4: oHAYJ: goto FjoK1; Zg0AW: if (!($j <= $row_ekskul)) { goto ARgDa; } goto Igcj2; kPfr8: ARgDa: goto CxwDs; y3vDZ: konPK: goto w_Dvh; Igcj2: $kelaseks = $this->input->post("\145\153\163\x6b\165\154" . $kls->kls_id . "\x5b" . $j . "\135", true); goto H_Cwg; j97gT: $j = 0; goto QkBWH; lQT11: $update[] = $this->db->replace("\x6b\x65\x6c\x61\x73\x5f\x65\153\163\x74\162\141", $ekstras); goto iFN9g; w_Dvh: } goto JW5Ik; Qk3Ca: $this->output_json($res); goto aTHQu; L6lvQ: $row_insert = 0; goto fR5Od; He1Vu: $check_kelas = json_decode(json_encode(json_decode($this->input->post("\153\145\x6c\141\x73", true)))); goto htxYS; JW5Ik: ykOdQ: goto j0Cr8; Gm3CP: $smt = $this->master->getSemesterActive()->id_smt; goto L6lvQ; htxYS: $tp = $this->master->getTahunActive()->id_tp; goto Gm3CP; j0Cr8: $res["\x73\x74\x61\x74\x75\163"] = true; goto p3Xtx; aTHQu: } public function import($import_data = null) { goto UcqP9; GY8yL: $this->load->view("\x5f\164\145\x6d\160\x6c\x61\x74\145\x73\57\x64\x61\163\150\x62\x6f\141\x72\144\x2f\137\146\157\x6f\x74\145\162"); goto RUYzP; UcqP9: $user = $this->ion_auth->user()->row(); goto WL3gN; iledJ: $data["\163\x6d\164\x5f\141\143\x74\151\x76\x65"] = $this->dashboard->getSemesterActive(); goto rju9W; WL3gN: $data = ["\x75\x73\145\162" => $user, "\152\165\x64\x75\x6c" => "\x4d\141\x74\x61\x20\120\x65\x6c\141\152\141\162\x61\156", "\x73\x75\142\152\x75\x64\x75\x6c" => "\x49\x6d\x70\157\162\164\40\x4d\x61\x74\141\x20\x50\145\154\141\x6a\141\162\141\x6e", "\160\x72\157\146\x69\x6c\145" => $this->dashboard->getProfileAdmin($user->id), "\x73\x65\x74\164\x69\x6e\x67" => $this->dashboard->getSetting()]; goto YD_2R; rju9W: $this->load->view("\137\x74\x65\155\160\154\141\164\x65\163\x2f\x64\x61\163\150\142\x6f\x61\x72\144\57\137\x68\145\141\x64\x65\x72", $data); goto s2Mdv; YD_2R: if (!($import_data != null)) { goto VrrZX; } goto oAJmH; B4mL3: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto iledJ; mzgyj: $data["\164\160"] = $this->dashboard->getTahun(); goto Z1a0k; oAJmH: $data["\x69\x6d\x70\x6f\x72\x74"] = $import_data; goto X8X2G; X8X2G: VrrZX: goto mzgyj; Z1a0k: $data["\164\x70\137\x61\x63\164\x69\166\145"] = $this->dashboard->getTahunActive(); goto B4mL3; s2Mdv: $this->load->view("\x6d\141\163\x74\x65\162\57\x65\153\163\164\162\141\57\151\155\x70\x6f\162\x74"); goto GY8yL; RUYzP: } }
