<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\x42\101\123\105\120\101\124\x48") or exit("\116\x6f\x20\144\151\x72\x65\x63\x74\x20\163\x63\162\x69\160\x74\40\x61\x63\x63\x65\163\163\40\141\x6c\x6c\157\x77\x65\x64"); use PhpOffice\PhpSpreadsheet\Spreadsheet; use PhpOffice\PhpSpreadsheet\Writer\Xlsx; use PhpOffice\PhpSpreadsheet\Writer\Xls; use PhpOffice\PhpSpreadsheet\Writer\Csv; class Dataekstra extends CI_Controller { public function __construct() { goto NJAns; bYEOY: $this->load->model("\x44\x72\157\160\x64\x6f\167\156\137\155\x6f\144\x65\x6c", "\x64\162\157\160\144\157\167\x6e"); goto kFVxT; tP4_R: rNBqw: goto SUzWI; liImx: $this->load->model("\x44\x61\163\150\x62\157\141\x72\x64\x5f\155\157\x64\x65\154", "\x64\x61\x73\x68\142\157\141\162\x64"); goto bYEOY; WmquA: if (!$this->ion_auth->logged_in()) { goto rNBqw; } goto KWoOB; kFVxT: $this->load->model("\113\145\154\141\x73\x5f\155\157\x64\x65\154", "\x6b\x65\154\x61\x73"); goto E4Zx4; IQJr4: QyYq3: goto ntXin; DkvtW: sc3Ob: goto r8HZh; E4Zx4: $this->form_validation->set_error_delimiters('', ''); goto L11gJ; r8HZh: goto QyYq3; goto tP4_R; KWoOB: if ($this->ion_auth->is_admin()) { goto sc3Ob; } goto P7EQp; ntXin: $this->load->library(["\144\x61\164\141\164\x61\142\154\145\163", "\x66\157\x72\155\137\x76\141\x6c\x69\144\141\164\151\157\x6e"]); goto vPDE6; SUzWI: redirect("\x61\x75\164\x68"); goto IQJr4; NJAns: parent::__construct(); goto WmquA; vPDE6: $this->load->model("\115\x61\163\164\x65\x72\137\155\x6f\x64\x65\x6c", "\155\x61\x73\x74\145\x72"); goto liImx; P7EQp: show_error("\110\141\x6e\x79\x61\40\101\144\x6d\151\156\x69\163\164\162\x61\164\157\x72\40\171\141\156\147\x20\x64\x69\142\145\162\151\x20\x68\x61\153\40\165\x6e\x74\165\x6b\x20\155\x65\x6e\147\141\153\163\x65\163\40\x68\141\x6c\141\155\x61\156\40\151\x6e\151\x2c\x20\x3c\141\x20\150\x72\145\146\x3d\x22" . base_url("\144\x61\x73\150\142\x6f\x61\x72\144") . "\42\76\113\x65\155\x62\141\154\151\x20\153\145\40\x6d\x65\x6e\165\x20\141\x77\x61\x6c\74\57\x61\x3e", 403, "\x41\x6b\163\x65\163\x20\x54\145\x72\154\141\x72\x61\156\x67"); goto DkvtW; L11gJ: } public function output_json($data, $encode = true) { goto FjoqF; WAsHO: $this->output->set_content_type("\x61\x70\x70\x6c\x69\143\x61\x74\x69\x6f\156\57\152\x73\x6f\x6e")->set_output($data); goto aIS0F; FjoqF: if (!$encode) { goto GJpaT; } goto o2vQd; JzVNL: GJpaT: goto WAsHO; o2vQd: $data = json_encode($data); goto JzVNL; aIS0F: } public function index() { goto Js3qO; L6oGh: $kelas = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto L1U6c; FseOX: $smt = $this->dashboard->getSemesterActive(); goto YqVs9; Js3qO: $user = $this->ion_auth->user()->row(); goto uBc13; XwD4H: $this->load->view("\x6d\x61\163\x74\145\162\57\x65\x6b\x73\x74\x72\x61\x2f\x64\x61\164\141"); goto xBq_z; aKP2r: $data["\160\145\x6d\x62\151\x6d\x62\151\x6e\147"] = $this->dropdown->getAllGuru(); goto r1XuZ; lpryR: $data["\x65\x6b\163\x6b\x75\x6c"] = $this->dropdown->getAllEkskul(); goto L6oGh; r1XuZ: $this->load->view("\x5f\x74\x65\x6d\x70\154\141\164\x65\163\57\144\141\163\150\x62\157\x61\162\144\x2f\x5f\x68\145\141\144\145\162", $data); goto XwD4H; BCNYt: $data["\145\153\163\x6b\x75\154\137\153\145\154\141\x73"] = $kelasEks; goto BxwoH; YqVs9: $data["\x74\160"] = $this->dashboard->getTahun(); goto mSwVN; BxwoH: $data["\153\x65\154\141\163"] = $kelas; goto aKP2r; mSwVN: $data["\x74\160\x5f\141\143\164\x69\x76\x65"] = $tp; goto W7ovH; L1U6c: $kelasEks = []; goto i001t; uBc13: $data = ["\165\163\145\x72" => $user, "\x6a\x75\x64\165\154" => "\x45\x6b\163\x74\162\141\153\165\162\x69\x6b\165\x6c\x65\x72", "\x73\165\x62\152\165\144\165\154" => "\104\141\x74\141\x20\115\141\164\141\40\x50\x65\x6c\141\152\141\x72\141\156", "\x70\162\x6f\x66\151\x6c\145" => $this->dashboard->getProfileAdmin($user->id), "\x73\145\x74\164\151\x6e\147" => $this->dashboard->getSetting()]; goto HsxjW; Dr_pZ: NTQcF: goto BCNYt; WN8Hh: $data["\x73\155\164\x5f\141\x63\164\151\166\x65"] = $smt; goto lpryR; i001t: foreach ($kelas as $key => $kls) { $kelasEks[$key] = $this->kelas->getKelasEkskul($key, $tp->id_tp, $smt->id_smt); R5HJA: } goto Dr_pZ; HsxjW: $tp = $this->dashboard->getTahunActive(); goto FseOX; W7ovH: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto WN8Hh; xBq_z: $this->load->view("\x5f\164\145\155\x70\154\x61\x74\x65\163\x2f\x64\141\x73\150\x62\157\141\162\x64\x2f\x5f\146\x6f\x6f\164\x65\162"); goto Pbl8l; Pbl8l: } public function create() { goto wesq9; BzlDy: $data = $this->master->create("\x6d\x61\x73\x74\x65\162\137\145\x6b\163\x74\x72\x61", $insert); goto cgbZF; cgbZF: $this->output->set_content_type("\141\160\160\x6c\x69\x63\141\x74\x69\x6f\x6e\x2f\152\x73\x6f\x6e")->set_output($data); goto Hojh8; wesq9: $insert = ["\x6e\141\155\x61\x5f\145\x6b\163\164\162\141" => $this->input->post("\156\141\155\x61\137\145\153\x73\x74\x72\141", true), "\153\x6f\x64\145\137\x65\x6b\x73\164\162\141" => $this->input->post("\x6b\157\x64\x65\137\145\x6b\x73\164\x72\141", true)]; goto BzlDy; Hojh8: } public function read() { goto vCjhv; pWfKi: echo $this->datatables->generate(); goto p6rxA; jW9OY: $this->datatables->from("\155\x61\x73\x74\x65\x72\137\145\153\x73\x74\162\x61"); goto pWfKi; vCjhv: $this->datatables->select("\52"); goto jW9OY; p6rxA: } public function update() { $data = $this->master->updateEkstra(); $this->output->set_content_type("\x61\160\160\154\151\143\x61\164\151\x6f\156\x2f\152\x73\157\x6e")->set_output($data); } public function delete($id) { goto cFKvp; zHbgR: wzbug: goto pQK2p; PA5Pt: mXdCo: goto p3Gsi; vw4zj: goto wzbug; goto csavv; wdyF5: if ($this->master->delete("\x6d\x61\x73\164\145\162\x5f\x65\x6b\x73\164\162\141", [$id], "\151\144\137\145\153\x73\164\x72\141")) { goto fcC17; } goto yYyrW; g8Zmi: $this->output_json(["\x73\x74\141\x74\165\x73" => true, "\x6d\145\163\x73\141\147\145" => "\x45\153\x73\x6b\165\x6c\x20\x62\145\x72\150\x61\x73\151\x6c\40\x64\151\x68\141\160\x75\x73"]); goto zHbgR; zN5Mu: $tables = []; goto vTIew; p3Gsi: if (count($messages) > 0) { goto ArypY; } goto wdyF5; cFKvp: $messages = []; goto zN5Mu; gp91d: foreach ($tabless as $table) { goto RxGeL; chJI5: foreach ($fields as $field) { goto AU09q; AU09q: if (!($field->name == "\151\x64\137\x65\x6b\163\164\162\x61" || $field->name == "\x65\153\x73\164\162\141\x5f\151\144")) { goto ujHht; } goto g4ggt; FSemH: u9vF0: goto K0ux_; g4ggt: array_push($tables, $table); goto E32N0; E32N0: ujHht: goto FSemH; K0ux_: } goto cNuXP; RxGeL: $fields = $this->db->field_data($table); goto chJI5; cNuXP: nF2Mj: goto K_eHS; K_eHS: GR9bm: goto PwSbE; PwSbE: } goto VlzIe; OF2X_: ArypY: goto LXDmd; LXDmd: $this->output_json(["\x73\164\x61\x74\x75\x73" => false, "\x74\157\164\141\154" => "\115\x61\160\x65\154\40\144\151\x67\x75\x6e\141\153\141\x6e\x20\144\151\x20" . count($messages) . "\x20\x74\x61\142\x65\154\x3a\x3c\142\x72\76" . implode("\x3c\x62\x72\76", $messages)]); goto OqlYa; csavv: fcC17: goto g8Zmi; VlzIe: hbXSg: goto UAnBB; NcCEo: foreach ($tables as $table) { goto CsRxh; pDgRx: R6BvV: goto prZ5s; Tekzs: zuvrl: goto DVelq; DVelq: F9ecH: goto pDgRx; CsRxh: if (!($table != "\155\x61\163\164\145\162\137\145\x6b\163\164\162\141")) { goto F9ecH; } goto BQf2R; IIRFG: array_push($messages, $table); goto Tekzs; ODoCN: $num = $this->db->count_all_results($table); goto pZ8Qv; pZ8Qv: if (!($num > 0)) { goto zuvrl; } goto IIRFG; BQf2R: $this->db->where("\x69\x64\x5f\x65\153\163\164\x72\x61", $id); goto ODoCN; prZ5s: } goto PA5Pt; UAnBB: $this->output_json($tables); goto NcCEo; yYyrW: $this->output_json(["\x73\x74\141\164\x75\163" => false, "\x6d\x65\163\x73\x61\147\145" => "\105\x6b\163\x6b\x75\x6c\40\x67\x61\147\141\x6c\40\x64\x69\x68\141\160\165\x73"]); goto vw4zj; OqlYa: HUNr1: goto iROMj; pQK2p: goto HUNr1; goto OF2X_; vTIew: $tabless = $this->db->list_tables(); goto gp91d; iROMj: } public function save() { goto h_RO8; ZbRfv: $res["\163\x74\141\164\165\x73"] = true; goto WpUet; g06LX: foreach ($check_kelas as $key => $kls) { goto bVNkx; qORA3: $j++; goto IMWxX; u9Qks: SQBHO: goto RSdiF; H4yrQ: UCTe_: goto V9fyk; c__NT: $update[] = $this->db->replace("\153\x65\x6c\x61\163\x5f\x65\153\x73\164\x72\141", $ekstras); goto ZFB78; v5CXE: $ekstra[] = ["\145\153\163\x74\162\x61" => $kelaseks]; goto ql0HO; ZFB78: Lc0u_: goto H4yrQ; RSdiF: if (!($j <= $row_ekskul)) { goto DYKtH; } goto XREet; bVNkx: $check_ekskul = $this->input->post("\x65\x6b\x73\x6b\165\154" . $kls->kls_id, true); goto HGA7_; IMWxX: goto SQBHO; goto Wl1Df; LwC8z: $ekstras = ["\151\x64\137\x6b\x65\154\141\x73\x5f\145\153\163\x74\162\x61" => $kls->kls_id . $tp . $smt, "\x69\144\x5f\x6b\145\x6c\x61\x73" => $kls->kls_id, "\x69\x64\137\x74\x70" => $tp, "\x69\144\x5f\163\x6d\x74" => $smt, "\x65\x6b\163\164\x72\x61" => serialize($ekstra)]; goto c__NT; wCB4a: $row_ekskul = count($this->input->post("\x65\153\163\x6b\165\x6c" . $kls->kls_id, true)); goto esZQK; HGA7_: if (!$check_ekskul) { goto Lc0u_; } goto wCB4a; ql0HO: SYGjF: goto qORA3; Dwbhx: $j = 0; goto u9Qks; XREet: $kelaseks = $this->input->post("\x65\x6b\x73\x6b\165\154" . $kls->kls_id . "\x5b" . $j . "\x5d", true); goto v5CXE; esZQK: $ekstra = []; goto Dwbhx; Wl1Df: DYKtH: goto LwC8z; V9fyk: } goto N0j8Y; RmeCP: $update = []; goto g06LX; jehYr: $smt = $this->master->getSemesterActive()->id_smt; goto ehpTL; h_RO8: $check_kelas = json_decode(json_encode(json_decode($this->input->post("\153\x65\154\x61\x73", true)))); goto IsEUf; WpUet: $res["\x75\160\144\141\164\x65"] = $update; goto Udjxt; Udjxt: $this->output_json($res); goto kkio5; N0j8Y: eJMTB: goto ZbRfv; IsEUf: $tp = $this->master->getTahunActive()->id_tp; goto jehYr; ehpTL: $row_insert = 0; goto RmeCP; kkio5: } public function import($import_data = null) { goto qfquI; QOqwc: I4Lgp: goto uipoi; O0dw8: $this->load->view("\x6d\x61\x73\x74\x65\x72\x2f\x65\x6b\163\x74\162\141\57\151\x6d\160\157\x72\x74"); goto wwUQy; Kmq1A: $data["\x73\155\164\137\x61\x63\x74\x69\x76\x65"] = $this->dashboard->getSemesterActive(); goto c6hdl; FUL0h: if (!($import_data != null)) { goto I4Lgp; } goto lG5Ex; D31VG: $data = ["\x75\163\x65\x72" => $user, "\152\165\x64\165\154" => "\115\141\164\x61\40\120\x65\154\141\x6a\x61\x72\141\x6e", "\163\165\142\x6a\x75\x64\165\x6c" => "\111\x6d\x70\157\162\164\x20\x4d\x61\164\141\x20\x50\145\154\141\152\141\x72\141\156", "\x70\x72\157\146\x69\x6c\145" => $this->dashboard->getProfileAdmin($user->id), "\x73\x65\x74\164\151\156\147" => $this->dashboard->getSetting()]; goto FUL0h; uipoi: $data["\x74\160"] = $this->dashboard->getTahun(); goto ZpleG; qfquI: $user = $this->ion_auth->user()->row(); goto D31VG; ZpleG: $data["\164\x70\137\141\143\x74\151\x76\x65"] = $this->dashboard->getTahunActive(); goto yUrQW; c6hdl: $this->load->view("\137\164\x65\x6d\x70\154\x61\164\145\163\57\x64\x61\x73\x68\142\157\x61\162\x64\x2f\137\150\x65\141\144\x65\162", $data); goto O0dw8; lG5Ex: $data["\x69\x6d\160\157\162\164"] = $import_data; goto QOqwc; yUrQW: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto Kmq1A; wwUQy: $this->load->view("\137\164\145\155\160\x6c\x61\x74\x65\163\57\144\x61\163\x68\142\157\141\x72\x64\x2f\137\146\x6f\157\164\x65\162"); goto ZY_VX; ZY_VX: } }
