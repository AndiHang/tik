<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\102\101\x53\105\120\x41\124\x48") or exit("\x4e\x6f\40\144\151\x72\145\x63\x74\x20\163\x63\x72\151\160\164\40\x61\x63\143\145\163\x73\x20\x61\154\x6c\x6f\x77\145\144"); class Dashboard extends CI_Controller { public function __construct() { goto ZvpoY; zgA5i: $this->load->model("\103\142\x74\x5f\x6d\157\x64\x65\154", "\x63\142\164"); goto ZfpmG; MBJqL: if ($this->ion_auth->logged_in()) { goto sG1d3; } goto ysFvE; ZvpoY: parent::__construct(); goto MBJqL; HOMxq: sG1d3: goto kplDi; kplDi: $this->load->model("\x4d\x61\x73\164\x65\x72\137\x6d\157\x64\145\x6c", "\155\x61\x73\164\145\x72"); goto bNMp3; bNMp3: $this->load->model("\x44\x61\163\150\x62\157\x61\162\x64\137\x6d\x6f\x64\x65\154", "\x64\141\163\150\142\157\141\x72\144"); goto fDnAv; fDnAv: $this->load->model("\114\157\147\x5f\x6d\x6f\x64\145\x6c", "\154\157\147\147\151\156\x67"); goto f7fXM; f7fXM: $this->load->model("\104\x72\x6f\x70\x64\x6f\167\156\137\x6d\x6f\x64\x65\154", "\x64\x72\x6f\x70\144\x6f\x77\156"); goto zgA5i; ysFvE: redirect("\x61\x75\x74\150"); goto HOMxq; ZfpmG: } public function admin_box($setting, $tp, $smt) { goto QW1N4; sY41I: goto a68sg; goto F6phg; K_bbx: goto a68sg; goto yXKBM; aW8bj: a68sg: goto Omfzl; QW1N4: $where = ''; goto sqO_D; lNqYK: $where = "\152\145\156\152\x61\156\x67\x3d\62\40\117\122\x20\x6a\145\156\x6a\141\x6e\x67\x3d\x31"; goto aW8bj; qeltE: $where = "\x6a\145\x6e\152\x61\156\x67\75\60\x20\117\x52\x20\152\145\156\x6a\141\x6e\147\75\x31"; goto sY41I; zwsnY: $info_box = json_decode(json_encode($box), FALSE); goto lfz02; lfz02: return $info_box; goto WdaGx; dTWgU: if ($setting->jenjang == "\x32") { goto GgJD1; } goto K_bbx; yXKBM: ka6WH: goto qeltE; sqO_D: if ($setting->jenjang == "\x31") { goto ka6WH; } goto dTWgU; Omfzl: $box = [["\x62\157\170" => "\x62\154\x75\x65", "\164\157\164\141\154" => $this->dashboard->total("\x6d\x61\163\164\145\162\137\x73\x69\163\x77\x61"), "\x74\151\x74\154\x65" => "\x53\x69\x73\167\141", "\x75\x72\154" => "\x64\x61\x74\141\x73\x69\x73\x77\141", "\151\x63\157\156" => "\x75\163\145\x72\x73"], ["\142\x6f\x78" => "\143\171\x61\156", "\x74\157\x74\141\154" => $this->dashboard->total("\x6d\141\163\164\145\162\x5f\x6b\x65\154\141\x73", "\x69\x64\x5f\x74\160\x3d" . $tp . "\x20\x41\x4e\104\x20\x69\x64\x5f\163\x6d\164\75" . $smt), "\x74\x69\164\x6c\x65" => "\x52\x6f\x6d\x62\x65\x6c", "\x75\162\154" => "\144\141\x74\x61\153\145\154\141\163", "\151\x63\157\156" => "\x62\145\154\154"], ["\142\157\170" => "\x74\145\141\x6c", "\x74\x6f\x74\x61\x6c" => $this->dashboard->total("\155\141\163\164\x65\x72\x5f\x67\x75\162\x75"), "\164\151\164\x6c\145" => "\107\x75\162\x75", "\165\162\x6c" => "\144\x61\164\x61\x67\165\x72\x75", "\151\143\157\x6e" => "\x75\x73\145\162"], ["\x62\157\x78" => "\146\x75\x63\150\x73\x69\x61", "\x74\157\164\x61\154" => $this->dashboard->totalWaliKelas($tp, $smt), "\164\x69\164\x6c\x65" => "\127\141\154\x69\x20\113\x65\x6c\141\x73", "\x75\x72\x6c" => "\144\x61\164\141\x67\x75\x72\x75", "\x69\143\157\156" => "\165\x73\x65\x72"], ["\142\157\170" => "\x73\x75\143\x63\x65\x73\x73", "\x74\x6f\x74\x61\x6c" => $this->dashboard->total("\x6d\141\x73\x74\145\162\x5f\x6d\x61\160\x65\154", $where), "\x74\151\164\x6c\x65" => "\115\141\160\145\154", "\165\162\x6c" => "\144\x61\164\141\155\x61\160\145\x6c", "\151\143\x6f\x6e" => "\142\157\157\x6b"], ["\142\x6f\x78" => "\171\x65\x6c\x6c\x6f\x77", "\x74\x6f\164\141\x6c" => $this->dashboard->total("\155\x61\x73\164\x65\x72\x5f\145\153\x73\x74\162\x61"), "\x74\151\164\x6c\145" => "\x45\153\163\164\162\141\153\165\162\151\153\165\x6c\x65\x72", "\165\x72\154" => "\144\x61\x74\141\x65\x6b\163\x74\162\141", "\x69\x63\157\156" => "\x62\x6f\157\x6b"]]; goto zwsnY; F6phg: GgJD1: goto lNqYK; WdaGx: } public function guru_box($setting) { goto UVJDd; T3gj6: $box = [["\x62\157\x78" => "\x74\x65\x61\x6c", "\164\157\164\x61\x6c" => $this->dashboard->total("\x6d\x61\x73\164\x65\x72\137\x6b\x65\154\x61\163"), "\164\151\x74\x6c\145" => "\122\x6f\x6d\142\x65\x6c", "\151\x63\x6f\x6e" => "\165\163\x65\162"], ["\x62\157\170" => "\x62\x6c\x75\x65", "\164\x6f\164\x61\154" => $this->dashboard->total("\155\x61\x73\164\x65\162\137\x73\x69\x73\167\141"), "\164\151\164\x6c\145" => "\x53\x69\163\x77\x61", "\x69\x63\x6f\156" => "\x75\x73\x65\162\x73"], ["\142\157\170" => "\x66\165\x63\x68\x73\151\141", "\x74\157\x74\141\154" => $this->dashboard->total("\155\x61\163\x74\x65\x72\137\147\165\162\x75"), "\164\151\x74\x6c\x65" => "\x47\165\162\x75", "\x69\x63\157\x6e" => "\x75\x73\145\x72"], ["\142\157\x78" => "\163\165\143\x63\145\163\x73", "\x74\x6f\x74\141\x6c" => $this->dashboard->total("\x6d\141\x73\164\x65\x72\137\x6d\141\x70\145\x6c", $where), "\x74\x69\x74\x6c\145" => "\115\x61\160\145\154", "\x69\143\157\156" => "\x62\x6f\157\153"]]; goto vfpvw; vfpvw: $info_box = json_decode(json_encode($box), FALSE); goto j1Xw3; AprAv: if ($setting->jenjang == "\62") { goto zgFjG; } goto Jk7gD; SIJgl: AVd1v: goto sNzwa; Jk7gD: goto YIkcX; goto SIJgl; DM0BS: YIkcX: goto T3gj6; gDntP: goto YIkcX; goto fX77k; sNzwa: $where = "\x6a\x65\156\152\141\x6e\x67\x3d\x30\x20\117\x52\x20\152\x65\x6e\x6a\x61\x6e\147\x3d\x31"; goto gDntP; UVJDd: $where = ''; goto B03Pb; fX77k: zgFjG: goto ao0MU; j1Xw3: return $info_box; goto E2cfx; ao0MU: $where = "\x6a\x65\156\x6a\141\156\147\75\62\40\x4f\x52\40\x6a\x65\156\152\141\156\147\75\61"; goto DM0BS; B03Pb: if ($setting->jenjang == "\x31") { goto AVd1v; } goto AprAv; E2cfx: } public function ujian_box() { goto zDfVl; zDfVl: $box = [["\142\157\x78" => "\x69\156\144\151\147\157", "\x74\157\164\141\x6c" => $this->dashboard->total("\143\x62\x74\137\x72\165\141\156\x67"), "\164\x69\x74\x6c\x65" => "\122\165\x61\156\x67\40\x55\152\x69\141\x6e", "\x75\x72\154" => "\x63\142\x74\162\x75\141\x6e\147", "\151\143\157\x6e" => "\163\x63\x68\x6f\157\x6c"], ["\142\x6f\170" => "\x6d\x61\x72\x6f\x6f\x6e", "\x74\x6f\x74\141\154" => $this->dashboard->total("\x63\142\x74\137\163\145\163\x69"), "\x74\151\x74\x6c\145" => "\x53\145\163\x69", "\165\162\154" => "\x63\142\164\163\145\163\x69", "\x69\143\157\156" => "\143\x6c\157\x63\153"], ["\x62\157\x78" => "\147\x72\145\145\x6e", "\164\x6f\x74\141\154" => $this->dashboard->total("\143\142\x74\137\142\x61\x6e\x6b\x5f\163\157\141\x6c"), "\164\151\164\x6c\145" => "\102\141\156\153\x20\123\157\x61\x6c", "\165\x72\154" => "\143\142\164\142\x61\156\153\163\157\141\x6c", "\x69\143\157\x6e" => "\x66\157\x6c\x64\x65\x72"], ["\x62\x6f\170" => "\x74\145\x61\154", "\164\157\164\141\154" => $this->dashboard->totalJadwal(), "\x74\x69\x74\154\x65" => "\112\141\x64\x77\141\x6c", "\x75\162\154" => "\143\142\x74\x6a\141\144\x77\x61\x6c", "\151\x63\x6f\156" => "\143\154\157\143\x6b"]]; goto OlRnG; HfwrN: return $info_box; goto mdbZP; OlRnG: $info_box = json_decode(json_encode($box), FALSE); goto HfwrN; mdbZP: } public function menu_siswa_box() { goto Gsedu; Gsedu: $box = [["\164\x69\164\154\145" => "\x4a\141\144\167\x61\x6c\40\120\x65\x6c\x61\152\x61\x72\141\x6e", "\x69\143\x6f\156" => "\151\143\x5f\x6f\156\x6c\x69\156\145\56\160\x6e\x67", "\x6c\x69\156\x6b" => "\x73\151\163\167\141\x2f\152\141\144\x77\x61\154\160\x65\x6c\141\152\141\x72\x61\x6e"], ["\164\151\164\x6c\145" => "\x4d\x61\x74\145\x72\151", "\151\x63\157\156" => "\x69\x63\137\x65\x6c\145\x61\162\x6e\x69\156\x67\56\160\156\x67", "\154\x69\156\x6b" => "\x73\151\163\x77\x61\x2f\x6d\141\164\x65\162\x69"], ["\x74\x69\x74\x6c\x65" => "\124\x75\x67\x61\x73", "\x69\143\157\x6e" => "\x69\143\137\x71\x75\145\x73\x74\151\157\156\x73\x2e\x70\156\x67", "\154\151\x6e\153" => "\x73\x69\163\x77\x61\57\x74\x75\147\x61\163"], ["\x74\x69\164\154\x65" => "\x55\x6a\151\x61\156\x20\57\x20\125\154\141\x6e\x67\141\156", "\x69\x63\157\x6e" => "\x69\x63\x5f\x71\165\x65\163\164\x69\x6f\x6e\x2e\160\156\147", "\x6c\x69\156\x6b" => "\163\151\163\167\141\x2f\143\142\x74"], ["\x74\151\164\x6c\x65" => "\116\151\x6c\x61\x69\x20\110\141\163\151\x6c", "\151\143\x6f\156" => "\151\143\137\x65\170\141\x6d\x2e\160\156\147", "\154\x69\156\x6b" => "\x73\x69\x73\167\x61\57\x68\141\163\151\x6c"], ["\164\151\x74\x6c\x65" => "\x41\142\163\145\x6e\163\151", "\151\x63\x6f\x6e" => "\x69\143\137\143\154\x69\x70\142\x6f\x61\162\144\x2e\x70\156\147", "\x6c\x69\x6e\153" => "\x73\151\163\x77\x61\x2f\x6b\x65\150\141\x64\151\x72\141\x6e"], ["\164\151\x74\x6c\x65" => "\x43\141\x74\x61\x74\141\156\40\x47\x75\x72\165", "\x69\x63\x6f\156" => "\x69\143\137\163\164\x75\144\x65\x6e\x74\56\x70\x6e\147", "\154\x69\x6e\x6b" => "\163\x69\163\x77\141\x2f\143\141\x74\141\164\x61\156"]]; goto PPYoE; ZTi6e: return $info_box; goto yT4fu; PPYoE: $info_box = json_decode(json_encode($box), FALSE); goto ZTi6e; yT4fu: } public function index() { goto Yd3bJ; F18fb: iIgte: goto wUQ39; yONhs: $this->load->view("\155\145\155\x62\x65\x72\163\x2f\163\x69\163\x77\141\57\144\141\163\x68\x62\157\141\x72\x64"); goto nFysz; Le63O: if ($this->ion_auth->in_group("\147\165\x72\165")) { goto SYLml; } goto EOxlm; xaLK_: tuUKO: goto TIGky; NST60: $data["\x69\156\x66\x6f\x5f\x62\157\170"] = $this->admin_box($setting, $tp->id_tp, $smt->id_smt); goto fIjlU; aa4YF: if ($this->ion_auth->in_group("\x73\x69\163\x77\x61")) { goto w023e; } goto cPk5M; ajP0Q: $data = ["\x75\163\145\x72" => $user, "\x6a\x75\x64\x75\x6c" => "\102\x65\162\x61\x6e\144\141", "\x73\x75\x62\x6a\165\144\165\154" => "\110\x61\x6c\x61\155\141\x6e\40\x55\164\x61\x6d\141", "\163\x65\164\164\x69\156\147" => $setting]; goto cgO24; cXHvT: $smt = $this->dashboard->getSemesterActive(); goto GEijl; lqMHE: $data["\x74\x70\137\141\143\x74\151\166\x65"] = $tp; goto FRPoU; RTGl6: $jadwal = $this->dashboard->loadJadwalHariIni($tp->id_tp, $smt->id_smt, null, $day); goto lysJ_; ARyrt: $this->load->view("\x5f\x74\145\x6d\160\154\141\164\x65\x73\x2f\x64\x61\x73\150\x62\157\x61\162\144\57\x5f\150\145\x61\x64\145\162", $data); goto ZFyaB; vjrBs: $day = date("\x4e", strtotime(date("\131\55\x6d\55\x64"))); goto RTGl6; De9r_: if ($siswa == null) { goto Z2Y2z; } goto fzZhD; dsa5w: $data["\160\162\x6f\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto ARyrt; jPkU4: $data["\153\x62\x6d\x73"] = $arrKbm[$siswa->id_kelas] ?? null; goto QLv4O; fzZhD: $data["\163\x69\x73\167\x61"] = $siswa; goto Y0Hi2; Qzgrq: $user = $this->ion_auth->user()->row(); goto ajP0Q; Yd3bJ: $setting = $this->dashboard->getSetting(); goto Qzgrq; SvPVm: $data["\152\141\x64\167\x61\x6c\x73\x5f\x75\x6a\151\x61\156"] = $tglJadwals; goto sFY80; cgO24: $tp = $this->dashboard->getTahunActive(); goto cXHvT; ET3Ec: $arrKbm = []; goto c9uFS; E02Dx: ktzRk: goto NST60; ogVYL: if ($this->ion_auth->is_admin()) { goto ktzRk; } goto Le63O; jn_rm: $data["\x69\156\146\x6f\137\142\x6f\x78"] = $this->admin_box($setting, $tp->id_tp, $smt->id_smt); goto EDD39; O5JUw: $tkn["\x65\x6c\x61\160\163\145\144"] = "\60\x30\72\x30\x30\x3a\60\60"; goto vfDAM; dGyvt: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto JfbHo; Pu57O: $this->load->view("\144\151\x73\141\x62\154\145\x5f\154\157\x67\x69\x6e", $data); goto O3Es4; UNhPI: $data["\x6a\x61\x64\x77\141\154\x73"] = $arrJadwalKelas; goto VgIZz; pMPsR: $tglJadwals = $this->cbt->getAllJadwalByJenis(null, $tp->id_tp, $smt->id_smt); goto bGFok; yUjMR: SYLml: goto dGyvt; unKLG: mEDSV: goto nxTbR; kCp2p: $this->load->view("\137\x74\145\155\160\x6c\141\x74\x65\x73\x2f\144\x61\163\x68\142\x6f\x61\x72\144\x2f\x5f\146\157\157\x74\x65\x72"); goto ExYQE; WZABR: $data["\x73\155\x74\x5f\141\143\x74\x69\166\145"] = $smt; goto K6etI; CSfSL: $data["\x72\x75\141\x6e\x67\163"] = $this->cbt->getDistinctRuang($tp->id_tp, $smt->id_smt, []); goto grak7; nFysz: $this->load->view("\155\145\155\x62\145\162\x73\57\x73\x69\163\x77\141\x2f\164\x65\x6d\x70\x6c\x61\x74\x65\163\57\x66\x6f\x6f\164\x65\x72"); goto MWTEB; EDD39: $data["\x75\152\151\x61\156\137\142\x6f\170"] = $this->ujian_box(); goto dX640; grak7: $data["\x67\x75\x72\165\163"] = $this->dropdown->getAllGuru(); goto ogVYL; VgIZz: $data["\153\142\x6d\163"] = $arrKbm; goto PnJvs; YB7za: $kelass = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto p9aFA; dX640: $data["\x67\165\x72\165"] = $guru; goto Ys8na; sFY80: $data["\x70\x65\156\x67\x61\167\x61\x73"] = $this->cbt->getAllPengawas($tp->id_tp, $smt->id_smt, null, null); goto CSfSL; PnJvs: $data["\x6d\141\x70\145\x6c\163"] = $this->master->getAllMapel(); goto pMPsR; hMn6E: gykCt: goto xpaH8; KgBM8: p1B1y: goto SvPVm; cPk5M: $token = $this->cbt->getToken(); goto Ww7mf; TIGky: $arrJadwalKelas = []; goto IK15y; UPn3t: goto gykCt; goto F18fb; b8_lN: $data["\x72\x75\x6e\156\x69\x6e\147\137\164\x65\x78\x74"] = $this->dashboard->getRunningText(); goto EawAi; fIjlU: $data["\165\x6a\151\x61\x6e\137\x62\157\x78"] = $this->ujian_box(); goto dsa5w; k2Qwt: Z2Y2z: goto Pu57O; IK15y: foreach ($jadwal as $key => $item) { $arrJadwalKelas[$item->id_kelas][$item->jam_ke] = $item; oYYHm: } goto rt_ij; JfbHo: if ($guru == null) { goto iIgte; } goto jn_rm; xpaH8: VfulU: goto s5dTx; K6etI: $kelass = []; goto lc_0Q; c9uFS: foreach ($kbms as $key => $item) { $arrKbm[$item->id_kelas] = $item; KYg_p: } goto lfTF3; DV_PE: w023e: goto q2F9o; EawAi: $this->load->view("\x6d\145\155\x62\145\x72\163\x2f\x73\x69\163\x77\x61\57\x74\x65\x6d\x70\154\x61\x74\x65\x73\x2f\150\x65\141\144\145\162", $data); goto yONhs; ZFyaB: $this->load->view("\x64\x61\x73\150\x62\157\141\162\x64"); goto kCp2p; wUQ39: $this->load->view("\144\x69\163\x61\142\x6c\145\137\154\x6f\x67\151\x6e", $data); goto hMn6E; sjtT3: $tkn["\141\165\164\x6f"] = "\x30"; goto o_7KD; GEijl: $data["\x74\x70"] = $this->dashboard->getTahun(); goto lqMHE; FRPoU: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto WZABR; bGFok: foreach ($tglJadwals as $tgl => $jadwalss) { goto mubNE; GKSZn: ryOCh: goto KXdVy; mubNE: foreach ($jadwalss as $mpl => $jadwals) { goto mt1MF; W_irQ: EzYbT: goto mV7r1; mV7r1: byKwM: goto I5974; mt1MF: foreach ($jadwals as $jadwal) { goto rQ2Py; rQ2Py: $jadwal->bank_kelas = unserialize($jadwal->bank_kelas); goto BRObu; NkNSA: lxv7j: goto vaxzp; BRObu: foreach ($jadwal->bank_kelas as $kb) { goto vTQyW; ZiXct: CXSmu: goto X_ZxC; v9E7F: VkAbV: goto ZiXct; XJryi: $p = $this->cbt->getKelasUjian($kb["\153\145\154\141\163\137\x69\144"]); goto kUZHT; vTQyW: if (!($kb["\153\145\x6c\141\163\x5f\151\x64"] != '')) { goto VkAbV; } goto XJryi; kUZHT: $jadwal->peserta[] = $p; goto v9E7F; X_ZxC: } goto NkNSA; vaxzp: if33N: goto t6ww_; t6ww_: } goto W_irQ; I5974: } goto Re43F; Re43F: diBwV: goto GKSZn; KXdVy: } goto KgBM8; QXvhL: $data["\141\x64\141\x5f\165\152\x69\141\x6e"] = $this->cbt->getDataJadwalByTgl(date("\x59\x2d\155\x2d\x64")); goto UNhPI; lc_0Q: if (!($tp != null)) { goto Akcwk; } goto YB7za; OQmOY: foreach ($kbms as $kbm) { $kbm->istirahat = unserialize($kbm->istirahat); stqmD: } goto xaLK_; Y0Hi2: $data["\155\x65\x6e\x75"] = $this->menu_siswa_box(); goto jPkU4; QLv4O: $data["\152\141\144\167\x61\154\x73"] = $arrJadwalKelas[$siswa->id_kelas] ?? []; goto b8_lN; osTfS: $data["\x6b\x65\x6c\x61\x73\x65\x73"] = $kelass; goto vjrBs; ExYQE: goto VfulU; goto yUjMR; lysJ_: $kbms = $this->dashboard->getJadwalKbm($tp->id_tp, $smt->id_smt); goto OQmOY; s5dTx: goto mEDSV; goto DV_PE; q2F9o: $siswa = $this->dashboard->getDataSiswa($user->username, $tp->id_tp, $smt->id_smt); goto De9r_; MWTEB: goto LBctX; goto k2Qwt; o_7KD: $tkn["\x6a\141\162\x61\153"] = "\61"; goto O5JUw; p9aFA: Akcwk: goto osTfS; fePy_: $this->load->view("\155\145\155\x62\145\x72\x73\x2f\x67\x75\162\x75\57\144\141\163\150\142\x6f\141\x72\144"); goto B6fvA; lfTF3: vf4hD: goto aa4YF; EOxlm: goto VfulU; goto E02Dx; O3Es4: LBctX: goto unKLG; Ys8na: $this->load->view("\155\x65\155\142\145\162\x73\57\147\x75\162\x75\x2f\x74\x65\x6d\x70\154\x61\164\145\163\x2f\x68\145\141\x64\145\x72", $data); goto fePy_; Ww7mf: $tkn["\164\157\x6b\145\x6e"] = ''; goto sjtT3; vfDAM: $data["\164\157\x6b\145\x6e"] = $token != null ? $token : json_decode(json_encode($tkn)); goto QXvhL; B6fvA: $this->load->view("\x6d\145\x6d\x62\x65\162\163\57\147\165\x72\165\57\x74\x65\x6d\160\154\141\x74\145\x73\x2f\x66\157\x6f\x74\145\162"); goto UPn3t; rt_ij: uM_P6: goto ET3Ec; nxTbR: } public function checkTokenJadwal() { goto YPdH2; bkCUW: $this->output_json($data); goto x8UTw; YPdH2: $data["\141\144\x61\x5f\165\152\x69\x61\x6e"] = $this->cbt->getDataJadwalByTgl(date("\x59\x2d\x6d\55\x64")); goto bTPa1; vMjnR: $token->now = date("\x64\55\155\55\x59\40\110\x3a\x69\72\x73"); goto UBZgj; UBZgj: $data["\164\x6f\153\x65\156"] = $token; goto bkCUW; bTPa1: $token = $this->cbt->getToken(); goto vMjnR; x8UTw: } public function output_json($data, $encode = true) { goto oDCOW; VIL3T: s00Ny: goto w9uVt; oDCOW: if (!$encode) { goto s00Ny; } goto cVy5p; cVy5p: $data = json_encode($data); goto VIL3T; w9uVt: $this->output->set_content_type("\x61\x70\160\154\x69\x63\x61\x74\x69\157\x6e\57\152\163\x6f\x6e")->set_output($data); goto zSxIn; zSxIn: } public function gantiTahun() { goto eIEiA; LGrAt: $tahun = $this->input->post("\x74\x61\x68\165\156\133" . $i . "\x5d", true); goto cE_qO; FpUxv: $this->logging->saveLog(4, "\155\145\x6e\x67\147\141\156\x74\x69\x20\x74\141\x68\x75\x6e\x20\x61\x6a\x61\x72\141\156\40\x61\153\x74\x69\146"); goto Ywe2x; dvfaO: $active = 1; goto VnxQy; NIw8s: $data["\x73\164\x61\164\165\163"] = true; goto FpUxv; eIEiA: $aktif = $this->input->post("\141\x63\x74\151\166\145", true); goto mG_R_; Zgwjy: w0Pbz: goto E3_nI; R0fys: goto w0Pbz; goto cG3zc; cK03U: $active = 0; goto vxKZ2; E3_nI: if (!($i <= $rows)) { goto CTgSA; } goto xPuj5; cG3zc: CTgSA: goto oaUfU; S5cch: $i = 0; goto Zgwjy; VnxQy: Z6d_V: goto O2P32; K8pI9: $data["\165\x70\x64\141\164\x65"] = $update; goto NIw8s; xPuj5: $id_tp = $this->input->post("\x69\x64\137\x74\x70\133" . $i . "\135", true); goto LGrAt; ftSls: dwLfJ: goto dvfaO; cE_qO: if ($id_tp === $aktif) { goto dwLfJ; } goto cK03U; O2P32: $update[] = array("\x69\144\137\164\x70" => $id_tp, "\164\x61\150\165\156" => $tahun, "\x61\x63\x74\x69\x76\145" => $active); goto IDeA9; vxKZ2: goto Z6d_V; goto ftSls; IDeA9: d5fQ7: goto HhMuZ; mG_R_: $rows = count($this->input->post("\164\x61\150\x75\156", true)); goto S5cch; HhMuZ: $i++; goto R0fys; Ywe2x: $this->output_json($data); goto DoCpN; oaUfU: $this->dashboard->update("\155\x61\163\164\x65\162\137\x74\x70", $update, "\151\144\137\x74\160", null, true); goto K8pI9; DoCpN: } public function gantiSemester() { goto nywTn; mkQFI: UpWeh: goto mv8P6; hOLUa: $active = 0; goto Z_wMw; q98tu: $data["\165\160\x64\141\x74\x65"] = $update; goto TxEdQ; flNBA: $this->output_json($data); goto cbAjw; ovlw7: $id_smt = $this->input->post("\x69\x64\x5f\x73\155\164\x5b" . $i . "\135", true); goto KXi80; fhkDI: $rows = count($this->input->post("\x73\155\164", true)); goto tyChp; ujXtX: $this->logging->saveLog(4, "\x6d\145\156\147\x67\141\156\164\x69\x20\x73\x65\155\145\163\x74\145\162\40\141\153\x74\x69\146"); goto flNBA; opJpd: fE70t: goto nkL1j; nS9zG: ekp1p: goto e5Pn9; wnSsZ: FGkpN: goto NSEUp; tyChp: $i = 1; goto nS9zG; BY7ss: if ($id_smt === $aktif) { goto UpWeh; } goto hOLUa; Z_wMw: goto FGkpN; goto mkQFI; TxEdQ: $data["\163\x74\141\x74\x75\163"] = true; goto ujXtX; KXi80: $smt = $this->input->post("\163\155\164\x5b" . $i . "\x5d", true); goto BY7ss; mv8P6: $active = 1; goto wnSsZ; K2lFk: goto ekp1p; goto opJpd; e5Pn9: if (!($i <= $rows)) { goto fE70t; } goto ovlw7; NSEUp: $update[] = array("\x69\x64\137\163\155\164" => $id_smt, "\x73\x6d\x74" => $smt, "\141\x63\164\151\x76\x65" => $active); goto qFXqb; A1r6H: $i++; goto K2lFk; nkL1j: $this->dashboard->update("\155\x61\x73\164\145\162\x5f\163\x6d\x74", $update, "\151\x64\137\163\155\164", null, true); goto q98tu; qFXqb: TVL4p: goto A1r6H; nywTn: $aktif = $this->input->post("\x61\143\164\x69\166\x65", true); goto fhkDI; cbAjw: } public function getNotifikasi() { } public function getLog($limit) { $this->output_json($this->logging->loadAktifitas($limit)); } public function hapusLog() { goto Xtvz4; MMr07: $this->db->trans_complete(); goto gx5GC; TH9fE: ILjNR: goto XrgVT; U07AU: $deleted = ["\163\x74\x61\164\x75\x73" => false, "\155\145\163\163\x61\147\145" => "\x67\x61\147\x61\x6c"]; goto Co4d3; Co4d3: goto ZChmK; goto TH9fE; YGkLA: ZChmK: goto MMr07; Xtvz4: $this->db->trans_start(); goto YlKyy; gx5GC: $this->output_json($deleted); goto pNkLB; YlKyy: if ($this->db->empty_table("\x6c\x6f\x67")) { goto ILjNR; } goto U07AU; XrgVT: $deleted = ["\x73\164\141\x74\165\x73" => true, "\155\x65\x73\x73\141\x67\145" => "\x62\x65\162\150\x61\x73\151\154"]; goto YGkLA; pNkLB: } public function getLogSiswa($limit) { $this->output_json($this->logging->loadAktifitasSiswa($limit)); } public function getPengumuman($for) { $this->output_json($this->dashboard->loadPengumuman($for)); } public function getJadwalHariIni($id_kelas, $id_hari) { goto XbKhm; f6q0D: $smt = $this->dashboard->getSemesterActive(); goto SBRDo; XbKhm: $tp = $this->dashboard->getTahunActive(); goto f6q0D; SBRDo: $this->output_json($this->dashboard->loadJadwalHariIni($tp->id_tp, $smt->id_smt, $id_kelas, $id_hari)); goto bIZOo; bIZOo: } public function getJadwalKbm($id_kelas) { goto vcjZR; vcjZR: $tp = $this->dashboard->getTahunActive(); goto oVfKb; jyIuw: $jadwal = $this->dashboard->getJadwalKbm($tp->id_tp, $smt->id_smt, $id_kelas); goto VdwfM; FumxH: $this->output_json(array("\152\141\144\167\141\154" => $jadwal, "\x69\x73\x74\151\x72\141\x68\x61\164" => $istirahat)); goto GK1Dt; VdwfM: $istirahat = unserialize($jadwal->istirahat); goto FumxH; oVfKb: $smt = $this->dashboard->getSemesterActive(); goto jyIuw; GK1Dt: } }
