<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasjadwal extends CI_Controller { public function __construct() { goto eBlr2; vibSs: $this->load->model("\x44\141\x73\150\142\x6f\141\162\144\x5f\155\157\144\145\x6c", "\x64\x61\x73\150\142\157\141\x72\x64"); goto FOZgc; eBlr2: parent::__construct(); goto OhJ_j; IzY2J: $this->form_validation->set_error_delimiters('', ''); goto Fo0oH; KiXy2: $this->load->model("\114\157\x67\x5f\x6d\157\144\145\154", "\154\x6f\147\147\151\x6e\147"); goto YVnrQ; Q9oy7: $this->load->library(["\144\141\164\141\164\141\142\154\145\x73", "\x66\x6f\162\155\x5f\166\x61\x6c\151\x64\141\164\151\157\x6e"]); goto vKTFz; ynpsc: $this->load->model("\104\x72\x6f\160\144\157\x77\156\137\x6d\x6f\x64\x65\154", "\x64\x72\157\x70\144\x6f\x77\x6e"); goto IzY2J; FOZgc: $this->load->model("\103\x62\x74\x5f\x6d\x6f\144\145\x6c", "\143\x62\164"); goto KiXy2; OhJ_j: if ($this->ion_auth->logged_in()) { goto wCrPN; } goto ufJ2S; vKTFz: $this->load->model("\x4d\x61\163\164\x65\x72\x5f\155\157\x64\x65\x6c", "\x6d\x61\x73\x74\145\162"); goto vibSs; YVnrQ: $this->load->model("\113\145\x6c\x61\x73\137\155\x6f\x64\x65\x6c", "\153\x65\154\141\x73"); goto ynpsc; RrTeq: wCrPN: goto Q9oy7; ufJ2S: redirect("\x61\165\164\x68"); goto RrTeq; Fo0oH: } public function output_json($data, $encode = true) { goto HIWwY; N4n34: $data = json_encode($data); goto JUxZc; l1eD4: $this->output->set_content_type("\141\x70\160\154\x69\143\x61\164\151\157\156\57\x6a\163\x6f\x6e")->set_output($data); goto rk_5i; HIWwY: if (!$encode) { goto axT4q; } goto N4n34; JUxZc: axT4q: goto l1eD4; rk_5i: } public function index() { goto htkzU; MLXqq: $this->load->view("\x5f\x74\x65\155\160\x6c\141\164\x65\163\x2f\144\141\163\x68\142\157\141\162\x64\57\x5f\x66\157\157\164\x65\162"); goto yNSxz; YWYqf: $data["\x6b\145\x6c\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto ysoFZ; irZ5M: $this->load->view("\x6b\x65\x6c\x61\163\57\152\x61\144\x77\x61\154\x2f\144\x61\164\x61"); goto MLXqq; IgjfJ: $data = ["\x75\x73\145\x72" => $user, "\152\165\144\165\154" => "\112\x61\x64\167\x61\x6c\40\x50\x65\x6c\x61\x6a\141\162\141\156", "\163\x75\142\x6a\165\x64\x75\x6c" => "\123\x65\x74\x20\112\x61\144\167\141\x6c\x20\120\x65\154\141\x6a\x61\x72\141\x6e", "\x73\145\x74\x74\151\x6e\x67" => $this->dashboard->getSetting()]; goto b6z7k; htkzU: $user = $this->ion_auth->user()->row(); goto IgjfJ; z8gVK: yDNXd: goto d4GmL; b6z7k: $tp = $this->dashboard->getTahunActive(); goto RZJ3S; LV6y7: if ($this->ion_auth->in_group("\x67\165\162\x75")) { goto yvRyd; } goto BhmTD; FND4l: if ($this->ion_auth->is_admin()) { goto yDNXd; } goto LV6y7; RZJ3S: $smt = $this->dashboard->getSemesterActive(); goto MY8q8; MY8q8: $data["\164\160"] = $this->dashboard->getTahun(); goto eo51O; sgx_y: $data["\155\x65\164\150\157\x64"] = ''; goto atomt; hUALo: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto gC1OL; gC1OL: $data["\x73\x6d\x74\x5f\x61\x63\x74\151\x76\x65"] = $smt; goto YWYqf; wplZg: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto fBNZi; fBNZi: $data["\x67\165\x72\165"] = $guru; goto F017W; atomt: $data["\152\x6d\154\x49\x73\x74"] = []; goto xIdym; zSzNk: $this->load->view("\137\x74\145\x6d\x70\x6c\141\x74\145\x73\57\x64\141\x73\x68\142\157\141\x72\x64\x2f\137\150\145\x61\144\x65\162", $data); goto irZ5M; eo51O: $data["\164\x70\x5f\x61\x63\164\151\166\145"] = $tp; goto hUALo; BhmTD: goto CnMKs; goto z8gVK; LNs1q: CnMKs: goto GlYd8; d4GmL: $data["\x70\162\x6f\146\x69\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto zSzNk; IElzm: $this->load->view("\155\145\x6d\x62\x65\x72\x73\x2f\x67\x75\x72\165\x2f\x6b\145\154\x61\163\x2f\152\x61\144\x77\141\x6c\57\x64\x61\164\141"); goto nSRxR; yNSxz: goto CnMKs; goto HC_UK; nSRxR: $this->load->view("\155\145\x6d\142\x65\162\x73\57\147\165\x72\x75\57\x74\x65\x6d\x70\154\x61\164\145\163\x2f\x66\x6f\x6f\164\x65\162"); goto LNs1q; ysoFZ: $data["\x69\x64\x5f\x6b\145\x6c\x61\x73"] = "\60"; goto sgx_y; HC_UK: yvRyd: goto wplZg; xIdym: $data["\x6a\x6d\154\115\x61\160\145\x6c"] = []; goto FND4l; F017W: $this->load->view("\155\145\155\142\x65\x72\x73\57\x67\165\x72\165\x2f\164\145\x6d\x70\x6c\141\164\145\x73\57\150\145\x61\144\x65\x72", $data); goto IElzm; GlYd8: } public function kelas($kelas) { goto j5jvY; YVkRV: F3X0f: goto o8252; OpFzM: $data["\152\141\144\x77\x61\x6c\137\155\x61\x70\145\x6c"] = $jadwal_mapel; goto X_54C; amVT1: $data["\x6d\145\x74\x68\x6f\x64"] = "\141\144\x64"; goto Fi54e; Tx2X2: Sf5uP: goto K_gLq; nJ3Sp: if ($this->ion_auth->is_admin()) { goto F3X0f; } goto XniKk; R13c3: $smt = $this->dashboard->getSemesterActive(); goto rfUx1; nYFyN: $data["\x6d\x65\x74\150\157\x64"] = "\x65\x64\x69\x74"; goto QAFnq; C2CHp: $setting = $this->dashboard->getSetting(); goto amyaY; zkFGy: goto LudU3; goto YVkRV; dXCaQ: $this->load->view("\155\145\x6d\142\145\162\163\57\x67\x75\162\165\57\164\145\155\x70\x6c\x61\164\x65\163\57\x66\x6f\x6f\164\x65\162"); goto oKy_E; nSuuU: $tp = $this->dashboard->getTahunActive(); goto R13c3; L8de7: $jadk = $this->kelas->getJadwalKbm($tp->id_tp, $smt->id_smt, $kelas); goto nhEtS; Xxw_N: $data["\147\165\162\x75"] = $this->dashboard->getDetailGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto RRqi6; Zos9h: $jadm = $this->kelas->getJadwalMapelGroupJam($tp->id_tp, $smt->id_smt, $kelas); goto BxeA8; BV1Hj: $this->load->view("\x5f\164\145\x6d\160\x6c\x61\x74\145\163\x2f\x64\x61\163\x68\142\x6f\141\162\144\57\x5f\x68\x65\141\144\145\162", $data); goto lKcZw; Mq7Dn: $data["\x74\x70\137\x61\x63\x74\151\166\145"] = $tp; goto LbfmV; q9NGh: $data["\x69\x64\137\x6b\x65\154\141\x73"] = $kelas; goto Zos9h; LbfmV: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto dyGnV; mVDui: goto qDIVJ; goto osQk8; QAFnq: goto L7Ar8; goto ixipH; ZIxks: goto LudU3; goto ksZ0K; X_54C: $data["\x6d\141\x70\x65\x6c\163"] = $this->dropdown->getAllKodeMapel(); goto nJ3Sp; dyGnV: $data["\163\x6d\164\x5f\x61\143\x74\x69\x76\x65"] = $smt; goto DVAcN; j5jvY: $user = $this->ion_auth->user()->row(); goto C2CHp; K_gLq: $i++; goto ptriB; wGcI3: $data["\x6a\x61\144\x77\141\154\x5f\153\x62\155"] = json_decode(json_encode(["\151\x64\x5f\164\x70" => $tp->tahun, "\151\x64\x5f\x73\x6d\164" => $smt->smt, "\151\144\137\x6b\x65\x6c\141\x73" => $kelas, "\153\142\155\x5f\x6a\x61\x6d\137\160\145\154" => '', "\153\142\155\x5f\152\x61\155\137\155\x75\154\x61\x69" => '', "\x6b\142\155\x5f\152\155\x6c\x5f\155\141\x70\x65\154\137\x68\x61\162\151" => '', "\151\x73\x74\151\x72\x61\150\141\164" => serialize([]), "\141\144\x61" => false])); goto faKHY; ut6SM: ZEt_H: goto nYFyN; cFHVx: if (!($i < $jml_mapel)) { goto CtXO8; } goto tE5hG; tE5hG: $jadwal_mapel[] = ["\x6a\141\144\x77\141\154" => $this->kelas->getDummyJadwalMapel($tp->id_tp, $smt->id_smt, $i + 1, $kelas)]; goto Tx2X2; IccjH: $this->load->view("\137\164\x65\155\x70\x6c\x61\x74\x65\x73\57\144\141\163\x68\142\157\x61\162\x64\x2f\137\146\157\x6f\x74\x65\x72"); goto ZIxks; ixipH: JNYU1: goto tEqT6; faKHY: qDIVJ: goto q9NGh; nXdsc: CtXO8: goto amVT1; u6G0k: $this->load->view("\x6d\x65\155\x62\x65\162\163\57\x67\x75\x72\165\x2f\x6b\x65\x6c\141\163\x2f\152\x61\144\167\141\154\x2f\144\141\164\141"); goto dXCaQ; Fi54e: L7Ar8: goto OpFzM; XqyxH: foreach ($jadm as $j) { $jadwal_mapel[] = ["\x6a\141\x64\x77\141\154" => $this->kelas->getJadwalMapelByHari($tp->id_tp, $smt->id_smt, $j->jam_ke, $kelas)]; V0Mvu: } goto ut6SM; nhEtS: if ($jadk == null) { goto XiYc1; } goto ucMLv; ksZ0K: Zo77D: goto Xxw_N; W4to1: KgjRm: goto cFHVx; oKy_E: LudU3: goto cB_lt; lKcZw: $this->load->view("\153\x65\154\141\163\57\152\141\x64\167\141\x6c\x2f\144\x61\164\x61"); goto IccjH; rfUx1: $data["\164\160"] = $this->dashboard->getTahun(); goto Mq7Dn; DVAcN: $data["\x6b\x65\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto L8de7; vc2qL: if ($jadm == null) { goto JNYU1; } goto XqyxH; ucMLv: $data["\152\x61\144\x77\x61\x6c\137\153\x62\155"] = $jadk; goto mVDui; amyaY: $data = ["\165\x73\x65\162" => $user, "\x6a\165\x64\165\154" => "\112\141\x64\x77\x61\x6c\40\x50\x65\154\141\152\x61\x72\x61\156", "\x73\165\x62\152\x75\x64\x75\x6c" => "\123\145\164\x20\x4a\141\x64\x77\141\x6c\40\120\x65\x6c\x61\152\141\x72\x61\x6e", "\x73\x65\x74\164\151\x6e\147" => $setting]; goto nSuuU; BxeA8: $jml_mapel = $jadk == null ? 1 : $jadk->kbm_jml_mapel_hari; goto vc2qL; ptriB: goto KgjRm; goto nXdsc; osQk8: XiYc1: goto wGcI3; tEqT6: $i = 0; goto W4to1; o8252: $data["\x70\x72\x6f\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto BV1Hj; RRqi6: $this->load->view("\x6d\x65\155\x62\x65\162\x73\57\147\165\x72\165\x2f\x74\x65\x6d\160\154\141\x74\x65\x73\57\150\145\141\144\x65\x72", $data); goto u6G0k; XniKk: if ($this->ion_auth->in_group("\147\x75\x72\x75")) { goto Zo77D; } goto zkFGy; cB_lt: } public function setJadwal() { goto pYNJU; T8l2U: $id_kelas = $this->input->post("\x69\x64\x5f\x6b\145\154\141\x73", true); goto v4RZv; n1dTi: goto Rtqvm; goto EhQbf; gulyg: DcUjJ: goto Pihpk; VAzBf: $this->logging->saveLog(3, "\155\x65\x72\x75\x62\x61\x68\40\152\141\144\x77\141\x6c\x20\x70\145\154\x61\152\x61\162\x61\x6e"); goto DbNfN; SPmsv: pnylS: goto gulyg; JjIje: if (!($i < 5)) { goto xlwu6; } goto jWrXG; OBRwI: $durasi = $this->input->post("\x64\165\x72\x5f\151\163\x74" . $i, true); goto kW5bk; pYNJU: $istirahat = []; goto x2zpb; KYdkC: $this->output_json($data); goto w2WGA; Pihpk: $i++; goto n1dTi; vKyRu: Rtqvm: goto JjIje; p5X0F: $id_tp = $this->master->getTahunActive()->id_tp; goto MwF42; v4RZv: $insert = ["\x69\x64\137\x6b\142\x6d" => $id_tp . $id_smt . $id_kelas, "\151\144\137\164\160" => $id_tp, "\151\144\137\x73\155\164" => $id_smt, "\151\x64\137\x6b\145\154\x61\163" => $id_kelas, "\x6b\x62\155\137\152\141\x6d\x5f\160\x65\154" => $this->input->post("\152\141\155\x5f\155\141\160\145\x6c", true), "\153\142\x6d\x5f\x6a\141\x6d\137\x6d\165\154\x61\x69" => $this->input->post("\152\x61\155\137\155\x75\154\x61\151", true), "\x6b\142\155\x5f\x6a\x6d\x6c\137\155\x61\x70\x65\x6c\x5f\150\141\162\x69" => $this->input->post("\x6a\155\154\137\155\x61\x70\145\154", true), "\151\x73\x74\151\x72\141\x68\x61\x74" => serialize($istirahat)]; goto PUJ8H; kW5bk: if (!$jamke) { goto pnylS; } goto uDefU; EhQbf: xlwu6: goto p5X0F; jWrXG: $jamke = $this->input->post("\x69\x73\x74" . $i, true); goto OBRwI; PUJ8H: $update = $this->db->replace("\153\145\154\141\163\137\x6a\x61\144\x77\x61\154\x5f\153\142\x6d", $insert); goto VAzBf; DbNfN: $data["\x73\x74\x61\x74\x75\x73"] = $update; goto KYdkC; x2zpb: $i = 1; goto vKyRu; MwF42: $id_smt = $this->master->getSemesterActive()->id_smt; goto T8l2U; uDefU: $istirahat[] = ["\151\163\164" => $jamke, "\x64\x75\x72" => $durasi]; goto SPmsv; w2WGA: } public function setMapel() { goto MugAz; EXYLe: $res["\x73\x74\x61\164\165\163"] = $update; goto ThlPD; EJhDg: $id_kelas = $this->input->post("\x69\x64\x5f\153\145\x6c\x61\163", true); goto bfscg; BfEGN: $this->db->where($array); goto DNYEz; DNYEz: $this->db->delete("\153\145\x6c\141\163\x5f\152\x61\x64\167\141\x6c\137\155\141\x70\x65\154"); goto S2359; ThlPD: $this->output_json($res); goto T1Ten; qHGgx: $update = $this->db->insert_batch("\153\145\x6c\x61\163\137\152\141\x64\167\x61\154\x5f\155\141\x70\145\154", $data); goto EXYLe; bfscg: $array = array("\151\144\x5f\164\x70" => $input[0]->id_tp, "\x69\144\x5f\x73\155\x74" => $input[0]->id_smt, "\151\x64\137\x6b\x65\x6c\141\x73" => $id_kelas); goto BfEGN; JT9QK: ffE0B: goto qHGgx; S2359: $data = []; goto wutjh; wutjh: foreach ($input as $d) { $data[] = ["\151\x64\x5f\152\141\x64\167\141\154" => $d->id_tp . $d->id_smt . $id_kelas . $d->id_hari . $d->jam_ke, "\x69\144\x5f\164\160" => $d->id_tp, "\151\144\x5f\x73\155\164" => $d->id_smt, "\151\144\x5f\153\x65\x6c\141\163" => $id_kelas, "\151\144\x5f\x68\x61\162\151" => $d->id_hari, "\x6a\141\155\x5f\x6b\x65" => $d->jam_ke, "\x69\x64\x5f\x6d\141\x70\x65\154" => $d->id_mapel]; GXT8H: } goto JT9QK; MugAz: $input = json_decode($this->input->post("\x64\141\x74\141", true)); goto EJhDg; T1Ten: } }
