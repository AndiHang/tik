<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasabsensibulanan extends CI_Controller { public function __construct() { goto ZBp2h; aqF6p: redirect("\141\x75\164\x68"); goto cTVva; X487z: $this->load->model("\104\162\157\160\144\x6f\x77\x6e\x5f\x6d\x6f\144\x65\154", "\144\x72\x6f\x70\144\157\x77\x6e"); goto ixfpE; cTVva: i6n93: goto FyiH7; glQpX: Zuj32: goto Irh9n; ZBp2h: parent::__construct(); goto Xk5J1; aPZD_: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\x75\162\165"))) { goto Zuj32; } goto okzsB; Irh9n: goto i6n93; goto zAeOm; ixfpE: $this->load->model("\113\145\x6c\141\163\137\x6d\x6f\144\x65\x6c", "\x6b\x65\154\141\163"); goto GCQps; zAeOm: RwssX: goto aqF6p; vL36v: $this->load->model("\104\141\163\150\142\x6f\141\162\x64\137\155\x6f\x64\145\x6c", "\x64\x61\163\x68\x62\157\x61\162\x64"); goto X487z; OZBBj: $this->load->model("\115\x61\163\x74\x65\162\137\155\157\x64\145\x6c", "\155\141\163\x74\x65\x72"); goto vL36v; GCQps: $this->form_validation->set_error_delimiters('', ''); goto R1AuJ; okzsB: show_error("\110\x61\x6e\x79\141\x20\x41\x64\x6d\151\156\x69\x73\x74\162\141\x74\157\162\40\x79\141\156\x67\40\x64\151\142\x65\x72\x69\x20\150\x61\x6b\40\165\156\x74\165\153\40\x6d\145\x6e\x67\141\153\163\x65\x73\x20\150\x61\x6c\141\155\141\156\x20\151\x6e\151\x2c\40\74\141\40\150\x72\x65\x66\75\42" . base_url("\144\x61\x73\x68\x62\157\141\x72\x64") . "\42\76\113\145\155\x62\x61\x6c\151\x20\153\x65\40\x6d\x65\x6e\165\x20\141\167\141\154\74\x2f\x61\76", 403, "\x41\153\163\145\163\40\x44\x69\x62\x61\x74\x61\163\151"); goto glQpX; Xk5J1: if (!$this->ion_auth->logged_in()) { goto RwssX; } goto aPZD_; FyiH7: $this->load->library(["\x64\141\164\x61\x74\x61\x62\x6c\x65\x73", "\146\x6f\x72\x6d\137\x76\141\154\x69\144\x61\x74\x69\157\x6e"]); goto OZBBj; R1AuJ: } public function output_json($data, $encode = true) { goto j1SYm; R_5Vz: $data = json_encode($data); goto AnKr3; j1SYm: if (!$encode) { goto zLdnU; } goto R_5Vz; Hp5A6: $this->output->set_content_type("\141\x70\160\x6c\x69\x63\x61\x74\151\157\156\57\x6a\x73\157\156")->set_output($data); goto E_Gp6; AnKr3: zLdnU: goto Hp5A6; E_Gp6: } public function index() { goto wIf9x; OcuC8: $data["\x61\162\x72\153\x65\x6c\x61\163"] = $arrKelas; goto X35bR; X35bR: $data["\153\145\154\x61\163"] = count($arrId) > 0 ? $this->dropdown->getAllKelasByArrayId($tp->id_tp, $smt->id_smt, $arrId) : []; goto OZy6N; fQpGW: UVOdc: goto FwiFd; RPHZL: $smt = $this->master->getSemesterActive(); goto lkXS9; FwiFd: F0cmX: goto En_XG; h4o24: $arrMapel = []; goto W3XOF; gTV0r: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto mN7Xn; oxvUX: $data["\153\x65\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto sJht4; kncwA: $data["\x73\x6d\164\x5f\x61\x63\164\151\x76\145"] = $smt; goto MU4NM; lkXS9: $data["\164\160"] = $this->dashboard->getTahun(); goto oN4by; wIf9x: $user = $this->ion_auth->user()->row(); goto oVFFS; OhaEO: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto kncwA; GjzA9: $data["\x69\144\x5f\x67\x75\162\x75"] = $guru->id_guru; goto eb5F2; MU4NM: $data["\x62\165\x6c\141\156"] = $this->dropdown->getBulan(); goto I0007; h13Du: goto DWvZN; goto xxWom; hBC0i: $data["\x70\162\157\x66\151\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto oxvUX; oVFFS: $data = ["\x75\163\x65\162" => $user, "\152\165\144\x75\x6c" => "\x44\141\146\x74\x61\162\40\x48\x61\144\151\162\40\x42\x75\154\x61\x6e\141\156", "\x73\x75\x62\152\x75\x64\165\154" => "\104\141\x66\164\x61\x72\40\x48\x61\x64\151\162\40\102\x75\x6c\x61\156\x61\x6e\x20\123\151\163\x77\141", "\x73\x65\164\x74\x69\156\x67" => $this->dashboard->getSetting()]; goto YyWfo; FaUnQ: $arrId = []; goto HJtJq; W3XOF: $arrKelas = []; goto JutLU; xcocx: $this->load->view("\155\x65\155\x62\x65\162\x73\x2f\x67\x75\x72\165\57\164\x65\x6d\x70\154\x61\x74\145\163\x2f\x66\x6f\157\x74\145\162"); goto h13Du; xxWom: C_7_o: goto hBC0i; pU1rW: $this->load->view("\137\x74\x65\155\x70\x6c\x61\164\x65\x73\x2f\x64\x61\x73\150\142\x6f\141\x72\144\x2f\x5f\x68\x65\x61\x64\x65\x72", $data); goto j46xs; sJht4: $data["\147\165\162\165"] = $this->dropdown->getAllGuru(); goto QwLID; f14zU: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto h4o24; TLs7K: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); uaWs7: } goto fQpGW; j46xs: $this->load->view("\x6b\145\x6c\141\x73\x2f\x61\x62\163\145\x6e\x62\x75\154\141\x6e\141\x6e\57\144\141\164\x61"); goto PCcTp; aszkr: $data["\x67\165\x72\x75"] = $guru; goto GjzA9; QwLID: $data["\155\x61\160\145\x6c"] = $this->dropdown->getAllMapel(); goto pU1rW; mN7Xn: $nguru[$guru->id_guru] = $guru->nama_guru; goto aszkr; TacVl: JSbq8: goto ANu0A; j4kKU: DWvZN: goto EPmvX; JutLU: if (!($mapel != null)) { goto ueQHA; } goto a2lHw; I0007: if ($this->ion_auth->is_admin()) { goto C_7_o; } goto gTV0r; En_XG: $data["\155\141\160\145\x6c"] = $arrMapel; goto OcuC8; H5yB0: $this->load->view("\153\x65\154\141\x73\57\141\142\x73\145\156\x62\x75\x6c\x61\x6e\x61\x6e\x2f\x64\x61\164\x61"); goto xcocx; OZy6N: $this->load->view("\155\x65\155\142\145\162\x73\57\147\x75\x72\165\x2f\x74\x65\x6d\x70\x6c\141\x74\145\x73\57\150\x65\141\144\x65\162", $data); goto H5yB0; eb5F2: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto f14zU; ANu0A: ueQHA: goto FaUnQ; HJtJq: if (!($mapel != null)) { goto F0cmX; } goto TLs7K; a2lHw: foreach ($mapel as $m) { goto deCbJ; H3VPt: Q3OyZ: goto d2bWr; deCbJ: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto nAOGm; d2bWr: Xm6w3: goto GJ1Ir; nAOGm: foreach ($m->kelas_mapel as $kls) { $arrKelas[$m->id_mapel][] = ["\x69\x64\137\153\x65\x6c\141\163" => $kls->kelas, "\x6e\x61\155\x61\137\x6b\x65\x6c\141\x73" => $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas)]; NsNPM: } goto H3VPt; GJ1Ir: } goto TacVl; PCcTp: $this->load->view("\137\x74\x65\x6d\160\x6c\x61\x74\x65\x73\x2f\x64\141\x73\x68\x62\x6f\x61\162\144\57\x5f\x66\157\x6f\164\x65\x72"); goto j4kKU; YyWfo: $tp = $this->master->getTahunActive(); goto RPHZL; oN4by: $data["\x74\160\x5f\x61\143\164\x69\x76\145"] = $tp; goto OhaEO; EPmvX: } public function loadAbsensiMapel() { goto eJrTl; XtlaW: $i++; goto eg4tp; eg4tp: goto ans7_; goto TZaeN; O3Huu: goto dXlLW; goto yDUNa; eJrTl: $id_kelas = $this->input->post("\x6b\145\x6c\141\x73", true); goto cAlL_; SqA1p: $jadwal_materi = []; goto C9jo7; oNFx5: HUzPY: goto iMZbo; ki6lF: $log = []; goto j4TVL; IYpm2: foreach ($infos as $info) { goto qOvFP; ZsiVc: foreach ($dates as $date) { goto CkywG; Xr5QV: TGT58: goto HugE2; CkywG: $d = explode("\x2d", $date); goto HGGav; HGGav: $mapel_bulan_ini[$d[2]][$info->jam_ke] = $date; goto Xr5QV; HugE2: } goto TXaPl; kN9_h: yZBOl: goto SF6Cc; qOvFP: $dates = $this->total_hari($info->id_hari, $bulan, $tahun); goto ZsiVc; TXaPl: ezCtR: goto kN9_h; SF6Cc: } goto V15Nm; UhVFv: $tahun = $this->input->post("\x74\150\x6e", true); goto acAf8; zC7Aa: if ($jadwal != null) { goto THIyO; } goto YuTB2; JUStr: $jadwal_materi[$t] = (array) $this->kelas->getAllMateriByTgl($id_kelas, $tahun . "\x2d" . $b . "\55" . $t, [$id_mapel]); goto qYm44; X2MEg: ans7_: goto GFwHM; mDRdO: $jadwal->istirahat = unserialize($jadwal->istirahat); goto Yh6rQ; acAf8: $bulan = $this->input->post("\142\154\x6e", true); goto In78V; j4TVL: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto j12CK; TZaeN: LpBMj: goto h1bel; h1bel: $materi_perbulan = $this->kelas->getRekapBulananSiswa($id_mapel, $id_kelas, $tahun, $bulan); goto ki6lF; C9jo7: $i = 0; goto X2MEg; iMZbo: $mapel_bulan_ini = []; goto rdI79; qYm44: S2lhl: goto XtlaW; Lm4ZU: $id_smt = $this->master->getSemesterActive()->id_smt; goto GJ34P; cAlL_: $id_mapel = $this->input->post("\x6d\141\160\145\x6c", true); goto UhVFv; EvSJ2: $this->output_json(["\x6c\x6f\x67" => $log, "\x6a\x61\144\167\141\x6c" => $jadwal, "\x6d\x61\x74\145\x72\x69" => $jadwal_materi, "\x6d\x61\160\x65\154\x73" => $mapel_bulan_ini]); goto gyJIv; GJ34P: $jadwal = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto zC7Aa; rdI79: $infos = $this->kelas->getJadwalMapelByMapel($id_kelas, $id_mapel, $id_tp, $id_smt); goto IYpm2; yDUNa: THIyO: goto mDRdO; Yh6rQ: $tgl = cal_days_in_month(CAL_GREGORIAN, $bulan, $tahun); goto SqA1p; V15Nm: MrYMb: goto EvSJ2; qELyV: $t = $i + 1 < 10 ? "\x30" . ($i + 1) : $i + 1; goto kFJYV; gyJIv: dXlLW: goto n2wrW; GFwHM: if (!($i < $tgl)) { goto LpBMj; } goto qELyV; In78V: $id_tp = $this->master->getTahunActive()->id_tp; goto Lm4ZU; kFJYV: $b = $bulan < 10 ? "\x30" . $bulan : $bulan; goto JUStr; j12CK: foreach ($siswa as $s) { goto Tp4x3; QxbZZ: $i = 0; goto TgrMz; WIGjl: R2B2N: goto DsEuR; jF_vG: F1F0E: goto r9uLI; Mno9Z: if (!($i < $tgl)) { goto SSkZ7; } goto Ah710; TgrMz: zWGCE: goto Mno9Z; C0G3X: $b = $bulan < 10 ? "\x30" . $bulan : $bulan; goto cgPqP; Tp4x3: $arrMateri = []; goto QxbZZ; jGHJp: SSkZ7: goto rhv_2; RW55n: goto zWGCE; goto jGHJp; rhv_2: $log[$s->id_siswa] = ["\156\141\155\141" => $s->nama, "\156\151\163" => $s->nis, "\x6b\145\154\141\163" => $s->nama_kelas, "\155\141\164\145\162\x69" => $arrMateri[1], "\x74\165\x67\141\163" => $arrMateri[2]]; goto jF_vG; cgPqP: $arrMateri[1][] = $materi_perbulan != null && isset($materi_perbulan[$s->id_siswa]) && isset($materi_perbulan[$s->id_siswa][1]) && isset($materi_perbulan[$s->id_siswa][1][$tahun . "\55" . $b . "\x2d" . $t]) ? $materi_perbulan[$s->id_siswa][1][$tahun . "\55" . $b . "\55" . $t] : null; goto fThxA; DsEuR: $i++; goto RW55n; Ah710: $t = $i + 1 < 10 ? "\x30" . ($i + 1) : $i + 1; goto C0G3X; fThxA: $arrMateri[2][] = $materi_perbulan != null && isset($materi_perbulan[$s->id_siswa]) && isset($materi_perbulan[$s->id_siswa][2]) && isset($materi_perbulan[$s->id_siswa][2][$tahun . "\55" . $b . "\x2d" . $t]) ? $materi_perbulan[$s->id_siswa][2][$tahun . "\55" . $b . "\x2d" . $t] : null; goto WIGjl; r9uLI: } goto oNFx5; YuTB2: $this->output_json(["\152\x61\144\167\x61\x6c" => $jadwal]); goto O3Huu; n2wrW: } function total_hari($id_day, $bulan, $taun) { goto K_xKm; bGIlh: d52hl: goto AQLKJ; J8FF5: array_push($dates, date("\131\x2d\155\55\144", strtotime($taun . "\55" . $bulan . "\55" . $i))); goto kEUVn; AQLKJ: if (!($i < $total_days)) { goto kxFhm; } goto OLNew; qJxmd: $total_days = cal_days_in_month(CAL_GREGORIAN, $bulan, $taun); goto gyqJe; A5_0p: dIfsj: goto DF0dg; kEUVn: qfTKd: goto A5_0p; qoFRl: return $dates; goto uSv8m; CSeam: $days++; goto J8FF5; DF0dg: $i++; goto mH4zI; mH4zI: goto d52hl; goto RtUtJ; K_xKm: $days = 0; goto tNiw3; gyqJe: $idday = $id_day == "\67" ? 0 : $id_day; goto dLf_J; RtUtJ: kxFhm: goto qoFRl; OLNew: if (!(date("\x4e", strtotime($taun . "\x2d" . $bulan . "\55" . $i)) == $idday)) { goto qfTKd; } goto CSeam; tNiw3: $dates = []; goto qJxmd; dLf_J: $i = 1; goto bGIlh; uSv8m: } }
