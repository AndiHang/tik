<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasabsensibulanan extends CI_Controller { public function __construct() { goto fYGO7; uammg: $this->load->model("\104\141\x73\x68\142\157\x61\162\144\137\155\157\144\145\x6c", "\144\x61\163\x68\142\157\141\162\x64"); goto pZ4gS; HG2Xw: ePlu1: goto cefLa; fYGO7: parent::__construct(); goto qqMwe; ayHab: show_error("\110\141\156\171\141\40\x41\144\x6d\151\156\x69\163\164\162\141\x74\157\162\40\x79\141\x6e\147\40\144\x69\142\x65\x72\x69\40\x68\141\153\40\165\x6e\164\x75\153\40\155\145\156\x67\141\x6b\163\145\x73\x20\150\x61\154\141\155\141\x6e\40\x69\x6e\151\54\x20\x3c\141\x20\150\x72\145\x66\x3d\42" . base_url("\x64\141\163\150\142\x6f\141\162\x64") . "\42\x3e\113\x65\x6d\142\141\x6c\x69\40\x6b\x65\40\155\145\x6e\165\40\141\167\x61\x6c\74\57\141\76", 403, "\x41\153\x73\145\x73\x20\x44\151\142\141\x74\141\163\x69"); goto LUU3M; nOr2z: $this->load->model("\x4d\x61\163\164\x65\162\137\155\x6f\x64\145\154", "\155\141\x73\x74\x65\162"); goto uammg; oVXj7: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\165\x72\x75"))) { goto v8dTR; } goto ayHab; cefLa: redirect("\x61\x75\164\x68"); goto YC_fQ; YC_fQ: qRwXu: goto BaRv2; V5mEK: $this->load->model("\x4b\145\x6c\141\x73\137\155\x6f\144\x65\x6c", "\x6b\x65\x6c\141\x73"); goto vrwyi; vrwyi: $this->form_validation->set_error_delimiters('', ''); goto Gfbw9; pkTmH: goto qRwXu; goto HG2Xw; pZ4gS: $this->load->model("\x44\162\157\x70\144\157\167\156\137\155\157\x64\x65\x6c", "\x64\x72\157\x70\x64\157\x77\156"); goto V5mEK; qqMwe: if (!$this->ion_auth->logged_in()) { goto ePlu1; } goto oVXj7; LUU3M: v8dTR: goto pkTmH; BaRv2: $this->load->library(["\144\x61\164\141\x74\141\x62\154\x65\163", "\146\x6f\x72\155\x5f\x76\x61\x6c\x69\144\x61\164\151\x6f\x6e"]); goto nOr2z; Gfbw9: } public function output_json($data, $encode = true) { goto ioXuq; IaKjE: nAN_Y: goto w9upW; ioXuq: if (!$encode) { goto nAN_Y; } goto Bp9uo; w9upW: $this->output->set_content_type("\x61\x70\160\154\x69\143\x61\x74\151\157\156\x2f\152\x73\157\156")->set_output($data); goto Hbszz; Bp9uo: $data = json_encode($data); goto IaKjE; Hbszz: } public function index() { goto o9R92; j031U: $tp = $this->master->getTahunActive(); goto ThhZ0; v0HQ3: $data["\x74\x70"] = $this->dashboard->getTahun(); goto k4kVJ; MhtRs: $this->load->view("\x5f\164\145\155\x70\154\141\164\x65\x73\57\x64\141\163\150\x62\x6f\141\x72\144\57\x5f\x68\145\141\144\x65\162", $data); goto hMEfQ; SOwwO: XUbL_: goto VErgk; TvXra: if (!($mapel != null)) { goto XUbL_; } goto RMt4x; SD32G: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto KN27G; EAnMO: $this->load->view("\x6b\x65\154\x61\x73\57\141\x62\163\x65\x6e\142\165\154\141\x6e\141\156\x2f\144\x61\x74\x61"); goto aB1uN; hBsr_: $data["\141\x72\162\153\x65\x6c\x61\x73"] = $arrKelas; goto ORnRT; MaDUh: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto fc1si; fc1si: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto V0FLY; cszdm: $this->load->view("\x5f\x74\x65\155\160\154\141\164\x65\163\x2f\x64\x61\163\x68\142\x6f\x61\162\144\x2f\137\x66\157\157\164\x65\x72"); goto NEkqo; j7_PH: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto J_1mO; TtXPG: NeX8f: goto Brlxt; suMLl: $data = ["\165\x73\x65\162" => $user, "\x6a\165\144\x75\x6c" => "\104\x61\146\164\x61\x72\x20\x48\141\x64\x69\162\x20\102\x75\154\141\x6e\141\156", "\163\165\x62\152\x75\x64\165\x6c" => "\x44\141\146\164\141\x72\x20\110\x61\144\151\162\40\102\165\x6c\141\156\141\156\40\123\151\x73\167\141", "\163\145\164\164\x69\x6e\x67" => $this->dashboard->getSetting()]; goto j031U; wLOUj: $data["\160\162\157\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto V_Tq2; jmotG: gKzt3: goto wLOUj; oFcGs: hX1y_: goto SOwwO; VX5Ib: Gtl7G: goto TtXPG; kVKfM: if (!($mapel != null)) { goto NeX8f; } goto QFh3z; tqN6g: $data["\x6d\x61\x70\x65\154"] = $this->dropdown->getAllMapel(); goto MhtRs; QFh3z: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); N2RPV: } goto VX5Ib; J_1mO: $data["\x73\x6d\164\x5f\141\x63\x74\151\x76\145"] = $smt; goto uQrv8; o2xta: if ($this->ion_auth->is_admin()) { goto gKzt3; } goto SD32G; GXCpe: $arrKelas = []; goto TvXra; o9R92: $user = $this->ion_auth->user()->row(); goto suMLl; NEkqo: jbFPd: goto gzy6F; hMEfQ: $this->load->view("\x6b\145\154\x61\x73\57\141\x62\x73\145\x6e\142\x75\154\141\156\x61\156\x2f\x64\141\164\141"); goto cszdm; Oeozc: $data["\x69\144\x5f\147\165\162\165"] = $guru->id_guru; goto MaDUh; KN27G: $nguru[$guru->id_guru] = $guru->nama_guru; goto N2oG0; Brlxt: $data["\155\x61\x70\x65\x6c"] = $arrMapel; goto hBsr_; VErgk: $arrId = []; goto kVKfM; aB1uN: $this->load->view("\x6d\x65\155\142\x65\162\163\57\x67\x75\162\165\x2f\x74\145\x6d\160\x6c\141\164\x65\163\57\x66\x6f\x6f\164\145\x72"); goto Zd_81; Zd_81: goto jbFPd; goto jmotG; U6tM1: $this->load->view("\x6d\x65\x6d\x62\145\162\x73\57\x67\165\162\x75\57\164\145\155\x70\x6c\141\x74\145\163\57\150\145\141\x64\145\x72", $data); goto EAnMO; V0FLY: $arrMapel = []; goto GXCpe; q7eus: $data["\147\x75\162\x75"] = $this->dropdown->getAllGuru(); goto tqN6g; uQrv8: $data["\142\165\154\141\156"] = $this->dropdown->getBulan(); goto o2xta; ORnRT: $data["\153\145\x6c\x61\x73"] = count($arrId) > 0 ? $this->dropdown->getAllKelasByArrayId($tp->id_tp, $smt->id_smt, $arrId) : []; goto U6tM1; ThhZ0: $smt = $this->master->getSemesterActive(); goto v0HQ3; RMt4x: foreach ($mapel as $m) { goto ZFZDD; nRerN: foreach ($m->kelas_mapel as $kls) { $arrKelas[$m->id_mapel][] = ["\x69\x64\137\x6b\145\154\x61\163" => $kls->kelas, "\x6e\x61\x6d\x61\x5f\x6b\145\154\141\163" => $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas)]; jEUXP: } goto eiYUA; ZFZDD: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto nRerN; eiYUA: TAiLT: goto KunCz; KunCz: jJ1OD: goto NVu6I; NVu6I: } goto oFcGs; V_Tq2: $data["\153\x65\x6c\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto q7eus; N2oG0: $data["\x67\165\162\x75"] = $guru; goto Oeozc; k4kVJ: $data["\164\160\x5f\141\143\x74\x69\166\x65"] = $tp; goto j7_PH; gzy6F: } public function loadAbsensiMapel() { goto N_3ed; aR7BM: goto g2Agv; goto Wy0A2; KsNIE: $this->output_json(["\x6c\157\147" => $log, "\x6a\x61\x64\x77\141\154" => $jadwal, "\x6d\141\164\x65\162\151" => $jadwal_materi, "\155\141\160\x65\154\x73" => $mapel_bulan_ini]); goto Y6ujz; TjOPO: f6cky: goto lYS_U; Wy0A2: gL078: goto Z50ML; qeWgN: $t = $i + 1 < 10 ? "\60" . ($i + 1) : $i + 1; goto RJIff; bzfzY: $id_mapel = $this->input->post("\x6d\141\160\x65\x6c", true); goto FJLyA; JcnY8: $infos = $this->kelas->getJadwalMapelByMapel($id_kelas, $id_mapel, $id_tp, $id_smt); goto F0z6B; lYS_U: $i++; goto aR7BM; b82UI: $jadwal->istirahat = unserialize($jadwal->istirahat); goto sjkx1; YCKkX: $id_tp = $this->master->getTahunActive()->id_tp; goto EOVS7; N_3ed: $id_kelas = $this->input->post("\153\145\154\141\x73", true); goto bzfzY; wGcIL: foreach ($siswa as $s) { goto S1KQJ; LZA82: KXcLJ: goto rl6Ka; gHc23: $arrMateri[1][] = $materi_perbulan != null && isset($materi_perbulan[$s->id_siswa]) && isset($materi_perbulan[$s->id_siswa][1]) && isset($materi_perbulan[$s->id_siswa][1][$tahun . "\55" . $b . "\x2d" . $t]) ? $materi_perbulan[$s->id_siswa][1][$tahun . "\55" . $b . "\x2d" . $t] : null; goto FhF26; S1KQJ: $arrMateri = []; goto wXb29; hG7eJ: ikkM3: goto cAv5U; i455g: $b = $bulan < 10 ? "\x30" . $bulan : $bulan; goto gHc23; OFZGb: iCcJl: goto gV3ip; FhF26: $arrMateri[2][] = $materi_perbulan != null && isset($materi_perbulan[$s->id_siswa]) && isset($materi_perbulan[$s->id_siswa][2]) && isset($materi_perbulan[$s->id_siswa][2][$tahun . "\55" . $b . "\x2d" . $t]) ? $materi_perbulan[$s->id_siswa][2][$tahun . "\x2d" . $b . "\x2d" . $t] : null; goto OFZGb; gV3ip: $i++; goto zyw7g; qMB11: if (!($i < $tgl)) { goto KXcLJ; } goto jda4I; rl6Ka: $log[$s->id_siswa] = ["\156\141\x6d\x61" => $s->nama, "\x6e\151\163" => $s->nis, "\x6b\x65\154\141\163" => $s->nama_kelas, "\155\x61\x74\x65\162\x69" => $arrMateri[1], "\x74\165\147\141\x73" => $arrMateri[2]]; goto hG7eJ; zyw7g: goto nu5wQ; goto LZA82; wXb29: $i = 0; goto xmByz; jda4I: $t = $i + 1 < 10 ? "\60" . ($i + 1) : $i + 1; goto i455g; xmByz: nu5wQ: goto qMB11; cAv5U: } goto tsKPy; x_gJt: $bulan = $this->input->post("\x62\154\156", true); goto YCKkX; JW7CI: $i = 0; goto hPFPb; B4Ln9: goto rueur; goto Wqoqw; h4xwe: $mapel_bulan_ini = []; goto JcnY8; dZAVB: $this->output_json(["\x6a\141\144\x77\x61\x6c" => $jadwal]); goto B4Ln9; MWAC3: JsbGd: goto KsNIE; hPFPb: g2Agv: goto tK4Mi; Z50ML: $materi_perbulan = $this->kelas->getRekapBulananSiswa($id_mapel, $id_kelas, $tahun, $bulan); goto glTeG; PuKvW: if ($jadwal != null) { goto hfh1v; } goto dZAVB; sjkx1: $tgl = cal_days_in_month(CAL_GREGORIAN, $bulan, $tahun); goto eyK8t; eyK8t: $jadwal_materi = []; goto JW7CI; KL1MY: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto wGcIL; Y6ujz: rueur: goto SEfvH; glTeG: $log = []; goto KL1MY; EOVS7: $id_smt = $this->master->getSemesterActive()->id_smt; goto em_NU; em_NU: $jadwal = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto PuKvW; RJIff: $b = $bulan < 10 ? "\60" . $bulan : $bulan; goto a5dVT; tsKPy: spq3c: goto h4xwe; F0z6B: foreach ($infos as $info) { goto AA8O_; WCw9X: HuTul: goto rPCCQ; AA8O_: $dates = $this->total_hari($info->id_hari, $bulan, $tahun); goto Hfy0v; rPCCQ: LH41w: goto N9hoG; Hfy0v: foreach ($dates as $date) { goto uSjZI; egqlq: $mapel_bulan_ini[$d[2]][$info->jam_ke] = $date; goto qz9y1; uSjZI: $d = explode("\55", $date ?? ''); goto egqlq; qz9y1: QmQGw: goto aU5uu; aU5uu: } goto WCw9X; N9hoG: } goto MWAC3; tK4Mi: if (!($i < $tgl)) { goto gL078; } goto qeWgN; FJLyA: $tahun = $this->input->post("\164\x68\156", true); goto x_gJt; a5dVT: $jadwal_materi[$t] = (array) $this->kelas->getAllMateriByTgl($id_kelas, $tahun . "\x2d" . $b . "\x2d" . $t, [$id_mapel]); goto TjOPO; Wqoqw: hfh1v: goto b82UI; SEfvH: } function total_hari($id_day, $bulan, $taun) { goto ZQlsU; IZ1od: $i++; goto cmxIL; B8buH: $dates = []; goto gwQPh; N5gSh: nwdvr: goto voGYy; iT1Uv: $i = 1; goto iXyJm; LR08Z: return $dates; goto Bi0pN; kzEvO: if (!(date("\116", strtotime($taun . "\55" . $bulan . "\x2d" . $i)) == $idday)) { goto nwdvr; } goto jbSZN; cmxIL: goto o6oq_; goto bcqG4; bcqG4: TKSxj: goto LR08Z; voGYy: eV6Uf: goto IZ1od; ZQlsU: $days = 0; goto B8buH; jbSZN: $days++; goto L1FoL; iXyJm: o6oq_: goto TlMVO; L1FoL: array_push($dates, date("\131\55\x6d\x2d\x64", strtotime($taun . "\x2d" . $bulan . "\x2d" . $i))); goto N5gSh; v3nKT: $idday = $id_day == "\67" ? 0 : $id_day; goto iT1Uv; TlMVO: if (!($i < $total_days)) { goto TKSxj; } goto kzEvO; gwQPh: $total_days = cal_days_in_month(CAL_GREGORIAN, $bulan, $taun); goto v3nKT; Bi0pN: } }
