<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasabsensibulanan extends CI_Controller { public function __construct() { goto Uwtpe; iCqBx: goto PKtsz; goto rGuaj; Zc8Qj: $this->form_validation->set_error_delimiters('', ''); goto mowx1; X1BG5: show_error("\x48\x61\x6e\171\141\x20\101\144\155\151\x6e\151\163\x74\x72\141\164\x6f\x72\x20\x79\141\156\x67\x20\144\151\x62\145\162\151\x20\150\141\153\x20\x75\x6e\164\x75\153\x20\x6d\x65\x6e\x67\x61\x6b\x73\x65\163\40\150\x61\154\141\x6d\x61\156\40\x69\156\151\x2c\x20\x3c\141\x20\150\x72\145\146\x3d\42" . base_url("\144\x61\163\x68\x62\x6f\x61\162\x64") . "\x22\x3e\x4b\x65\x6d\x62\x61\x6c\151\40\x6b\145\x20\x6d\x65\x6e\x75\x20\141\167\x61\x6c\74\57\x61\x3e", 403, "\x41\x6b\163\145\163\40\104\151\142\141\164\x61\x73\x69"); goto i9nFd; rGuaj: WezTz: goto LjMBq; FY5oC: $this->load->library(["\x64\141\164\x61\164\141\142\x6c\x65\163", "\146\157\162\x6d\137\166\x61\x6c\151\144\x61\x74\x69\157\x6e"]); goto uqd2t; i9nFd: mp_y3: goto iCqBx; gkhW2: if (!$this->ion_auth->logged_in()) { goto WezTz; } goto NWwNP; QeB2i: $this->load->model("\104\x61\163\150\142\x6f\141\162\144\x5f\155\157\144\x65\x6c", "\x64\141\163\x68\x62\157\x61\162\x64"); goto lSrwI; lSrwI: $this->load->model("\x44\162\x6f\x70\144\157\x77\156\x5f\155\157\x64\145\x6c", "\144\162\157\160\144\157\167\156"); goto J0Jp0; Uwtpe: parent::__construct(); goto gkhW2; uqd2t: $this->load->model("\115\x61\163\x74\145\162\x5f\x6d\x6f\144\145\x6c", "\155\141\x73\x74\x65\162"); goto QeB2i; LjMBq: redirect("\x61\x75\x74\150"); goto s70s6; J0Jp0: $this->load->model("\x4b\x65\154\141\163\137\155\x6f\144\x65\154", "\153\145\x6c\141\163"); goto Zc8Qj; NWwNP: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\x75\162\x75"))) { goto mp_y3; } goto X1BG5; s70s6: PKtsz: goto FY5oC; mowx1: } public function output_json($data, $encode = true) { goto gobdn; gobdn: if (!$encode) { goto u07kt; } goto DDu3Y; hBj7S: u07kt: goto NfGEY; DDu3Y: $data = json_encode($data); goto hBj7S; NfGEY: $this->output->set_content_type("\x61\160\x70\154\x69\143\x61\x74\x69\x6f\x6e\x2f\152\163\157\156")->set_output($data); goto E1ZcZ; E1ZcZ: } public function index() { goto XDLFJ; SmRCN: $arrId = []; goto Z8x49; BVLwq: $data["\x6b\145\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto bCRUU; XDLFJ: $user = $this->ion_auth->user()->row(); goto n3Y33; io5bu: if ($this->ion_auth->is_admin()) { goto IT5l3; } goto SLgA4; T8kzm: $tp = $this->master->getTahunActive(); goto IjEWF; Fh10z: k5Kk8: goto NipYl; ex2Pq: $this->load->view("\153\x65\x6c\x61\163\x2f\x61\x62\163\145\x6e\142\x75\x6c\141\156\141\156\x2f\x64\141\164\141"); goto t7Ej3; BMK6I: $this->load->view("\155\145\x6d\142\x65\162\x73\57\x67\x75\x72\x75\x2f\164\x65\155\x70\x6c\141\164\145\x73\x2f\146\157\x6f\x74\x65\162"); goto Z1OsK; SNfjs: foreach ($mapel as $m) { goto DEB01; jCRdS: wd_gO: goto ZMvvd; ea100: G_6gO: goto jCRdS; iCjuK: foreach ($m->kelas_mapel as $kls) { $arrKelas[$m->id_mapel][] = ["\151\144\137\153\145\154\x61\163" => $kls->kelas, "\x6e\x61\155\x61\137\x6b\x65\x6c\141\163" => $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas)]; SzI6s: } goto ea100; DEB01: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto iCjuK; ZMvvd: } goto c_49E; eMw6e: $arrMapel = []; goto YSWLt; bCRUU: $data["\x67\x75\x72\x75"] = $this->dropdown->getAllGuru(); goto yPBK3; FxMa9: $data["\x67\x75\162\x75"] = $guru; goto LaPYu; LaPYu: $data["\x69\x64\137\147\x75\162\165"] = $guru->id_guru; goto XCm28; POuQA: $this->load->view("\153\x65\x6c\141\163\x2f\141\x62\163\x65\156\x62\165\x6c\x61\156\141\156\x2f\x64\141\x74\141"); goto BMK6I; MNkF0: Hkvbh: goto Fh10z; iTK6R: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); ge2Lf: } goto MNkF0; OlvYH: $data["\x74\160\x5f\141\143\164\151\166\x65"] = $tp; goto v1Ghe; pjp7S: IT5l3: goto Tm1vw; t7Ej3: $this->load->view("\x5f\x74\145\x6d\160\x6c\141\164\x65\x73\x2f\144\x61\163\x68\142\157\141\162\x64\57\137\146\x6f\157\164\145\162"); goto LUwXY; SLgA4: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto tnNXw; c_49E: BkUpG: goto M3gSo; M3gSo: lz32g: goto SmRCN; kNtLy: $data["\x62\165\x6c\x61\156"] = $this->dropdown->getBulan(); goto io5bu; Z1OsK: goto lyGFe; goto pjp7S; Tm1vw: $data["\160\162\x6f\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto BVLwq; yPBK3: $data["\x6d\141\160\x65\x6c"] = $this->dropdown->getAllMapel(); goto LIZgJ; SkuDP: $data["\153\145\154\141\163"] = count($arrId) > 0 ? $this->dropdown->getAllKelasByArrayId($tp->id_tp, $smt->id_smt, $arrId) : []; goto Rn0xc; k2kGa: $data["\141\162\x72\x6b\x65\x6c\141\x73"] = $arrKelas; goto SkuDP; IjEWF: $smt = $this->master->getSemesterActive(); goto E0ewk; Rn0xc: $this->load->view("\x6d\x65\x6d\x62\145\162\163\x2f\x67\x75\x72\x75\x2f\x74\145\155\x70\154\141\x74\x65\x73\57\x68\x65\141\x64\145\x72", $data); goto POuQA; Itr0e: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto eMw6e; oJBeW: if (!($mapel != null)) { goto lz32g; } goto SNfjs; Z8x49: if (!($mapel != null)) { goto k5Kk8; } goto iTK6R; v1Ghe: $data["\163\155\164"] = $this->dashboard->getSemester(); goto Euo3I; E0ewk: $data["\x74\x70"] = $this->dashboard->getTahun(); goto OlvYH; XCm28: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto Itr0e; LIZgJ: $this->load->view("\137\x74\x65\155\160\154\x61\164\145\x73\57\x64\141\x73\150\142\x6f\141\162\144\57\x5f\x68\145\x61\144\145\162", $data); goto ex2Pq; NipYl: $data["\x6d\x61\160\x65\x6c"] = $arrMapel; goto k2kGa; LUwXY: lyGFe: goto RWGr8; Euo3I: $data["\x73\x6d\x74\x5f\x61\x63\164\x69\x76\x65"] = $smt; goto kNtLy; tnNXw: $nguru[$guru->id_guru] = $guru->nama_guru; goto FxMa9; n3Y33: $data = ["\165\163\145\x72" => $user, "\x6a\x75\x64\165\x6c" => "\x44\141\146\164\141\x72\x20\x48\x61\144\151\162\x20\102\165\x6c\x61\156\x61\156", "\x73\x75\x62\x6a\165\x64\165\x6c" => "\104\141\146\164\141\x72\40\x48\141\144\x69\162\x20\x42\x75\x6c\141\x6e\x61\x6e\40\x53\x69\x73\x77\141", "\163\x65\x74\x74\151\x6e\x67" => $this->dashboard->getSetting()]; goto T8kzm; YSWLt: $arrKelas = []; goto oJBeW; RWGr8: } public function loadAbsensiMapel() { goto I0k98; UK14t: $jadwal_materi[$t] = (array) $this->kelas->getAllMateriByTgl($id_kelas, $tahun . "\x2d" . $b . "\x2d" . $t, [$id_mapel]); goto Tai7r; nMLaB: $id_mapel = $this->input->post("\x6d\x61\x70\x65\154", true); goto cJxat; d0s_Q: B8s50: goto Rkrww; hxbrG: wh2nU: goto dPR7w; yNB4L: MnNmH: goto SZHi8; pmSxm: $jadwal_materi = []; goto vMBRS; dPR7w: $this->output_json(["\154\x6f\x67" => $log, "\152\141\144\167\x61\x6c" => $jadwal, "\155\x61\x74\x65\162\151" => $jadwal_materi, "\x6d\141\160\x65\x6c\163" => $mapel_bulan_ini]); goto d0s_Q; rP3bR: rz_2l: goto BvybY; pKK9G: UX6ll: goto o7ZOo; NCbT0: $jadwal = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto dYA0m; Sr0Q2: foreach ($infos as $info) { goto ZOz2Q; k5cbq: foreach ($dates as $date) { goto O83zf; vE88J: FpH6C: goto msJI7; DfBYP: $mapel_bulan_ini[$d[2]][$info->jam_ke] = $date; goto vE88J; O83zf: $d = explode("\x2d", $date); goto DfBYP; msJI7: } goto Y0zBw; ZOz2Q: $dates = $this->total_hari($info->id_hari, $bulan, $tahun); goto k5cbq; w4Hng: pzfT9: goto XtYk7; Y0zBw: HAQJ3: goto w4Hng; XtYk7: } goto hxbrG; HZ7KL: foreach ($siswa as $s) { goto ijmdR; hMZJo: $i++; goto hIFxW; GgXm9: $i = 0; goto zkDcJ; JQ734: $t = $i + 1 < 10 ? "\60" . ($i + 1) : $i + 1; goto HB2oU; SKAWP: $arrMateri[2][] = $materi_perbulan != null && isset($materi_perbulan[$s->id_siswa]) && isset($materi_perbulan[$s->id_siswa][2]) && isset($materi_perbulan[$s->id_siswa][2][$tahun . "\55" . $b . "\55" . $t]) ? $materi_perbulan[$s->id_siswa][2][$tahun . "\x2d" . $b . "\55" . $t] : null; goto Flf1H; zkDcJ: hGShI: goto PTy6u; hIFxW: goto hGShI; goto pVBhi; pxEFd: $arrMateri[1][] = $materi_perbulan != null && isset($materi_perbulan[$s->id_siswa]) && isset($materi_perbulan[$s->id_siswa][1]) && isset($materi_perbulan[$s->id_siswa][1][$tahun . "\x2d" . $b . "\55" . $t]) ? $materi_perbulan[$s->id_siswa][1][$tahun . "\55" . $b . "\x2d" . $t] : null; goto SKAWP; iDiME: sOoXb: goto ztnEr; Flf1H: b8kWI: goto hMZJo; ijmdR: $arrMateri = []; goto GgXm9; pVBhi: CaCkg: goto PpOxC; PpOxC: $log[$s->id_siswa] = ["\156\x61\155\x61" => $s->nama, "\x6e\x69\163" => $s->nis, "\153\145\x6c\141\163" => $s->nama_kelas, "\155\x61\x74\145\x72\151" => $arrMateri[1], "\164\x75\147\x61\163" => $arrMateri[2]]; goto iDiME; HB2oU: $b = $bulan < 10 ? "\x30" . $bulan : $bulan; goto pxEFd; PTy6u: if (!($i < $tgl)) { goto CaCkg; } goto JQ734; ztnEr: } goto qcAv7; RkcLN: $id_tp = $this->master->getTahunActive()->id_tp; goto VOLWB; SZHi8: $materi_perbulan = $this->kelas->getRekapBulananSiswa($id_mapel, $id_kelas, $tahun, $bulan); goto HlHDN; jILJv: $infos = $this->kelas->getJadwalMapelByMapel($id_kelas, $id_mapel, $id_tp, $id_smt); goto Sr0Q2; HlHDN: $log = []; goto nCiTo; Tai7r: h3Rd0: goto Clq5m; cJxat: $tahun = $this->input->post("\164\150\156", true); goto SPt_9; zJ_7k: $this->output_json(["\152\141\x64\x77\x61\154" => $jadwal]); goto OSi_V; o7ZOo: $jadwal->istirahat = unserialize($jadwal->istirahat); goto EroEt; qcAv7: fjvJB: goto UFDuQ; EyK2T: goto rz_2l; goto yNB4L; VOLWB: $id_smt = $this->master->getSemesterActive()->id_smt; goto NCbT0; SPt_9: $bulan = $this->input->post("\x62\154\156", true); goto RkcLN; I0k98: $id_kelas = $this->input->post("\x6b\x65\154\x61\x73", true); goto nMLaB; OSi_V: goto B8s50; goto pKK9G; vMBRS: $i = 0; goto rP3bR; BvybY: if (!($i < $tgl)) { goto MnNmH; } goto wXK_l; UFDuQ: $mapel_bulan_ini = []; goto jILJv; wXK_l: $t = $i + 1 < 10 ? "\60" . ($i + 1) : $i + 1; goto sBdWX; nCiTo: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto HZ7KL; EroEt: $tgl = cal_days_in_month(CAL_GREGORIAN, $bulan, $tahun); goto pmSxm; Clq5m: $i++; goto EyK2T; dYA0m: if ($jadwal != null) { goto UX6ll; } goto zJ_7k; sBdWX: $b = $bulan < 10 ? "\x30" . $bulan : $bulan; goto UK14t; Rkrww: } function total_hari($id_day, $bulan, $taun) { goto qIZcP; x71sv: IzBh0: goto ogyqQ; qIZcP: $days = 0; goto qcLxu; nST1U: JnPJi: goto I1ReQ; I1ReQ: return $dates; goto yuk_N; Xd1vj: $total_days = cal_days_in_month(CAL_GREGORIAN, $bulan, $taun); goto ztmvO; qN3zD: if (!($i < $total_days)) { goto JnPJi; } goto fA9d9; uobH8: $days++; goto kEXu1; kEXu1: array_push($dates, date("\131\55\155\x2d\x64", strtotime($taun . "\55" . $bulan . "\55" . $i))); goto T0IO7; r04PN: goto UMyFA; goto nST1U; XryUu: $i = 1; goto U4vqk; fA9d9: if (!(date("\116", strtotime($taun . "\x2d" . $bulan . "\55" . $i)) == $idday)) { goto JRkB6; } goto uobH8; qcLxu: $dates = []; goto Xd1vj; ztmvO: $idday = $id_day == "\x37" ? 0 : $id_day; goto XryUu; ogyqQ: $i++; goto r04PN; T0IO7: JRkB6: goto x71sv; U4vqk: UMyFA: goto qN3zD; yuk_N: } }
