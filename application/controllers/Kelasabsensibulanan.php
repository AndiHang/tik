<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasabsensibulanan extends CI_Controller { public function __construct() { goto uFfju; Kl9zL: $this->load->library(["\x64\x61\164\x61\164\141\x62\x6c\145\163", "\x66\x6f\162\x6d\x5f\x76\x61\154\x69\144\141\x74\151\157\156"]); goto EecHL; ILuv2: $this->form_validation->set_error_delimiters('', ''); goto n2T3g; bizBi: GlnS2: goto u2W9W; oszCb: G3kgg: goto ouGbg; mdtH5: show_error("\x48\141\156\171\x61\40\101\x64\x6d\x69\156\x69\163\164\162\x61\164\x6f\162\40\171\141\x6e\147\40\x64\151\x62\145\x72\151\x20\x68\x61\x6b\40\165\156\164\165\153\40\x6d\x65\x6e\x67\141\x6b\163\x65\x73\40\x68\141\x6c\141\155\141\x6e\x20\151\156\151\x2c\40\74\141\x20\x68\x72\145\x66\75\42" . base_url("\x64\141\163\150\142\x6f\141\162\144") . "\x22\76\113\145\x6d\142\x61\154\151\40\x6b\145\40\155\x65\156\165\40\x61\x77\141\154\74\57\x61\76", 403, "\x41\x6b\163\145\163\40\104\151\142\141\164\x61\x73\x69"); goto bizBi; uFfju: parent::__construct(); goto kRAqm; bHXg1: $this->load->model("\x44\162\x6f\x70\x64\157\x77\x6e\x5f\x6d\x6f\144\x65\x6c", "\x64\x72\157\x70\x64\157\x77\x6e"); goto NzLap; u2W9W: goto AwGgr; goto oszCb; NzLap: $this->load->model("\x4b\x65\x6c\x61\x73\137\x6d\x6f\x64\145\x6c", "\153\x65\x6c\x61\x73"); goto ILuv2; G3_3W: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\x67\x75\162\165"))) { goto GlnS2; } goto mdtH5; YQKC4: $this->load->model("\x44\141\x73\x68\x62\x6f\141\162\x64\137\x6d\157\144\x65\x6c", "\144\141\x73\150\x62\157\141\x72\x64"); goto bHXg1; EecHL: $this->load->model("\115\141\x73\x74\145\162\137\155\157\144\145\x6c", "\x6d\141\x73\x74\x65\x72"); goto YQKC4; u2Bwr: AwGgr: goto Kl9zL; kRAqm: if (!$this->ion_auth->logged_in()) { goto G3kgg; } goto G3_3W; ouGbg: redirect("\141\165\164\x68"); goto u2Bwr; n2T3g: } public function output_json($data, $encode = true) { goto F1E0d; Ykxso: $this->output->set_content_type("\x61\x70\160\x6c\151\143\141\164\151\x6f\x6e\57\x6a\163\157\x6e")->set_output($data); goto dFVd7; VaT8s: $data = json_encode($data); goto tDrc6; F1E0d: if (!$encode) { goto SE096; } goto VaT8s; tDrc6: SE096: goto Ykxso; dFVd7: } public function index() { goto ZZsYT; jBI_r: $arrId = []; goto FRV5Z; ggBMb: $arrKelas = []; goto vjwYS; yZP4M: $data["\164\160\x5f\141\143\x74\151\x76\x65"] = $tp; goto i0nFx; seo73: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto r4EyA; dF_xu: $data["\x74\160"] = $this->dashboard->getTahun(); goto yZP4M; i0nFx: $data["\x73\x6d\164"] = $this->dashboard->getSemester(); goto GUM5u; r4EyA: $arrMapel = []; goto ggBMb; gp4Vp: $data["\x6b\145\154\141\163"] = count($arrId) > 0 ? $this->dropdown->getAllKelasByArrayId($tp->id_tp, $smt->id_smt, $arrId) : []; goto r8XMq; BjcE4: $this->load->view("\137\x74\x65\x6d\160\154\141\x74\145\x73\x2f\144\141\x73\x68\x62\x6f\x61\x72\144\x2f\x5f\150\x65\141\x64\145\162", $data); goto AbN0B; Xbify: $this->load->view("\137\x74\145\155\160\x6c\x61\x74\x65\163\57\x64\x61\x73\x68\x62\157\x61\x72\144\x2f\137\x66\157\x6f\164\145\162"); goto TsnDZ; I_Jd3: $nguru[$guru->id_guru] = $guru->nama_guru; goto zMnHR; Qmf0v: $data["\x70\x72\x6f\146\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto Hoy6N; L4cua: $this->load->view("\155\x65\x6d\142\x65\x72\x73\57\x67\165\x72\x75\57\164\x65\x6d\x70\154\x61\x74\145\x73\57\146\157\x6f\x74\x65\162"); goto RbBBB; vjwYS: if (!($mapel != null)) { goto NW2_P; } goto TOFj8; UIsvI: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); hJHta: } goto K0nTv; Hoy6N: $data["\x6b\145\154\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto mtAM7; X44MJ: $data["\151\144\x5f\147\165\162\165"] = $guru->id_guru; goto O5GmE; GUM5u: $data["\163\155\x74\x5f\x61\143\164\x69\x76\145"] = $smt; goto t0rIi; TOFj8: foreach ($mapel as $m) { goto DadRv; igY40: pQ2_x: goto xab0o; vzveI: foreach ($m->kelas_mapel as $kls) { $arrKelas[$m->id_mapel][] = ["\151\x64\x5f\153\x65\x6c\141\x73" => $kls->kelas, "\x6e\x61\x6d\x61\137\x6b\145\x6c\x61\x73" => $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas)]; Dkk0t: } goto GJk2z; GJk2z: s4TKT: goto igY40; DadRv: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto vzveI; xab0o: } goto ICUbQ; tcLEa: $smt = $this->master->getSemesterActive(); goto dF_xu; zMnHR: $data["\x67\165\x72\x75"] = $guru; goto X44MJ; FA6VC: $data = ["\x75\163\145\162" => $user, "\x6a\x75\x64\x75\x6c" => "\x44\141\x66\x74\x61\162\x20\110\x61\144\x69\162\x20\102\165\154\x61\x6e\x61\156", "\x73\165\142\152\x75\144\165\154" => "\x44\141\146\x74\141\162\x20\110\x61\144\151\x72\40\x42\x75\154\x61\x6e\x61\156\x20\123\x69\163\x77\141", "\163\145\164\x74\x69\x6e\x67" => $this->dashboard->getSetting()]; goto RKGFr; ZZsYT: $user = $this->ion_auth->user()->row(); goto FA6VC; YIHMU: NW2_P: goto jBI_r; EuLhX: $this->load->view("\x6b\x65\154\141\x73\57\141\142\163\x65\156\x62\x75\x6c\x61\x6e\x61\x6e\x2f\144\141\164\141"); goto L4cua; dbEyk: xqhEq: goto z7je1; MuAYv: if ($this->ion_auth->is_admin()) { goto erbLf; } goto K3sgo; FRV5Z: if (!($mapel != null)) { goto xqhEq; } goto UIsvI; K0nTv: Wz3Oj: goto dbEyk; jn04l: $data["\x61\162\x72\x6b\145\x6c\x61\163"] = $arrKelas; goto gp4Vp; K3sgo: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto I_Jd3; TsnDZ: jAhNQ: goto oCHa8; gvmNo: erbLf: goto Qmf0v; Rbl0a: $data["\155\141\160\x65\x6c"] = $this->dropdown->getAllMapel(); goto BjcE4; ICUbQ: xwXai: goto YIHMU; O5GmE: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto seo73; AbN0B: $this->load->view("\153\145\154\x61\163\57\141\x62\163\x65\x6e\142\165\x6c\141\x6e\x61\x6e\57\144\x61\164\x61"); goto Xbify; mtAM7: $data["\x67\x75\162\165"] = $this->dropdown->getAllGuru(); goto Rbl0a; RbBBB: goto jAhNQ; goto gvmNo; z7je1: $data["\155\141\160\x65\154"] = $arrMapel; goto jn04l; RKGFr: $tp = $this->master->getTahunActive(); goto tcLEa; t0rIi: $data["\x62\165\x6c\x61\x6e"] = $this->dropdown->getBulan(); goto MuAYv; r8XMq: $this->load->view("\x6d\145\x6d\x62\x65\x72\x73\x2f\x67\x75\x72\x75\57\x74\145\x6d\x70\x6c\x61\x74\x65\x73\x2f\x68\x65\x61\x64\145\162", $data); goto EuLhX; oCHa8: } public function loadAbsensiMapel() { goto fPeHM; R2iai: YaaR7: goto ieJ4n; wj230: foreach ($siswa as $s) { goto QB1os; T9WAi: ROQxq: goto glVaO; Cx21D: TuS7I: goto Wiosp; m8OWH: $i = 0; goto oEQws; F42G9: $b = $bulan < 10 ? "\60" . $bulan : $bulan; goto aIaqr; Lu4p8: $log[$s->id_siswa] = ["\156\141\155\x61" => $s->nama, "\156\x69\x73" => $s->nis, "\x6b\145\154\x61\163" => $s->nama_kelas, "\x6d\141\164\x65\162\151" => $arrMateri[1], "\164\x75\147\x61\x73" => $arrMateri[2]]; goto T9WAi; rbBQg: vvV4A: goto Lu4p8; Wiosp: $i++; goto Y6Qk_; aIaqr: $arrMateri[1][] = $materi_perbulan != null && isset($materi_perbulan[$s->id_siswa]) && isset($materi_perbulan[$s->id_siswa][1]) && isset($materi_perbulan[$s->id_siswa][1][$tahun . "\55" . $b . "\55" . $t]) ? $materi_perbulan[$s->id_siswa][1][$tahun . "\55" . $b . "\x2d" . $t] : null; goto ws6gp; JCSkA: $t = $i + 1 < 10 ? "\60" . ($i + 1) : $i + 1; goto F42G9; Y6Qk_: goto essk0; goto rbBQg; QB1os: $arrMateri = []; goto m8OWH; oEQws: essk0: goto YLIip; ws6gp: $arrMateri[2][] = $materi_perbulan != null && isset($materi_perbulan[$s->id_siswa]) && isset($materi_perbulan[$s->id_siswa][2]) && isset($materi_perbulan[$s->id_siswa][2][$tahun . "\55" . $b . "\x2d" . $t]) ? $materi_perbulan[$s->id_siswa][2][$tahun . "\x2d" . $b . "\x2d" . $t] : null; goto Cx21D; YLIip: if (!($i < $tgl)) { goto vvV4A; } goto JCSkA; glVaO: } goto whMz5; AIS2P: $id_smt = $this->master->getSemesterActive()->id_smt; goto kf4Y5; rPJbI: $this->output_json(["\x6c\157\147" => $log, "\152\141\144\167\x61\154" => $jadwal, "\155\141\164\x65\162\x69" => $jadwal_materi, "\155\141\x70\x65\x6c\163" => $mapel_bulan_ini]); goto MjJ3p; iAjgw: PWgHz: goto OgfRH; R07rM: goto XP3oi; goto iAjgw; Fn4cZ: $bulan = $this->input->post("\x62\x6c\x6e", true); goto i6ODf; gi6KC: $this->output_json(["\152\x61\144\167\x61\154" => $jadwal]); goto R07rM; MjJ3p: XP3oi: goto dXsAD; MaRph: $tgl = cal_days_in_month(CAL_GREGORIAN, $bulan, $tahun); goto wV7Hu; kf4Y5: $jadwal = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto ifCOB; vQkRm: $b = $bulan < 10 ? "\x30" . $bulan : $bulan; goto NLOEn; dMtwM: LPccD: goto rPJbI; wV7Hu: $jadwal_materi = []; goto D2_cq; whMz5: OCink: goto tkatu; ifCOB: if ($jadwal != null) { goto PWgHz; } goto gi6KC; OgfRH: $jadwal->istirahat = unserialize($jadwal->istirahat); goto MaRph; IO_uv: $infos = $this->kelas->getJadwalMapelByMapel($id_kelas, $id_mapel, $id_tp, $id_smt); goto l5m1J; JO1uv: sSSnC: goto fwNsy; fwNsy: $i++; goto v_ZfZ; tkatu: $mapel_bulan_ini = []; goto IO_uv; fPeHM: $id_kelas = $this->input->post("\153\x65\154\141\163", true); goto eMJw0; v_ZfZ: goto x3S_N; goto R2iai; NLOEn: $jadwal_materi[$t] = (array) $this->kelas->getAllMateriByTgl($id_kelas, $tahun . "\55" . $b . "\55" . $t, [$id_mapel]); goto JO1uv; l5m1J: foreach ($infos as $info) { goto Mnjb5; Mnjb5: $dates = $this->total_hari($info->id_hari, $bulan, $tahun); goto v4je8; v4je8: foreach ($dates as $date) { goto oGKlB; oGKlB: $d = explode("\x2d", $date); goto vTrWZ; iKvOg: tObC2: goto hPQra; vTrWZ: $mapel_bulan_ini[$d[2]][$info->jam_ke] = $date; goto iKvOg; hPQra: } goto rzYro; rzYro: G9fGI: goto OhsBN; OhsBN: F20fc: goto P0Llh; P0Llh: } goto dMtwM; AOSCe: x3S_N: goto x6u2W; ieJ4n: $materi_perbulan = $this->kelas->getRekapBulananSiswa($id_mapel, $id_kelas, $tahun, $bulan); goto Xx_i9; Z2cCW: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto wj230; i6ODf: $id_tp = $this->master->getTahunActive()->id_tp; goto AIS2P; x6u2W: if (!($i < $tgl)) { goto YaaR7; } goto I2OZ7; I2OZ7: $t = $i + 1 < 10 ? "\x30" . ($i + 1) : $i + 1; goto vQkRm; eMJw0: $id_mapel = $this->input->post("\x6d\x61\160\145\154", true); goto PZJpn; D2_cq: $i = 0; goto AOSCe; Xx_i9: $log = []; goto Z2cCW; PZJpn: $tahun = $this->input->post("\x74\150\156", true); goto Fn4cZ; dXsAD: } function total_hari($id_day, $bulan, $taun) { goto zWZ7R; zt6eY: N6Bby: goto y46Xi; UqSjk: array_push($dates, date("\131\55\155\55\x64", strtotime($taun . "\x2d" . $bulan . "\x2d" . $i))); goto pxmrC; zcGTL: if (!(date("\x4e", strtotime($taun . "\55" . $bulan . "\x2d" . $i)) == $idday)) { goto JOxmD; } goto l6D2E; kE6n0: $total_days = cal_days_in_month(CAL_GREGORIAN, $bulan, $taun); goto Fg7RS; CI7rn: jJoKB: goto UtTc1; lmHqS: $i = 1; goto zd5TI; y46Xi: return $dates; goto DcbY2; bFjEM: $dates = []; goto kE6n0; zWZ7R: $days = 0; goto bFjEM; ENKwZ: goto Zl76D; goto zt6eY; zd5TI: Zl76D: goto bDXzM; bDXzM: if (!($i < $total_days)) { goto N6Bby; } goto zcGTL; l6D2E: $days++; goto UqSjk; pxmrC: JOxmD: goto CI7rn; Fg7RS: $idday = $id_day == "\x37" ? 0 : $id_day; goto lmHqS; UtTc1: $i++; goto ENKwZ; DcbY2: } }
