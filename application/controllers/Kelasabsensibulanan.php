<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Kelasabsensibulanan extends CI_Controller { public function __construct() { goto yTb3d; jVw0a: $this->load->model("\115\x61\163\x74\x65\x72\137\x6d\157\x64\x65\x6c", "\x6d\141\163\164\145\162"); goto jvKlX; MDAxr: EqeoX: goto DlL1l; YdrNL: $this->load->model("\x44\x72\x6f\x70\x64\157\x77\x6e\x5f\x6d\x6f\144\x65\x6c", "\144\162\x6f\x70\x64\x6f\167\156"); goto mbVel; jvKlX: $this->load->model("\x44\141\x73\150\142\157\141\x72\x64\137\155\x6f\x64\x65\154", "\144\141\163\x68\142\x6f\x61\162\x64"); goto YdrNL; mbVel: $this->load->model("\x4b\x65\154\x61\x73\x5f\155\157\x64\145\x6c", "\x6b\x65\154\141\x73"); goto dAk5l; wPAmV: $this->load->library(["\x64\141\164\x61\164\x61\x62\154\x65\x73", "\x66\157\x72\x6d\x5f\x76\141\x6c\x69\144\x61\x74\151\x6f\x6e"]); goto jVw0a; DlL1l: goto cOpcS; goto nOI0t; tf1dg: show_error("\x48\141\156\x79\x61\40\x41\144\x6d\x69\x6e\151\163\164\162\x61\164\157\x72\x20\x79\141\x6e\147\40\x64\x69\142\x65\x72\x69\x20\150\x61\x6b\40\165\x6e\164\x75\153\40\x6d\x65\156\x67\141\153\163\145\x73\x20\x68\x61\x6c\141\155\141\156\x20\151\156\151\x2c\40\x3c\141\40\x68\x72\x65\x66\75\42" . base_url("\x64\x61\163\150\x62\x6f\x61\162\x64") . "\42\x3e\x4b\x65\x6d\x62\x61\154\151\40\x6b\x65\x20\x6d\x65\156\x75\x20\x61\x77\x61\154\74\x2f\x61\x3e", 403, "\101\153\163\x65\163\40\104\x69\142\x61\x74\x61\163\x69"); goto MDAxr; QasNV: if (!$this->ion_auth->logged_in()) { goto ut8wc; } goto Vkr2f; Vkr2f: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\147\165\162\165"))) { goto EqeoX; } goto tf1dg; tyRth: cOpcS: goto wPAmV; C08CN: redirect("\141\x75\x74\150"); goto tyRth; yTb3d: parent::__construct(); goto QasNV; dAk5l: $this->form_validation->set_error_delimiters('', ''); goto c85c0; nOI0t: ut8wc: goto C08CN; c85c0: } public function output_json($data, $encode = true) { goto CBDxK; bOau1: $data = json_encode($data); goto uiOKz; uiOKz: dxIsV: goto M6aTI; CBDxK: if (!$encode) { goto dxIsV; } goto bOau1; M6aTI: $this->output->set_content_type("\x61\x70\x70\x6c\x69\143\141\164\x69\157\x6e\57\152\x73\x6f\156")->set_output($data); goto MaOeH; MaOeH: } public function index() { goto QPuyz; R3Xu2: $data["\164\x70\x5f\141\143\164\151\166\x65"] = $tp; goto z5MYV; vgltU: $data["\163\155\164\137\141\143\164\151\x76\x65"] = $smt; goto RR6jA; PCBBu: $data["\x67\165\162\165"] = $this->dropdown->getAllGuru(); goto hEzHt; SCY8_: $this->load->view("\153\x65\154\x61\163\57\141\142\x73\145\x6e\142\165\x6c\141\x6e\x61\x6e\57\x64\x61\164\141"); goto gamnN; bw7sx: pqxnc: goto BNUva; RSbCw: $arrMapel = []; goto NBNlY; DyBxY: $nguru[$guru->id_guru] = $guru->nama_guru; goto MbisM; bqm_C: $this->load->view("\x5f\164\145\155\160\154\x61\164\x65\163\57\144\141\163\x68\x62\157\141\x72\144\x2f\137\x66\157\x6f\164\145\x72"); goto PcR3c; pxKT5: if (!($mapel != null)) { goto AVreu; } goto MDfUV; hCAOf: $data["\x74\160"] = $this->dashboard->getTahun(); goto R3Xu2; zJzk4: $data["\x70\x72\157\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto Dg7nI; MbisM: $data["\x67\165\162\165"] = $guru; goto V1dkr; vrWjM: $data = ["\165\163\x65\162" => $user, "\152\165\x64\x75\154" => "\104\x61\146\164\141\162\x20\x48\141\x64\151\x72\x20\102\165\x6c\141\x6e\x61\x6e", "\x73\x75\x62\x6a\x75\144\x75\154" => "\x44\x61\x66\x74\x61\162\40\110\141\144\x69\162\x20\102\x75\154\x61\156\141\x6e\x20\123\x69\x73\x77\x61", "\163\145\x74\164\151\x6e\147" => $this->dashboard->getSetting()]; goto UlCZx; NBNlY: $arrKelas = []; goto rcnQK; Dg7nI: $data["\x6b\145\154\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto PCBBu; tWovH: foreach ($mapel as $m) { goto TiM3g; TiM3g: $arrMapel[$m->id_mapel] = $m->nama_mapel; goto KeWNq; KeWNq: foreach ($m->kelas_mapel as $kls) { $arrKelas[$m->id_mapel][] = ["\x69\144\137\x6b\x65\154\141\163" => $kls->kelas, "\156\141\x6d\141\x5f\153\x65\x6c\x61\163" => $this->dropdown->getNamaKelasById($tp->id_tp, $smt->id_smt, $kls->kelas)]; xTK1B: } goto ONKz3; ONKz3: aDo1d: goto F0CfW; F0CfW: MT0Aq: goto nx0vL; nx0vL: } goto bw7sx; Dc495: if ($this->ion_auth->is_admin()) { goto ezbrT; } goto agdXK; ghH5O: $this->load->view("\x6d\145\x6d\x62\x65\x72\163\57\147\x75\162\165\57\164\145\x6d\x70\154\141\x74\x65\x73\x2f\x68\145\x61\x64\x65\162", $data); goto SCY8_; G9sdT: ezbrT: goto zJzk4; gamnN: $this->load->view("\155\x65\x6d\142\x65\162\x73\x2f\x67\165\x72\x75\x2f\164\x65\x6d\160\154\x61\x74\145\x73\57\146\x6f\x6f\164\145\162"); goto U8QLu; RR6jA: $data["\142\165\x6c\x61\156"] = $this->dropdown->getBulan(); goto Dc495; L0T8U: $data["\141\x72\162\153\x65\x6c\141\x73"] = $arrKelas; goto KQC_n; UlCZx: $tp = $this->master->getTahunActive(); goto q081H; vdAPh: $data["\155\141\160\145\x6c"] = $arrMapel; goto L0T8U; U8QLu: goto nBSxS; goto G9sdT; k_9f6: $this->load->view("\153\x65\154\141\163\x2f\141\142\163\x65\156\142\165\x6c\x61\156\141\x6e\57\144\141\x74\x61"); goto bqm_C; zOHQY: $arrId = []; goto pxKT5; iA2CR: AVreu: goto vdAPh; z5MYV: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto vgltU; QPuyz: $user = $this->ion_auth->user()->row(); goto vrWjM; UT0Z4: $this->load->view("\137\164\x65\155\x70\154\x61\164\x65\x73\57\144\141\163\x68\142\x6f\141\162\144\57\x5f\x68\x65\141\x64\x65\x72", $data); goto k_9f6; rcnQK: if (!($mapel != null)) { goto Xneo8; } goto tWovH; hEzHt: $data["\x6d\141\160\x65\154"] = $this->dropdown->getAllMapel(); goto UT0Z4; V1dkr: $data["\x69\144\x5f\x67\x75\x72\x75"] = $guru->id_guru; goto KavCi; NdAyB: $mapel = json_decode(json_encode(unserialize($mapel_guru->mapel_kelas))); goto RSbCw; agdXK: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto DyBxY; PcR3c: nBSxS: goto QfZqY; q081H: $smt = $this->master->getSemesterActive(); goto hCAOf; KavCi: $mapel_guru = $this->kelas->getGuruMapelKelas($guru->id_guru, $tp->id_tp, $smt->id_smt); goto NdAyB; KQC_n: $data["\153\x65\x6c\x61\x73"] = count($arrId) > 0 ? $this->dropdown->getAllKelasByArrayId($tp->id_tp, $smt->id_smt, $arrId) : []; goto ghH5O; BNUva: Xneo8: goto zOHQY; MDfUV: foreach ($mapel[0]->kelas_mapel as $id_mapel) { array_push($arrId, $id_mapel->kelas); ZwBoQ: } goto hGVo3; hGVo3: mD3oM: goto iA2CR; QfZqY: } public function loadAbsensiMapel() { goto rB7rT; E6U8W: $id_mapel = $this->input->post("\155\141\160\x65\154", true); goto LYh6_; JIPdj: WYKA3: goto zk9pJ; vaOVF: UJ19H: goto jKU03; NXOgm: $infos = $this->kelas->getJadwalMapelByMapel($id_kelas, $id_mapel, $id_tp, $id_smt); goto dz2Vo; pbs5H: goto zXwft; goto NquIu; dz2Vo: foreach ($infos as $info) { goto WJ6t9; WJ6t9: $dates = $this->total_hari($info->id_hari, $bulan, $tahun); goto nr9qf; PwiVt: nityR: goto WfKZ2; F4HAw: FDK74: goto PwiVt; nr9qf: foreach ($dates as $date) { goto ZvKn9; kC8Rv: $mapel_bulan_ini[$d[2]][$info->jam_ke] = $date; goto LKGv8; ZvKn9: $d = explode("\55", $date); goto kC8Rv; LKGv8: pBUxy: goto TS9xr; TS9xr: } goto F4HAw; WfKZ2: } goto tBMAI; XXDFz: $t = $i + 1 < 10 ? "\x30" . ($i + 1) : $i + 1; goto v6CoF; jKU03: $jadwal->istirahat = unserialize($jadwal->istirahat); goto pylUJ; pjx5A: $siswa = $this->kelas->getKelasSiswa($id_kelas, $id_tp, $id_smt); goto bP2kp; v6CoF: $b = $bulan < 10 ? "\60" . $bulan : $bulan; goto wLvnF; X8x7j: $this->output_json(["\154\x6f\147" => $log, "\x6a\x61\x64\167\x61\x6c" => $jadwal, "\155\x61\x74\145\x72\151" => $jadwal_materi, "\x6d\x61\x70\x65\154\163" => $mapel_bulan_ini]); goto yP8MD; wLvnF: $jadwal_materi[$t] = (array) $this->kelas->getAllMateriByTgl($id_kelas, $tahun . "\55" . $b . "\x2d" . $t, [$id_mapel]); goto HpoSB; zk9pJ: $mapel_bulan_ini = []; goto NXOgm; wi0P6: $i = 0; goto lcfjH; HZDvm: $i++; goto pbs5H; pylUJ: $tgl = cal_days_in_month(CAL_GREGORIAN, $bulan, $tahun); goto J5y9z; gtDU1: $log = []; goto pjx5A; tIKSY: if ($jadwal != null) { goto UJ19H; } goto e5xGv; UPAu0: $jadwal = $this->dashboard->getJadwalKbm($id_tp, $id_smt, $id_kelas); goto tIKSY; mmehz: $id_tp = $this->master->getTahunActive()->id_tp; goto oyCJV; HpoSB: AHN_u: goto HZDvm; J5y9z: $jadwal_materi = []; goto wi0P6; LYh6_: $tahun = $this->input->post("\x74\150\156", true); goto PtNsz; bP2kp: foreach ($siswa as $s) { goto ISlEm; IFyNC: if (!($i < $tgl)) { goto t9Lml; } goto rKmC0; b3ma0: $arrMateri[1][] = $materi_perbulan != null && isset($materi_perbulan[$s->id_siswa]) && isset($materi_perbulan[$s->id_siswa][1]) && isset($materi_perbulan[$s->id_siswa][1][$tahun . "\x2d" . $b . "\55" . $t]) ? $materi_perbulan[$s->id_siswa][1][$tahun . "\55" . $b . "\x2d" . $t] : null; goto PBRer; cIESF: t9Lml: goto nAhJP; E8dMU: $i = 0; goto HYk1y; oQzto: goto lufAB; goto cIESF; ISlEm: $arrMateri = []; goto E8dMU; PBRer: $arrMateri[2][] = $materi_perbulan != null && isset($materi_perbulan[$s->id_siswa]) && isset($materi_perbulan[$s->id_siswa][2]) && isset($materi_perbulan[$s->id_siswa][2][$tahun . "\55" . $b . "\x2d" . $t]) ? $materi_perbulan[$s->id_siswa][2][$tahun . "\x2d" . $b . "\55" . $t] : null; goto JU0Ev; HYk1y: lufAB: goto IFyNC; JHGPB: $b = $bulan < 10 ? "\60" . $bulan : $bulan; goto b3ma0; iihKT: $i++; goto oQzto; rKmC0: $t = $i + 1 < 10 ? "\x30" . ($i + 1) : $i + 1; goto JHGPB; nAhJP: $log[$s->id_siswa] = ["\156\x61\155\x61" => $s->nama, "\156\151\x73" => $s->nis, "\153\x65\154\141\163" => $s->nama_kelas, "\x6d\141\164\x65\x72\x69" => $arrMateri[1], "\x74\165\x67\x61\163" => $arrMateri[2]]; goto aPPcV; JU0Ev: IgZJ8: goto iihKT; aPPcV: D6PAQ: goto L5Ans; L5Ans: } goto JIPdj; tBMAI: R4lZa: goto X8x7j; yP8MD: TnlEb: goto RKSEE; BpqzE: if (!($i < $tgl)) { goto Ofq8l; } goto XXDFz; e5xGv: $this->output_json(["\152\141\x64\x77\141\154" => $jadwal]); goto GYlAh; lcfjH: zXwft: goto BpqzE; PtNsz: $bulan = $this->input->post("\x62\x6c\x6e", true); goto mmehz; NquIu: Ofq8l: goto JZf5C; oyCJV: $id_smt = $this->master->getSemesterActive()->id_smt; goto UPAu0; rB7rT: $id_kelas = $this->input->post("\x6b\x65\154\x61\163", true); goto E6U8W; GYlAh: goto TnlEb; goto vaOVF; JZf5C: $materi_perbulan = $this->kelas->getRekapBulananSiswa($id_mapel, $id_kelas, $tahun, $bulan); goto gtDU1; RKSEE: } function total_hari($id_day, $bulan, $taun) { goto CegqO; Ep53n: $idday = $id_day == "\x37" ? 0 : $id_day; goto VQOs1; G2kop: if (!($i < $total_days)) { goto ap8OP; } goto zj1fP; aPA5y: $total_days = cal_days_in_month(CAL_GREGORIAN, $bulan, $taun); goto Ep53n; OsWbq: bE5vF: goto wLN2g; Ub6aG: goto CIX4e; goto oZwB1; DcOKq: $days++; goto u4MBT; oZwB1: ap8OP: goto KJ9Ch; zj1fP: if (!(date("\116", strtotime($taun . "\55" . $bulan . "\55" . $i)) == $idday)) { goto uCsFu; } goto DcOKq; u4MBT: array_push($dates, date("\131\x2d\x6d\55\x64", strtotime($taun . "\x2d" . $bulan . "\55" . $i))); goto DcVQJ; b3pGn: $dates = []; goto aPA5y; BipmT: CIX4e: goto G2kop; KJ9Ch: return $dates; goto y1dIG; CegqO: $days = 0; goto b3pGn; DcVQJ: uCsFu: goto OsWbq; VQOs1: $i = 1; goto BipmT; wLN2g: $i++; goto Ub6aG; y1dIG: } }
