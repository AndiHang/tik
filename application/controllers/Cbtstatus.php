<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtstatus extends CI_Controller { public function __construct() { goto UeHUk; VtlJ8: pbQuF: goto RLcCV; q6TAL: goto pbQuF; goto Ec6Gr; nNOKu: $this->load->library("\165\x70\154\157\141\x64"); goto g_XyB; LZlZr: if (!$this->ion_auth->logged_in()) { goto tP2Sz; } goto q5GLy; qKHtQ: $this->form_validation->set_error_delimiters('', ''); goto dnaYR; g_XyB: $this->load->model("\x4d\x61\163\x74\145\162\x5f\155\x6f\x64\145\x6c", "\x6d\x61\163\164\145\x72"); goto gwzN6; Ec6Gr: tP2Sz: goto aXlyb; gwzN6: $this->load->model("\x44\x61\163\150\x62\157\x61\x72\144\137\x6d\x6f\x64\x65\154", "\x64\x61\163\x68\142\x6f\x61\162\144"); goto qlJ_5; RRqll: $this->load->model("\x44\162\x6f\160\x64\x6f\167\x6e\137\155\157\x64\x65\x6c", "\144\162\x6f\x70\x64\x6f\x77\156"); goto qKHtQ; AIzVF: KJwA_: goto q6TAL; qlJ_5: $this->load->model("\x43\142\164\137\x6d\157\x64\x65\154", "\x63\x62\x74"); goto RRqll; RLcCV: $this->load->library(["\x64\141\164\141\164\x61\x62\x6c\x65\x73", "\x66\157\162\x6d\137\x76\x61\x6c\x69\144\141\x74\151\x6f\x6e"]); goto nNOKu; T_CRi: show_error("\110\x61\x6e\171\141\x20\101\x64\155\151\x6e\151\163\164\162\141\164\x6f\x72\x20\x79\x61\x6e\x67\x20\x64\x69\x62\145\162\x69\x20\x68\x61\153\40\165\156\164\x75\153\40\155\x65\156\147\141\x6b\x73\145\163\40\150\x61\x6c\x61\155\141\156\x20\x69\156\x69\x2c\40\74\141\x20\x68\x72\x65\x66\75\42" . base_url("\x64\x61\x73\150\x62\x6f\x61\162\144") . "\x22\x3e\113\x65\x6d\x62\141\154\x69\x20\153\x65\x20\155\145\156\165\40\141\x77\x61\154\74\57\x61\76", 403, "\101\x6b\x73\x65\163\40\x54\145\x72\154\x61\x72\141\156\147"); goto AIzVF; UeHUk: parent::__construct(); goto LZlZr; q5GLy: if (!(!$this->ion_auth->is_admin() && !$this->ion_auth->in_group("\x67\x75\x72\165"))) { goto KJwA_; } goto T_CRi; aXlyb: redirect("\141\x75\x74\x68"); goto VtlJ8; dnaYR: } public function output_json($data, $encode = true) { goto iSGr0; iSGr0: if (!$encode) { goto FcFFt; } goto tn6u9; CwTyB: $this->output->set_content_type("\x61\x70\160\154\x69\x63\141\x74\x69\157\x6e\57\152\163\157\x6e")->set_output($data); goto thU0N; tn6u9: $data = json_encode($data); goto zObil; zObil: FcFFt: goto CwTyB; thU0N: } public function index() { goto Kcfd3; guQf4: sMUbt: goto ZGL5I; zff6S: $this->load->view("\x6d\x65\x6d\x62\145\x72\163\57\147\165\162\x75\57\143\x62\164\x2f\x73\x74\x61\x74\x75\163\57\144\141\164\x61"); goto Rdlkm; QjjTZ: $data["\x6a\x61\144\167\141\154"] = $this->dropdown->getAllJadwalGuru($tp->id_tp, $smt->id_smt, $guru->id_guru); goto nGo8M; x9spL: $data["\x70\x65\x6e\147\141\x77\x61\x73"] = $this->cbt->getPengawasByGuru($tp->id_tp, $smt->id_smt, $guru->id_guru); goto NOqZ4; lz4Zs: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto nOAQ1; TSc51: $data["\160\x72\157\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto pJ2Qx; odAw8: $this->load->view("\x5f\164\145\155\x70\154\x61\164\x65\x73\x2f\x64\x61\163\x68\142\157\x61\162\144\x2f\137\x66\x6f\157\164\x65\x72"); goto guQf4; aQ3HJ: $data["\x74\x70\137\141\143\x74\x69\x76\145"] = $tp; goto lz4Zs; LrHTF: $data["\x72\x75\x61\156\x67"] = $this->dropdown->getAllRuang(); goto S14zP; bC74y: $tp = $this->dashboard->getTahunActive(); goto G0Nv1; WU02z: $data = ["\x75\163\x65\162" => $user, "\152\165\x64\165\x6c" => "\123\164\141\164\165\163\x20\125\x6a\x69\141\156\x20\x53\x69\x73\x77\x61", "\x73\x75\142\x6a\x75\x64\x75\154" => "\123\x74\141\164\165\163\x20\x53\x69\x73\167\x61", "\x73\x65\x74\x74\x69\156\x67" => $this->dashboard->getSetting()]; goto bC74y; qJq3h: $data["\x74\160"] = $this->dashboard->getTahun(); goto aQ3HJ; YaevS: $this->load->view("\x63\x62\164\x2f\163\164\x61\164\x75\163\x2f\x64\141\164\x61"); goto odAw8; Uuh9P: $this->load->view("\137\x74\x65\155\160\154\141\x74\x65\x73\57\144\x61\x73\150\142\x6f\141\162\x64\57\137\x68\x65\x61\x64\145\162", $data); goto YaevS; tt0Ob: if ($this->ion_auth->is_admin()) { goto gi0bV; } goto HsWoA; nOAQ1: $data["\163\155\164\137\141\143\164\x69\x76\x65"] = $smt; goto tt0Ob; y4u0P: $data["\147\165\162\x75"] = $guru; goto QjjTZ; Cw1VA: gi0bV: goto TSc51; Rdlkm: $this->load->view("\x6d\x65\155\142\145\162\x73\x2f\147\165\162\x75\x2f\x74\x65\x6d\x70\x6c\x61\x74\x65\163\x2f\x66\157\157\x74\x65\162"); goto M7VDD; HsWoA: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto y4u0P; nGo8M: $data["\162\x75\x61\x6e\x67"] = $this->dropdown->getAllRuang(); goto qo7Rr; M7VDD: goto sMUbt; goto Cw1VA; G0Nv1: $smt = $this->dashboard->getSemesterActive(); goto qJq3h; NOqZ4: $this->load->view("\155\145\x6d\x62\x65\x72\163\x2f\147\x75\x72\x75\x2f\x74\145\155\x70\x6c\x61\x74\x65\x73\x2f\x68\x65\141\x64\145\162", $data); goto zff6S; qo7Rr: $data["\163\145\x73\x69"] = $this->dropdown->getAllSesi(); goto x9spL; pJ2Qx: $data["\x6a\141\x64\167\141\x6c"] = $this->dropdown->getAllJadwal($tp->id_tp, $smt->id_smt); goto LrHTF; Kcfd3: $user = $this->ion_auth->user()->row(); goto WU02z; S14zP: $data["\163\145\x73\x69"] = $this->dropdown->getAllSesi(); goto Uuh9P; ZGL5I: } public function data() { $this->output_json($this->cbt->getJenis(), false); } public function getJadwalUjianByJadwal() { goto y1YJT; kCZD_: $info = $this->cbt->getJadwalById($jadwal); goto Ag5OW; y1YJT: $jadwal = $this->input->get("\151\x64\137\152\x61\x64\167\x61\x6c"); goto kCZD_; s4KJ0: $data["\x74\x70"] = $this->dashboard->getTahun(); goto cjrN6; CTTa8: $data["\163\155\164\x5f\x61\x63\x74\151\x76\x65"] = $smt; goto QftTj; vIP3I: foreach ($kelas as $key => $value) { $kelases[$value["\153\145\154\x61\x73\x5f\151\x64"]] = $this->dropdown->getNamaKelasById($info->id_tp, $info->id_smt, $value["\x6b\145\154\141\x73\x5f\x69\144"]); jSVYo: } goto OM4eb; Ag5OW: $tp = $this->dashboard->getTahunActive(); goto dVyHe; dVyHe: $smt = $this->dashboard->getSemesterActive(); goto s4KJ0; qQV1V: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto CTTa8; cjrN6: $data["\164\160\137\x61\x63\x74\151\166\145"] = $tp; goto qQV1V; b1MOc: $this->output_json($kelases); goto urKiY; cyYqR: $kelases = []; goto vIP3I; QftTj: $kelas = unserialize($info->bank_kelas); goto cyYqR; OM4eb: hNbxW: goto b1MOc; urKiY: } public function getJadwalUjianByKelas() { goto lepk0; PBRgC: $tp = $this->dashboard->getTahunActive(); goto y4DbF; VvFCX: $jdwl = []; goto maOUA; maOUA: foreach ($jadwals as $jadwal) { goto SJ3C2; SJ3C2: $kls = unserialize($jadwal->bank_kelas); goto fg2sv; CDmh6: Tl120: goto WfnX4; fg2sv: foreach ($kls as $kl) { goto zLJYj; zLJYj: if (!($kl["\x6b\x65\x6c\x61\x73\137\151\x64"] == $kelas)) { goto lerM8; } goto dk7Ej; KEWg8: lerM8: goto odH0D; odH0D: LlSMt: goto oqaTl; dk7Ej: $jdwl[$jadwal->id_jadwal] = $jadwal->bank_kode; goto KEWg8; oqaTl: } goto S5KtC; S5KtC: xB3IN: goto CDmh6; WfnX4: } goto Pzsv7; CPUU5: $this->output_json($jdwl); goto fFj_N; y4DbF: $smt = $this->dashboard->getSemesterActive(); goto iPW1t; lepk0: $kelas = $this->input->get("\151\x64\x5f\153\x65\x6c\141\x73"); goto PBRgC; iPW1t: $jadwals = $this->cbt->getAllJadwal($tp->id_tp, $smt->id_smt); goto VvFCX; Pzsv7: tyxPN: goto CPUU5; fFj_N: } public function getSiswaKelas() { goto k9GV_; S7zXa: $data["\x73\151\x73\167\x61"] = $siswas; goto F9rk_; j4qKE: $this->output_json($data); goto TX_UF; raDEy: $siswas = $this->cbt->getSiswaByKelas($tp->id_tp, $smt->id_smt, $kelas); goto G2EA9; jk_oV: $this->db->trans_start(); goto S7jYr; S7jYr: $tp = $this->dashboard->getTahunActive(); goto DWF4q; XGudS: $data["\x69\x6e\x66\x6f"] = $info; goto T6Giy; DWF4q: $smt = $this->dashboard->getSemesterActive(); goto fPYkI; X31K4: $jadwal = $this->input->get("\152\x61\x64\x77\141\154"); goto jk_oV; k9GV_: $kelas = $this->input->get("\153\145\x6c\x61\163"); goto X31K4; i3cQv: $logs = $this->cbt->getLogUjianByJadwal($jadwal); goto e1L2M; zB3UD: $this->db->trans_complete(); goto S7zXa; fPYkI: $info = $this->cbt->getJadwalById($jadwal); goto raDEy; e1L2M: $pengawas = $this->cbt->getPengawasByJadwal($tp->id_tp, $smt->id_smt, $jadwal); goto JyP9m; G2EA9: $durasies = $this->cbt->getDurasiSiswaByJadwal($jadwal); goto i3cQv; LMahg: sE1B9: goto zB3UD; F9rk_: $data["\x64\x75\x72\141\163\151"] = $arrDur; goto XGudS; T6Giy: $data["\160\x65\156\x67\141\167\x61\163"] = $pengawas; goto j4qKE; JyP9m: $arrDur = []; goto dllTV; dllTV: foreach ($siswas as $siswa) { goto P80xy; aKp20: yx6zE: goto A7H_k; m8ouk: Pz9wF: goto q2zyj; P80xy: $dur_siswa = null; goto r_DVK; A7H_k: $log_siswa = []; goto uCzIe; uCzIe: foreach ($logs as $log) { goto vnr0J; B5gaV: myrRT: goto vSVmW; vnr0J: if (!($log->id_siswa == $siswa->id_siswa)) { goto l1Xlg; } goto D2ttW; D2ttW: array_push($log_siswa, $log); goto zZAyp; zZAyp: l1Xlg: goto B5gaV; vSVmW: } goto WGb2H; WGb2H: Kc3rj: goto dLnmK; dLnmK: $arrDur[$siswa->id_siswa] = ["\144\165\x72" => $dur_siswa, "\x6c\x6f\x67" => $log_siswa]; goto m8ouk; r_DVK: foreach ($durasies as $durasi) { goto oi4Fs; WTkXE: $ed = $elap[2] == "\60\x30" ? 0 : 1; goto K69sw; aGOKJ: $em = $elap[1] == "\60\60" ? '' : intval($elap[1]) + $ed . "\x20\x6d"; goto Qgvkp; hSmIS: $elap = explode("\72", $lamanya); goto WTkXE; KK1MP: goto x_Zkq; goto NYIuK; u8I6D: $durasi->lama_ujian = $dd == '' ? "\60\40\x6d" : $dd; goto rvdwG; kJ3Vv: $durasi->lama_ujian .= "\155"; goto KK1MP; NYIuK: gnQJR: goto hSmIS; QhmfI: FmfAH: goto xsmlh; sirys: AaoNQ: goto QhmfI; GePD3: $dur_siswa = $durasi; goto sirys; oi4Fs: if (!($durasi->id_siswa == $siswa->id_siswa)) { goto AaoNQ; } goto Abv_B; rvdwG: x_Zkq: goto GePD3; Abv_B: $lamanya = $durasi->lama_ujian; goto fuChn; Qgvkp: $dd = $ej . $em; goto u8I6D; K69sw: $ej = $elap[0] == "\x30\60" ? '' : intval($elap[0]) . "\x20\x6a\x20"; goto aGOKJ; fuChn: if (strpos($lamanya, "\72") !== false) { goto gnQJR; } goto kJ3Vv; xsmlh: } goto aKp20; q2zyj: } goto LMahg; TX_UF: } public function getSiswaRuang() { goto fQfXo; BX3W9: $data["\163\x69\163\167\141"] = $siswas; goto OqknR; kafXt: $siswas = $this->cbt->getSiswaByRuang($tp->id_tp, $smt->id_smt, $ruang, $sesi); goto UIMC5; kLW6K: $tp = $this->dashboard->getTahunActive(); goto TqKMj; TqKMj: $smt = $this->dashboard->getSemesterActive(); goto kafXt; OqknR: $data["\x64\165\x72\141\x73\151"] = $arrDur; goto hgbJ3; Oz1eY: foreach ($siswas as $siswa) { goto Ak3bT; qm4Jp: EBOaK: goto jcvT7; jcvT7: $arrDur[$siswa->id_siswa] = ["\144\165\162" => $this->cbt->getDurasiSiswa($siswa->id_siswa . "\x30" . $jadwal), "\x6a\141\167\141\x62" => $arrJawab[$siswa->id_siswa], "\154\157\x67" => $this->cbt->getLogUjian($siswa->id_siswa, $jadwal)]; goto CvMwW; zCEoc: DUd63: goto lS38C; CvMwW: KbK3u: goto HaM5L; JuyXi: $arrJawab[$siswa->id_siswa][] = $this->cbt->getJawabanSiswa($siswa->id_siswa . "\60" . $jadwal . $info->id_bank . 1 . ($i + 1)); goto zCEoc; KePhB: goto Ac_JE; goto qm4Jp; Twkn7: Ac_JE: goto nKi9Y; XcuaS: $i = 0; goto Twkn7; lS38C: $i++; goto KePhB; nKi9Y: if (!($i < $info->jml_soal)) { goto EBOaK; } goto JuyXi; Ak3bT: $arrJawab = []; goto XcuaS; HaM5L: } goto i9V19; fQfXo: $ruang = $this->input->get("\x72\165\x61\156\147"); goto wMrja; xGI9k: $this->output_json($data); goto DeOFZ; nr9yF: $this->db->trans_complete(); goto BX3W9; wMrja: $sesi = $this->input->get("\163\145\x73\151"); goto zzKJi; QLOQj: $data["\x70\x65\x6e\x67\x61\167\x61\x73"] = $pengawas; goto xGI9k; EHqgl: $arrDur = []; goto Oz1eY; wNXUD: $pengawas = $this->cbt->getPengawasByJadwal($tp->id_tp, $smt->id_smt, $jadwal, $sesi); goto EHqgl; JqAPn: $this->db->trans_start(); goto kLW6K; UIMC5: $info = $this->cbt->getJadwalById($jadwal, $sesi); goto wNXUD; hgbJ3: $data["\151\156\x66\x6f"] = $info; goto QLOQj; i9V19: b4e84: goto nr9yF; zzKJi: $jadwal = $this->input->get("\x6a\141\x64\167\141\x6c"); goto JqAPn; DeOFZ: } public function detail() { goto AB0eG; JYtlq: $this->load->view("\x63\x62\x74\57\x73\x74\141\164\165\x73\57\144\x65\164\x61\151\x6c"); goto qy9BE; iDefl: BpLb0: goto m4_fs; Dtar1: if ($this->ion_auth->is_admin()) { goto BpLb0; } goto PbUQg; hlkzh: $this->load->view("\137\x74\145\x6d\x70\x6c\141\x74\x65\x73\x2f\144\141\163\x68\142\157\x61\x72\x64\x2f\x5f\x68\145\141\144\145\162", $data); goto JYtlq; rehGQ: $user = $this->ion_auth->user()->row(); goto PRAij; SDhsg: $data["\x74\160"] = $this->dashboard->getTahun(); goto Of6lc; PbUQg: $guru = $this->dashboard->getDataGuruByUserId($user->id, $tp->id_tp, $smt->id_smt); goto FRONu; pGJqq: $data["\x73\x69\x73\167\141"] = $this->master->getSiswaById($siswa); goto QG24q; m4_fs: $data["\160\162\x6f\146\x69\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto hlkzh; R6sl4: $this->load->view("\x6d\145\155\x62\x65\x72\x73\57\147\x75\162\165\x2f\x74\145\x6d\x70\154\x61\x74\145\x73\57\x66\157\x6f\x74\145\x72"); goto dNAae; qy9BE: $this->load->view("\137\164\145\x6d\x70\154\141\x74\x65\x73\x2f\144\141\163\150\142\157\x61\162\144\57\137\146\x6f\157\164\145\x72"); goto vzsTX; QG24q: $data["\x73\157\141\x6c"] = $this->cbt->getSoalSiswaByJadwal($jadwal, $siswa); goto Dtar1; dNAae: goto EkAtY; goto iDefl; vzsTX: EkAtY: goto U2yLM; ORwWE: $smt = $this->dashboard->getSemesterActive(); goto SDhsg; Of6lc: $data["\x74\x70\x5f\141\x63\164\x69\x76\x65"] = $tp; goto GVh3R; FRONu: $data["\x67\165\162\165"] = $guru; goto FgU_Z; kPHzp: $this->load->view("\143\x62\x74\x2f\x73\x74\x61\x74\x75\163\57\x64\x65\164\141\151\154"); goto R6sl4; GVh3R: $data["\163\155\x74"] = $this->dashboard->getSemester(); goto ejp75; PRAij: $data = ["\165\x73\145\162" => $user, "\x6a\165\144\165\154" => "\104\x65\164\x61\151\x6c\x20\x53\164\x61\164\165\x73\x20\123\x69\x73\167\141", "\x73\165\x62\x6a\x75\144\165\154" => "\x53\x74\141\x74\x75\163\x20\123\x69\x73\167\141", "\x73\x65\x74\164\x69\156\147" => $this->dashboard->getSetting()]; goto vG_LG; AB0eG: $siswa = $this->input->get("\163\151\x73\167\x61"); goto sVOEM; ejp75: $data["\163\x6d\164\x5f\x61\x63\x74\151\166\145"] = $smt; goto pGJqq; vG_LG: $tp = $this->dashboard->getTahunActive(); goto ORwWE; FgU_Z: $this->load->view("\155\x65\x6d\x62\145\x72\163\x2f\x67\165\x72\165\57\164\145\155\x70\154\141\164\x65\x73\57\150\x65\x61\x64\x65\x72", $data); goto kPHzp; sVOEM: $jadwal = $this->input->get("\x6a\141\x64\167\141\x6c"); goto rehGQ; U2yLM: } }
