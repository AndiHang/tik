<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 defined("\102\x41\123\105\x50\x41\x54\110") or exit("\116\157\x20\x64\x69\x72\145\143\x74\40\163\143\x72\x69\x70\x74\40\x61\143\x63\145\x73\x73\40\x61\x6c\x6c\157\x77\x65\144"); class Users extends CI_Controller { public function __construct() { goto UMZZ0; pH4xH: $this->form_validation->set_error_delimiters('', ''); goto uLTZT; OECUz: redirect("\x61\x75\164\x68"); goto Hqeny; UMZZ0: parent::__construct(); goto PiRx1; GS8d3: $this->load->library(["\x64\141\x74\x61\164\x61\x62\x6c\x65\163", "\x66\157\x72\x6d\x5f\166\x61\x6c\x69\x64\141\164\x69\x6f\x6e"]); goto CQlS_; CQlS_: $this->load->model("\125\x73\x65\162\x73\137\155\x6f\144\x65\x6c", "\x75\x73\145\x72\163"); goto gf6Uw; Hqeny: ZiiD1: goto GS8d3; PiRx1: if ($this->ion_auth->logged_in()) { goto ZiiD1; } goto OECUz; gf6Uw: $this->load->model("\x4d\141\x73\x74\145\x72\137\x6d\x6f\144\145\154", "\155\141\x73\164\x65\x72"); goto uLdoU; uLdoU: $this->load->model("\x44\141\x73\x68\x62\x6f\x61\x72\144\137\155\157\144\145\154", "\141\144\155\x69\156\144\x61\163\150\142\x6f\141\x72\x64"); goto pH4xH; uLTZT: } public function is_admin() { goto yStZn; yStZn: if ($this->ion_auth->is_admin()) { goto xRlaa; } goto ghAUH; ghAUH: show_error("\110\x61\156\171\141\40\x41\x64\155\x69\156\x69\163\x74\x72\141\x74\x6f\x72\40\x79\x61\156\x67\40\144\x69\142\x65\162\x69\40\150\x61\153\40\165\x6e\x74\x75\153\40\155\145\x6e\147\x61\153\x73\x65\x73\x20\150\x61\154\141\x6d\141\156\40\x69\x6e\x69\x2c\40\x3c\x61\x20\150\x72\145\146\75\42" . base_url("\x64\x61\x73\x68\142\x6f\141\162\144") . "\42\76\x4b\x65\155\x62\x61\154\x69\40\153\x65\x20\x6d\145\x6e\165\x20\x61\x77\141\x6c\x3c\x2f\x61\x3e", 403, "\x41\x6b\x73\145\163\x20\124\x65\162\x6c\x61\162\x61\x6e\147"); goto R_xoI; R_xoI: xRlaa: goto Q3h6z; Q3h6z: } public function output_json($data, $encode = true) { goto UUtoQ; KZfRc: $data = json_encode($data); goto yNBHq; E2QIK: $this->output->set_content_type("\141\x70\x70\x6c\151\143\x61\x74\x69\x6f\x6e\57\152\x73\x6f\x6e")->set_output($data); goto jtjV0; yNBHq: u1p2d: goto E2QIK; UUtoQ: if (!$encode) { goto u1p2d; } goto KZfRc; jtjV0: } public function data($id = null) { $this->is_admin(); $this->output_json($this->users->getDataUsers($id), false); } public function index() { goto vYT9x; YqUXI: $this->load->view("\x5f\x74\145\x6d\x70\154\141\x74\x65\x73\57\144\x61\163\x68\142\157\141\x72\144\x2f\x66\x6f\157\164\145\x72\56\160\150\160"); goto ClQyf; zRSDX: $this->load->view("\x75\163\145\x72\163\x2f\144\141\164\x61"); goto YqUXI; W0F85: $data["\x73\155\x74"] = $this->admindashboard->getSemester(); goto ckieM; vYT9x: $this->is_admin(); goto jQbik; jQbik: $data = ["\165\x73\145\x72" => $this->ion_auth->user()->row(), "\x6a\x75\x64\x75\x6c" => "\x55\163\x65\x72\x20\x4d\141\156\x61\x67\145\x6d\x65\x6e\x74", "\163\165\x62\152\x75\144\x75\154" => "\x44\x61\x74\141\40\125\163\x65\x72"]; goto Qg3SW; Qg3SW: $data["\x74\x70"] = $this->admindashboard->getTahun(); goto Kr9bz; KyoG0: $this->load->view("\137\x74\x65\x6d\x70\154\141\x74\x65\163\57\144\x61\163\150\x62\157\141\162\144\57\x68\x65\x61\144\x65\x72\x2e\160\x68\x70", $data); goto zRSDX; ckieM: $data["\163\x6d\x74\x5f\x61\x63\x74\151\x76\145"] = $this->admindashboard->getSemesterActive(); goto KyoG0; Kr9bz: $data["\164\160\x5f\141\143\164\151\166\145"] = $this->admindashboard->getTahunActive(); goto W0F85; ClQyf: } public function edit($id) { goto CtTK4; CtTK4: $level = $this->ion_auth->get_users_groups($id)->result(); goto aq7ho; aq7ho: $data = ["\x75\x73\x65\162" => $this->ion_auth->user()->row(), "\152\165\144\x75\x6c" => "\125\163\x65\162\40\115\x61\156\141\147\145\155\145\156\x74", "\163\x75\142\x6a\x75\x64\165\x6c" => "\x45\x64\x69\x74\40\x44\x61\x74\x61\40\x55\x73\x65\162", "\165\163\x65\162\163" => $this->ion_auth->user($id)->row(), "\147\162\x6f\x75\x70\x73" => $this->ion_auth->groups()->result(), "\x6c\x65\166\145\x6c" => $level[0]]; goto l6rb3; t1Oku: $this->load->view("\x5f\164\x65\x6d\160\x6c\x61\x74\145\163\x2f\144\x61\x73\x68\142\x6f\141\x72\144\x2f\x66\x6f\x6f\x74\145\x72\x2e\x70\150\160"); goto jzvV2; l6rb3: $this->load->view("\137\x74\x65\155\x70\x6c\x61\x74\145\163\57\x64\x61\x73\x68\x62\157\141\x72\x64\x2f\x68\x65\141\144\145\x72\x2e\160\150\x70", $data); goto VSYIN; VSYIN: $this->load->view("\x75\163\x65\162\163\x2f\x65\x64\151\164"); goto t1Oku; jzvV2: } public function edit_info() { goto ah2JB; BvtN1: if ($this->form_validation->run() === FALSE) { goto xIwd4; } goto bFD93; ah2JB: $this->is_admin(); goto LPzRn; LPzRn: $this->form_validation->set_rules("\165\x73\145\x72\156\141\x6d\x65", "\125\x73\145\162\156\141\155\145", "\162\x65\161\x75\x69\162\x65\x64"); goto mZF6e; bFD93: $id = $this->input->post("\x69\144", true); goto hVHtg; mDoLg: $this->form_validation->set_rules("\145\155\x61\x69\154", "\105\155\x61\151\154", "\x72\145\161\165\151\x72\x65\144\174\166\141\x6c\x69\144\137\x65\x6d\x61\151\x6c"); goto BvtN1; Gns1Z: $update = $this->master->update("\165\x73\145\162\x73", $input, "\151\x64", $id); goto E5ryX; SqKl2: $this->form_validation->set_rules("\154\x61\163\x74\x5f\x6e\x61\155\145", "\x4c\141\x73\x74\40\x4e\141\x6d\145", "\162\x65\161\165\151\162\x65\x64"); goto mDoLg; IemuI: $data["\x73\164\141\x74\x75\163"] = false; goto BQVlc; Xxzjh: xIwd4: goto IemuI; BQVlc: $data["\145\162\x72\x6f\162\x73"] = ["\x75\163\x65\x72\x6e\141\155\x65" => form_error("\165\x73\x65\x72\156\141\155\x65"), "\x66\151\x72\163\164\x5f\x6e\x61\155\x65" => form_error("\146\151\162\x73\x74\x5f\156\141\x6d\145"), "\x6c\x61\163\x74\x5f\156\x61\x6d\x65" => form_error("\x6c\141\163\x74\x5f\156\141\155\x65"), "\x65\155\141\151\154" => form_error("\x65\x6d\141\x69\x6c")]; goto a35Zw; hVHtg: $input = ["\165\163\x65\x72\x6e\141\x6d\x65" => $this->input->post("\165\x73\x65\162\156\x61\155\145", true), "\x66\151\162\x73\x74\137\x6e\141\155\145" => $this->input->post("\x66\151\162\163\164\x5f\156\x61\155\x65", true), "\x6c\x61\x73\x74\137\156\x61\x6d\145" => $this->input->post("\x6c\141\163\x74\137\156\141\x6d\x65", true), "\x65\x6d\141\x69\154" => $this->input->post("\145\x6d\x61\151\154", true)]; goto Gns1Z; mZF6e: $this->form_validation->set_rules("\146\151\162\x73\x74\x5f\x6e\x61\155\x65", "\106\x69\x72\163\164\x20\116\x61\x6d\145", "\x72\x65\161\x75\x69\162\x65\144"); goto SqKl2; E5ryX: $data["\163\x74\x61\164\x75\x73"] = $update ? true : false; goto yNKoU; a35Zw: Q5yYD: goto f6Cj_; f6Cj_: $this->output_json($data); goto ml8CE; yNKoU: goto Q5yYD; goto Xxzjh; ml8CE: } public function edit_status() { goto xM7ro; ijkYk: goto gKW7S; goto r2vaw; OSQVh: gKW7S: goto iAHtS; GgDKM: $data["\145\x72\x72\157\162\163"] = ["\163\x74\141\x74\165\x73" => form_error("\x73\x74\x61\164\165\x73")]; goto OSQVh; iAHtS: $this->output_json($data); goto oGVqk; VMcHr: $data["\163\164\141\164\x75\163"] = $update ? true : false; goto ijkYk; r2vaw: r9Owv: goto LBrzV; STgyn: $update = $this->master->update("\x75\x73\145\x72\163", $input, "\x69\x64", $id); goto VMcHr; n3Wrc: $id = $this->input->post("\x69\144", true); goto lrfTw; xNER0: if ($this->form_validation->run() === FALSE) { goto r9Owv; } goto n3Wrc; LBrzV: $data["\x73\164\141\x74\165\163"] = false; goto GgDKM; xM7ro: $this->is_admin(); goto yODTS; yODTS: $this->form_validation->set_rules("\163\x74\x61\164\x75\163", "\123\164\141\164\165\x73", "\x72\145\161\x75\151\162\x65\144"); goto xNER0; lrfTw: $input = ["\x61\x63\164\x69\x76\x65" => $this->input->post("\163\164\141\164\x75\x73", true)]; goto STgyn; oGVqk: } public function edit_level() { goto aVHez; aVHez: $this->is_admin(); goto WWWZl; QcM93: $id = $this->input->post("\151\144", true); goto lr7o5; Yj08c: GUvys: goto nfCY6; x7dV4: if ($this->form_validation->run() === FALSE) { goto f4Y1d; } goto QcM93; nfCY6: $this->output_json($data); goto yO_o6; lr7o5: $input = ["\x67\x72\157\165\160\137\x69\x64" => $this->input->post("\x6c\145\166\145\x6c", true)]; goto Ub_tv; Ed3oL: $data["\x73\164\x61\164\x75\x73"] = false; goto EG2X9; N_hGw: goto GUvys; goto YUjc4; tsGN1: $data["\x73\x74\141\x74\165\163"] = $update ? true : false; goto N_hGw; Ub_tv: $update = $this->master->update("\x75\x73\x65\162\x73\137\147\x72\x6f\x75\x70\x73", $input, "\x75\163\145\x72\137\x69\144", $id); goto tsGN1; EG2X9: $data["\145\162\162\x6f\162\163"] = ["\154\145\166\x65\154" => form_error("\154\x65\x76\x65\x6c")]; goto Yj08c; WWWZl: $this->form_validation->set_rules("\x6c\x65\166\145\x6c", "\114\x65\x76\145\x6c", "\x72\145\161\x75\x69\162\x65\x64"); goto x7dV4; YUjc4: f4Y1d: goto Ed3oL; yO_o6: } public function change_password() { goto zwrPG; Q0d54: $data["\x73\164\x61\x74\x75\163"] = true; goto JgxGp; A8ecK: $this->form_validation->set_rules("\x6e\145\x77", $this->lang->line("\x63\150\x61\x6e\147\x65\137\x70\141\x73\x73\167\157\x72\144\137\166\x61\154\x69\x64\x61\x74\151\157\x6e\x5f\156\x65\167\137\160\x61\163\163\x77\x6f\x72\144\137\154\141\142\145\154"), "\162\145\x71\x75\151\162\x65\144\x7c\x6d\151\156\x5f\154\145\156\147\164\150\133" . $this->config->item("\x6d\x69\156\x5f\x70\141\x73\x73\x77\x6f\162\x64\137\x6c\145\x6e\147\x74\150", "\151\x6f\x6e\137\x61\165\x74\x68") . "\135\174\x6d\141\164\x63\150\145\163\x5b\156\145\x77\137\143\x6f\x6e\146\x69\162\x6d\x5d"); goto qSJBG; JgxGp: crnot: goto djq4_; oK7Hb: $identity = $this->session->userdata("\x69\x64\145\x6e\x74\x69\x74\x79"); goto Zev8V; qSJBG: $this->form_validation->set_rules("\x6e\145\x77\x5f\x63\x6f\x6e\146\151\162\155", $this->lang->line("\x63\150\x61\x6e\x67\x65\137\x70\141\163\163\x77\157\162\x64\137\x76\x61\154\x69\x64\141\164\151\x6f\x6e\137\x6e\x65\167\x5f\160\141\163\x73\x77\x6f\162\x64\x5f\x63\x6f\x6e\146\151\162\x6d\137\x6c\141\142\x65\x6c"), "\x72\145\x71\165\x69\x72\x65\x64"); goto w5j7k; Zev8V: $change = $this->ion_auth->change_password($identity, $this->input->post("\x6f\x6c\x64"), $this->input->post("\156\145\x77")); goto v8ypq; PuE87: $data = ["\163\164\x61\164\x75\x73" => false, "\x65\x72\162\157\x72\x73" => ["\157\154\144" => form_error("\157\x6c\144"), "\x6e\x65\167" => form_error("\x6e\x65\x77"), "\x6e\145\167\x5f\x63\x6f\x6e\x66\151\162\x6d" => form_error("\x6e\x65\x77\x5f\x63\157\156\x66\x69\x72\155")]]; goto an4_Q; w5j7k: if ($this->form_validation->run() === FALSE) { goto SkvTI; } goto oK7Hb; v8ypq: if ($change) { goto q87Po; } goto KbmUj; LJHmd: SkvTI: goto PuE87; djq4_: goto f1J5Z; goto LJHmd; iHDPK: q87Po: goto Q0d54; KbmUj: $data = ["\x73\x74\x61\164\x75\x73" => false, "\x6d\x73\x67" => $this->ion_auth->errors()]; goto HBXaz; SkOgY: $this->output_json($data); goto N2XJC; zwrPG: $this->form_validation->set_rules("\157\x6c\x64", $this->lang->line("\x63\x68\x61\x6e\147\145\137\160\x61\x73\x73\x77\157\x72\144\x5f\x76\141\x6c\151\144\141\x74\151\157\156\137\157\154\x64\137\160\x61\163\163\x77\157\x72\144\x5f\x6c\x61\x62\x65\x6c"), "\x72\x65\x71\x75\151\162\x65\144"); goto A8ecK; HBXaz: goto crnot; goto iHDPK; an4_Q: f1J5Z: goto SkOgY; N2XJC: } public function delete($id) { goto g8Qoy; vf9zA: $data["\163\164\x61\x74\165\x73"] = $this->ion_auth->delete_user($id) ? true : false; goto O3aWy; O3aWy: $this->output_json($data); goto zWg4D; g8Qoy: $this->is_admin(); goto vf9zA; zWg4D: } }
