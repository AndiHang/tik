<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtpengawas extends CI_Controller { public function __construct() { goto IHeJu; lLtGn: if ($this->ion_auth->is_admin()) { goto Hjnlz; } goto AfSn1; f5buQ: $this->load->library(["\x64\x61\164\141\x74\x61\142\x6c\x65\163", "\146\157\x72\155\x5f\166\x61\154\151\144\x61\164\x69\157\156"]); goto tQXZ3; TuOEF: uXJCQ: goto f5buQ; tCyMM: redirect("\141\x75\x74\150"); goto TuOEF; Bbpfz: $this->load->model("\x44\141\163\x68\142\157\x61\162\144\x5f\155\157\144\x65\x6c", "\x64\141\x73\150\x62\157\x61\x72\x64"); goto H0gxo; IHeJu: parent::__construct(); goto ZdYAi; ZdYAi: if (!$this->ion_auth->logged_in()) { goto eDlGg; } goto lLtGn; dUlTJ: $this->form_validation->set_error_delimiters('', ''); goto u8eRA; sNBqX: $this->load->model("\104\162\157\160\x64\157\167\156\137\x6d\157\x64\x65\x6c", "\144\162\x6f\x70\144\157\x77\x6e"); goto dUlTJ; AfSn1: show_error("\x48\141\156\x79\x61\40\101\x64\155\x69\156\x69\x73\x74\162\141\164\157\x72\40\171\x61\x6e\x67\40\x64\x69\x62\145\x72\x69\40\x68\x61\x6b\40\165\156\164\165\153\40\x6d\x65\156\147\x61\153\163\145\x73\40\150\x61\x6c\x61\155\141\156\x20\x69\156\151\54\x20\x3c\x61\x20\150\x72\x65\146\x3d\42" . base_url("\x64\x61\x73\150\142\157\x61\162\x64") . "\x22\76\x4b\x65\155\x62\x61\154\151\40\153\145\40\155\145\x6e\165\x20\141\x77\141\x6c\74\57\141\x3e", 403, "\101\x6b\163\x65\x73\40\x54\145\162\154\x61\x72\x61\156\x67"); goto SX_Xq; tQXZ3: $this->load->model("\x4d\141\163\164\x65\x72\137\155\157\144\x65\x6c", "\x6d\x61\163\x74\x65\162"); goto Bbpfz; SX_Xq: Hjnlz: goto SRdkZ; OPPgK: eDlGg: goto tCyMM; SRdkZ: goto uXJCQ; goto OPPgK; H0gxo: $this->load->model("\x43\x62\x74\137\x6d\x6f\144\145\154", "\x63\142\164"); goto sNBqX; u8eRA: } public function output_json($data, $encode = true) { goto oOtyt; yKc4k: AMxUs: goto W30_2; oOtyt: if (!$encode) { goto AMxUs; } goto qZFMm; qZFMm: $data = json_encode($data); goto yKc4k; W30_2: $this->output->set_content_type("\141\160\160\154\x69\x63\141\164\151\x6f\156\57\152\163\157\156")->set_output($data); goto z0HzS; z0HzS: } public function index() { goto pnwUg; t6ndL: $kelass = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto KoUQc; Vq2q2: $this->load->view("\x63\x62\x74\57\x70\145\x6e\x67\141\x77\x61\163\57\144\x61\x74\x61"); goto b03d0; bnjXA: $data["\x72\165\x61\156\x67"] = $this->dropdown->getAllRuang(); goto hsU5U; D3V0S: $tglJadwals = $this->cbt->getAllJadwalByJenis($jenis_selected, $tp->id_tp, $smt->id_smt); goto xDURg; mu7rt: $smt = $this->dashboard->getSemesterActive(); goto SVWky; BdaHI: $ids = []; goto F49x8; dhZmJ: goto GdOl7; goto AKU75; Jf0nT: $data["\x6a\x65\x6e\x69\x73\x5f\163\145\154\145\143\x74\145\144"] = $jenis_selected; goto pNcC_; gRHQy: $data["\160\x65\x6e\147\141\167\x61\x73"] = $this->cbt->getAllPengawas($tp->id_tp, $smt->id_smt, $ruang_selected, $sesi_selected); goto a7_l_; lO74W: $data = ["\165\163\145\x72" => $user, "\152\165\144\x75\154" => "\101\x74\165\x72\x20\x50\x65\x6e\147\x61\x77\x61\x73", "\x73\x75\x62\152\x75\144\x75\x6c" => "\120\145\156\147\x61\x77\141\163\40\125\152\x69\x61\156\x2f\125\154\141\x6e\x67\x61\x6e", "\163\x65\x74\x74\151\x6e\147" => $setting]; goto z2Or2; wZBe3: $data["\160\x72\x6f\146\x69\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto s1LQ1; UJ4Aw: foreach ($ruang_siswa as $ru) { $peserta[$ru->id_kelas][] = $ru; F2Wv7: } goto oaofq; SVWky: $data["\x74\x70"] = $this->dashboard->getTahun(); goto NXrc5; pnwUg: $user = $this->ion_auth->user()->row(); goto eIRdP; cDqpm: $data["\152\x65\156\151\163"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto R0eXq; fiCrH: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto BdaHI; ubwJn: $peserta = []; goto UJ4Aw; aAHwH: $ruang_siswa = $this->cbt->getSiswaByRuang($tp->id_tp, $smt->id_smt, $ruang_selected, $sesi_selected); goto ubwJn; hsU5U: $data["\x73\x65\163\x69\137\x73\x65\154\145\143\x74\145\x64"] = $sesi_selected; goto UDeVF; hXNko: $data["\x74\147\x6c\x5f\x6a\141\144\x77\141\154\163"] = $tglJadwals; goto W9Jad; nvkwx: EyggW: goto igjaj; Glj7H: $data["\162\x75\x61\x6e\147\137\163\145\163\151"] = $this->cbt->getRuangSesi($tp->id_tp, $smt->id_smt); goto gRHQy; TE0km: $jenis_selected = $this->input->get("\152\145\156\151\x73", true); goto Jf0nT; R0eXq: GdOl7: goto TE0km; KoUQc: $data["\153\145\x6c\x61\163"] = $kelass; goto wZBe3; UDeVF: $data["\x73\145\163\151"] = $this->dropdown->getAllSesi(); goto Glj7H; xDURg: foreach ($tglJadwals as $tgl => $jadwalss) { goto lCctA; lCctA: foreach ($jadwalss as $mpl => $jadwals) { goto ndSSL; ndSSL: foreach ($jadwals as $jadwal) { goto sI984; gskER: vZyql: goto Vo_7b; av7TU: foreach ($jadwal->bank_kelas as $kb) { goto tOzy_; tOzy_: if (!($kb["\x6b\x65\154\x61\163\137\x69\144"] != '')) { goto nXWR2; } goto UBEFd; UBEFd: $jadwal->peserta[$kelass[$kb["\153\x65\x6c\141\x73\x5f\151\x64"]]] = isset($peserta[$kb["\x6b\145\154\x61\163\137\151\x64"]]) ? count($peserta[$kb["\153\145\x6c\141\163\x5f\x69\144"]]) : 0; goto Rqz0z; Rqz0z: nXWR2: goto h44kb; h44kb: BdCn7: goto RCJup; RCJup: } goto WybVF; WybVF: xt4j9: goto gskER; sI984: $jadwal->bank_kelas = unserialize($jadwal->bank_kelas); goto av7TU; Vo_7b: } goto btNnK; btNnK: oeWMO: goto sGWcy; sGWcy: MR2GH: goto lCpPp; lCpPp: } goto S8EoZ; nT4Mw: t6nFb: goto VHARG; S8EoZ: v51RB: goto nT4Mw; VHARG: } goto AzyZ9; OZBM8: $data["\163\x6d\164\x5f\141\143\x74\x69\x76\145"] = $smt; goto t6ndL; AKU75: o6VtY: goto cDqpm; W9Jad: $data["\x72\x75\141\x6e\147\x5f\163\x65\154\x65\x63\x74\x65\x64"] = $ruang_selected; goto bnjXA; igjaj: if (count($ids) > 0) { goto o6VtY; } goto KnI7h; MbRCq: if (!($jenis_selected != null)) { goto LaHt2; } goto D3V0S; b03d0: $this->load->view("\x5f\164\145\155\x70\154\x61\x74\145\163\57\x64\x61\x73\150\142\157\x61\x72\144\x2f\137\146\x6f\157\x74\x65\x72"); goto SoQ1A; UeO4K: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); GFqd6: } goto LWlQu; z2Or2: $tp = $this->dashboard->getTahunActive(); goto mu7rt; xaZGz: LaHt2: goto hXNko; AzyZ9: kw6j3: goto xaZGz; F49x8: if (!(count($id_jenis) > 0)) { goto EyggW; } goto UeO4K; s1LQ1: $data["\147\165\x72\165\163"] = $this->dropdown->getAllGuru(); goto fiCrH; X9pk1: $sesi_selected = $this->input->get("\163\x65\x73\151", true); goto aAHwH; eIRdP: $setting = $this->dashboard->getSetting(); goto lO74W; NXrc5: $data["\x74\x70\137\x61\x63\x74\151\x76\145"] = $tp; goto nEM_Z; oaofq: B5teI: goto LVF0v; a7_l_: $this->load->view("\x5f\164\x65\x6d\160\154\x61\164\x65\163\57\144\141\163\150\x62\x6f\x61\162\144\x2f\x5f\150\145\141\x64\x65\162", $data); goto Vq2q2; pNcC_: $ruang_selected = $this->input->get("\x72\165\141\x6e\x67", true); goto X9pk1; nEM_Z: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto OZBM8; LVF0v: $tglJadwals = []; goto MbRCq; LWlQu: iPhcG: goto nvkwx; KnI7h: $data["\x6a\x65\x6e\151\163"] = ['' => "\x62\145\x6c\165\155\x20\x61\x64\141\40\x6a\x61\x64\167\x61\154\x20\x75\x6a\151\x61\x6e"]; goto dhZmJ; SoQ1A: } public function savePengawas() { goto d8TNv; C6186: $tp = $this->dashboard->getTahunActive(); goto ZEHna; Od55j: foreach ($input as $d) { goto J26YS; J26YS: $ruang = $d->ruang; goto k4tAe; aOW5h: $id_pengawas = $id_tp . $id_smt . $jadwal . $ruang . $sesi; goto HY97H; HY97H: $dataInsert = ["\x69\x64\137\160\x65\x6e\x67\141\167\141\x73" => $id_pengawas, "\151\144\137\x6a\x61\144\167\141\154" => $jadwal, "\x69\144\137\x74\x70" => $id_tp, "\151\144\137\x73\155\164" => $id_smt, "\151\144\137\162\x75\x61\x6e\x67" => $ruang, "\x69\144\137\x73\145\163\151" => $sesi, "\x69\x64\137\147\x75\162\165" => implode("\54", $d->guru)]; goto bGbrY; wdIQR: if (!$update) { goto jMCkF; } goto tgDrw; tgDrw: $updated++; goto w2sYU; w2sYU: jMCkF: goto iSiB3; bGbrY: $update = $this->db->replace("\143\x62\164\x5f\x70\145\156\147\141\167\141\163", $dataInsert); goto wdIQR; k4tAe: $sesi = $d->sesi; goto YxK36; iSiB3: mue7M: goto SGL7_; YxK36: $jadwal = $d->jadwal; goto aOW5h; SGL7_: } goto S6SdQ; h4Ybv: $id_smt = $smt->id_smt; goto o_VzY; dkBbG: $this->output_json($data); goto Fq7fp; S6SdQ: qQhUt: goto eQgbU; d8TNv: $input = json_decode($this->input->post("\144\141\x74\141", true)); goto C6186; TVEKW: $id_tp = $tp->id_tp; goto h4Ybv; o_VzY: $updated = 0; goto Od55j; o9k9S: $data["\163\x74\141\x74\165\x73"] = $updated; goto dkBbG; eQgbU: $data["\x65\162\x72\157\x72"] = "\x2d\55"; goto o9k9S; ZEHna: $smt = $this->dashboard->getSemesterActive(); goto TVEKW; Fq7fp: } }
