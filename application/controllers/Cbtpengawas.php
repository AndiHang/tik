<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtpengawas extends CI_Controller { public function __construct() { goto eQ7RU; T54Yx: if ($this->ion_auth->is_admin()) { goto MalLz; } goto dhxt0; c9xi5: redirect("\141\165\164\x68"); goto IesGh; RMplD: $this->load->model("\x43\142\164\x5f\155\157\x64\145\x6c", "\143\142\164"); goto YEqoC; D97Qb: $this->form_validation->set_error_delimiters('', ''); goto Iow0l; W6hpU: $this->load->model("\x4d\141\163\x74\x65\x72\x5f\x6d\x6f\x64\145\154", "\155\x61\x73\x74\x65\162"); goto KLXuj; dhxt0: show_error("\x48\x61\156\171\141\x20\101\x64\x6d\x69\x6e\151\163\x74\x72\141\x74\157\162\x20\x79\x61\x6e\x67\x20\144\151\142\145\x72\x69\x20\150\x61\x6b\40\x75\x6e\x74\x75\153\x20\x6d\x65\x6e\147\x61\x6b\x73\145\x73\x20\x68\x61\154\141\155\141\x6e\x20\x69\x6e\151\54\40\x3c\x61\40\150\162\145\146\75\42" . base_url("\x64\x61\x73\x68\x62\x6f\x61\162\144") . "\42\x3e\113\145\x6d\142\141\154\x69\40\x6b\145\40\155\145\156\x75\x20\141\x77\x61\154\74\57\x61\x3e", 403, "\101\x6b\x73\x65\163\x20\124\145\x72\x6c\141\x72\141\156\147"); goto IQ_YI; KLXuj: $this->load->model("\x44\141\163\x68\x62\x6f\x61\162\144\137\155\x6f\x64\145\x6c", "\144\141\x73\150\142\157\141\x72\x64"); goto RMplD; Ux0y2: goto jUJBc; goto MRlnW; kPNj3: if (!$this->ion_auth->logged_in()) { goto SGGPi; } goto T54Yx; YEqoC: $this->load->model("\x44\162\157\160\x64\157\x77\156\x5f\155\157\x64\x65\154", "\144\162\x6f\160\x64\x6f\x77\x6e"); goto D97Qb; F3h1r: $this->load->library(["\144\141\164\141\x74\141\142\x6c\145\x73", "\x66\157\x72\x6d\137\x76\x61\x6c\151\144\x61\164\151\157\x6e"]); goto W6hpU; eQ7RU: parent::__construct(); goto kPNj3; IQ_YI: MalLz: goto Ux0y2; IesGh: jUJBc: goto F3h1r; MRlnW: SGGPi: goto c9xi5; Iow0l: } public function output_json($data, $encode = true) { goto Dre1q; zEByZ: HMprg: goto PyhNf; v23KF: $data = json_encode($data); goto zEByZ; PyhNf: $this->output->set_content_type("\x61\160\160\154\x69\143\141\164\151\157\x6e\x2f\x6a\x73\157\156")->set_output($data); goto cxtlh; Dre1q: if (!$encode) { goto HMprg; } goto v23KF; cxtlh: } public function index() { goto Iwq4g; u9h1k: $tglJadwals = $this->cbt->getAllJadwalByJenis($jenis_selected, $tp->id_tp, $smt->id_smt); goto wMkRf; XHh20: i8yNo: goto bFeLs; FBTRI: goto ybRIV; goto ag7dH; j4NTn: $ruang_selected = $this->input->get("\162\165\x61\x6e\x67", true); goto GqmQg; AcB0X: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); CIgto: } goto XHh20; AZ9Cv: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto Jttgn; oOIKN: $data["\152\x65\156\151\163"] = ['' => "\142\x65\x6c\165\155\40\141\144\141\x20\152\141\x64\167\141\154\40\x75\152\151\141\156"]; goto FBTRI; xAkpT: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto ZV_m1; ag7dH: nF3zF: goto u0XGK; LIkJg: $this->load->view("\x5f\x74\145\x6d\x70\154\141\164\x65\163\57\x64\x61\x73\x68\x62\157\141\162\x64\x2f\x5f\x66\x6f\x6f\x74\x65\x72"); goto KXxO_; Ww450: ybRIV: goto X9pQ6; dsDAq: $data["\x70\162\157\x66\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto ivcTG; P0syj: $data["\163\x65\x73\151\x5f\163\145\154\x65\143\x74\145\144"] = $sesi_selected; goto kgcsT; I4SZK: if (!(count($id_jenis) > 0)) { goto O7Jps; } goto AcB0X; Jm5jo: $tp = $this->dashboard->getTahunActive(); goto SIw_o; kgcsT: $data["\x73\x65\163\x69"] = $this->dropdown->getAllSesi(); goto L301M; LPLEv: $data = ["\165\163\x65\162" => $user, "\x6a\x75\144\x75\x6c" => "\x41\164\x75\162\x20\x50\x65\156\x67\x61\x77\x61\x73", "\x73\165\x62\x6a\165\144\x75\154" => "\x50\145\x6e\x67\x61\x77\x61\163\40\x55\x6a\151\141\x6e\x2f\x55\154\141\156\x67\141\x6e", "\163\x65\x74\x74\151\156\147" => $setting]; goto Jm5jo; F3r__: $tglJadwals = []; goto ZZ44V; vFwkb: $sesi_selected = $this->input->get("\x73\145\x73\x69", true); goto P0syj; RALoe: $setting = $this->dashboard->getSetting(); goto LPLEv; C813q: $this->load->view("\x5f\164\x65\x6d\x70\x6c\141\x74\145\163\x2f\x64\141\x73\150\142\x6f\x61\162\x64\57\137\150\145\x61\x64\145\162", $data); goto P5WGK; wMkRf: PqbAU: goto I29aO; NOMsu: $data["\x74\x70"] = $this->dashboard->getTahun(); goto dFM0g; SIw_o: $smt = $this->dashboard->getSemesterActive(); goto NOMsu; Iwq4g: $user = $this->ion_auth->user()->row(); goto RALoe; vI6OF: if (count($ids) > 0) { goto nF3zF; } goto oOIKN; GqmQg: $data["\x72\165\141\x6e\147\x5f\x73\x65\x6c\x65\143\x74\145\x64"] = $ruang_selected; goto fK8TT; ZZ44V: if (!($jenis_selected != null)) { goto PqbAU; } goto u9h1k; ivcTG: $data["\147\165\x72\165\163"] = $this->dropdown->getAllGuru(); goto xAkpT; fK8TT: $data["\x72\165\x61\x6e\x67"] = $this->dropdown->getAllRuang(); goto vFwkb; J116f: $data["\160\145\x6e\x67\x61\x77\x61\163"] = $this->cbt->getAllPengawas($tp->id_tp, $smt->id_smt, $ruang_selected, $sesi_selected); goto C813q; bFeLs: O7Jps: goto vI6OF; Jttgn: $data["\x73\155\x74\137\x61\143\164\x69\166\145"] = $smt; goto a5PkT; X9pQ6: $jenis_selected = $this->input->get("\x6a\x65\x6e\151\x73", true); goto XeDgq; L301M: $data["\x72\x75\x61\x6e\x67\137\x73\145\x73\151"] = $this->cbt->getRuangSesi($tp->id_tp, $smt->id_smt); goto J116f; dFM0g: $data["\x74\160\x5f\x61\143\x74\151\166\x65"] = $tp; goto AZ9Cv; I29aO: $data["\x74\147\154\137\152\141\144\x77\141\154\163"] = $tglJadwals; goto j4NTn; a5PkT: $data["\x6b\x65\154\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto dsDAq; P5WGK: $this->load->view("\143\142\x74\57\x70\x65\x6e\147\x61\167\x61\x73\57\144\141\164\x61"); goto LIkJg; u0XGK: $data["\152\145\x6e\x69\163"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto Ww450; ZV_m1: $ids = []; goto I4SZK; XeDgq: $data["\x6a\145\156\x69\163\x5f\163\145\154\145\143\164\145\x64"] = $jenis_selected; goto F3r__; KXxO_: } public function savePengawas() { goto labGO; EepJB: $this->output_json($data); goto JUXJt; fF53d: $data["\145\162\x72\157\162"] = "\55\x2d"; goto T0aza; T0aza: $data["\x73\164\x61\164\165\163"] = $updated; goto EepJB; labGO: $input = json_decode($this->input->post("\144\141\164\141", true)); goto yPKl5; wXq6E: $smt = $this->dashboard->getSemesterActive(); goto GQ2Og; r01jx: foreach ($input as $d) { goto H7QMn; ZAD4I: $jadwal = $d->jadwal; goto zrx45; AlAVt: if (!$update) { goto e1O37; } goto gWmF7; wxbuJ: e1O37: goto aTTBf; H7QMn: $ruang = $d->ruang; goto giAwz; gWmF7: $updated++; goto wxbuJ; kzLNG: $update = $this->db->replace("\x63\x62\x74\x5f\160\145\x6e\147\x61\x77\141\163", $dataInsert); goto AlAVt; zrx45: $id_pengawas = $id_tp . $id_smt . $jadwal . $ruang . $sesi; goto aonaU; aTTBf: vu92K: goto NmhLC; giAwz: $sesi = $d->sesi; goto ZAD4I; aonaU: $dataInsert = ["\151\x64\137\x70\x65\156\147\x61\x77\141\163" => $id_pengawas, "\x69\144\x5f\152\x61\x64\167\141\154" => $jadwal, "\x69\x64\x5f\x74\160" => $id_tp, "\151\144\137\x73\155\x74" => $id_smt, "\151\144\137\x72\x75\141\x6e\x67" => $ruang, "\x69\144\137\163\x65\x73\151" => $sesi, "\151\x64\x5f\x67\x75\162\165" => implode("\x2c", $d->guru)]; goto kzLNG; NmhLC: } goto QuSsd; IjLKD: $updated = 0; goto r01jx; S1C90: $id_smt = $smt->id_smt; goto IjLKD; GQ2Og: $id_tp = $tp->id_tp; goto S1C90; yPKl5: $tp = $this->dashboard->getTahunActive(); goto wXq6E; QuSsd: GGJU5: goto fF53d; JUXJt: } }
