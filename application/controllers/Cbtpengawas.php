<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtpengawas extends CI_Controller { public function __construct() { goto F7bVR; azqaj: RxpOS: goto QzjgT; DSIWl: $this->load->model("\103\142\x74\x5f\x6d\157\x64\x65\x6c", "\143\x62\164"); goto ms3Ol; DVry5: show_error("\110\x61\x6e\171\141\40\x41\144\x6d\x69\156\151\163\164\162\x61\164\x6f\162\40\171\x61\x6e\x67\40\144\151\142\145\162\151\40\150\x61\x6b\40\x75\156\x74\x75\x6b\40\x6d\x65\156\x67\x61\x6b\163\145\x73\x20\x68\141\x6c\x61\x6d\141\156\x20\151\x6e\x69\x2c\40\x3c\x61\40\150\x72\145\x66\75\42" . base_url("\x64\x61\163\150\x62\157\x61\x72\144") . "\x22\x3e\x4b\145\x6d\x62\141\x6c\x69\40\153\x65\x20\155\145\x6e\165\x20\x61\167\141\x6c\x3c\x2f\141\x3e", 403, "\101\x6b\163\x65\163\x20\124\145\162\154\141\x72\141\x6e\147"); goto IdgVy; iO0f1: OoRFJ: goto aQt0R; ofs6b: $this->load->model("\104\141\x73\x68\x62\157\141\162\x64\137\x6d\x6f\x64\x65\154", "\x64\x61\163\x68\142\x6f\141\162\x64"); goto DSIWl; aQt0R: $this->load->library(["\144\x61\164\x61\x74\141\142\x6c\x65\x73", "\x66\157\x72\x6d\137\166\141\x6c\x69\144\141\x74\x69\x6f\x6e"]); goto B2Um5; DZiSx: if ($this->ion_auth->is_admin()) { goto DrmeV; } goto DVry5; UQzlC: $this->form_validation->set_error_delimiters('', ''); goto m7eM0; B2Um5: $this->load->model("\115\x61\163\164\145\x72\137\155\157\144\x65\x6c", "\x6d\141\163\164\145\162"); goto ofs6b; IdgVy: DrmeV: goto EAYNI; QzjgT: redirect("\141\x75\164\150"); goto iO0f1; F7bVR: parent::__construct(); goto hsJ7d; EAYNI: goto OoRFJ; goto azqaj; ms3Ol: $this->load->model("\104\162\157\x70\144\x6f\167\x6e\137\155\157\x64\145\x6c", "\x64\x72\x6f\160\144\x6f\x77\156"); goto UQzlC; hsJ7d: if (!$this->ion_auth->logged_in()) { goto RxpOS; } goto DZiSx; m7eM0: } public function output_json($data, $encode = true) { goto dWBlQ; daQJQ: $data = json_encode($data); goto lMXtl; dWBlQ: if (!$encode) { goto OeTRe; } goto daQJQ; w2Stu: $this->output->set_content_type("\x61\x70\x70\x6c\x69\143\141\164\x69\157\x6e\57\x6a\x73\157\156")->set_output($data); goto binvh; lMXtl: OeTRe: goto w2Stu; binvh: } public function index() { goto q3_jV; D2pkq: $this->load->view("\143\142\164\57\x70\x65\x6e\x67\x61\x77\x61\x73\57\144\x61\164\141"); goto aepB8; mbVpd: SvWm4: goto KP18d; qd6YH: $data["\160\x72\x6f\146\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto da1v9; ZvNxw: $data["\x70\x65\x6e\x67\141\x77\x61\x73"] = $this->cbt->getAllPengawas($tp->id_tp, $smt->id_smt, $ruang_selected, $sesi_selected); goto U3PFe; h4RZ9: FpquI: goto FQvF3; Hua12: if (!($jenis_selected != null)) { goto wdjHw; } goto KumWm; CHD10: $data["\x72\165\141\156\147"] = $this->dropdown->getAllRuang(); goto v31dG; ouYfL: $data = ["\165\x73\x65\162" => $user, "\152\165\144\165\154" => "\101\164\165\x72\x20\120\x65\156\x67\141\x77\141\163", "\x73\165\x62\x6a\x75\144\165\x6c" => "\120\145\156\147\141\x77\x61\163\40\125\x6a\151\141\156\x2f\125\x6c\141\x6e\x67\x61\156", "\163\x65\164\x74\151\156\x67" => $setting]; goto VfEp1; FQvF3: $jenis_selected = $this->input->get("\x6a\145\x6e\x69\x73", true); goto X1EH5; l3Uam: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto eO62K; NncOf: $data["\x74\x67\154\137\x6a\141\144\167\x61\x6c\163"] = $tglJadwals; goto UnW8b; iFIjX: $smt = $this->dashboard->getSemesterActive(); goto LYyAJ; aepB8: $this->load->view("\137\x74\x65\155\x70\154\141\x74\145\163\57\x64\x61\163\150\142\x6f\x61\162\144\x2f\137\x66\x6f\157\x74\x65\162"); goto FDetL; X1EH5: $data["\152\145\x6e\x69\x73\x5f\x73\145\154\145\143\x74\x65\144"] = $jenis_selected; goto dUBHJ; v31dG: $sesi_selected = $this->input->get("\x73\145\x73\x69", true); goto urT83; IstJ2: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); mDTc6: } goto mbVpd; q3_jV: $user = $this->ion_auth->user()->row(); goto l_PQ1; HnOSZ: $data["\x73\x65\x73\x69"] = $this->dropdown->getAllSesi(); goto ZKGqX; i83s2: if (!(count($id_jenis) > 0)) { goto dnEqe; } goto IstJ2; ddT6j: $data["\x6a\145\156\x69\163"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto h4RZ9; UCHLr: $data["\163\x6d\x74"] = $this->dashboard->getSemester(); goto r_XEe; UnW8b: $ruang_selected = $this->input->get("\x72\165\x61\x6e\147", true); goto Ael3F; KumWm: $tglJadwals = $this->cbt->getAllJadwalByJenis($jenis_selected, $tp->id_tp, $smt->id_smt); goto R0T8H; R0T8H: wdjHw: goto NncOf; gp_mv: SgP05: goto ddT6j; KP18d: dnEqe: goto JMaQi; l_PQ1: $setting = $this->dashboard->getSetting(); goto ouYfL; U3PFe: $this->load->view("\137\x74\145\x6d\160\x6c\141\164\145\x73\57\x64\x61\x73\150\142\157\141\x72\x64\57\137\150\145\x61\144\145\162", $data); goto D2pkq; HO_8Y: $data["\153\145\154\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto qd6YH; da1v9: $data["\147\x75\x72\x75\163"] = $this->dropdown->getAllGuru(); goto l3Uam; r_XEe: $data["\163\155\164\x5f\x61\143\164\151\x76\145"] = $smt; goto HO_8Y; urT83: $data["\163\x65\x73\x69\137\x73\145\154\x65\x63\164\145\144"] = $sesi_selected; goto HnOSZ; uIr6M: goto FpquI; goto gp_mv; JMaQi: if (count($ids) > 0) { goto SgP05; } goto JCJ7E; JCJ7E: $data["\x6a\145\156\151\x73"] = ['' => "\142\x65\x6c\x75\x6d\40\141\144\141\x20\152\x61\x64\167\x61\x6c\40\165\x6a\x69\x61\x6e"]; goto uIr6M; MbzxK: $data["\164\160\x5f\x61\143\164\x69\x76\x65"] = $tp; goto UCHLr; Ael3F: $data["\162\x75\141\x6e\147\x5f\x73\145\x6c\145\143\164\145\x64"] = $ruang_selected; goto CHD10; dUBHJ: $tglJadwals = []; goto Hua12; eO62K: $ids = []; goto i83s2; LYyAJ: $data["\x74\x70"] = $this->dashboard->getTahun(); goto MbzxK; ZKGqX: $data["\162\x75\x61\156\147\x5f\x73\145\163\x69"] = $this->cbt->getRuangSesi($tp->id_tp, $smt->id_smt); goto ZvNxw; VfEp1: $tp = $this->dashboard->getTahunActive(); goto iFIjX; FDetL: } public function savePengawas() { goto PbW7W; Bq591: dQlw3: goto Qq9r4; PbW7W: $input = json_decode($this->input->post("\144\141\164\x61", true)); goto BU9AJ; BU9AJ: $tp = $this->dashboard->getTahunActive(); goto Si8Pp; l7Y1m: foreach ($input as $d) { goto cL0xE; YELHt: OnRBr: goto qRdym; r0gyL: $updated++; goto YELHt; UKi4k: $dataInsert = ["\151\x64\137\160\x65\156\x67\141\x77\x61\x73" => $id_pengawas, "\x69\x64\137\x6a\141\x64\167\141\x6c" => $jadwal, "\151\144\x5f\x74\160" => $id_tp, "\151\x64\x5f\163\x6d\x74" => $id_smt, "\151\x64\137\162\165\141\x6e\x67" => $ruang, "\x69\144\137\163\x65\x73\x69" => $sesi, "\151\144\137\x67\165\x72\x75" => implode("\x2c", $d->guru)]; goto Wq1w6; WYZy9: $jadwal = $d->jadwal; goto CWyD_; Mq7IO: $sesi = $d->sesi; goto WYZy9; qRdym: XtIJo: goto gGZ4N; t3u_e: if (!$update) { goto OnRBr; } goto r0gyL; Wq1w6: $update = $this->db->replace("\x63\x62\x74\137\x70\145\x6e\147\x61\167\x61\163", $dataInsert); goto t3u_e; CWyD_: $id_pengawas = $id_tp . $id_smt . $jadwal . $ruang . $sesi; goto UKi4k; cL0xE: $ruang = $d->ruang; goto Mq7IO; gGZ4N: } goto Bq591; id12O: $this->output_json($data); goto m_8v1; tm_h5: $id_tp = $tp->id_tp; goto b252F; b252F: $id_smt = $smt->id_smt; goto ymHCa; Qq9r4: $data["\x65\162\x72\157\162"] = "\55\55"; goto eQfOL; eQfOL: $data["\163\164\x61\x74\165\163"] = $updated; goto id12O; Si8Pp: $smt = $this->dashboard->getSemesterActive(); goto tm_h5; ymHCa: $updated = 0; goto l7Y1m; m_8v1: } }
