<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtpengawas extends CI_Controller { public function __construct() { goto Cz7un; hotZY: redirect("\x61\165\x74\150"); goto HKPN4; zgy31: goto Sq22E; goto WR4Nx; HKPN4: Sq22E: goto jgPJk; WR4Nx: BX_gL: goto hotZY; oJP_6: $this->load->model("\x44\x72\157\160\x64\x6f\x77\x6e\x5f\x6d\x6f\x64\x65\x6c", "\144\162\x6f\160\144\157\x77\156"); goto d6QZz; ko4sF: $this->load->model("\103\142\164\x5f\155\157\144\145\x6c", "\143\x62\164"); goto oJP_6; d6QZz: $this->form_validation->set_error_delimiters('', ''); goto wKsnr; jNzgK: show_error("\110\x61\x6e\x79\x61\40\101\x64\x6d\x69\156\x69\x73\164\x72\141\164\x6f\x72\40\171\141\156\147\40\144\x69\142\x65\162\x69\40\150\x61\x6b\x20\165\156\164\165\x6b\x20\155\x65\156\x67\141\153\163\145\163\x20\x68\141\x6c\x61\155\x61\156\x20\151\156\x69\x2c\40\x3c\141\40\x68\x72\145\146\75\42" . base_url("\x64\141\x73\150\142\157\x61\162\x64") . "\x22\x3e\x4b\x65\x6d\142\141\154\151\x20\x6b\145\x20\155\145\x6e\x75\40\x61\x77\x61\x6c\x3c\57\141\76", 403, "\101\x6b\163\145\163\40\x54\145\162\x6c\x61\162\x61\x6e\x67"); goto ysjR2; EXsN0: $this->load->model("\x4d\141\x73\164\145\162\137\x6d\x6f\x64\x65\x6c", "\x6d\x61\x73\x74\x65\162"); goto iC5HC; Cz7un: parent::__construct(); goto nGiCr; tyz0P: if ($this->ion_auth->is_admin()) { goto dnpIQ; } goto jNzgK; ysjR2: dnpIQ: goto zgy31; jgPJk: $this->load->library(["\144\141\x74\141\x74\141\142\x6c\x65\x73", "\146\157\x72\x6d\137\x76\141\154\x69\144\141\164\151\x6f\156"]); goto EXsN0; nGiCr: if (!$this->ion_auth->logged_in()) { goto BX_gL; } goto tyz0P; iC5HC: $this->load->model("\x44\141\x73\x68\142\157\141\x72\144\137\x6d\x6f\144\145\154", "\144\141\163\150\x62\x6f\141\x72\x64"); goto ko4sF; wKsnr: } public function output_json($data, $encode = true) { goto aG8Dh; aG8Dh: if (!$encode) { goto fku98; } goto OaN_p; OaN_p: $data = json_encode($data); goto ZItHx; ZItHx: fku98: goto DW554; DW554: $this->output->set_content_type("\141\160\x70\154\x69\143\141\164\x69\x6f\x6e\x2f\152\x73\157\x6e")->set_output($data); goto MVuDb; MVuDb: } public function index() { goto N2R68; RVUjF: $data["\164\160"] = $this->dashboard->getTahun(); goto VwvBJ; igIWc: $tp = $this->dashboard->getTahunActive(); goto VrGv5; t9hSZ: $ids = []; goto HMQdI; iIgUm: $kelass = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto bNBZH; rX4N9: z3Rld: goto hC3ay; nlvDs: $setting = $this->dashboard->getSetting(); goto daGyh; tKM6G: dQJCP: goto TAffk; evbyS: $this->load->view("\x5f\x74\x65\155\x70\154\141\164\145\x73\x2f\x64\x61\x73\150\142\157\141\x72\144\57\137\x68\x65\x61\x64\x65\x72", $data); goto reqEd; bt5hW: $data["\152\x65\x6e\151\x73\137\x73\145\x6c\145\x63\164\145\x64"] = $jenis_selected; goto KsEVJ; L9u_O: $data["\152\x65\156\x69\x73"] = ['' => "\142\x65\x6c\x75\155\40\x61\144\x61\x20\152\x61\144\x77\141\154\40\165\x6a\x69\x61\156"]; goto ud3F1; i8XYK: $data["\147\x75\162\165\x73"] = $this->dropdown->getAllGuru(); goto NpQ1l; OENfZ: $jenis_selected = $this->input->get("\152\x65\156\151\x73", true); goto bt5hW; xMaYq: wq90c: goto MYE80; bVeyd: if (!($jenis_selected != null)) { goto z3Rld; } goto HOpf1; ud3F1: goto pLWus; goto xMaYq; Hfttg: $data["\x72\165\x61\156\147\137\x73\145\163\x69"] = $this->cbt->getRuangSesi($tp->id_tp, $smt->id_smt); goto m9xJl; NpQ1l: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto t9hSZ; G8EmO: $data["\160\145\x6e\147\x61\167\141\x73"] = $this->cbt->getAllPengawas($tp->id_tp, $smt->id_smt); goto evbyS; pP7kZ: $this->load->view("\x5f\164\145\x6d\160\x6c\141\x74\145\x73\x2f\x64\141\163\x68\x62\157\141\162\x64\57\137\x66\x6f\157\164\x65\162"); goto itL43; TAB2P: foreach ($tglJadwals as $tgl => $jadwalss) { goto yLBZv; yLBZv: foreach ($jadwalss as $mpl => $jadwals) { goto ZoHGF; NFz1l: asmC7: goto sCdXV; Maztv: AFA5x: goto NFz1l; ZoHGF: foreach ($jadwals as $jadwal) { goto jjTxp; jjTxp: $jadwal->bank_kelas = unserialize($jadwal->bank_kelas); goto Bwvlw; AhZj7: j3hpw: goto BnksU; Gd_9z: NooGl: goto AhZj7; Bwvlw: foreach ($jadwal->bank_kelas as $kb) { goto FaN7y; GX1Jo: $klss = $this->cbt->getKelasUjian($kb["\x6b\x65\154\x61\163\x5f\151\x64"]); goto hntZh; oVQDD: jDUjA: goto x1ptZ; hntZh: $jadwal->peserta[] = $klss; goto OKyky; FaN7y: if (!($kb["\153\x65\154\141\x73\x5f\151\x64"] != '')) { goto Udvfu; } goto GX1Jo; OKyky: Udvfu: goto oVQDD; x1ptZ: } goto Gd_9z; BnksU: } goto Maztv; sCdXV: } goto MOPG7; kgcoe: uS7sM: goto Bwg0u; MOPG7: MS3k1: goto kgcoe; Bwg0u: } goto GRt2j; MYE80: $data["\152\x65\x6e\x69\x73"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto FemZU; HMQdI: if (!(count($id_jenis) > 0)) { goto ve1Ns; } goto Y3xYn; GRt2j: ORPp0: goto rX4N9; nDalr: $data["\x72\x75\141\x6e\147"] = $this->dropdown->getAllRuang(); goto J1WT4; reqEd: $this->load->view("\x63\142\164\57\x70\x65\x6e\x67\x61\x77\x61\x73\x2f\144\141\164\141"); goto pP7kZ; X897D: $data["\160\162\157\x66\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto i8XYK; vFLSE: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto apAcn; hvs5g: if (count($ids) > 0) { goto wq90c; } goto L9u_O; VrGv5: $smt = $this->dashboard->getSemesterActive(); goto RVUjF; N2R68: $user = $this->ion_auth->user()->row(); goto nlvDs; daGyh: $data = ["\x75\163\x65\162" => $user, "\x6a\165\x64\165\x6c" => "\x41\x74\165\162\40\x50\x65\156\147\141\167\x61\163", "\163\165\x62\x6a\165\144\x75\154" => "\120\145\156\x67\141\167\141\x73\x20\x55\152\151\x61\x6e\x2f\x55\154\x61\x6e\147\x61\156", "\x73\145\x74\x74\x69\156\147" => $setting]; goto igIWc; m9xJl: $data["\x72\x75\141\156\x67\x73"] = $this->cbt->getDistinctRuang($tp->id_tp, $smt->id_smt, []); goto G8EmO; bNBZH: $data["\153\x65\154\141\163"] = $kelass; goto X897D; apAcn: $data["\163\x6d\x74\137\141\x63\x74\x69\x76\145"] = $smt; goto iIgUm; hC3ay: $data["\164\x67\x6c\137\x6a\x61\144\167\x61\154\x73"] = $tglJadwals; goto nDalr; KsEVJ: $tglJadwals = []; goto bVeyd; J1WT4: $data["\163\x65\x73\x69"] = $this->dropdown->getAllSesi(); goto Hfttg; Y3xYn: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); icMLd: } goto tKM6G; VwvBJ: $data["\164\x70\137\141\143\164\151\166\x65"] = $tp; goto vFLSE; HOpf1: $tglJadwals = $this->cbt->getAllJadwalByJenis($jenis_selected, $tp->id_tp, $smt->id_smt); goto TAB2P; TAffk: ve1Ns: goto hvs5g; FemZU: pLWus: goto OENfZ; itL43: } public function savePengawas() { goto osyOZ; zYlkS: $id_tp = $tp->id_tp; goto k30uR; iLZ_j: ca9rE: goto ks3na; k30uR: $id_smt = $smt->id_smt; goto Q0Nu3; XEg55: $this->output_json($data); goto nSPW3; Q0Nu3: $updated = 0; goto uj0f4; ks3na: $data["\x65\162\162\x6f\162"] = "\x2d\55"; goto WBU7A; qu6Ga: $smt = $this->dashboard->getSemesterActive(); goto zYlkS; XGi6h: $tp = $this->dashboard->getTahunActive(); goto qu6Ga; uj0f4: foreach ($input as $d) { goto MNF1T; iymUn: $sesi = $d->sesi; goto kyKAN; MNF1T: $ruang = $d->ruang; goto iymUn; GCern: $dataInsert = ["\x69\144\137\x70\x65\156\147\x61\167\141\163" => $id_pengawas, "\151\144\x5f\x6a\x61\144\167\141\154" => $jadwal, "\151\x64\x5f\x74\160" => $id_tp, "\151\144\x5f\x73\x6d\x74" => $id_smt, "\x69\x64\137\x72\x75\x61\x6e\x67" => $ruang, "\151\x64\x5f\x73\145\x73\x69" => $sesi, "\151\144\x5f\147\x75\x72\x75" => implode("\54", $d->guru)]; goto OiWcZ; kyKAN: $jadwal = $d->jadwal; goto GFm1U; K1cIq: if (!$update) { goto uTJGO; } goto X4LAD; GFm1U: $id_pengawas = $id_tp . $id_smt . $jadwal . $ruang . $sesi; goto GCern; OiWcZ: $update = $this->db->replace("\x63\x62\x74\x5f\x70\145\x6e\x67\141\x77\x61\x73", $dataInsert); goto K1cIq; gzRdO: EB6Wm: goto i8nxE; X4LAD: $updated++; goto onZ09; onZ09: uTJGO: goto gzRdO; i8nxE: } goto iLZ_j; osyOZ: $input = json_decode($this->input->post("\144\141\164\x61", true)); goto XGi6h; WBU7A: $data["\163\x74\141\164\x75\163"] = $updated; goto XEg55; nSPW3: } }
