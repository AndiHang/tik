<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtpengawas extends CI_Controller { public function __construct() { goto Pq1tc; K1Q4h: $this->load->model("\x44\x61\x73\150\x62\x6f\141\x72\x64\x5f\x6d\x6f\144\145\154", "\144\141\163\x68\142\157\141\162\x64"); goto pKWKa; MO2kw: $this->load->model("\x44\x72\x6f\160\x64\157\x77\156\137\x6d\x6f\144\x65\x6c", "\x64\162\x6f\x70\144\157\167\156"); goto krOFC; ENBpA: ceDIr: goto dONZ7; krOFC: $this->form_validation->set_error_delimiters('', ''); goto evEDO; dONZ7: goto GyRb0; goto mU3lh; Xxo3M: if ($this->ion_auth->is_admin()) { goto ceDIr; } goto YqEI7; MXeIx: redirect("\x61\165\164\150"); goto FqZcR; Pq1tc: parent::__construct(); goto TEE9i; mU3lh: XlJrO: goto MXeIx; lDIKk: $this->load->model("\x4d\141\163\x74\145\162\x5f\155\x6f\x64\145\x6c", "\x6d\x61\x73\x74\145\x72"); goto K1Q4h; TEE9i: if (!$this->ion_auth->logged_in()) { goto XlJrO; } goto Xxo3M; YqEI7: show_error("\x48\x61\x6e\x79\141\40\101\x64\x6d\x69\x6e\151\x73\164\x72\x61\x74\157\x72\40\x79\x61\156\147\40\x64\x69\x62\145\x72\151\x20\x68\141\153\40\165\156\164\x75\x6b\40\155\x65\x6e\147\141\153\163\x65\163\x20\x68\x61\x6c\x61\155\141\156\x20\x69\x6e\151\54\40\x3c\x61\x20\x68\162\x65\x66\x3d\x22" . base_url("\x64\141\163\150\x62\157\x61\x72\x64") . "\42\x3e\113\145\x6d\142\x61\154\151\x20\x6b\145\x20\x6d\145\x6e\x75\x20\x61\167\141\154\x3c\x2f\141\76", 403, "\x41\153\x73\145\x73\x20\124\145\162\154\141\162\141\156\147"); goto ENBpA; fVGH1: $this->load->library(["\x64\141\164\x61\164\141\142\x6c\145\x73", "\x66\157\162\x6d\137\166\141\154\x69\x64\x61\164\151\x6f\x6e"]); goto lDIKk; pKWKa: $this->load->model("\x43\x62\x74\x5f\155\x6f\144\145\x6c", "\143\x62\x74"); goto MO2kw; FqZcR: GyRb0: goto fVGH1; evEDO: } public function output_json($data, $encode = true) { goto wi72J; NZSgT: $this->output->set_content_type("\141\x70\x70\x6c\151\x63\141\164\x69\157\156\x2f\152\163\157\156")->set_output($data); goto CxZdt; wi72J: if (!$encode) { goto LX1aw; } goto ktNqa; ktNqa: $data = json_encode($data); goto oq4HJ; oq4HJ: LX1aw: goto NZSgT; CxZdt: } public function index() { goto Olku2; vssHY: $data["\x74\147\x6c\137\x6a\x61\x64\x77\x61\154\163"] = $tglJadwals; goto Mk5mU; VYlhw: TXeja: goto MjelV; wKzIZ: $this->load->view("\x5f\164\145\155\x70\154\x61\x74\x65\x73\57\x64\x61\x73\x68\142\x6f\141\162\144\57\137\x66\x6f\157\x74\x65\162"); goto Rw0UK; wrFy2: $tp = $this->dashboard->getTahunActive(); goto IAnvU; WfQHf: if (!(count($id_jenis) > 0)) { goto nfg_a; } goto cuUtb; x9nlV: DR1T2: goto vssHY; fbfm7: $data["\153\x65\154\x61\x73"] = $kelass; goto tsIA9; GBpVg: nfg_a: goto zEqr3; IAnvU: $smt = $this->dashboard->getSemesterActive(); goto OxgD3; L6PJc: YZvga: goto g9_M0; sZwHF: goto YZvga; goto VYlhw; NjCLD: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto qPcNr; tsIA9: $data["\x70\162\x6f\x66\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto wNpru; XKugO: p0DE0: goto GBpVg; cuUtb: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); Kv9YP: } goto XKugO; UBI5M: $tglJadwals = $this->cbt->getAllJadwalByJenis($jenis_selected, $tp->id_tp, $smt->id_smt); goto z4ifk; YOFFQ: $tglJadwals = []; goto RxzB6; g9_M0: $jenis_selected = $this->input->get("\x6a\145\156\151\x73", true); goto Dny0l; uXIry: $data["\164\160\x5f\141\x63\164\x69\166\145"] = $tp; goto NjCLD; OUQ9Y: $this->load->view("\137\164\x65\155\160\x6c\141\x74\145\x73\57\144\x61\163\150\x62\157\x61\162\x64\57\x5f\x68\145\x61\x64\145\x72", $data); goto gvYnf; d8Gqs: $data = ["\165\x73\145\162" => $user, "\152\165\x64\165\x6c" => "\101\164\165\162\x20\x50\145\x6e\x67\141\167\x61\x73", "\163\x75\142\x6a\165\x64\165\x6c" => "\x50\x65\x6e\147\x61\x77\141\x73\40\x55\152\x69\141\156\x2f\x55\x6c\x61\156\x67\141\156", "\163\x65\x74\x74\151\x6e\147" => $setting]; goto wrFy2; Olku2: $user = $this->ion_auth->user()->row(); goto DhhWS; wNnzc: $data["\x73\145\163\151"] = $this->dropdown->getAllSesi(); goto lJe9u; gvYnf: $this->load->view("\143\142\x74\57\160\x65\156\x67\141\167\x61\163\57\x64\x61\x74\x61"); goto wKzIZ; wNpru: $data["\147\x75\x72\x75\163"] = $this->dropdown->getAllGuru(); goto OTRWu; nWYwU: $data["\160\145\156\147\x61\167\141\x73"] = $this->cbt->getAllPengawas($tp->id_tp, $smt->id_smt); goto OUQ9Y; zEqr3: if (count($ids) > 0) { goto TXeja; } goto qbQxW; T3y8W: $kelass = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto fbfm7; tl00k: $ids = []; goto WfQHf; qbQxW: $data["\152\145\156\x69\x73"] = ['' => "\142\x65\154\x75\x6d\40\141\144\x61\x20\152\x61\x64\167\x61\x6c\40\x75\x6a\x69\x61\156"]; goto sZwHF; OTRWu: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto tl00k; tyFu8: dkstN: goto x9nlV; RxzB6: if (!($jenis_selected != null)) { goto DR1T2; } goto UBI5M; lJe9u: $data["\x72\x75\141\x6e\147\x5f\163\145\163\x69"] = $this->cbt->getRuangSesi($tp->id_tp, $smt->id_smt); goto cMUU5; OxgD3: $data["\x74\160"] = $this->dashboard->getTahun(); goto uXIry; qPcNr: $data["\x73\155\x74\x5f\141\x63\164\x69\x76\x65"] = $smt; goto T3y8W; cMUU5: $data["\x72\165\141\156\x67\x73"] = $this->cbt->getDistinctRuang($tp->id_tp, $smt->id_smt, []); goto nWYwU; Dny0l: $data["\152\145\x6e\151\163\x5f\x73\x65\154\x65\x63\164\x65\x64"] = $jenis_selected; goto YOFFQ; Mk5mU: $data["\x72\165\141\x6e\147"] = $this->dropdown->getAllRuang(); goto wNnzc; MjelV: $data["\x6a\x65\156\151\163"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto L6PJc; z4ifk: foreach ($tglJadwals as $tgl => $jadwalss) { goto a_ZcM; NRHSA: sEsrJ: goto skgqz; a_ZcM: foreach ($jadwalss as $mpl => $jadwals) { goto JY0T7; JY0T7: foreach ($jadwals as $jadwal) { goto NuApj; gkP2L: Bhrqm: goto cMWK6; NuApj: $jadwal->bank_kelas = unserialize($jadwal->bank_kelas ?? ''); goto judUT; cMWK6: Pg5M9: goto MbCSq; judUT: foreach ($jadwal->bank_kelas as $kb) { goto JbVKo; JbVKo: if (!($kb["\x6b\x65\154\x61\x73\x5f\x69\144"] != '')) { goto ZA2Gl; } goto AQh56; AQh56: $klss = $this->cbt->getKelasUjian($kb["\x6b\145\154\x61\x73\137\x69\144"]); goto VWyjG; VWyjG: $jadwal->peserta[] = $klss; goto KicUy; KicUy: ZA2Gl: goto Z6t7e; Z6t7e: kPxup: goto i3sGI; i3sGI: } goto gkP2L; MbCSq: } goto kgIZA; kgIZA: ZBXpL: goto c58w2; c58w2: qmlr1: goto cAE5k; cAE5k: } goto fK7D4; fK7D4: CX2mL: goto NRHSA; skgqz: } goto tyFu8; DhhWS: $setting = $this->dashboard->getSetting(); goto d8Gqs; Rw0UK: } public function savePengawas() { goto ge9tv; NCWC8: $smt = $this->dashboard->getSemesterActive(); goto GHzxN; v1JJN: foreach ($input as $d) { goto vSLe7; bPtnI: $id_pengawas = $id_tp . $id_smt . $jadwal . $ruang . $sesi; goto aFztj; zJA7G: if (!$update) { goto GwUc1; } goto Wnblu; Wnblu: $updated++; goto iT80G; ukTvo: $jadwal = $d->jadwal; goto bPtnI; Z1ECc: $sesi = $d->sesi; goto ukTvo; xrI7I: Jw8us: goto Kfikj; vSLe7: $ruang = $d->ruang; goto Z1ECc; aFztj: $dataInsert = ["\151\144\137\160\x65\x6e\x67\141\x77\x61\163" => $id_pengawas, "\151\144\137\152\141\144\167\141\154" => $jadwal, "\x69\x64\x5f\x74\x70" => $id_tp, "\151\x64\x5f\x73\155\164" => $id_smt, "\151\144\x5f\162\x75\141\x6e\147" => $ruang, "\x69\144\137\163\x65\163\x69" => $sesi, "\151\144\x5f\147\x75\x72\x75" => implode("\54", $d->guru)]; goto belQ9; belQ9: $update = $this->db->replace("\x63\x62\x74\137\160\x65\156\x67\x61\167\141\x73", $dataInsert); goto zJA7G; iT80G: GwUc1: goto xrI7I; Kfikj: } goto Q5DY4; GHzxN: $id_tp = $tp->id_tp; goto GOPoD; SiImB: $this->output_json($data); goto Q193v; Q5DY4: SEjZY: goto SZlCe; ns7Jk: $data["\163\164\x61\164\165\163"] = $updated; goto SiImB; GOPoD: $id_smt = $smt->id_smt; goto gWBIW; gWBIW: $updated = 0; goto v1JJN; SZlCe: $data["\x65\162\x72\157\162"] = "\55\x2d"; goto ns7Jk; ge9tv: $input = json_decode($this->input->post("\144\x61\x74\141", true)); goto RMqHX; RMqHX: $tp = $this->dashboard->getTahunActive(); goto NCWC8; Q193v: } }
