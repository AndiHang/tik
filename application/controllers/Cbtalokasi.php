<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto KFTHE; r_C3C: $this->load->model("\114\157\147\x5f\x6d\x6f\x64\x65\x6c", "\154\x6f\x67\x67\151\x6e\x67"); goto fFnMD; o4P0S: $this->load->model("\x43\x62\164\137\x6d\157\144\x65\154", "\x63\x62\164"); goto r_C3C; Iaq_b: $this->form_validation->set_error_delimiters('', ''); goto tnhHG; N4nIj: bP9C2: goto by5Jc; qprlx: show_error("\110\x61\156\x79\x61\x20\x41\x64\155\151\156\151\163\164\162\141\x74\157\162\x20\x79\141\x6e\x67\x20\x64\151\142\x65\162\x69\x20\150\141\153\40\x75\156\164\165\x6b\x20\155\x65\156\147\141\153\x73\x65\163\x20\x68\141\x6c\x61\x6d\141\156\x20\151\x6e\x69\54\x20\x3c\141\x20\150\x72\145\x66\x3d\x22" . base_url("\144\141\163\150\x62\x6f\x61\162\x64") . "\42\76\x4b\145\155\x62\x61\154\151\40\153\x65\x20\x6d\x65\x6e\x75\x20\141\x77\141\x6c\74\57\141\76", 403, "\x41\153\163\x65\x73\x20\x54\145\162\154\x61\x72\x61\x6e\147"); goto B6kb6; b6uA0: $this->load->library(["\144\x61\164\x61\x74\x61\x62\x6c\145\163", "\146\x6f\x72\x6d\137\x76\141\154\x69\144\x61\164\x69\x6f\156"]); goto R4G_r; by5Jc: redirect("\141\x75\x74\150"); goto wib3A; fFnMD: $this->load->model("\104\162\x6f\x70\144\x6f\x77\x6e\x5f\155\157\x64\145\154", "\x64\x72\157\x70\x64\x6f\167\156"); goto Iaq_b; KFTHE: parent::__construct(); goto IFQDV; zWfRf: goto CCAin; goto N4nIj; VmGl9: if ($this->ion_auth->is_admin()) { goto OJlUW; } goto qprlx; B6kb6: OJlUW: goto zWfRf; IFQDV: if (!$this->ion_auth->logged_in()) { goto bP9C2; } goto VmGl9; wib3A: CCAin: goto b6uA0; DKjEw: $this->load->model("\104\x61\x73\x68\142\x6f\141\162\144\137\155\157\x64\145\154", "\x64\141\x73\150\142\157\141\x72\x64"); goto o4P0S; R4G_r: $this->load->model("\x4d\x61\x73\x74\x65\x72\x5f\155\157\144\x65\154", "\155\x61\x73\164\x65\162"); goto DKjEw; tnhHG: } public function output_json($data, $encode = true) { goto i1Dc3; i1Dc3: if (!$encode) { goto fRGLG; } goto wkIGG; YWwjp: $this->output->set_content_type("\141\160\160\x6c\151\x63\x61\x74\151\157\x6e\57\x6a\x73\x6f\x6e")->set_output($data); goto OLgWs; bkPx1: fRGLG: goto YWwjp; wkIGG: $data = json_encode($data); goto bkPx1; OLgWs: } public function index() { goto HAJdi; UO911: $data["\x72\x75\x61\156\x67"] = $this->dropdown->getAllRuang(); goto wpuOQ; aX96q: $filter_selected = $this->input->get("\x66\x69\154\164\x65\162", true); goto fGAqX; kJt4C: $data["\x66\151\x6c\x74\145\162\137\x73\x65\x6c\145\143\x74\145\x64"] = $filter_selected; goto beWYj; HAJdi: $user = $this->ion_auth->user()->row(); goto Nc1wA; gxCKD: $ret = []; goto DKQ0D; AqVY4: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); o_9Ti: } goto fyd2E; eoD9o: $this->load->view("\137\x74\x65\155\160\x6c\141\164\x65\163\x2f\x64\141\163\150\x62\x6f\141\162\144\x2f\137\146\x6f\157\x74\145\162"); goto ierEE; As4V6: $data["\x74\x70"] = $this->dashboard->getTahun(); goto n8dJA; a0cSb: if (!($jenis_selected != null && $level_selected != null)) { goto TroFd; } goto l_sDk; HRi8O: $data["\x6a\145\156\151\x73\x5f\x73\145\154\x65\143\164\145\x64"] = $jenis_selected; goto c7ubH; BY7iA: $sampai_selected = $this->input->get("\x73\x61\x6d\x70\x61\151", true); goto S9EJr; wtlZO: qNaDg: goto Qzh4F; gRt3w: $ids = []; goto kr2MM; yuony: $data["\163\141\155\160\141\x69\137\163\145\154\145\x63\164\x65\x64"] = $sampai_selected; goto cn3wp; S9EJr: $data["\x66\151\154\164\145\x72"] = ["\60" => "\123\145\155\x75\x61", "\x31" => "\x54\141\x6e\x67\x67\x61\154"]; goto HRi8O; ucFHE: SSupQ: goto RE7Fc; QEA0Z: gdd5q: goto XbUBk; KsgCg: $levels = ["\x30" => "\120\151\x6c\151\150\40\114\145\x76\x65\154", "\x31" => "\x31", "\x32" => "\62", "\x33" => "\63", "\x34" => "\64", "\65" => "\65", "\x36" => "\x36"]; goto D5j4B; bK5WS: if ($setting->jenjang == "\x31") { goto iLkft; } goto Pd7sU; L8j84: $data = ["\165\163\145\x72" => $user, "\152\x75\144\165\154" => "\101\154\157\153\x61\x73\x69\x20\127\x61\x6b\164\x75", "\163\x75\x62\152\x75\x64\x75\x6c" => "\101\154\x6f\x6b\141\x73\x69\40\x57\x61\153\x74\x75\x20\x55\152\151\141\156", "\x73\145\164\164\x69\x6e\147" => $setting]; goto n7725; xoZct: m29St: goto hPysp; OZTZM: goto SSupQ; goto Aw4vq; D4RPJ: $data["\160\x72\x6f\146\x69\154\x65"] = $this->dashboard->getProfileAdmin($user->id); goto UOFvS; Qzh4F: $data["\x6c\145\166\145\x6c\163"] = $levels; goto gxCKD; l_sDk: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto ZyXso; DKQ0D: foreach ($jadwals as $key => $row) { goto oCMhJ; uHB0L: NiWlJ: goto JSsfM; m2wXd: array_push($ret[$row->tgl_mulai], $row); goto uRNeO; oCMhJ: if (isset($ret[$row->tgl_mulai])) { goto J0X3Y; } goto kUy3C; Z9upJ: J0X3Y: goto jiEql; kUy3C: $ret[$row->tgl_mulai] = []; goto m2wXd; HAnw5: FlApX: goto uHB0L; jiEql: array_push($ret[$row->tgl_mulai], $row); goto HAnw5; uRNeO: goto FlApX; goto Z9upJ; JSsfM: } goto xoZct; RE7Fc: $jenis_selected = $this->input->get("\x6a\145\x6e\151\x73", true); goto Hms_q; c7ubH: $data["\154\x65\166\x65\x6c\137\x73\x65\x6c\x65\x63\164\x65\x64"] = $level_selected; goto kJt4C; fyd2E: fHn5S: goto d15TP; Aw4vq: HhUns: goto Sfibt; Sfibt: $data["\x6a\x65\x6e\x69\163"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto ucFHE; cloc3: if ($setting->jenjang == "\63") { goto V6Tcp; } goto Ngf32; Pd7sU: if ($setting->jenjang == "\x32") { goto gdd5q; } goto cloc3; EaO54: $data["\152\x65\x6e\x69\163"] = ['' => "\142\145\x6c\x75\155\40\141\144\x61\40\152\141\x64\167\141\154\40\x75\152\151\x61\x6e"]; goto OZTZM; kr2MM: if (!(count($id_jenis) > 0)) { goto rESWY; } goto AqVY4; lu_WY: $smt = $this->dashboard->getSemesterActive(); goto As4V6; UOFvS: $this->load->view("\137\x74\x65\x6d\x70\154\x61\x74\x65\163\x2f\144\141\163\150\142\x6f\141\x72\x64\57\x5f\x68\x65\x61\144\145\162", $data); goto DfJ8f; ZyXso: TroFd: goto trSKU; wpuOQ: $levels = []; goto bK5WS; XbUBk: $levels = ["\60" => "\120\151\154\x69\150\x20\114\x65\166\x65\x6c", "\x37" => "\67", "\x38" => "\x38", "\71" => "\71"]; goto ZiuRa; DfJ8f: $this->load->view("\x63\x62\164\x2f\141\154\157\x6b\141\163\x69\57\144\x61\x74\x61"); goto eoD9o; fGAqX: $dari_selected = $this->input->get("\x64\x61\162\x69", true); goto BY7iA; ZiuRa: goto qNaDg; goto tPofY; Hms_q: $level_selected = $this->input->get("\x6c\x65\166\x65\x6c", true); goto aX96q; n7725: $tp = $this->dashboard->getTahunActive(); goto lu_WY; d15TP: rESWY: goto zDwYp; VQ1yh: $levels = ["\x30" => "\120\151\154\x69\150\40\x4c\145\x76\x65\154", "\61\60" => "\61\x30", "\61\61" => "\61\61", "\61\62" => "\x31\62"]; goto wtlZO; cn3wp: $jadwals = []; goto a0cSb; zDwYp: if (count($ids) > 0) { goto HhUns; } goto EaO54; JrFij: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto KCdjN; trSKU: $data["\x6b\145\x6c\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto UO911; Nc1wA: $setting = $this->dashboard->getSetting(); goto L8j84; zqnPy: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto gRt3w; Ngf32: goto qNaDg; goto qHcgj; KCdjN: $data["\x73\155\164\x5f\x61\x63\164\151\x76\x65"] = $smt; goto zqnPy; qHcgj: iLkft: goto KsgCg; tPofY: V6Tcp: goto VQ1yh; beWYj: $data["\x64\141\x72\x69\x5f\x73\x65\x6c\x65\x63\x74\x65\144"] = $dari_selected; goto yuony; n8dJA: $data["\x74\160\137\x61\x63\164\151\166\145"] = $tp; goto JrFij; D5j4B: goto qNaDg; goto QEA0Z; hPysp: $data["\152\x61\x64\167\x61\154\x73"] = $jadwals; goto D4RPJ; ierEE: } public function saveAlokasi() { goto Rey1f; pi2bR: vT0x5: goto H7JeW; f4ZDD: $insert = []; goto D_WRr; ClOLv: $data["\x73\164\141\x74\x75\163"] = $update; goto O3lrK; H7JeW: $update = $this->db->update_batch("\143\x62\x74\x5f\x6a\141\144\167\141\x6c", $insert, "\151\144\137\152\x61\144\167\141\154"); goto ClOLv; O3lrK: $this->output_json($data); goto Wuqyy; D_WRr: foreach ($input as $d) { goto IfcGg; v_Hxz: CBciu: goto DMtFF; IfcGg: if (!($d->id_jadwal != "\x30")) { goto CBciu; } goto cBm6S; cBm6S: array_push($insert, ["\x69\144\137\x6a\141\144\167\x61\x6c" => $d->id_jadwal, "\x6a\141\155\137\153\145" => $d->jam_ke]); goto v_Hxz; DMtFF: wSAM5: goto MygL5; MygL5: } goto pi2bR; Rey1f: $input = json_decode($this->input->post("\141\154\x6f\x6b\x61\163\x69", true)); goto f4ZDD; Wuqyy: } }
