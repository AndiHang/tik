<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto be7Of; be7Of: parent::__construct(); goto mNEmC; bP0lG: $this->form_validation->set_error_delimiters('', ''); goto bc8ww; Sj9tQ: $this->load->library(["\144\141\x74\141\164\x61\x62\154\x65\163", "\x66\157\x72\x6d\x5f\166\x61\x6c\151\x64\141\164\151\x6f\x6e"]); goto bP0lG; TnijY: redirect("\141\165\x74\150"); goto MlrpS; WhIui: if ($this->ion_auth->is_admin()) { goto R_Vsf; } goto cInnO; jil6E: goto ocBIt; goto we20e; cInnO: show_error("\110\x61\156\x79\x61\x20\101\x64\155\151\156\151\x73\x74\162\x61\164\x6f\x72\40\x79\141\156\x67\x20\x64\x69\142\x65\x72\x69\40\150\x61\x6b\40\165\x6e\x74\x75\x6b\x20\x6d\x65\x6e\147\141\153\163\145\163\x20\150\x61\x6c\141\x6d\x61\156\40\x69\x6e\151\54\40\74\141\40\150\x72\145\x66\x3d\42" . base_url("\x64\x61\163\x68\x62\x6f\141\x72\x64") . "\x22\x3e\x4b\145\155\142\141\154\151\x20\153\145\40\155\145\156\x75\40\141\x77\141\x6c\74\x2f\141\76", 403, "\101\153\163\x65\x73\40\124\x65\162\154\141\x72\141\156\x67"); goto hpep0; MlrpS: ocBIt: goto Sj9tQ; hpep0: R_Vsf: goto jil6E; we20e: ycZBe: goto TnijY; mNEmC: if (!$this->ion_auth->logged_in()) { goto ycZBe; } goto WhIui; bc8ww: } public function output_json($data, $encode = true) { goto w7NaS; w7NaS: if (!$encode) { goto bMGys; } goto UN4xP; iBUZ1: $this->output->set_content_type("\141\x70\x70\x6c\x69\x63\141\x74\151\157\156\57\x6a\163\157\x6e")->set_output($data); goto jEepP; eKb_Z: bMGys: goto iBUZ1; UN4xP: $data = json_encode($data); goto eKb_Z; jEepP: } public function index() { goto tL7pp; tGsHB: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto YOxZE; Pm56T: goto fcjEJ; goto K2lnM; vfqep: $data["\152\145\x6e\151\x73"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto DZrSj; KPxq8: $this->load->model("\104\x61\x73\x68\x62\x6f\x61\162\x64\x5f\x6d\x6f\144\x65\154", "\144\x61\x73\x68\142\157\x61\x72\x64"); goto hamsK; LRFqP: $data["\163\x61\155\160\141\151\137\163\145\x6c\x65\x63\164\x65\x64"] = $sampai_selected; goto ccHuy; u4IEG: $data["\x6a\x65\156\151\x73\137\x73\x65\154\x65\x63\164\x65\144"] = $jenis_selected; goto g8X0A; cUznz: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); GX3fS: } goto m2WnZ; uSYha: $smt = $this->dashboard->getSemesterActive(); goto FHkyS; v_e_O: $levels = []; goto JGETG; ScKrK: if (count($ids) > 0) { goto su66T; } goto N_Fp1; Rf70d: $setting = $this->dashboard->getSetting(); goto Ut8zo; Fli78: if ($setting->jenjang == "\x33") { goto B1lAg; } goto eDvI1; Ejn3x: zIQzL: goto ScKrK; K2lnM: gtdDD: goto vHggl; eIHKk: $dari_selected = $this->input->get("\144\x61\x72\151", true); goto jor0P; RChS6: fcjEJ: goto Ql7Up; Id0If: $tp = $this->dashboard->getTahunActive(); goto uSYha; lM9IY: $filter_selected = $this->input->get("\x66\x69\154\164\x65\162", true); goto eIHKk; N_Fp1: $data["\x6a\x65\x6e\x69\163"] = ['' => "\x62\x65\154\x75\155\x20\x61\x64\141\x20\152\141\144\x77\141\154\40\x75\x6a\x69\x61\156"]; goto pS1hw; jor0P: $sampai_selected = $this->input->get("\x73\x61\x6d\x70\x61\151", true); goto UCngL; YhFET: su66T: goto vfqep; cNgrj: $data["\160\162\x6f\x66\x69\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto EOeyF; Ut8zo: $data = ["\165\x73\x65\162" => $user, "\152\165\x64\x75\x6c" => "\101\154\x6f\153\141\x73\151\x20\x57\x61\x6b\164\x75", "\x73\x75\142\152\x75\x64\165\x6c" => "\101\154\157\x6b\x61\x73\151\40\x57\x61\153\164\165\x20\125\x6a\151\x61\x6e", "\163\x65\164\164\x69\x6e\147" => $setting]; goto Id0If; e3QSY: $ret = []; goto mgjGV; dAbJo: NRYLp: goto xErxi; HLT2K: $data["\164\160\x5f\141\143\x74\151\x76\x65"] = $tp; goto tGsHB; NgpzY: $data["\x64\x61\162\x69\x5f\x73\x65\x6c\145\x63\164\x65\144"] = $dari_selected; goto LRFqP; y54tB: $data["\146\151\x6c\x74\145\162\137\163\145\x6c\145\x63\164\x65\144"] = $filter_selected; goto NgpzY; m2WnZ: tTc3L: goto Ejn3x; IX28W: $data["\x72\165\141\156\147"] = $this->dropdown->getAllRuang(); goto v_e_O; mgjGV: foreach ($jadwals as $key => $row) { goto hI1RO; Zb255: goto p074r; goto WGQrl; WGQrl: GW74y: goto qJhHd; qJhHd: array_push($ret[$row->tgl_mulai], $row); goto p_PtN; LrHGF: array_push($ret[$row->tgl_mulai], $row); goto Zb255; WV22Q: $ret[$row->tgl_mulai] = []; goto LrHGF; D7mZ3: XOtz2: goto RuEwh; p_PtN: p074r: goto D7mZ3; hI1RO: if (isset($ret[$row->tgl_mulai])) { goto GW74y; } goto WV22Q; RuEwh: } goto tBA5w; pS1hw: goto pBHPE; goto YhFET; oUuwB: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto bnF6A; YJ7uG: $this->load->view("\x63\x62\x74\x2f\x61\154\x6f\153\x61\163\x69\57\144\141\164\141"); goto Hkqi0; FHkyS: $data["\164\x70"] = $this->dashboard->getTahun(); goto HLT2K; zT5rK: $data["\153\145\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto IX28W; EOeyF: $this->load->view("\137\164\x65\155\x70\x6c\x61\x74\145\x73\57\144\x61\x73\150\x62\157\x61\162\144\x2f\x5f\150\x65\141\144\x65\x72", $data); goto YJ7uG; ccHuy: $jadwals = []; goto JMy6P; mEkec: $level_selected = $this->input->get("\154\145\166\145\154", true); goto lM9IY; qB3Hu: if (!(count($id_jenis) > 0)) { goto zIQzL; } goto cUznz; tL7pp: $this->load->model("\104\162\157\x70\144\157\167\156\137\155\157\x64\x65\154", "\x64\162\157\160\x64\157\167\x6e"); goto KPxq8; JMy6P: if (!($jenis_selected != null && $level_selected != null)) { goto n7w2h; } goto IvJGV; g8X0A: $data["\154\x65\166\145\x6c\137\163\x65\x6c\145\x63\x74\x65\x64"] = $level_selected; goto y54tB; oo5LT: $user = $this->ion_auth->user()->row(); goto Rf70d; IvJGV: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto fvnH6; PAS5P: if ($setting->jenjang == "\x32") { goto gtdDD; } goto Fli78; hXtTl: $jenis_selected = $this->input->get("\x6a\145\x6e\x69\163", true); goto mEkec; Hkqi0: $this->load->view("\137\x74\145\x6d\x70\x6c\x61\x74\145\x73\x2f\x64\x61\163\150\142\x6f\141\162\144\57\137\x66\157\x6f\x74\145\x72"); goto QnbYL; fvnH6: n7w2h: goto zT5rK; YOxZE: $data["\163\x6d\164\137\x61\x63\164\151\166\x65"] = $smt; goto oUuwB; bIe6k: B1lAg: goto x03VS; hamsK: $this->load->model("\x43\x62\164\x5f\x6d\157\x64\x65\x6c", "\143\x62\x74"); goto oo5LT; Ql7Up: $data["\154\x65\166\x65\x6c\163"] = $levels; goto e3QSY; VDvHR: $data["\x6a\x61\x64\x77\141\x6c\x73"] = $jadwals; goto cNgrj; tBA5w: mvonq: goto VDvHR; JGETG: if ($setting->jenjang == "\61") { goto NRYLp; } goto PAS5P; x03VS: $levels = ["\60" => "\x50\151\154\x69\150\40\114\145\x76\x65\154", "\61\60" => "\61\60", "\x31\61" => "\x31\x31", "\x31\x32" => "\x31\x32"]; goto RChS6; bnF6A: $ids = []; goto qB3Hu; DZrSj: pBHPE: goto hXtTl; xErxi: $levels = ["\x30" => "\x50\x69\154\x69\x68\x20\x4c\145\x76\x65\154", "\x31" => "\61", "\62" => "\62", "\x33" => "\63", "\x34" => "\x34", "\65" => "\65", "\66" => "\66"]; goto Pm56T; eDvI1: goto fcjEJ; goto dAbJo; vHggl: $levels = ["\60" => "\120\151\x6c\151\x68\x20\x4c\145\166\x65\154", "\x37" => "\67", "\70" => "\70", "\71" => "\x39"]; goto YS6zd; UCngL: $data["\146\151\x6c\164\145\162"] = ["\60" => "\123\145\x6d\x75\x61", "\x31" => "\124\x61\156\147\x67\141\x6c"]; goto u4IEG; YS6zd: goto fcjEJ; goto bIe6k; QnbYL: } public function saveAlokasi() { goto OAYDA; Qs39I: $insert = []; goto k3Gyq; yqPkF: U44VJ: goto nEf1A; xcPTt: $this->output_json($data); goto hOAiN; OAYDA: $input = json_decode($this->input->post("\141\154\x6f\153\x61\x73\151", true)); goto Qs39I; nEf1A: $update = $this->db->update_batch("\x63\x62\164\137\x6a\141\x64\x77\141\154", $insert, "\151\x64\x5f\152\x61\144\167\x61\x6c"); goto yuL_8; yuL_8: $data["\x73\x74\x61\164\x75\163"] = $update; goto xcPTt; k3Gyq: foreach ($input as $d) { goto WAtAY; WAtAY: if (!($d->id_jadwal != "\60")) { goto O6fF8; } goto kcCoh; dHN3N: bpfpD: goto RY9XL; kcCoh: array_push($insert, ["\x69\144\137\x6a\141\x64\x77\141\154" => $d->id_jadwal, "\152\x61\155\137\153\145" => $d->jam_ke]); goto G6c1A; G6c1A: O6fF8: goto dHN3N; RY9XL: } goto yqPkF; hOAiN: } }
