<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto z4b9M; rNJaw: jpIG9: goto y6JNJ; a9PQg: $this->load->library(["\144\x61\x74\141\164\141\142\154\x65\x73", "\x66\157\162\x6d\x5f\x76\x61\154\151\144\141\164\151\x6f\x6e"]); goto pjEov; Ja5xu: $this->load->model("\114\157\147\x5f\x6d\x6f\x64\145\x6c", "\x6c\x6f\147\147\x69\x6e\147"); goto YLuVY; HDiWk: ZNfS2: goto uGpud; pjEov: $this->load->model("\115\x61\163\164\145\x72\137\x6d\157\144\145\154", "\155\141\x73\164\x65\162"); goto uE0yK; fF43H: $this->load->model("\x43\142\x74\137\x6d\x6f\144\145\154", "\143\142\164"); goto Ja5xu; FN3fc: $this->form_validation->set_error_delimiters('', ''); goto pSHfv; E8gUr: if ($this->ion_auth->is_admin()) { goto ZNfS2; } goto wkJ1o; uE0yK: $this->load->model("\104\x61\163\x68\x62\157\x61\162\144\137\x6d\157\x64\x65\154", "\x64\x61\163\x68\142\x6f\x61\x72\144"); goto fF43H; wkJ1o: show_error("\x48\x61\156\x79\x61\x20\101\x64\x6d\x69\x6e\x69\x73\x74\x72\141\x74\x6f\x72\x20\x79\x61\156\x67\40\x64\x69\142\145\162\x69\40\150\x61\153\x20\165\x6e\164\x75\153\40\155\145\156\x67\141\x6b\x73\145\163\x20\x68\141\x6c\x61\x6d\x61\x6e\40\151\x6e\151\54\x20\74\141\x20\150\x72\145\x66\75\42" . base_url("\x64\141\163\150\142\157\141\x72\144") . "\42\76\x4b\145\x6d\x62\x61\x6c\x69\x20\153\x65\40\x6d\145\156\165\x20\x61\167\x61\154\x3c\x2f\141\76", 403, "\x41\153\x73\145\x73\x20\x54\145\x72\154\x61\x72\x61\x6e\147"); goto HDiWk; y6JNJ: redirect("\x61\165\x74\150"); goto RU1TC; YLuVY: $this->load->model("\x44\162\x6f\x70\x64\x6f\167\156\x5f\155\x6f\144\145\154", "\x64\x72\157\160\x64\x6f\167\x6e"); goto FN3fc; EmWIC: if (!$this->ion_auth->logged_in()) { goto jpIG9; } goto E8gUr; z4b9M: parent::__construct(); goto EmWIC; uGpud: goto zsQjU; goto rNJaw; RU1TC: zsQjU: goto a9PQg; pSHfv: } public function output_json($data, $encode = true) { goto alUsg; fmHA9: ObN5x: goto Cy8uD; Cy8uD: $this->output->set_content_type("\x61\x70\x70\154\x69\143\x61\164\x69\x6f\156\57\152\x73\157\156")->set_output($data); goto wJLzG; Qt5o3: $data = json_encode($data); goto fmHA9; alUsg: if (!$encode) { goto ObN5x; } goto Qt5o3; wJLzG: } public function index() { goto uPO_2; L0b_d: $dari_selected = $this->input->get("\144\x61\162\151", true); goto ePy00; NYWPb: $data["\x66\x69\x6c\164\145\x72\x5f\x73\x65\x6c\145\143\x74\x65\x64"] = $filter_selected; goto qBmo0; lL3ET: goto VPEkh; goto GqoMr; UlygA: $data["\x6a\x65\156\151\163"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto xa4iK; r41ko: $tp = $this->dashboard->getTahunActive(); goto pK_NF; xa4iK: sCfac: goto GVdaj; ityMx: $data["\x74\x70"] = $this->dashboard->getTahun(); goto vo20c; VckbK: foreach ($jadwals as $key => $row) { goto h_Fbi; LNsHB: SL3Pl: goto eagDs; BidaR: LP9Ma: goto XUEkn; yIxFi: OLMIT: goto LNsHB; mZrN8: array_push($ret[$row->tgl_mulai], $row); goto N0iG5; h_Fbi: if (isset($ret[$row->tgl_mulai])) { goto LP9Ma; } goto N4_FI; XUEkn: array_push($ret[$row->tgl_mulai], $row); goto yIxFi; N4_FI: $ret[$row->tgl_mulai] = []; goto mZrN8; N0iG5: goto OLMIT; goto BidaR; eagDs: } goto vOE3m; eZFAZ: $data["\154\145\166\x65\154\x73"] = $levels; goto td3N6; fCl7I: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto dADyF; nhwPb: $levels = ["\60" => "\x50\151\x6c\151\x68\x20\114\x65\x76\145\154", "\x31" => "\61", "\x32" => "\62", "\63" => "\x33", "\x34" => "\64", "\x35" => "\65", "\x36" => "\x36"]; goto oGEG3; TNdA5: $this->load->view("\137\x74\145\x6d\x70\x6c\x61\x74\x65\x73\57\144\141\x73\x68\142\x6f\141\162\144\57\x5f\x66\157\157\x74\145\162"); goto t8uEo; c2ZYe: $levels = ["\60" => "\120\151\154\x69\150\x20\x4c\x65\166\x65\x6c", "\x31\x30" => "\61\60", "\61\61" => "\61\61", "\x31\x32" => "\61\62"]; goto X0VTB; Ghoxg: if ($setting->jenjang == "\61") { goto r5nXu; } goto PVsLl; cTZkR: $data["\x6a\145\156\x69\163"] = ['' => "\142\145\x6c\165\155\40\141\x64\x61\x20\152\x61\x64\167\x61\154\40\165\x6a\151\141\156"]; goto rfp1Z; u4CC6: FqQo1: goto CR7zu; dADyF: $ids = []; goto BV8kh; mQEMy: $data["\x6a\141\144\167\x61\154\x73"] = $jadwals; goto Xcz3Z; QNYd8: ryWA8: goto c2ZYe; PVsLl: if ($setting->jenjang == "\62") { goto FqQo1; } goto Xv2Uz; ctP8S: if (count($ids) > 0) { goto JljIg; } goto cTZkR; bobop: JljIg: goto UlygA; MB2E5: $data["\x73\141\x6d\160\141\x69\x5f\163\145\x6c\145\143\x74\x65\x64"] = $sampai_selected; goto fpzAr; tBqoJ: $level_selected = $this->input->get("\x6c\x65\166\x65\x6c", true); goto u1N29; Pe0hY: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto jQoeG; td3N6: $ret = []; goto VckbK; GVdaj: $jenis_selected = $this->input->get("\x6a\x65\x6e\x69\x73", true); goto tBqoJ; oPrvW: $data["\153\x65\154\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto qLPZa; ePy00: $sampai_selected = $this->input->get("\x73\141\155\160\141\151", true); goto oUZHi; TKPoK: $this->load->view("\x5f\164\x65\155\x70\154\141\x74\x65\x73\57\x64\x61\x73\x68\142\157\x61\x72\144\57\137\150\x65\x61\144\x65\x72", $data); goto UysC4; qBmo0: $data["\x64\141\162\x69\137\163\x65\154\x65\143\164\x65\x64"] = $dari_selected; goto MB2E5; k_C6C: goto VPEkh; goto QNYd8; CR7zu: $levels = ["\60" => "\120\x69\154\x69\x68\40\x4c\x65\166\x65\x6c", "\x37" => "\67", "\70" => "\x38", "\x39" => "\71"]; goto k_C6C; UysC4: $this->load->view("\143\x62\164\x2f\x61\x6c\157\x6b\141\x73\x69\x2f\144\x61\x74\141"); goto TNdA5; Xcz3Z: $data["\x70\x72\157\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto TKPoK; vOE3m: tQD1C: goto mQEMy; fpzAr: $jadwals = []; goto UDBMn; u1N29: $filter_selected = $this->input->get("\x66\x69\154\164\x65\x72", true); goto L0b_d; vo20c: $data["\164\x70\x5f\x61\143\x74\151\x76\145"] = $tp; goto Pe0hY; GqoMr: r5nXu: goto nhwPb; OmNW1: $data = ["\165\x73\145\162" => $user, "\152\165\144\x75\x6c" => "\x41\154\157\x6b\x61\x73\151\40\x57\141\x6b\x74\x75", "\163\x75\x62\x6a\165\x64\x75\154" => "\101\x6c\157\x6b\x61\163\151\40\127\141\x6b\x74\x75\40\x55\152\151\141\x6e", "\x73\145\164\x74\151\x6e\x67" => $setting]; goto r41ko; UDBMn: if (!($jenis_selected != null && $level_selected != null)) { goto NK1RA; } goto QooJF; QooJF: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto evkcK; BV8kh: if (!(count($id_jenis) > 0)) { goto fX9yr; } goto QI0UK; oGEG3: goto VPEkh; goto u4CC6; pK_NF: $smt = $this->dashboard->getSemesterActive(); goto ityMx; bZeOV: fX9yr: goto ctP8S; rfp1Z: goto sCfac; goto bobop; EGC08: $data["\154\x65\x76\145\x6c\137\163\145\x6c\x65\143\164\x65\144"] = $level_selected; goto NYWPb; X0VTB: VPEkh: goto eZFAZ; Xv2Uz: if ($setting->jenjang == "\63") { goto ryWA8; } goto lL3ET; oUZHi: $data["\146\x69\154\164\x65\162"] = ["\x30" => "\123\145\155\165\x61", "\x31" => "\x54\x61\x6e\x67\147\141\154"]; goto IKTI5; qLPZa: $data["\x72\165\141\156\147"] = $this->dropdown->getAllRuang(); goto jnfnN; jnfnN: $levels = []; goto Ghoxg; uPO_2: $user = $this->ion_auth->user()->row(); goto UMU_K; jQoeG: $data["\x73\155\164\x5f\x61\x63\164\x69\166\145"] = $smt; goto fCl7I; evkcK: NK1RA: goto oPrvW; UMU_K: $setting = $this->dashboard->getSetting(); goto OmNW1; r2fs1: B0Vg5: goto bZeOV; IKTI5: $data["\152\145\x6e\x69\163\x5f\x73\145\154\145\143\164\x65\144"] = $jenis_selected; goto EGC08; QI0UK: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); yMird: } goto r2fs1; t8uEo: } public function saveAlokasi() { goto SWGF_; A40mr: foreach ($input as $d) { goto UpWaR; VN0wh: array_push($insert, ["\151\x64\137\x6a\x61\x64\167\141\x6c" => $d->id_jadwal, "\152\x61\155\x5f\153\145" => $d->jam_ke]); goto ockV4; UpWaR: if (!($d->id_jadwal != "\60")) { goto bOv3g; } goto VN0wh; ofAM3: ejU1P: goto EVOhQ; ockV4: bOv3g: goto ofAM3; EVOhQ: } goto PFLqd; PFLqd: g0JLd: goto Gmx3U; BDRgp: $data["\x73\164\x61\x74\x75\x73"] = $update; goto ukAIs; lny2F: $insert = []; goto A40mr; SWGF_: $input = json_decode($this->input->post("\141\154\x6f\153\x61\x73\151", true)); goto lny2F; ukAIs: $this->output_json($data); goto xZm1g; Gmx3U: $update = $this->db->update_batch("\143\142\x74\x5f\152\141\x64\167\x61\154", $insert, "\151\x64\x5f\x6a\x61\144\x77\x61\154"); goto BDRgp; xZm1g: } }
