<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto MAmLm; Zsp2H: $this->form_validation->set_error_delimiters('', ''); goto g4iY0; BVIJY: if ($this->ion_auth->is_admin()) { goto OLP12; } goto czqkz; vPlJo: if (!$this->ion_auth->logged_in()) { goto Vi7r7; } goto BVIJY; ic0Ix: OLP12: goto dA3zt; dA3zt: goto CwQQ2; goto jBEYz; MADfI: redirect("\141\x75\164\x68"); goto dKBR8; feP0G: $this->load->library(["\144\x61\164\141\x74\x61\x62\154\x65\x73", "\146\x6f\x72\x6d\137\x76\141\x6c\151\x64\x61\164\151\x6f\156"]); goto Zsp2H; jBEYz: Vi7r7: goto MADfI; MAmLm: parent::__construct(); goto vPlJo; dKBR8: CwQQ2: goto feP0G; czqkz: show_error("\110\141\x6e\x79\x61\40\x41\144\x6d\151\x6e\151\163\164\162\141\x74\157\x72\40\x79\x61\x6e\147\40\x64\151\142\x65\x72\x69\40\150\x61\153\x20\165\x6e\x74\165\x6b\40\155\145\x6e\x67\x61\x6b\x73\x65\163\x20\x68\x61\154\141\155\x61\156\40\151\x6e\151\54\x20\x3c\141\x20\150\162\x65\146\x3d\x22" . base_url("\144\x61\x73\x68\x62\157\x61\x72\144") . "\x22\76\113\145\x6d\x62\x61\x6c\x69\40\153\145\x20\x6d\145\x6e\x75\x20\141\x77\x61\154\74\x2f\141\x3e", 403, "\101\153\x73\x65\163\x20\x54\x65\162\x6c\141\162\x61\x6e\x67"); goto ic0Ix; g4iY0: } public function output_json($data, $encode = true) { goto rNEsO; psjOX: $this->output->set_content_type("\x61\160\160\154\x69\x63\141\164\x69\157\x6e\x2f\152\163\157\156")->set_output($data); goto s1ad2; WSTG8: QDbPB: goto psjOX; rNEsO: if (!$encode) { goto QDbPB; } goto euCPM; euCPM: $data = json_encode($data); goto WSTG8; s1ad2: } public function index() { goto MBeZS; ogBIA: zBHdo: goto xthbt; kx6mg: c6SQh: goto P68dG; K21Bb: IsHyJ: goto jtjUG; P68dG: $levels = ["\x30" => "\x50\151\x6c\151\x68\x20\114\145\166\145\154", "\x37" => "\x37", "\70" => "\x38", "\x39" => "\x39"]; goto Qp0_s; doJSh: $data = ["\x75\163\145\162" => $user, "\x6a\x75\x64\165\154" => "\x41\x6c\157\153\141\x73\151\x20\x57\x61\x6b\164\x75", "\x73\165\142\x6a\x75\x64\x75\x6c" => "\x41\x6c\157\x6b\x61\x73\x69\40\127\x61\x6b\164\165\x20\125\x6a\x69\x61\156", "\x73\x65\164\164\x69\156\x67" => $setting]; goto IKmTh; bXRv1: if ($setting->jenjang == "\62") { goto c6SQh; } goto IksDZ; IKzJ1: p67vI: goto TexJu; l4Uqa: $data["\163\x61\155\160\x61\x69\137\163\x65\154\145\143\164\145\x64"] = $sampai_selected; goto EXzlt; jtjUG: $jenis_selected = $this->input->get("\x6a\x65\156\x69\163", true); goto I4p7x; fQxmK: $setting = $this->dashboard->getSetting(); goto doJSh; VsJsH: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto NHyn9; bpMYw: $ret = []; goto iPzAx; l7ovY: $this->load->view("\143\x62\164\57\141\x6c\157\153\141\x73\151\x2f\144\x61\164\x61"); goto O_BSj; lak7s: goto C9x6a; goto IKzJ1; ahOeB: if ($setting->jenjang == "\61") { goto p67vI; } goto bXRv1; mG91e: $data["\x66\x69\154\164\145\x72"] = ["\60" => "\x53\x65\155\165\x61", "\x31" => "\x54\x61\x6e\147\x67\x61\x6c"]; goto ir6bc; MBeZS: $this->load->model("\x44\162\x6f\x70\144\157\167\x6e\137\x6d\x6f\x64\145\x6c", "\x64\x72\x6f\x70\144\157\167\x6e"); goto CC8IK; TexJu: $levels = ["\60" => "\x50\x69\x6c\x69\150\40\114\145\x76\x65\x6c", "\x31" => "\x31", "\x32" => "\x32", "\x33" => "\x33", "\x34" => "\64", "\65" => "\x35", "\x36" => "\x36"]; goto m55Il; Hokji: C9x6a: goto gHZjG; IvL5G: $this->load->view("\x5f\x74\x65\x6d\x70\x6c\x61\164\145\163\57\144\x61\163\150\142\157\141\x72\144\57\137\x68\145\x61\x64\145\x72", $data); goto l7ovY; p6ia3: $this->load->model("\x43\142\x74\x5f\x6d\x6f\144\145\154", "\143\x62\164"); goto AlhrL; QeVj2: CA0nG: goto k2mTT; RXqxo: Cm0WO: goto aEkVK; uZaIG: $data["\x64\141\162\151\137\163\x65\x6c\145\143\164\x65\144"] = $dari_selected; goto l4Uqa; WnLMq: $data["\x6b\x65\x6c\x61\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto QpqC2; w4vnA: $data["\154\x65\x76\145\x6c\x5f\163\x65\154\x65\143\164\145\144"] = $level_selected; goto dAbzM; U5hlc: YONYL: goto ogBIA; gHZjG: $data["\154\145\x76\x65\154\163"] = $levels; goto bpMYw; VZqfg: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); fugNQ: } goto U5hlc; xthbt: if (count($ids) > 0) { goto aR2ef; } goto Oaqcr; BFZ3B: aR2ef: goto IY9SU; GaRKc: $sampai_selected = $this->input->get("\163\141\x6d\160\x61\x69", true); goto mG91e; CC8IK: $this->load->model("\x44\x61\x73\150\x62\x6f\141\162\x64\x5f\x6d\157\x64\x65\154", "\144\141\163\x68\142\x6f\141\162\x64"); goto p6ia3; ir6bc: $data["\x6a\x65\156\x69\x73\x5f\163\145\154\x65\x63\164\145\144"] = $jenis_selected; goto w4vnA; HRnBS: $ids = []; goto slEZK; QpqC2: $data["\x72\165\141\x6e\x67"] = $this->dropdown->getAllRuang(); goto ndnsV; IKmTh: $tp = $this->dashboard->getTahunActive(); goto oTg1j; dAbzM: $data["\146\x69\154\164\x65\x72\x5f\x73\x65\x6c\x65\x63\x74\x65\x64"] = $filter_selected; goto uZaIG; AlhrL: $user = $this->ion_auth->user()->row(); goto fQxmK; oTg1j: $smt = $this->dashboard->getSemesterActive(); goto jNK8f; whMiq: if (!($jenis_selected != null && $level_selected != null)) { goto z8guI; } goto VsJsH; dWBnm: $dari_selected = $this->input->get("\x64\x61\162\x69", true); goto GaRKc; O_BSj: $this->load->view("\x5f\164\145\x6d\160\154\141\164\145\x73\57\144\141\x73\150\142\157\x61\x72\144\57\137\x66\x6f\x6f\x74\145\x72"); goto M9uUk; IksDZ: if ($setting->jenjang == "\x33") { goto Cm0WO; } goto lak7s; NHyn9: z8guI: goto WnLMq; Cbvxj: $data["\163\155\164\137\141\143\164\x69\x76\x65"] = $smt; goto ozabA; Oaqcr: $data["\152\145\156\x69\163"] = ['' => "\x62\145\x6c\165\x6d\x20\141\144\x61\x20\x6a\141\144\x77\141\x6c\40\x75\152\151\141\156"]; goto FQk7G; iPzAx: foreach ($jadwals as $key => $row) { goto cuKSd; cuKSd: if (isset($ret[$row->tgl_mulai])) { goto QbJG7; } goto DKNJi; eXkVn: goto kG9WC; goto c2Nwe; c2Nwe: QbJG7: goto lpSVd; frp6H: array_push($ret[$row->tgl_mulai], $row); goto eXkVn; EG06L: kG9WC: goto Mlvpv; DKNJi: $ret[$row->tgl_mulai] = []; goto frp6H; Mlvpv: bhPLI: goto J43di; lpSVd: array_push($ret[$row->tgl_mulai], $row); goto EG06L; J43di: } goto QeVj2; EXzlt: $jadwals = []; goto whMiq; NGpU7: $data["\x74\x70\137\x61\143\164\x69\x76\145"] = $tp; goto UyNlL; FQk7G: goto IsHyJ; goto BFZ3B; UyNlL: $data["\163\155\164"] = $this->dashboard->getSemester(); goto Cbvxj; ozabA: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto HRnBS; m55Il: goto C9x6a; goto kx6mg; AEflS: $filter_selected = $this->input->get("\x66\x69\154\x74\x65\x72", true); goto dWBnm; OpUKz: $data["\x70\162\157\x66\151\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto IvL5G; Qp0_s: goto C9x6a; goto RXqxo; aEkVK: $levels = ["\x30" => "\120\151\154\151\x68\x20\114\145\166\x65\x6c", "\61\60" => "\x31\60", "\x31\61" => "\61\61", "\x31\62" => "\61\62"]; goto Hokji; slEZK: if (!(count($id_jenis) > 0)) { goto zBHdo; } goto VZqfg; I4p7x: $level_selected = $this->input->get("\x6c\x65\166\145\154", true); goto AEflS; jNK8f: $data["\x74\160"] = $this->dashboard->getTahun(); goto NGpU7; IY9SU: $data["\152\145\156\x69\163"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto K21Bb; ndnsV: $levels = []; goto ahOeB; k2mTT: $data["\x6a\x61\x64\167\141\x6c\x73"] = $jadwals; goto OpUKz; M9uUk: } public function saveAlokasi() { goto JJbYF; zBtmi: $data["\163\164\x61\164\165\x73"] = $update; goto D9AEH; D9AEH: $this->output_json($data); goto J12hG; yUMxU: njOCh: goto lA30Y; XrDmB: foreach ($input as $d) { goto laHKe; GtERl: aqshd: goto w6vPV; laHKe: if (!($d->id_jadwal != "\60")) { goto z2Ssd; } goto GVmuw; mKGxe: z2Ssd: goto GtERl; GVmuw: array_push($insert, ["\x69\144\137\152\x61\144\x77\x61\154" => $d->id_jadwal, "\152\141\155\137\x6b\x65" => $d->jam_ke]); goto mKGxe; w6vPV: } goto yUMxU; ktGmR: $insert = []; goto XrDmB; lA30Y: $update = $this->db->update_batch("\143\142\x74\137\152\x61\x64\167\141\x6c", $insert, "\151\x64\x5f\152\141\x64\x77\x61\x6c"); goto zBtmi; JJbYF: $input = json_decode($this->input->post("\x61\154\157\153\x61\163\x69", true)); goto ktGmR; J12hG: } }
