<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto jz3gZ; NFm7k: redirect("\x61\165\x74\150"); goto c7zhh; UdRaF: show_error("\110\141\x6e\171\141\40\101\144\x6d\151\156\x69\x73\x74\162\x61\164\157\162\40\x79\x61\156\147\x20\x64\x69\142\145\x72\151\x20\150\141\x6b\x20\165\x6e\164\165\153\40\x6d\x65\x6e\147\x61\153\x73\x65\163\x20\x68\141\154\141\x6d\x61\156\40\x69\156\x69\x2c\40\74\141\x20\x68\x72\x65\x66\75\x22" . base_url("\x64\x61\163\x68\142\x6f\141\x72\144") . "\x22\76\x4b\145\155\142\141\x6c\x69\x20\153\x65\40\x6d\x65\156\165\x20\141\167\141\154\x3c\57\x61\76", 403, "\101\153\x73\145\x73\x20\x54\145\162\x6c\x61\162\141\x6e\147"); goto z9LdH; z5T0N: $this->form_validation->set_error_delimiters('', ''); goto YzBkf; jz3gZ: parent::__construct(); goto O3hmE; z9LdH: pqKF3: goto Ss2ER; dOQcs: if ($this->ion_auth->is_admin()) { goto pqKF3; } goto UdRaF; O3hmE: if (!$this->ion_auth->logged_in()) { goto TVq63; } goto dOQcs; c7zhh: UC9Q9: goto gI0JH; gI0JH: $this->load->library(["\144\x61\x74\141\164\x61\x62\154\145\x73", "\146\157\162\x6d\x5f\166\x61\x6c\151\144\x61\x74\x69\x6f\x6e"]); goto z5T0N; Ss2ER: goto UC9Q9; goto ZQpnj; ZQpnj: TVq63: goto NFm7k; YzBkf: } public function output_json($data, $encode = true) { goto I2y03; JRoJ7: $this->output->set_content_type("\x61\160\160\x6c\151\143\x61\x74\151\x6f\x6e\x2f\x6a\163\157\x6e")->set_output($data); goto hRyI4; Eh3HY: $data = json_encode($data); goto IW_bu; I2y03: if (!$encode) { goto f5wh9; } goto Eh3HY; IW_bu: f5wh9: goto JRoJ7; hRyI4: } public function index() { goto st33u; W98y8: a3Ra_: goto QR3SH; nafYj: WTaKz: goto ZpeLr; wkmMV: JWp4A: goto p06iN; x1iJ6: goto RwkBu; goto Jib9B; LP6V8: $data["\x73\x6d\x74\x5f\x61\143\x74\151\166\145"] = $smt; goto L8tpJ; BjRW8: $jadwals = []; goto v3vCF; o7JGy: if ($setting->jenjang == "\x31") { goto qsgYX; } goto pIcIw; HjxuC: $data["\x6b\145\x6c\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto DwBRn; er9gw: wVLx3: goto W98y8; k6oXz: $this->load->model("\103\x62\x74\137\x6d\x6f\x64\x65\154", "\x63\x62\164"); goto bXkG5; NoKVp: $data["\x64\141\x72\151\x5f\163\145\x6c\145\x63\164\145\144"] = $dari_selected; goto o1SjA; lE7Fi: mnS_c: goto n0Zb1; jFo90: $ret = []; goto lKpHI; Ma7YW: $data["\152\x65\x6e\x69\163\137\x73\x65\154\x65\143\164\x65\144"] = $jenis_selected; goto fJggd; zWEuz: $smt = $this->dashboard->getSemesterActive(); goto FwM7_; G2VDY: $this->load->view("\x63\x62\164\57\141\154\x6f\153\x61\163\x69\57\144\141\164\x61"); goto w_22m; bXkG5: $user = $this->ion_auth->user()->row(); goto yl7ul; Nyhn9: $data["\x74\160\137\141\x63\164\151\166\x65"] = $tp; goto u0A_b; ggwGn: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto RDC7C; Kadl5: $data["\152\145\156\x69\x73"] = ['' => "\x62\x65\154\x75\155\40\x61\144\141\40\x6a\x61\x64\x77\141\154\x20\165\152\x69\141\156"]; goto PqKY5; BSOok: $sampai_selected = $this->input->get("\163\x61\155\160\141\x69", true); goto DJggW; PqKY5: goto JWp4A; goto BJusS; o1SjA: $data["\x73\141\155\160\141\151\137\x73\x65\x6c\145\x63\x74\145\144"] = $sampai_selected; goto BjRW8; p06iN: $jenis_selected = $this->input->get("\x6a\145\156\x69\163", true); goto nCXCb; w_22m: $this->load->view("\137\x74\x65\x6d\160\x6c\x61\164\145\163\x2f\144\141\163\150\x62\x6f\x61\162\x64\57\137\x66\157\157\164\145\x72"); goto SuoHR; K69J5: $this->load->model("\104\x61\x73\x68\x62\157\141\162\144\x5f\155\157\x64\145\x6c", "\x64\x61\x73\x68\x62\157\x61\162\x64"); goto k6oXz; DBPFS: $data["\x6a\145\156\151\x73"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto wkmMV; DJggW: $data["\x66\x69\154\x74\x65\162"] = ["\x30" => "\123\145\x6d\x75\141", "\x31" => "\x54\x61\x6e\147\147\141\154"]; goto Ma7YW; ZJOmF: $levels = ["\60" => "\120\151\154\x69\x68\40\x4c\x65\166\145\x6c", "\x31\60" => "\x31\60", "\x31\61" => "\x31\x31", "\61\x32" => "\61\x32"]; goto Pqkru; pIcIw: if ($setting->jenjang == "\x32") { goto mnS_c; } goto rNlNR; TzQhg: $data["\x66\x69\154\x74\145\x72\137\163\x65\x6c\x65\143\164\x65\x64"] = $filter_selected; goto NoKVp; lKpHI: foreach ($jadwals as $key => $row) { goto M4J4g; HHtwG: array_push($ret[$row->tgl_mulai], $row); goto Lmcai; b6Eso: nHuqE: goto HHtwG; hypSO: array_push($ret[$row->tgl_mulai], $row); goto vcdlf; y3v11: bu15F: goto DqtwP; M4J4g: if (isset($ret[$row->tgl_mulai])) { goto nHuqE; } goto r1Qpr; Lmcai: iGAhs: goto y3v11; vcdlf: goto iGAhs; goto b6Eso; r1Qpr: $ret[$row->tgl_mulai] = []; goto hypSO; DqtwP: } goto nafYj; yl7ul: $setting = $this->dashboard->getSetting(); goto exNut; o1BKr: goto RwkBu; goto BzRNk; yGFEU: $dari_selected = $this->input->get("\144\141\162\151", true); goto BSOok; FwM7_: $data["\x74\160"] = $this->dashboard->getTahun(); goto Nyhn9; BzRNk: MfsiS: goto ZJOmF; yIbkC: $this->load->view("\137\164\145\155\160\x6c\x61\164\145\x73\57\144\141\163\150\142\157\x61\x72\144\x2f\137\150\x65\141\x64\x65\x72", $data); goto G2VDY; Pqkru: RwkBu: goto hqm02; DwBRn: $data["\x72\x75\x61\x6e\147"] = $this->dropdown->getAllRuang(); goto gYyDF; gYyDF: $levels = []; goto o7JGy; P1sGG: $tp = $this->dashboard->getTahunActive(); goto zWEuz; CUtXh: $ids = []; goto mkRAR; Jib9B: qsgYX: goto eeWTw; n0Zb1: $levels = ["\60" => "\120\151\x6c\x69\x68\40\x4c\145\x76\145\x6c", "\x37" => "\x37", "\70" => "\70", "\x39" => "\x39"]; goto o1BKr; BJusS: qz7CU: goto DBPFS; yMggD: goto RwkBu; goto lE7Fi; RDC7C: CrE9q: goto HjxuC; L8tpJ: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto CUtXh; eeWTw: $levels = ["\x30" => "\120\x69\154\151\x68\40\114\145\x76\145\x6c", "\x31" => "\x31", "\x32" => "\x32", "\63" => "\x33", "\x34" => "\x34", "\x35" => "\x35", "\66" => "\66"]; goto yMggD; nCXCb: $level_selected = $this->input->get("\154\145\166\145\154", true); goto m2c5p; hqm02: $data["\x6c\145\x76\x65\154\x73"] = $levels; goto jFo90; Ql22_: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); KS39w: } goto er9gw; m2c5p: $filter_selected = $this->input->get("\x66\151\x6c\x74\x65\x72", true); goto yGFEU; fJggd: $data["\154\145\x76\145\x6c\x5f\x73\x65\x6c\145\x63\164\x65\x64"] = $level_selected; goto TzQhg; QR3SH: if (count($ids) > 0) { goto qz7CU; } goto Kadl5; exNut: $data = ["\165\163\x65\162" => $user, "\x6a\x75\x64\165\x6c" => "\101\154\x6f\x6b\x61\x73\x69\40\x57\141\x6b\x74\x75", "\x73\165\142\x6a\165\x64\x75\154" => "\x41\x6c\x6f\153\141\x73\x69\40\127\141\153\x74\165\x20\125\152\x69\141\156", "\163\145\164\164\x69\156\147" => $setting]; goto P1sGG; u0A_b: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto LP6V8; ZpeLr: $data["\152\141\144\167\141\154\x73"] = $jadwals; goto m4H9u; st33u: $this->load->model("\x44\162\157\x70\x64\157\x77\x6e\x5f\x6d\157\144\145\x6c", "\x64\x72\x6f\x70\x64\157\x77\x6e"); goto K69J5; m4H9u: $data["\x70\162\157\x66\151\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto yIbkC; mkRAR: if (!(count($id_jenis) > 0)) { goto a3Ra_; } goto Ql22_; rNlNR: if ($setting->jenjang == "\x33") { goto MfsiS; } goto x1iJ6; v3vCF: if (!($jenis_selected != null && $level_selected != null)) { goto CrE9q; } goto ggwGn; SuoHR: } public function saveAlokasi() { goto FPBDr; WAGNW: $data["\163\x74\x61\164\165\163"] = $update; goto g98eY; PY7af: foreach ($input as $d) { goto iGU5Z; iGU5Z: if (!($d->id_jadwal != "\x30")) { goto JdMNp; } goto OyTzr; MHnXC: I4by9: goto pusZZ; OyTzr: array_push($insert, ["\x69\144\137\x6a\141\144\x77\x61\x6c" => $d->id_jadwal, "\x6a\141\x6d\137\x6b\x65" => $d->jam_ke]); goto pbKjk; pbKjk: JdMNp: goto MHnXC; pusZZ: } goto Fzvx_; Fzvx_: W6d8M: goto N_gUa; N_gUa: $update = $this->db->update_batch("\143\x62\x74\x5f\x6a\141\x64\167\x61\x6c", $insert, "\x69\144\x5f\x6a\141\x64\x77\141\x6c"); goto WAGNW; g98eY: $this->output_json($data); goto lfTmR; FPBDr: $input = json_decode($this->input->post("\x61\x6c\157\x6b\141\x73\x69", true)); goto gDt0J; gDt0J: $insert = []; goto PY7af; lfTmR: } }
