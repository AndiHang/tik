<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto EOrLN; EEe2N: redirect("\141\x75\164\150"); goto Pnc_Z; ggPEr: $this->load->library(["\144\x61\x74\141\x74\x61\142\x6c\x65\163", "\x66\157\162\155\137\x76\141\x6c\151\x64\x61\x74\x69\157\156"]); goto s0mLG; aNZMf: $this->load->model("\x4c\x6f\147\137\155\x6f\x64\145\154", "\154\x6f\x67\x67\151\156\147"); goto zQGN2; y_Grl: odICY: goto EEe2N; CXL8J: goto InlTa; goto y_Grl; s0mLG: $this->load->model("\x4d\141\x73\x74\x65\162\x5f\155\157\144\145\154", "\x6d\141\163\164\145\162"); goto ODemn; Pnc_Z: InlTa: goto ggPEr; zQGN2: $this->load->model("\x44\162\157\x70\144\x6f\x77\156\137\155\x6f\144\145\154", "\x64\x72\157\160\x64\157\167\156"); goto MZHmh; MZHmh: $this->form_validation->set_error_delimiters('', ''); goto i9QJa; G7_3W: if (!$this->ion_auth->logged_in()) { goto odICY; } goto fhK81; EgXH8: ulk43: goto CXL8J; kGtFB: $this->load->model("\103\x62\164\137\x6d\x6f\x64\x65\x6c", "\143\x62\x74"); goto aNZMf; HnBs4: show_error("\110\141\156\x79\x61\40\x41\x64\155\x69\156\x69\x73\x74\162\141\x74\157\x72\40\x79\141\x6e\147\x20\x64\x69\x62\x65\162\x69\40\150\141\153\x20\165\156\164\x75\153\x20\x6d\145\156\x67\141\153\x73\145\163\x20\x68\x61\154\x61\x6d\x61\x6e\40\151\156\x69\x2c\40\74\141\40\150\162\145\146\x3d\x22" . base_url("\144\141\163\x68\x62\x6f\x61\162\x64") . "\42\76\113\x65\x6d\142\141\154\x69\40\153\145\40\155\x65\x6e\165\x20\141\x77\141\x6c\x3c\57\141\76", 403, "\x41\153\x73\x65\x73\40\x54\x65\x72\154\141\x72\141\x6e\x67"); goto EgXH8; fhK81: if ($this->ion_auth->is_admin()) { goto ulk43; } goto HnBs4; EOrLN: parent::__construct(); goto G7_3W; ODemn: $this->load->model("\104\141\163\x68\x62\157\141\162\x64\137\155\157\x64\x65\x6c", "\144\141\x73\x68\142\157\x61\162\x64"); goto kGtFB; i9QJa: } public function output_json($data, $encode = true) { goto tCN2L; tCN2L: if (!$encode) { goto SJmVz; } goto sg8Zw; sg8Zw: $data = json_encode($data); goto e0JsC; e0JsC: SJmVz: goto pOidT; pOidT: $this->output->set_content_type("\x61\160\x70\x6c\151\x63\141\164\151\x6f\156\57\x6a\163\157\x6e")->set_output($data); goto i9w7v; i9w7v: } public function index() { goto OM6mg; GiOvD: $tp = $this->dashboard->getTahunActive(); goto h3obs; ajW4C: $dari_selected = $this->input->get("\144\141\x72\x69", true); goto X0ILO; vXU9v: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto LWo_D; RYnll: if (!($jenis_selected != null && $level_selected != null)) { goto RpyQL; } goto mjzX8; ekLg8: $setting = $this->dashboard->getSetting(); goto CFibY; q8jTP: goto ZE24B; goto zZ7Uj; zZ7Uj: CXftw: goto jMi2_; LWo_D: $ids = []; goto EI8fh; jYVwa: $data["\154\145\166\x65\154\137\x73\x65\x6c\145\143\x74\145\x64"] = $level_selected; goto L7o3H; QE9ve: VHek_: goto U9_aV; Oer3P: if ($setting->jenjang == "\x31") { goto tCQk_; } goto OfUhc; lq61v: QLCeG: goto TEvUT; BbHz1: $data["\x73\155\x74"] = $this->dashboard->getSemester(); goto OeJfx; e5UT8: goto HjS_R; goto wxieF; ultnK: $levels = ["\60" => "\x50\151\154\x69\150\40\x4c\145\166\x65\154", "\x31\x30" => "\x31\x30", "\x31\61" => "\61\61", "\x31\62" => "\x31\x32"]; goto VNQvZ; mzH9O: $data["\154\x65\166\x65\x6c\x73"] = $levels; goto tU8vX; b66Fv: RpyQL: goto n6IwF; G_vaf: $data["\164\x70"] = $this->dashboard->getTahun(); goto quNSk; h3obs: $smt = $this->dashboard->getSemesterActive(); goto G_vaf; VNQvZ: HjS_R: goto mzH9O; TEvUT: $levels = ["\x30" => "\120\x69\154\x69\150\x20\114\145\x76\145\x6c", "\x37" => "\67", "\x38" => "\x38", "\x39" => "\71"]; goto e5UT8; uoLCT: $data["\x64\x61\162\151\x5f\163\145\x6c\145\x63\164\145\144"] = $dari_selected; goto xtmLQ; g4ez9: $jenis_selected = $this->input->get("\x6a\x65\156\x69\x73", true); goto zW6j4; XiykL: bEBbl: goto Dtavp; JYdQF: ZE24B: goto g4ez9; xtmLQ: $data["\x73\x61\x6d\160\141\x69\x5f\163\x65\154\x65\x63\164\x65\144"] = $sampai_selected; goto JiATL; gBX_v: $levels = ["\x30" => "\120\151\x6c\151\x68\x20\x4c\145\x76\x65\154", "\x31" => "\x31", "\62" => "\62", "\x33" => "\x33", "\x34" => "\x34", "\x35" => "\x35", "\x36" => "\66"]; goto DYLbZ; DYLbZ: goto HjS_R; goto lq61v; L7o3H: $data["\146\151\x6c\x74\145\162\x5f\x73\x65\x6c\145\x63\164\145\144"] = $filter_selected; goto uoLCT; OM6mg: $user = $this->ion_auth->user()->row(); goto ekLg8; O8Gqe: tCQk_: goto gBX_v; HkBvH: $filter_selected = $this->input->get("\146\x69\154\x74\145\162", true); goto ajW4C; mjzX8: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto b66Fv; n6IwF: $data["\x6b\145\x6c\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto FztwL; QGSSM: $data["\x66\x69\154\164\x65\162"] = ["\60" => "\x53\x65\155\165\x61", "\x31" => "\124\141\156\147\147\x61\x6c"]; goto rSaRV; NMLF2: foreach ($jadwals as $key => $row) { goto MZGuF; euuLl: array_push($ret[$row->tgl_mulai], $row); goto Uqtx7; MZGuF: if (isset($ret[$row->tgl_mulai])) { goto nThAu; } goto VYkVk; Uqtx7: goto BxOXn; goto Afv5R; VnGuR: BxOXn: goto n3FIW; Xn6UN: array_push($ret[$row->tgl_mulai], $row); goto VnGuR; Afv5R: nThAu: goto Xn6UN; n3FIW: ftL9t: goto vASG4; VYkVk: $ret[$row->tgl_mulai] = []; goto euuLl; vASG4: } goto QE9ve; Dtavp: if (count($ids) > 0) { goto CXftw; } goto Txbyi; Z_dna: goto HjS_R; goto O8Gqe; U9_aV: $data["\152\x61\x64\x77\141\x6c\x73"] = $jadwals; goto sURY5; sURY5: $data["\160\x72\157\146\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto SHVS8; Txbyi: $data["\152\x65\x6e\151\x73"] = ['' => "\x62\x65\x6c\165\x6d\x20\x61\144\141\40\x6a\141\x64\167\141\154\x20\165\x6a\x69\141\156"]; goto q8jTP; CNge_: $this->load->view("\137\164\x65\x6d\160\x6c\x61\164\145\163\x2f\144\141\163\150\x62\x6f\141\162\144\57\137\x66\157\x6f\164\145\x72"); goto fiSyi; offJs: $levels = []; goto Oer3P; tU8vX: $ret = []; goto NMLF2; OeJfx: $data["\163\155\164\137\x61\143\164\151\x76\145"] = $smt; goto vXU9v; MohcY: SChB6: goto XiykL; JiATL: $jadwals = []; goto RYnll; rSaRV: $data["\152\x65\156\151\163\x5f\163\145\x6c\145\x63\x74\x65\144"] = $jenis_selected; goto jYVwa; zW6j4: $level_selected = $this->input->get("\x6c\x65\166\x65\x6c", true); goto HkBvH; quNSk: $data["\164\160\x5f\x61\143\x74\x69\166\145"] = $tp; goto BbHz1; pbY3f: $this->load->view("\x63\142\164\x2f\x61\154\157\153\141\163\x69\57\144\x61\x74\141"); goto CNge_; jMi2_: $data["\152\x65\156\151\x73"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto JYdQF; LuQZM: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); Ml2ot: } goto MohcY; CFibY: $data = ["\x75\163\x65\162" => $user, "\x6a\x75\x64\165\154" => "\x41\x6c\157\x6b\x61\163\151\x20\x57\141\x6b\164\x75", "\163\x75\142\152\x75\144\x75\x6c" => "\x41\154\157\153\x61\x73\151\40\127\141\153\164\x75\40\125\x6a\151\141\x6e", "\163\x65\164\164\x69\156\147" => $setting]; goto GiOvD; OfUhc: if ($setting->jenjang == "\62") { goto QLCeG; } goto V9dRZ; V9dRZ: if ($setting->jenjang == "\x33") { goto z_ZXC; } goto Z_dna; X0ILO: $sampai_selected = $this->input->get("\163\141\155\x70\141\151", true); goto QGSSM; EI8fh: if (!(count($id_jenis) > 0)) { goto bEBbl; } goto LuQZM; SHVS8: $this->load->view("\x5f\164\x65\155\x70\154\x61\x74\x65\163\x2f\x64\x61\x73\x68\x62\157\x61\x72\144\57\x5f\x68\x65\x61\x64\x65\x72", $data); goto pbY3f; wxieF: z_ZXC: goto ultnK; FztwL: $data["\162\165\141\x6e\147"] = $this->dropdown->getAllRuang(); goto offJs; fiSyi: } public function saveAlokasi() { goto vKUbv; edWiv: HQmRN: goto lT0o3; u3Fmz: $this->output_json($data); goto SVrbJ; w32at: $insert = []; goto Id8lp; lT0o3: $update = $this->db->update_batch("\143\x62\164\x5f\152\x61\x64\x77\x61\x6c", $insert, "\x69\144\x5f\152\x61\144\167\141\154"); goto V_TKu; vKUbv: $input = json_decode($this->input->post("\141\x6c\157\153\x61\x73\151", true)); goto w32at; Id8lp: foreach ($input as $d) { goto jvkf0; IDEzR: array_push($insert, ["\x69\144\137\x6a\141\x64\x77\141\x6c" => $d->id_jadwal, "\152\141\x6d\137\x6b\145" => $d->jam_ke]); goto EFbaB; jvkf0: if (!($d->id_jadwal != "\60")) { goto gaA9D; } goto IDEzR; IsuBj: KvlgA: goto mvfxs; EFbaB: gaA9D: goto IsuBj; mvfxs: } goto edWiv; V_TKu: $data["\x73\x74\141\164\165\163"] = $update; goto u3Fmz; SVrbJ: } }
