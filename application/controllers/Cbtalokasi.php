<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto niIxQ; KmcId: if ($this->ion_auth->is_admin()) { goto X8L4X; } goto g70CA; DhhS9: $this->load->model("\115\141\x73\x74\x65\162\x5f\x6d\157\x64\145\x6c", "\x6d\141\x73\164\145\x72"); goto Vqbvz; QNzeV: redirect("\141\x75\x74\150"); goto gGCPW; XxWtP: if (!$this->ion_auth->logged_in()) { goto UBSJn; } goto KmcId; hVaiH: $this->load->model("\x4c\x6f\147\137\155\x6f\144\145\x6c", "\154\157\147\x67\x69\156\x67"); goto kpHpk; NrWz5: $this->load->model("\103\142\x74\137\x6d\x6f\144\145\x6c", "\143\142\x74"); goto hVaiH; kpHpk: $this->load->model("\x44\x72\x6f\x70\144\x6f\167\156\137\155\x6f\144\x65\x6c", "\144\162\157\160\x64\157\x77\156"); goto HXTBe; niIxQ: parent::__construct(); goto XxWtP; vU0xW: $this->load->library(["\x64\141\164\141\x74\x61\x62\154\x65\163", "\x66\157\x72\155\137\166\141\154\x69\x64\x61\x74\151\157\x6e"]); goto DhhS9; g70CA: show_error("\110\141\156\171\x61\40\101\144\155\x69\x6e\151\x73\164\162\141\x74\x6f\x72\40\x79\x61\156\147\40\x64\x69\x62\145\162\151\x20\150\141\153\x20\x75\x6e\x74\x75\153\40\x6d\145\x6e\147\141\x6b\163\x65\x73\x20\150\x61\x6c\x61\155\x61\x6e\x20\151\x6e\151\54\40\x3c\141\x20\x68\x72\x65\x66\75\x22" . base_url("\144\141\x73\150\x62\x6f\x61\x72\144") . "\42\x3e\x4b\145\x6d\x62\141\154\x69\x20\x6b\145\x20\x6d\x65\156\x75\x20\141\x77\141\154\x3c\x2f\x61\x3e", 403, "\x41\153\x73\145\163\40\x54\x65\162\x6c\141\x72\141\x6e\x67"); goto ah1Ud; Vqbvz: $this->load->model("\x44\141\163\x68\x62\x6f\x61\162\144\x5f\155\157\x64\x65\154", "\x64\x61\x73\x68\142\157\141\162\144"); goto NrWz5; wE2s6: goto pKQx8; goto Xwz2K; gGCPW: pKQx8: goto vU0xW; HXTBe: $this->form_validation->set_error_delimiters('', ''); goto Y2rQq; ah1Ud: X8L4X: goto wE2s6; Xwz2K: UBSJn: goto QNzeV; Y2rQq: } public function output_json($data, $encode = true) { goto cTUcD; Y5n9h: $this->output->set_content_type("\x61\160\160\x6c\151\143\141\x74\151\x6f\x6e\x2f\x6a\x73\x6f\156")->set_output($data); goto L5JMO; jx58z: yA_fA: goto Y5n9h; cTUcD: if (!$encode) { goto yA_fA; } goto V3i84; V3i84: $data = json_encode($data); goto jx58z; L5JMO: } public function index() { goto iqHYZ; B2a4U: $this->load->view("\137\x74\145\x6d\160\x6c\141\164\145\x73\57\x64\141\163\150\142\x6f\x61\162\144\x2f\137\x66\x6f\x6f\164\x65\x72"); goto M_8kZ; PMT0U: $data["\152\x65\x6e\151\163\x5f\163\145\154\145\x63\x74\145\x64"] = $jenis_selected; goto CJrFv; uMeQG: rWXm1: goto UHH2P; yZEov: $data["\153\145\x6c\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto H5cGI; j0hDI: $dari_selected = $this->input->get("\144\141\162\151", true); goto FuaTt; iqHYZ: $user = $this->ion_auth->user()->row(); goto r52F1; ra6Bp: $levels = []; goto uVQTd; HvSCw: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto SVp0a; Xvsky: t4kyd: goto wCxM2; ErY1o: goto QGt1c; goto yLLaP; H5cGI: $data["\x72\x75\x61\x6e\x67"] = $this->dropdown->getAllRuang(); goto ra6Bp; C803B: i5VVo: goto LW2zp; PRAqm: $tp = $this->dashboard->getTahunActive(); goto LULF2; Vs5_L: QGt1c: goto HLR0O; JZKiK: cd27b: goto cWeJ6; LULF2: $smt = $this->dashboard->getSemesterActive(); goto PTy70; rGvpw: if (!($jenis_selected != null && $level_selected != null)) { goto m52z0; } goto HvSCw; zEr9j: $data = ["\165\163\145\162" => $user, "\x6a\165\x64\x75\154" => "\x41\154\x6f\153\141\x73\x69\x20\x57\x61\x6b\164\165", "\163\165\x62\152\x75\x64\165\x6c" => "\x41\x6c\x6f\153\141\163\x69\40\127\x61\153\x74\x75\40\125\x6a\151\141\156", "\163\x65\164\164\x69\156\147" => $setting]; goto PRAqm; SVp0a: m52z0: goto yZEov; FuaTt: $sampai_selected = $this->input->get("\x73\x61\x6d\160\141\151", true); goto rvMtI; CHIib: $ids = []; goto Askrg; Mg3F7: $data["\163\141\x6d\160\x61\x69\137\x73\145\154\x65\x63\x74\x65\144"] = $sampai_selected; goto WuvC6; WuvC6: $jadwals = []; goto rGvpw; UEXtV: $this->load->view("\x63\142\x74\57\141\x6c\157\153\141\x73\151\57\x64\x61\164\141"); goto B2a4U; sjzcV: goto RGvGC; goto C803B; aHXXS: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto qyBI0; Y7cEH: if ($setting->jenjang == "\62") { goto hua6t; } goto K9u18; rvMtI: $data["\146\151\154\164\145\162"] = ["\60" => "\123\x65\x6d\x75\141", "\x31" => "\124\x61\x6e\x67\x67\x61\154"]; goto PMT0U; GUJkw: $data["\160\x72\x6f\146\x69\x6c\x65"] = $this->dashboard->getProfileAdmin($user->id); goto brg8F; PTy70: $data["\164\160"] = $this->dashboard->getTahun(); goto vzU68; DHN9i: if (count($ids) > 0) { goto i5VVo; } goto ndVkJ; cWeJ6: $levels = ["\x30" => "\120\151\154\x69\150\40\114\x65\166\x65\x6c", "\x31\60" => "\x31\60", "\x31\x31" => "\x31\61", "\61\62" => "\61\x32"]; goto Vs5_L; cMEOE: VH1z9: goto QaSrY; RgBAA: $data["\x64\141\x72\x69\137\163\x65\154\145\143\x74\145\144"] = $dari_selected; goto Mg3F7; myDxq: foreach ($jadwals as $key => $row) { goto k2zu_; k2zu_: if (isset($ret[$row->tgl_mulai])) { goto La2sV; } goto NMC2j; wXw6a: uBVwd: goto DtGSK; NMC2j: $ret[$row->tgl_mulai] = []; goto ImwWY; LcLVQ: array_push($ret[$row->tgl_mulai], $row); goto wXw6a; ImwWY: array_push($ret[$row->tgl_mulai], $row); goto HWFn6; DtGSK: kI2L9: goto Xin0z; HWFn6: goto uBVwd; goto kHIYx; kHIYx: La2sV: goto LcLVQ; Xin0z: } goto Xvsky; nAWhl: goto QGt1c; goto JZKiK; O4jpy: $levels = ["\60" => "\x50\x69\x6c\151\150\x20\114\x65\166\145\154", "\x37" => "\67", "\70" => "\70", "\x39" => "\71"]; goto nAWhl; CJrFv: $data["\x6c\145\166\x65\154\137\x73\x65\154\x65\x63\164\x65\144"] = $level_selected; goto jlke3; l7Y85: $filter_selected = $this->input->get("\x66\151\154\164\145\x72", true); goto j0hDI; H8W3I: $jenis_selected = $this->input->get("\x6a\145\x6e\151\163", true); goto YJ6y9; b3JB5: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto CHIib; uVQTd: if ($setting->jenjang == "\x31") { goto rWXm1; } goto Y7cEH; Askrg: if (!(count($id_jenis) > 0)) { goto KEn4f; } goto zWmu0; qyBI0: $data["\163\x6d\164\137\x61\143\164\x69\x76\145"] = $smt; goto b3JB5; NZ_rJ: RGvGC: goto H8W3I; ndVkJ: $data["\x6a\145\156\151\163"] = ['' => "\x62\x65\x6c\165\155\x20\141\x64\x61\x20\x6a\141\x64\x77\141\x6c\x20\165\152\151\x61\156"]; goto sjzcV; QaSrY: KEn4f: goto DHN9i; zWmu0: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); DfpyE: } goto cMEOE; kefO1: goto QGt1c; goto uMeQG; UHH2P: $levels = ["\60" => "\120\x69\x6c\x69\x68\40\x4c\145\x76\x65\x6c", "\x31" => "\x31", "\62" => "\x32", "\x33" => "\63", "\x34" => "\64", "\x35" => "\65", "\x36" => "\66"]; goto ErY1o; YJ6y9: $level_selected = $this->input->get("\154\145\x76\x65\154", true); goto l7Y85; yfeoX: $ret = []; goto myDxq; yLLaP: hua6t: goto O4jpy; brg8F: $this->load->view("\137\x74\x65\155\x70\x6c\141\164\145\163\x2f\144\141\x73\x68\x62\x6f\141\162\x64\57\137\x68\145\141\144\x65\162", $data); goto UEXtV; jlke3: $data["\x66\151\x6c\x74\x65\x72\x5f\x73\x65\x6c\x65\143\164\145\x64"] = $filter_selected; goto RgBAA; LW2zp: $data["\152\x65\x6e\x69\x73"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto NZ_rJ; K9u18: if ($setting->jenjang == "\x33") { goto cd27b; } goto kefO1; HLR0O: $data["\154\145\x76\x65\x6c\163"] = $levels; goto yfeoX; wCxM2: $data["\x6a\x61\x64\x77\141\x6c\x73"] = $jadwals; goto GUJkw; r52F1: $setting = $this->dashboard->getSetting(); goto zEr9j; vzU68: $data["\x74\x70\x5f\141\143\x74\x69\x76\x65"] = $tp; goto aHXXS; M_8kZ: } public function saveAlokasi() { goto docAK; pF2xX: $data["\163\x74\x61\x74\x75\x73"] = $update; goto nj7cY; nj7cY: $this->output_json($data); goto LgmSW; IxjK1: $insert = []; goto hKp6C; docAK: $input = json_decode($this->input->post("\141\x6c\157\153\141\163\x69", true)); goto IxjK1; hKp6C: foreach ($input as $d) { goto OrSJG; MHbNt: u5XUW: goto u6e5b; RnMpk: array_push($insert, ["\x69\x64\137\x6a\141\x64\x77\x61\x6c" => $d->id_jadwal, "\152\x61\155\137\x6b\145" => $d->jam_ke]); goto cwrmb; OrSJG: if (!($d->id_jadwal != "\x30")) { goto mV0hF; } goto RnMpk; cwrmb: mV0hF: goto MHbNt; u6e5b: } goto pGyfF; bHVZj: $update = $this->db->update_batch("\143\142\x74\137\152\141\144\167\141\154", $insert, "\x69\144\x5f\152\x61\x64\x77\141\154"); goto pF2xX; pGyfF: c9SMR: goto bHVZj; LgmSW: } }
