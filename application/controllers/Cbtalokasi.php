<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto XJzUz; SlY6d: $this->load->library(["\144\141\164\x61\x74\x61\142\x6c\x65\x73", "\146\157\x72\155\137\166\141\154\x69\144\x61\164\x69\157\156"]); goto ARZoB; qdeU0: show_error("\x48\x61\x6e\x79\x61\x20\x41\x64\155\x69\x6e\x69\163\x74\x72\141\164\157\162\40\171\x61\156\147\x20\x64\151\142\x65\x72\x69\40\150\141\x6b\40\x75\156\x74\x75\153\40\155\x65\x6e\x67\141\153\163\145\x73\40\150\141\x6c\141\x6d\141\x6e\40\x69\x6e\x69\x2c\x20\x3c\x61\x20\x68\x72\145\x66\x3d\42" . base_url("\144\141\163\150\x62\x6f\141\x72\144") . "\x22\76\113\x65\155\x62\x61\x6c\151\x20\x6b\x65\x20\155\145\156\165\40\141\167\141\x6c\74\x2f\141\76", 403, "\x41\x6b\x73\x65\x73\40\124\x65\x72\154\x61\x72\x61\x6e\x67"); goto ya7iv; XJzUz: parent::__construct(); goto GwDgC; taL8n: redirect("\x61\165\x74\150"); goto Q_Rdz; Q_Rdz: jz7Rz: goto SlY6d; zhdP3: goto jz7Rz; goto wXe3V; wNbNl: if ($this->ion_auth->is_admin()) { goto nNOL5; } goto qdeU0; ya7iv: nNOL5: goto zhdP3; GwDgC: if (!$this->ion_auth->logged_in()) { goto U5pJm; } goto wNbNl; wXe3V: U5pJm: goto taL8n; ARZoB: $this->form_validation->set_error_delimiters('', ''); goto BOe9f; BOe9f: } public function output_json($data, $encode = true) { goto iu4zF; SxNFR: $data = json_encode($data); goto rjOxg; iu4zF: if (!$encode) { goto tq1f5; } goto SxNFR; YS1aA: $this->output->set_content_type("\141\x70\160\x6c\151\143\141\x74\x69\157\156\57\152\163\x6f\x6e")->set_output($data); goto HVrq2; rjOxg: tq1f5: goto YS1aA; HVrq2: } public function index() { goto y443_; KRNrJ: $data["\152\x61\144\167\141\x6c\x73"] = $jadwals; goto Dnfla; VDL6V: $data = ["\165\x73\145\162" => $user, "\x6a\x75\144\x75\154" => "\x41\154\x6f\153\141\163\x69\x20\x57\x61\x6b\164\x75", "\163\x75\142\152\165\x64\x75\x6c" => "\101\154\x6f\x6b\141\163\151\40\127\x61\153\x74\x75\x20\x55\152\x69\141\156", "\x73\x65\x74\164\x69\156\147" => $setting]; goto d46nm; bE4fO: $data["\164\160"] = $this->dashboard->getTahun(); goto vqvnu; qRyt1: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto YN0dC; KHdT0: $this->load->model("\104\x61\x73\x68\x62\157\x61\162\144\x5f\155\x6f\144\x65\154", "\144\141\163\150\142\x6f\141\x72\x64"); goto FRAXQ; kIwYS: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); Y9_lF: } goto Z5LRV; d46nm: $tp = $this->dashboard->getTahunActive(); goto Ebne7; QwCZa: $setting = $this->dashboard->getSetting(); goto VDL6V; BG44g: goto md1F0; goto zKKQq; adJzQ: $data["\x64\141\162\x69\x5f\163\145\x6c\x65\x63\164\x65\144"] = $dari_selected; goto NGbSK; YN0dC: WYqdI: goto Fwwua; wh1c3: $data["\162\x75\141\156\147"] = $this->dropdown->getAllRuang(); goto sfoaI; jhODI: if ($setting->jenjang == "\62") { goto YPpVU; } goto uILNH; E10Dz: $this->load->view("\x5f\x74\x65\155\x70\x6c\141\164\x65\163\x2f\x64\x61\x73\x68\142\x6f\x61\162\144\x2f\137\x66\x6f\x6f\x74\145\x72"); goto pBV0a; ssZwY: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto NaW2p; tNK3X: $levels = ["\60" => "\120\x69\x6c\151\150\40\x4c\145\x76\145\154", "\x37" => "\x37", "\70" => "\x38", "\71" => "\71"]; goto n9GJx; Ebne7: $smt = $this->dashboard->getSemesterActive(); goto bE4fO; TkL_v: $this->load->view("\x63\x62\164\57\x61\x6c\157\153\x61\163\151\x2f\144\141\164\141"); goto E10Dz; Qegg4: $jenis_selected = $this->input->get("\x6a\145\156\x69\163", true); goto XlkOC; Vh0kx: $data["\x6a\x65\156\x69\163"] = ['' => "\x62\145\154\165\155\x20\141\x64\x61\x20\152\141\144\167\141\154\x20\165\152\151\x61\156"]; goto ym4Ba; c4IGk: if (count($ids) > 0) { goto PwsVK; } goto Vh0kx; JeRrd: $data["\x6a\x65\156\151\x73"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto Tvn8u; UkyRb: $this->load->view("\137\x74\145\x6d\160\x6c\141\x74\x65\x73\57\x64\141\x73\150\142\x6f\x61\162\x64\x2f\137\x68\145\x61\x64\x65\162", $data); goto TkL_v; seoYO: $data["\x6c\x65\x76\145\154\x5f\x73\x65\x6c\145\x63\164\x65\x64"] = $level_selected; goto Ay6AL; zZ2VS: BgWmH: goto wzts5; qlMCj: $data["\163\x6d\164"] = $this->dashboard->getSemester(); goto mn5od; fuwU_: if ($setting->jenjang == "\x31") { goto BgWmH; } goto jhODI; Z5LRV: jpzGP: goto SQMgl; AsVdp: if (!($jenis_selected != null && $level_selected != null)) { goto WYqdI; } goto qRyt1; y129q: foreach ($jadwals as $key => $row) { goto c6sbo; c6sbo: if (isset($ret[$row->tgl_mulai])) { goto N94Wb; } goto aUl8V; aUl8V: $ret[$row->tgl_mulai] = []; goto LM7BL; sg1yQ: G59m8: goto SmXbB; LGuV3: goto hmZMu; goto JNnvv; LM7BL: array_push($ret[$row->tgl_mulai], $row); goto LGuV3; Et5b5: hmZMu: goto sg1yQ; JNnvv: N94Wb: goto FNwC2; FNwC2: array_push($ret[$row->tgl_mulai], $row); goto Et5b5; SmXbB: } goto KoLcU; Ay6AL: $data["\x66\151\x6c\164\x65\162\137\x73\x65\154\x65\143\164\145\144"] = $filter_selected; goto adJzQ; Kgw5M: $jadwals = []; goto AsVdp; qzCYp: WUTFJ: goto GHIVZ; KoLcU: uVswQ: goto KRNrJ; sfoaI: $levels = []; goto fuwU_; mn5od: $data["\163\x6d\x74\x5f\141\x63\164\x69\166\145"] = $smt; goto ssZwY; GHIVZ: $levels = ["\x30" => "\120\x69\154\151\x68\x20\x4c\x65\x76\x65\x6c", "\x31\60" => "\61\x30", "\x31\61" => "\x31\61", "\61\x32" => "\61\x32"]; goto bdF47; SQMgl: P5swr: goto c4IGk; wVqkr: $data["\152\145\x6e\x69\x73\137\x73\x65\154\145\x63\164\145\x64"] = $jenis_selected; goto seoYO; wzts5: $levels = ["\60" => "\x50\151\154\151\x68\40\114\x65\166\145\x6c", "\61" => "\61", "\x32" => "\x32", "\63" => "\x33", "\x34" => "\x34", "\x35" => "\65", "\66" => "\66"]; goto BG44g; vFDgg: $filter_selected = $this->input->get("\146\x69\154\x74\145\x72", true); goto HR0qN; y443_: $this->load->model("\x44\162\x6f\x70\x64\157\x77\156\x5f\x6d\x6f\x64\x65\x6c", "\x64\162\x6f\x70\x64\157\167\156"); goto KHdT0; NGbSK: $data["\163\x61\155\160\141\151\x5f\x73\x65\x6c\x65\143\x74\x65\x64"] = $sampai_selected; goto Kgw5M; BYnek: PwsVK: goto JeRrd; vqvnu: $data["\164\160\x5f\141\x63\x74\x69\x76\145"] = $tp; goto qlMCj; Tvn8u: hwAhl: goto Qegg4; Dnfla: $data["\160\162\x6f\x66\x69\x6c\145"] = $this->dashboard->getProfileAdmin($user->id); goto UkyRb; teJ0g: $ret = []; goto y129q; n9GJx: goto md1F0; goto qzCYp; XlkOC: $level_selected = $this->input->get("\154\145\166\x65\x6c", true); goto vFDgg; yy0dF: if (!(count($id_jenis) > 0)) { goto P5swr; } goto kIwYS; Fwwua: $data["\x6b\x65\x6c\141\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto wh1c3; VGksr: goto md1F0; goto zZ2VS; ym4Ba: goto hwAhl; goto BYnek; FRAXQ: $this->load->model("\x43\x62\x74\137\x6d\157\x64\145\x6c", "\x63\142\x74"); goto MMyAN; NaW2p: $ids = []; goto yy0dF; r5Z5D: $data["\154\x65\166\x65\154\163"] = $levels; goto teJ0g; bdF47: md1F0: goto r5Z5D; YxGyQ: $data["\x66\151\x6c\x74\x65\162"] = ["\x30" => "\x53\x65\155\165\x61", "\x31" => "\x54\x61\156\147\x67\141\154"]; goto wVqkr; HR0qN: $dari_selected = $this->input->get("\144\x61\x72\151", true); goto Euoxl; uILNH: if ($setting->jenjang == "\x33") { goto WUTFJ; } goto VGksr; MMyAN: $user = $this->ion_auth->user()->row(); goto QwCZa; Euoxl: $sampai_selected = $this->input->get("\x73\x61\155\x70\141\x69", true); goto YxGyQ; zKKQq: YPpVU: goto tNK3X; pBV0a: } public function saveAlokasi() { goto d2VuH; MDfJu: PPo80: goto xrsLi; Zp3fF: $this->output_json($data); goto sWzBv; xrsLi: $update = $this->db->update_batch("\143\x62\164\x5f\152\141\144\x77\x61\x6c", $insert, "\151\x64\x5f\x6a\x61\x64\167\x61\x6c"); goto GnV_E; JxRWE: $insert = []; goto C7rJB; GnV_E: $data["\x73\164\141\x74\x75\163"] = $update; goto Zp3fF; d2VuH: $input = json_decode($this->input->post("\x61\x6c\157\x6b\x61\163\151", true)); goto JxRWE; C7rJB: foreach ($input as $d) { goto ig2aY; nxZd5: array_push($insert, ["\x69\144\x5f\x6a\x61\x64\167\141\154" => $d->id_jadwal, "\x6a\141\x6d\x5f\153\x65" => $d->jam_ke]); goto Dj0n4; ig2aY: if (!($d->id_jadwal != "\x30")) { goto AXcj2; } goto nxZd5; Dj0n4: AXcj2: goto wZMBx; wZMBx: mO0we: goto nmUC7; nmUC7: } goto MDfJu; sWzBv: } }
