<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto soNh1; d07Ku: $this->load->library(["\x64\x61\x74\x61\164\141\142\154\x65\163", "\x66\157\162\155\137\166\x61\x6c\151\144\141\x74\151\x6f\x6e"]); goto kaApj; CKETI: if ($this->ion_auth->is_admin()) { goto IXvWp; } goto JVLQQ; sAJo3: IXvWp: goto JgBM8; FjAdP: uDz6v: goto d07Ku; QhYi5: redirect("\x61\x75\x74\150"); goto FjAdP; kaApj: $this->form_validation->set_error_delimiters('', ''); goto O9wNP; RyEPt: Tv40j: goto QhYi5; fZM9_: if (!$this->ion_auth->logged_in()) { goto Tv40j; } goto CKETI; JVLQQ: show_error("\110\x61\x6e\171\x61\x20\101\144\x6d\x69\156\x69\x73\164\162\x61\x74\157\x72\x20\x79\141\156\147\x20\x64\x69\142\145\x72\151\x20\150\141\x6b\40\x75\156\164\x75\153\x20\x6d\x65\156\x67\x61\x6b\163\x65\x73\x20\150\x61\x6c\141\155\x61\x6e\x20\x69\156\x69\x2c\40\74\141\40\x68\x72\x65\146\75\42" . base_url("\x64\141\163\x68\142\x6f\141\162\144") . "\42\x3e\113\145\155\x62\x61\x6c\151\40\x6b\x65\40\155\145\x6e\x75\x20\141\x77\x61\x6c\74\57\x61\x3e", 403, "\x41\x6b\163\145\x73\40\x54\145\162\x6c\x61\x72\141\156\147"); goto sAJo3; soNh1: parent::__construct(); goto fZM9_; JgBM8: goto uDz6v; goto RyEPt; O9wNP: } public function output_json($data, $encode = true) { goto q0L3L; Ttv2W: $this->output->set_content_type("\x61\160\160\154\151\x63\141\164\151\x6f\156\x2f\x6a\163\x6f\x6e")->set_output($data); goto v6V2L; bpZnt: DG2Fa: goto Ttv2W; hF_yu: $data = json_encode($data); goto bpZnt; q0L3L: if (!$encode) { goto DG2Fa; } goto hF_yu; v6V2L: } public function index() { goto YrtQx; RfupF: $data["\152\x65\156\151\x73\x5f\x73\x65\x6c\145\x63\x74\145\x64"] = $jenis_selected; goto SsbS2; R6oqk: $data["\x74\160"] = $this->dashboard->getTahun(); goto GYVsp; Owokx: OQy1D: goto XZ2Bm; qDoHJ: goto MtjhP; goto UHJ4N; SsbS2: $data["\x6c\x65\166\145\x6c\137\x73\145\x6c\145\x63\x74\145\144"] = $level_selected; goto MCCuM; hp3mF: if ($setting->jenjang == "\63") { goto SBZl2; } goto qDoHJ; IXfNo: $smt = $this->dashboard->getSemesterActive(); goto R6oqk; Q965V: FEd7d: goto PPWJv; n70SX: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); wGXU6: } goto kNXb4; h6dzz: $this->load->view("\x63\x62\164\x2f\x61\154\x6f\153\141\x73\x69\57\144\141\x74\141"); goto XH0sp; UHJ4N: zBZNH: goto A6ySW; y_kS0: $user = $this->ion_auth->user()->row(); goto awXQr; v4DKH: if (!(count($id_jenis) > 0)) { goto lbOLX; } goto n70SX; fKl5G: $data["\x6b\145\x6c\x61\163"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto O6SoI; mE6Zp: SBZl2: goto JLhvp; HuTyr: $level_selected = $this->input->get("\x6c\145\166\145\x6c", true); goto fWunF; AWs0l: $data["\x73\x61\155\160\x61\x69\x5f\x73\145\154\145\x63\164\x65\x64"] = $sampai_selected; goto k2j80; X09sR: if (count($ids) > 0) { goto FEd7d; } goto R8gZC; uXe4C: $this->load->view("\x5f\164\145\155\160\154\141\164\x65\163\57\144\x61\163\x68\x62\x6f\x61\x72\144\57\137\x68\145\x61\x64\x65\162", $data); goto h6dzz; GYVsp: $data["\164\160\x5f\141\x63\x74\x69\166\145"] = $tp; goto DK1Ed; H0PCO: $dari_selected = $this->input->get("\144\x61\x72\x69", true); goto HSFAB; jF_he: goto MtjhP; goto cz0_c; A6ySW: $levels = ["\60" => "\x50\151\x6c\x69\150\x20\x4c\x65\166\145\x6c", "\61" => "\61", "\x32" => "\62", "\63" => "\x33", "\x34" => "\64", "\x35" => "\x35", "\x36" => "\x36"]; goto jF_he; QNThj: $ret = []; goto ksh03; ful51: if ($setting->jenjang == "\x31") { goto zBZNH; } goto F6Z4X; A42wD: JuHVI: goto fKl5G; jD6NS: MtjhP: goto O04Pd; cMkbo: $data["\163\155\x74\x5f\141\143\x74\151\x76\x65"] = $smt; goto YHWpL; JLhvp: $levels = ["\60" => "\x50\x69\154\151\x68\x20\114\145\166\145\x6c", "\x31\60" => "\x31\x30", "\x31\x31" => "\x31\x31", "\61\x32" => "\x31\62"]; goto jD6NS; ZAbJx: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto A42wD; D5xEe: $this->load->model("\103\142\x74\x5f\x6d\157\x64\x65\x6c", "\143\x62\x74"); goto y_kS0; HSFAB: $sampai_selected = $this->input->get("\163\141\x6d\160\141\151", true); goto NtobO; A92Cq: $ids = []; goto v4DKH; NtobO: $data["\x66\x69\154\x74\x65\162"] = ["\x30" => "\123\145\155\x75\141", "\x31" => "\x54\141\x6e\x67\147\141\154"]; goto RfupF; OwNsS: $data["\x64\x61\162\x69\x5f\x73\145\154\x65\143\x74\x65\144"] = $dari_selected; goto AWs0l; awXQr: $setting = $this->dashboard->getSetting(); goto VgFFz; Sngxh: $levels = []; goto ful51; DK1Ed: $data["\x73\x6d\x74"] = $this->dashboard->getSemester(); goto cMkbo; ug4D4: $this->load->model("\104\141\163\150\142\x6f\x61\x72\x64\137\x6d\x6f\x64\145\x6c", "\144\x61\x73\x68\142\157\x61\x72\144"); goto D5xEe; F6Z4X: if ($setting->jenjang == "\62") { goto V3aZK; } goto hp3mF; SZFAJ: $data["\152\x61\144\167\x61\x6c\x73"] = $jadwals; goto VKVMI; YrtQx: $this->load->model("\104\162\x6f\160\144\157\167\x6e\x5f\155\157\x64\x65\x6c", "\144\162\157\x70\x64\157\167\156"); goto ug4D4; PPWJv: $data["\x6a\145\x6e\x69\x73"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto Owokx; cz0_c: V3aZK: goto mply7; VgFFz: $data = ["\165\163\x65\162" => $user, "\152\165\x64\165\154" => "\x41\x6c\x6f\153\x61\x73\151\x20\127\x61\153\x74\x75", "\x73\165\x62\x6a\165\144\165\154" => "\x41\x6c\x6f\x6b\x61\x73\x69\40\127\x61\x6b\x74\x75\40\x55\x6a\x69\x61\156", "\163\x65\x74\164\151\156\147" => $setting]; goto MNjsC; O6SoI: $data["\162\165\x61\156\x67"] = $this->dropdown->getAllRuang(); goto Sngxh; fWunF: $filter_selected = $this->input->get("\146\x69\x6c\x74\x65\162", true); goto H0PCO; e7VXC: goto OQy1D; goto Q965V; k2j80: $jadwals = []; goto tpvM6; VKVMI: $data["\x70\x72\157\x66\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto uXe4C; f_tLK: xvbRs: goto SZFAJ; hPqr3: lbOLX: goto X09sR; MCCuM: $data["\x66\x69\x6c\164\x65\162\137\163\145\154\145\143\164\145\x64"] = $filter_selected; goto OwNsS; tpvM6: if (!($jenis_selected != null && $level_selected != null)) { goto JuHVI; } goto ZAbJx; mply7: $levels = ["\60" => "\120\x69\x6c\151\x68\40\114\x65\166\x65\x6c", "\x37" => "\67", "\70" => "\x38", "\71" => "\71"]; goto NMa1Q; O04Pd: $data["\154\145\x76\x65\154\x73"] = $levels; goto QNThj; MNjsC: $tp = $this->dashboard->getTahunActive(); goto IXfNo; kNXb4: kHVUg: goto hPqr3; NMa1Q: goto MtjhP; goto mE6Zp; R8gZC: $data["\x6a\x65\x6e\x69\163"] = ['' => "\142\x65\x6c\165\155\x20\x61\144\141\40\152\141\x64\167\141\x6c\x20\165\152\151\141\x6e"]; goto e7VXC; XH0sp: $this->load->view("\137\x74\x65\x6d\160\154\141\x74\145\163\57\x64\141\163\150\142\x6f\x61\x72\x64\x2f\137\146\x6f\x6f\164\145\162"); goto xgamZ; YHWpL: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto A92Cq; ksh03: foreach ($jadwals as $key => $row) { goto gdXk8; rJ53Q: YieS5: goto m3jA7; m3jA7: array_push($ret[$row->tgl_mulai], $row); goto IBj0y; hmmlO: goto bPdoJ; goto rJ53Q; vuk4J: $ret[$row->tgl_mulai] = []; goto cmFc1; IBj0y: bPdoJ: goto y8XiO; gdXk8: if (isset($ret[$row->tgl_mulai])) { goto YieS5; } goto vuk4J; cmFc1: array_push($ret[$row->tgl_mulai], $row); goto hmmlO; y8XiO: L1PW7: goto BAErV; BAErV: } goto f_tLK; XZ2Bm: $jenis_selected = $this->input->get("\152\145\x6e\x69\x73", true); goto HuTyr; xgamZ: } public function saveAlokasi() { goto tE4_V; zGOQQ: $update = $this->db->update_batch("\x63\142\x74\137\x6a\141\x64\x77\x61\x6c", $insert, "\x69\144\137\152\x61\x64\x77\141\x6c"); goto pB8iW; tE4_V: $input = json_decode($this->input->post("\x61\154\157\153\141\163\x69", true)); goto NkTPn; pB8iW: $data["\163\164\x61\164\x75\163"] = $update; goto jzOTT; NkTPn: $insert = []; goto GchmR; QzfmG: K6e1W: goto zGOQQ; GchmR: foreach ($input as $d) { goto TQHs5; gR5N_: array_push($insert, ["\x69\144\137\x6a\x61\144\167\141\154" => $d->id_jadwal, "\152\141\x6d\137\x6b\145" => $d->jam_ke]); goto ibong; ibong: NNDfg: goto j33LP; j33LP: E9pjb: goto ilrQJ; TQHs5: if (!($d->id_jadwal != "\60")) { goto NNDfg; } goto gR5N_; ilrQJ: } goto QzfmG; jzOTT: $this->output_json($data); goto UEarP; UEarP: } }
