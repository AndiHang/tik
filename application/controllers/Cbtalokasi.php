<?php
/*   ________________________________________
    |                 GarudaCBT              |
    |    https://github.com/garudacbt/cbt    |
    |________________________________________|
*/
 class Cbtalokasi extends CI_Controller { public function __construct() { goto xI4x5; r_DIZ: $this->load->model("\104\162\x6f\x70\x64\157\x77\x6e\137\x6d\x6f\144\x65\x6c", "\x64\x72\157\160\x64\157\x77\x6e"); goto KUPfd; i7SE9: redirect("\141\x75\x74\150"); goto zc_Wo; gBQ2C: goto JxXjj; goto r4nN9; pG3DV: $this->load->model("\x4c\157\x67\137\155\x6f\144\x65\x6c", "\154\157\147\x67\151\156\x67"); goto r_DIZ; uFxTR: if ($this->ion_auth->is_admin()) { goto cwlVF; } goto UuCRk; rE4MI: if (!$this->ion_auth->logged_in()) { goto Yoz9g; } goto uFxTR; zjwlC: $this->load->model("\x4d\x61\163\164\145\162\137\x6d\x6f\x64\145\x6c", "\155\x61\163\x74\x65\162"); goto a7rjx; zc_Wo: JxXjj: goto A5Xy3; KUPfd: $this->form_validation->set_error_delimiters('', ''); goto i_l6Q; zBEPW: $this->load->model("\x43\x62\164\137\x6d\x6f\x64\x65\154", "\143\142\164"); goto pG3DV; a7rjx: $this->load->model("\104\141\163\x68\x62\157\x61\x72\144\137\155\157\x64\x65\x6c", "\144\x61\x73\x68\x62\157\x61\x72\144"); goto zBEPW; A5Xy3: $this->load->library(["\x64\141\x74\141\164\x61\142\x6c\145\163", "\x66\x6f\x72\x6d\x5f\x76\141\154\151\144\141\x74\x69\x6f\x6e"]); goto zjwlC; bCOE0: cwlVF: goto gBQ2C; UuCRk: show_error("\x48\x61\x6e\x79\141\40\x41\144\155\x69\x6e\x69\163\164\x72\x61\x74\x6f\162\40\x79\x61\x6e\147\40\144\x69\142\145\x72\151\40\150\x61\153\x20\165\156\164\x75\153\40\x6d\145\156\x67\141\x6b\163\145\x73\x20\x68\141\154\141\155\141\x6e\x20\x69\x6e\151\x2c\x20\74\x61\40\x68\162\145\146\x3d\42" . base_url("\x64\141\x73\150\x62\x6f\141\162\x64") . "\x22\76\x4b\145\155\x62\141\x6c\x69\x20\x6b\x65\x20\155\145\156\x75\x20\x61\167\x61\154\74\x2f\x61\76", 403, "\x41\153\x73\145\163\x20\124\x65\x72\154\x61\162\x61\x6e\147"); goto bCOE0; xI4x5: parent::__construct(); goto rE4MI; r4nN9: Yoz9g: goto i7SE9; i_l6Q: } public function output_json($data, $encode = true) { goto qinTY; OSABf: $data = json_encode($data); goto AoEgk; qinTY: if (!$encode) { goto IxqVP; } goto OSABf; AoEgk: IxqVP: goto bE18G; bE18G: $this->output->set_content_type("\141\x70\160\154\151\143\141\x74\x69\x6f\x6e\x2f\152\x73\157\x6e")->set_output($data); goto q81B2; q81B2: } public function index() { goto x7Yca; HM7QE: $dari_selected = $this->input->get("\x64\x61\162\151", true); goto IKG8W; yXQ02: $data["\146\x69\x6c\164\145\x72"] = ["\x30" => "\x53\145\x6d\165\141", "\61" => "\x54\x61\x6e\147\x67\141\154"]; goto TnnB_; KSF3p: $data["\163\155\164\x5f\141\143\x74\151\x76\x65"] = $smt; goto z_fkZ; BV3Wl: $smt = $this->dashboard->getSemesterActive(); goto P_24d; u29HH: $data["\163\x61\155\160\141\151\x5f\x73\145\154\x65\143\164\x65\x64"] = $sampai_selected; goto SrbQM; P_24d: $data["\164\160"] = $this->dashboard->getTahun(); goto dfHn0; aplh7: $ids = []; goto I2KLk; NpGVP: $levels = ["\x30" => "\120\x69\x6c\x69\x68\40\x4c\x65\166\145\x6c", "\x31\60" => "\x31\x30", "\x31\x31" => "\x31\61", "\61\62" => "\x31\x32"]; goto LED2g; A5iL9: N_oeo: goto NpGVP; XMI_U: $this->load->view("\137\164\145\x6d\160\x6c\x61\164\145\x73\x2f\144\x61\163\x68\x62\x6f\141\x72\144\57\137\150\x65\x61\x64\x65\x72", $data); goto WUsWb; XGlKH: $data["\146\151\154\x74\145\162\137\x73\145\154\145\143\164\x65\144"] = $filter_selected; goto EhgvK; EhgvK: $data["\x64\x61\162\151\x5f\163\x65\154\x65\143\x74\145\x64"] = $dari_selected; goto u29HH; ymoZy: $levels = ["\x30" => "\120\151\154\x69\x68\40\114\x65\166\x65\x6c", "\x37" => "\67", "\x38" => "\x38", "\71" => "\71"]; goto pc02n; I9FxI: $data["\x72\165\141\x6e\x67"] = $this->dropdown->getAllRuang(); goto xvVss; uF7T3: if (!($jenis_selected != null && $level_selected != null)) { goto zX3FB; } goto pSWGO; lWefo: l8oxm: goto ydynN; PNVQa: $tp = $this->dashboard->getTahunActive(); goto BV3Wl; J1NMm: goto swmKg; goto oOW3g; HEJ1e: zX3FB: goto ZtRwd; ZtRwd: $data["\x6b\x65\x6c\141\x73"] = $this->dropdown->getAllKelas($tp->id_tp, $smt->id_smt); goto I9FxI; z_fkZ: $id_jenis = $this->cbt->getDistinctJenisJadwal($tp->id_tp, $smt->id_smt); goto aplh7; Bd8pE: $data["\154\145\x76\145\x6c\137\163\145\154\x65\x63\x74\145\144"] = $level_selected; goto XGlKH; TnnB_: $data["\x6a\145\x6e\151\163\137\163\x65\154\x65\143\164\x65\x64"] = $jenis_selected; goto Bd8pE; Gzoc8: $ret = []; goto TmxKc; x7Yca: $user = $this->ion_auth->user()->row(); goto l7TXt; UbR92: EpRSC: goto Y_V0T; mLbuP: goto VUlb0; goto D4aPi; I2KLk: if (!(count($id_jenis) > 0)) { goto r6Od4; } goto N9Kw3; k_tgr: $data = ["\x75\x73\x65\x72" => $user, "\152\165\144\x75\154" => "\x41\154\x6f\x6b\x61\163\151\x20\127\x61\x6b\x74\x75", "\x73\x75\x62\x6a\x75\x64\x75\154" => "\101\154\157\153\x61\163\151\40\x57\x61\153\164\x75\x20\125\x6a\151\x61\156", "\163\x65\164\164\151\156\147" => $setting]; goto PNVQa; l7TXt: $setting = $this->dashboard->getSetting(); goto k_tgr; TmxKc: foreach ($jadwals as $key => $row) { goto vEmMW; aShbi: goto Z0CFf; goto JVC0c; soArc: array_push($ret[$row->tgl_mulai], $row); goto SG7AP; vEmMW: if (isset($ret[$row->tgl_mulai])) { goto XrHga; } goto ZXtD8; HYIJX: bLEuB: goto QrlTv; JVC0c: XrHga: goto soArc; SG7AP: Z0CFf: goto HYIJX; QIiz8: array_push($ret[$row->tgl_mulai], $row); goto aShbi; ZXtD8: $ret[$row->tgl_mulai] = []; goto QIiz8; QrlTv: } goto lWefo; CYjQB: r6Od4: goto gPLDw; qDedg: $jenis_selected = $this->input->get("\x6a\145\x6e\151\x73", true); goto M62Ev; oOW3g: vbseC: goto lZoAw; ttDNe: $this->load->view("\x5f\x74\x65\155\x70\154\x61\x74\x65\x73\x2f\x64\141\x73\x68\142\x6f\141\162\144\57\x5f\x66\157\x6f\164\x65\x72"); goto kFNLI; vr_UY: swmKg: goto qDedg; D4aPi: ZRXK7: goto ymoZy; LED2g: VUlb0: goto u1kNM; M62Ev: $level_selected = $this->input->get("\x6c\145\x76\145\x6c", true); goto Ag65x; mtroQ: if ($setting->jenjang == "\x31") { goto EpRSC; } goto a3tzE; a3tzE: if ($setting->jenjang == "\x32") { goto ZRXK7; } goto cnL8U; WUsWb: $this->load->view("\x63\142\x74\x2f\x61\x6c\x6f\x6b\x61\163\151\x2f\144\141\x74\x61"); goto ttDNe; Ag65x: $filter_selected = $this->input->get("\146\x69\x6c\164\145\x72", true); goto HM7QE; ho11M: $data["\x6a\x65\156\151\163"] = ['' => "\142\x65\154\x75\155\40\141\144\x61\40\x6a\x61\x64\167\x61\154\40\x75\152\151\141\156"]; goto J1NMm; N9Kw3: foreach ($id_jenis as $jenis) { array_push($ids, $jenis->id_jenis); rqI6L: } goto dObfR; OICwS: $data["\x73\155\164"] = $this->dashboard->getSemester(); goto KSF3p; SrbQM: $jadwals = []; goto uF7T3; ydynN: $data["\x6a\x61\144\x77\x61\x6c\x73"] = $jadwals; goto CJ2hI; xvVss: $levels = []; goto mtroQ; Y_V0T: $levels = ["\60" => "\120\151\154\x69\150\x20\x4c\x65\166\145\154", "\x31" => "\61", "\x32" => "\62", "\63" => "\63", "\x34" => "\x34", "\x35" => "\65", "\66" => "\66"]; goto mLbuP; IKG8W: $sampai_selected = $this->input->get("\163\x61\x6d\160\x61\x69", true); goto yXQ02; gPLDw: if (count($ids) > 0) { goto vbseC; } goto ho11M; pSWGO: $jadwals = $this->cbt->getJadwalByJenis($jenis_selected, $level_selected, $dari_selected, $sampai_selected); goto HEJ1e; dObfR: mcDHo: goto CYjQB; WiJii: goto VUlb0; goto UbR92; cnL8U: if ($setting->jenjang == "\63") { goto N_oeo; } goto WiJii; pc02n: goto VUlb0; goto A5iL9; lZoAw: $data["\152\145\156\151\163"] = $this->cbt->getAllJenisUjianByArrJenis($ids); goto vr_UY; CJ2hI: $data["\160\162\157\146\151\154\145"] = $this->dashboard->getProfileAdmin($user->id); goto XMI_U; dfHn0: $data["\x74\x70\137\x61\143\164\x69\x76\x65"] = $tp; goto OICwS; u1kNM: $data["\x6c\x65\166\145\154\x73"] = $levels; goto Gzoc8; kFNLI: } public function saveAlokasi() { goto DDhBe; L1yXZ: $data["\x73\164\x61\x74\165\163"] = $update; goto lHP6i; mdfmo: $update = $this->db->update_batch("\x63\x62\x74\137\152\141\x64\167\x61\154", $insert, "\x69\x64\137\152\x61\x64\167\141\x6c"); goto L1yXZ; PMoey: t2LBX: goto mdfmo; cPbfe: $insert = []; goto rz_UE; DDhBe: $input = json_decode($this->input->post("\x61\154\157\153\x61\x73\x69", true)); goto cPbfe; rz_UE: foreach ($input as $d) { goto bp9Qx; vmtdh: ni5tj: goto m27xz; medGs: array_push($insert, ["\151\x64\x5f\152\141\x64\x77\141\154" => $d->id_jadwal, "\152\x61\155\x5f\153\x65" => $d->jam_ke]); goto vmtdh; m27xz: XjY1c: goto qoa5E; bp9Qx: if (!($d->id_jadwal != "\60")) { goto ni5tj; } goto medGs; qoa5E: } goto PMoey; lHP6i: $this->output_json($data); goto CKcuv; CKcuv: } }
